var g5 = Object.defineProperty;
var v5 = (t, e, n) => (e in t ? g5(t, e, { enumerable: !0, configurable: !0, writable: !0, value: n }) : (t[e] = n));
var Jt = (t, e, n) => (v5(t, typeof e != 'symbol' ? e + '' : e, n), n);
function D2(t, e) {
  for (var n = 0; n < e.length; n++) {
    const r = e[n];
    if (typeof r != 'string' && !Array.isArray(r)) {
      for (const i in r)
        if (i !== 'default' && !(i in t)) {
          const o = Object.getOwnPropertyDescriptor(r, i);
          o && Object.defineProperty(t, i, o.get ? o : { enumerable: !0, get: () => r[i] });
        }
    }
  }
  return Object.freeze(Object.defineProperty(t, Symbol.toStringTag, { value: 'Module' }));
}
(function () {
  const e = document.createElement('link').relList;
  if (e && e.supports && e.supports('modulepreload')) return;
  for (const i of document.querySelectorAll('link[rel="modulepreload"]')) r(i);
  new MutationObserver((i) => {
    for (const o of i) if (o.type === 'childList') for (const a of o.addedNodes) a.tagName === 'LINK' && a.rel === 'modulepreload' && r(a);
  }).observe(document, { childList: !0, subtree: !0 });
  function n(i) {
    const o = {};
    return (
      i.integrity && (o.integrity = i.integrity),
      i.referrerPolicy && (o.referrerPolicy = i.referrerPolicy),
      i.crossOrigin === 'use-credentials' ? (o.credentials = 'include') : i.crossOrigin === 'anonymous' ? (o.credentials = 'omit') : (o.credentials = 'same-origin'),
      o
    );
  }
  function r(i) {
    if (i.ep) return;
    i.ep = !0;
    const o = n(i);
    fetch(i.href, o);
  }
})();
var y5 = typeof globalThis < 'u' ? globalThis : typeof window < 'u' ? window : typeof global < 'u' ? global : typeof self < 'u' ? self : {};
function Gc(t) {
  return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, 'default') ? t.default : t;
}
var P2 = { exports: {} },
  Wc = {},
  O2 = { exports: {} },
  Ct = {};
/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var wl = Symbol.for('react.element'),
  _5 = Symbol.for('react.portal'),
  S5 = Symbol.for('react.fragment'),
  E5 = Symbol.for('react.strict_mode'),
  b5 = Symbol.for('react.profiler'),
  x5 = Symbol.for('react.provider'),
  T5 = Symbol.for('react.context'),
  w5 = Symbol.for('react.forward_ref'),
  C5 = Symbol.for('react.suspense'),
  R5 = Symbol.for('react.memo'),
  A5 = Symbol.for('react.lazy'),
  t1 = Symbol.iterator;
function L5(t) {
  return t === null || typeof t != 'object' ? null : ((t = (t1 && t[t1]) || t['@@iterator']), typeof t == 'function' ? t : null);
}
var k2 = {
    isMounted: function () {
      return !1;
    },
    enqueueForceUpdate: function () {},
    enqueueReplaceState: function () {},
    enqueueSetState: function () {},
  },
  M2 = Object.assign,
  F2 = {};
function ns(t, e, n) {
  (this.props = t), (this.context = e), (this.refs = F2), (this.updater = n || k2);
}
ns.prototype.isReactComponent = {};
ns.prototype.setState = function (t, e) {
  if (typeof t != 'object' && typeof t != 'function' && t != null) throw Error('setState(...): takes an object of state variables to update or a function which returns an object of state variables.');
  this.updater.enqueueSetState(this, t, e, 'setState');
};
ns.prototype.forceUpdate = function (t) {
  this.updater.enqueueForceUpdate(this, t, 'forceUpdate');
};
function N2() {}
N2.prototype = ns.prototype;
function im(t, e, n) {
  (this.props = t), (this.context = e), (this.refs = F2), (this.updater = n || k2);
}
var om = (im.prototype = new N2());
om.constructor = im;
M2(om, ns.prototype);
om.isPureReactComponent = !0;
var n1 = Array.isArray,
  $2 = Object.prototype.hasOwnProperty,
  am = { current: null },
  B2 = { key: !0, ref: !0, __self: !0, __source: !0 };
function U2(t, e, n) {
  var r,
    i = {},
    o = null,
    a = null;
  if (e != null) for (r in (e.ref !== void 0 && (a = e.ref), e.key !== void 0 && (o = '' + e.key), e)) $2.call(e, r) && !B2.hasOwnProperty(r) && (i[r] = e[r]);
  var s = arguments.length - 2;
  if (s === 1) i.children = n;
  else if (1 < s) {
    for (var l = Array(s), u = 0; u < s; u++) l[u] = arguments[u + 2];
    i.children = l;
  }
  if (t && t.defaultProps) for (r in ((s = t.defaultProps), s)) i[r] === void 0 && (i[r] = s[r]);
  return { $$typeof: wl, type: t, key: o, ref: a, props: i, _owner: am.current };
}
function I5(t, e) {
  return { $$typeof: wl, type: t.type, key: e, ref: t.ref, props: t.props, _owner: t._owner };
}
function sm(t) {
  return typeof t == 'object' && t !== null && t.$$typeof === wl;
}
function D5(t) {
  var e = { '=': '=0', ':': '=2' };
  return (
    '$' +
    t.replace(/[=:]/g, function (n) {
      return e[n];
    })
  );
}
var r1 = /\/+/g;
function Od(t, e) {
  return typeof t == 'object' && t !== null && t.key != null ? D5('' + t.key) : e.toString(36);
}
function Lu(t, e, n, r, i) {
  var o = typeof t;
  (o === 'undefined' || o === 'boolean') && (t = null);
  var a = !1;
  if (t === null) a = !0;
  else
    switch (o) {
      case 'string':
      case 'number':
        a = !0;
        break;
      case 'object':
        switch (t.$$typeof) {
          case wl:
          case _5:
            a = !0;
        }
    }
  if (a)
    return (
      (a = t),
      (i = i(a)),
      (t = r === '' ? '.' + Od(a, 0) : r),
      n1(i)
        ? ((n = ''),
          t != null && (n = t.replace(r1, '$&/') + '/'),
          Lu(i, e, n, '', function (u) {
            return u;
          }))
        : i != null && (sm(i) && (i = I5(i, n + (!i.key || (a && a.key === i.key) ? '' : ('' + i.key).replace(r1, '$&/') + '/') + t)), e.push(i)),
      1
    );
  if (((a = 0), (r = r === '' ? '.' : r + ':'), n1(t)))
    for (var s = 0; s < t.length; s++) {
      o = t[s];
      var l = r + Od(o, s);
      a += Lu(o, e, n, l, i);
    }
  else if (((l = L5(t)), typeof l == 'function')) for (t = l.call(t), s = 0; !(o = t.next()).done; ) (o = o.value), (l = r + Od(o, s++)), (a += Lu(o, e, n, l, i));
  else if (o === 'object')
    throw (
      ((e = String(t)),
      Error(
        'Objects are not valid as a React child (found: ' +
          (e === '[object Object]' ? 'object with keys {' + Object.keys(t).join(', ') + '}' : e) +
          '). If you meant to render a collection of children, use an array instead.',
      ))
    );
  return a;
}
function jl(t, e, n) {
  if (t == null) return t;
  var r = [],
    i = 0;
  return (
    Lu(t, r, '', '', function (o) {
      return e.call(n, o, i++);
    }),
    r
  );
}
function P5(t) {
  if (t._status === -1) {
    var e = t._result;
    (e = e()),
      e.then(
        function (n) {
          (t._status === 0 || t._status === -1) && ((t._status = 1), (t._result = n));
        },
        function (n) {
          (t._status === 0 || t._status === -1) && ((t._status = 2), (t._result = n));
        },
      ),
      t._status === -1 && ((t._status = 0), (t._result = e));
  }
  if (t._status === 1) return t._result.default;
  throw t._result;
}
var Jn = { current: null },
  Iu = { transition: null },
  O5 = { ReactCurrentDispatcher: Jn, ReactCurrentBatchConfig: Iu, ReactCurrentOwner: am };
Ct.Children = {
  map: jl,
  forEach: function (t, e, n) {
    jl(
      t,
      function () {
        e.apply(this, arguments);
      },
      n,
    );
  },
  count: function (t) {
    var e = 0;
    return (
      jl(t, function () {
        e++;
      }),
      e
    );
  },
  toArray: function (t) {
    return (
      jl(t, function (e) {
        return e;
      }) || []
    );
  },
  only: function (t) {
    if (!sm(t)) throw Error('React.Children.only expected to receive a single React element child.');
    return t;
  },
};
Ct.Component = ns;
Ct.Fragment = S5;
Ct.Profiler = b5;
Ct.PureComponent = im;
Ct.StrictMode = E5;
Ct.Suspense = C5;
Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = O5;
Ct.cloneElement = function (t, e, n) {
  if (t == null) throw Error('React.cloneElement(...): The argument must be a React element, but you passed ' + t + '.');
  var r = M2({}, t.props),
    i = t.key,
    o = t.ref,
    a = t._owner;
  if (e != null) {
    if ((e.ref !== void 0 && ((o = e.ref), (a = am.current)), e.key !== void 0 && (i = '' + e.key), t.type && t.type.defaultProps)) var s = t.type.defaultProps;
    for (l in e) $2.call(e, l) && !B2.hasOwnProperty(l) && (r[l] = e[l] === void 0 && s !== void 0 ? s[l] : e[l]);
  }
  var l = arguments.length - 2;
  if (l === 1) r.children = n;
  else if (1 < l) {
    s = Array(l);
    for (var u = 0; u < l; u++) s[u] = arguments[u + 2];
    r.children = s;
  }
  return { $$typeof: wl, type: t.type, key: i, ref: o, props: r, _owner: a };
};
Ct.createContext = function (t) {
  return (
    (t = { $$typeof: T5, _currentValue: t, _currentValue2: t, _threadCount: 0, Provider: null, Consumer: null, _defaultValue: null, _globalName: null }),
    (t.Provider = { $$typeof: x5, _context: t }),
    (t.Consumer = t)
  );
};
Ct.createElement = U2;
Ct.createFactory = function (t) {
  var e = U2.bind(null, t);
  return (e.type = t), e;
};
Ct.createRef = function () {
  return { current: null };
};
Ct.forwardRef = function (t) {
  return { $$typeof: w5, render: t };
};
Ct.isValidElement = sm;
Ct.lazy = function (t) {
  return { $$typeof: A5, _payload: { _status: -1, _result: t }, _init: P5 };
};
Ct.memo = function (t, e) {
  return { $$typeof: R5, type: t, compare: e === void 0 ? null : e };
};
Ct.startTransition = function (t) {
  var e = Iu.transition;
  Iu.transition = {};
  try {
    t();
  } finally {
    Iu.transition = e;
  }
};
Ct.unstable_act = function () {
  throw Error('act(...) is not supported in production builds of React.');
};
Ct.useCallback = function (t, e) {
  return Jn.current.useCallback(t, e);
};
Ct.useContext = function (t) {
  return Jn.current.useContext(t);
};
Ct.useDebugValue = function () {};
Ct.useDeferredValue = function (t) {
  return Jn.current.useDeferredValue(t);
};
Ct.useEffect = function (t, e) {
  return Jn.current.useEffect(t, e);
};
Ct.useId = function () {
  return Jn.current.useId();
};
Ct.useImperativeHandle = function (t, e, n) {
  return Jn.current.useImperativeHandle(t, e, n);
};
Ct.useInsertionEffect = function (t, e) {
  return Jn.current.useInsertionEffect(t, e);
};
Ct.useLayoutEffect = function (t, e) {
  return Jn.current.useLayoutEffect(t, e);
};
Ct.useMemo = function (t, e) {
  return Jn.current.useMemo(t, e);
};
Ct.useReducer = function (t, e, n) {
  return Jn.current.useReducer(t, e, n);
};
Ct.useRef = function (t) {
  return Jn.current.useRef(t);
};
Ct.useState = function (t) {
  return Jn.current.useState(t);
};
Ct.useSyncExternalStore = function (t, e, n) {
  return Jn.current.useSyncExternalStore(t, e, n);
};
Ct.useTransition = function () {
  return Jn.current.useTransition();
};
Ct.version = '18.2.0';
O2.exports = Ct;
var v = O2.exports;
const Ie = Gc(v),
  z2 = D2({ __proto__: null, default: Ie }, [v]);
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var k5 = v,
  M5 = Symbol.for('react.element'),
  F5 = Symbol.for('react.fragment'),
  N5 = Object.prototype.hasOwnProperty,
  $5 = k5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,
  B5 = { key: !0, ref: !0, __self: !0, __source: !0 };
function V2(t, e, n) {
  var r,
    i = {},
    o = null,
    a = null;
  n !== void 0 && (o = '' + n), e.key !== void 0 && (o = '' + e.key), e.ref !== void 0 && (a = e.ref);
  for (r in e) N5.call(e, r) && !B5.hasOwnProperty(r) && (i[r] = e[r]);
  if (t && t.defaultProps) for (r in ((e = t.defaultProps), e)) i[r] === void 0 && (i[r] = e[r]);
  return { $$typeof: M5, type: t, key: o, ref: a, props: i, _owner: $5.current };
}
Wc.Fragment = F5;
Wc.jsx = V2;
Wc.jsxs = V2;
P2.exports = Wc;
var Be = P2.exports,
  sh = {},
  H2 = { exports: {} },
  br = {},
  j2 = { exports: {} },
  G2 = {};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ (function (t) {
  function e(A, k) {
    var U = A.length;
    A.push(k);
    e: for (; 0 < U; ) {
      var X = (U - 1) >>> 1,
        Q = A[X];
      if (0 < i(Q, k)) (A[X] = k), (A[U] = Q), (U = X);
      else break e;
    }
  }
  function n(A) {
    return A.length === 0 ? null : A[0];
  }
  function r(A) {
    if (A.length === 0) return null;
    var k = A[0],
      U = A.pop();
    if (U !== k) {
      A[0] = U;
      e: for (var X = 0, Q = A.length, W = Q >>> 1; X < W; ) {
        var Y = 2 * (X + 1) - 1,
          ne = A[Y],
          te = Y + 1,
          K = A[te];
        if (0 > i(ne, U)) te < Q && 0 > i(K, ne) ? ((A[X] = K), (A[te] = U), (X = te)) : ((A[X] = ne), (A[Y] = U), (X = Y));
        else if (te < Q && 0 > i(K, U)) (A[X] = K), (A[te] = U), (X = te);
        else break e;
      }
    }
    return k;
  }
  function i(A, k) {
    var U = A.sortIndex - k.sortIndex;
    return U !== 0 ? U : A.id - k.id;
  }
  if (typeof performance == 'object' && typeof performance.now == 'function') {
    var o = performance;
    t.unstable_now = function () {
      return o.now();
    };
  } else {
    var a = Date,
      s = a.now();
    t.unstable_now = function () {
      return a.now() - s;
    };
  }
  var l = [],
    u = [],
    c = 1,
    d = null,
    f = 3,
    h = !1,
    m = !1,
    g = !1,
    b = typeof setTimeout == 'function' ? setTimeout : null,
    _ = typeof clearTimeout == 'function' ? clearTimeout : null,
    y = typeof setImmediate < 'u' ? setImmediate : null;
  typeof navigator < 'u' && navigator.scheduling !== void 0 && navigator.scheduling.isInputPending !== void 0 && navigator.scheduling.isInputPending.bind(navigator.scheduling);
  function T(A) {
    for (var k = n(u); k !== null; ) {
      if (k.callback === null) r(u);
      else if (k.startTime <= A) r(u), (k.sortIndex = k.expirationTime), e(l, k);
      else break;
      k = n(u);
    }
  }
  function w(A) {
    if (((g = !1), T(A), !m))
      if (n(l) !== null) (m = !0), q(I);
      else {
        var k = n(u);
        k !== null && F(w, k.startTime - A);
      }
  }
  function I(A, k) {
    (m = !1), g && ((g = !1), _(L), (L = -1)), (h = !0);
    var U = f;
    try {
      for (T(k), d = n(l); d !== null && (!(d.expirationTime > k) || (A && !G())); ) {
        var X = d.callback;
        if (typeof X == 'function') {
          (d.callback = null), (f = d.priorityLevel);
          var Q = X(d.expirationTime <= k);
          (k = t.unstable_now()), typeof Q == 'function' ? (d.callback = Q) : d === n(l) && r(l), T(k);
        } else r(l);
        d = n(l);
      }
      if (d !== null) var W = !0;
      else {
        var Y = n(u);
        Y !== null && F(w, Y.startTime - k), (W = !1);
      }
      return W;
    } finally {
      (d = null), (f = U), (h = !1);
    }
  }
  var O = !1,
    x = null,
    L = -1,
    D = 5,
    C = -1;
  function G() {
    return !(t.unstable_now() - C < D);
  }
  function M() {
    if (x !== null) {
      var A = t.unstable_now();
      C = A;
      var k = !0;
      try {
        k = x(!0, A);
      } finally {
        k ? B() : ((O = !1), (x = null));
      }
    } else O = !1;
  }
  var B;
  if (typeof y == 'function')
    B = function () {
      y(M);
    };
  else if (typeof MessageChannel < 'u') {
    var z = new MessageChannel(),
      H = z.port2;
    (z.port1.onmessage = M),
      (B = function () {
        H.postMessage(null);
      });
  } else
    B = function () {
      b(M, 0);
    };
  function q(A) {
    (x = A), O || ((O = !0), B());
  }
  function F(A, k) {
    L = b(function () {
      A(t.unstable_now());
    }, k);
  }
  (t.unstable_IdlePriority = 5),
    (t.unstable_ImmediatePriority = 1),
    (t.unstable_LowPriority = 4),
    (t.unstable_NormalPriority = 3),
    (t.unstable_Profiling = null),
    (t.unstable_UserBlockingPriority = 2),
    (t.unstable_cancelCallback = function (A) {
      A.callback = null;
    }),
    (t.unstable_continueExecution = function () {
      m || h || ((m = !0), q(I));
    }),
    (t.unstable_forceFrameRate = function (A) {
      0 > A || 125 < A ? console.error('forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported') : (D = 0 < A ? Math.floor(1e3 / A) : 5);
    }),
    (t.unstable_getCurrentPriorityLevel = function () {
      return f;
    }),
    (t.unstable_getFirstCallbackNode = function () {
      return n(l);
    }),
    (t.unstable_next = function (A) {
      switch (f) {
        case 1:
        case 2:
        case 3:
          var k = 3;
          break;
        default:
          k = f;
      }
      var U = f;
      f = k;
      try {
        return A();
      } finally {
        f = U;
      }
    }),
    (t.unstable_pauseExecution = function () {}),
    (t.unstable_requestPaint = function () {}),
    (t.unstable_runWithPriority = function (A, k) {
      switch (A) {
        case 1:
        case 2:
        case 3:
        case 4:
        case 5:
          break;
        default:
          A = 3;
      }
      var U = f;
      f = A;
      try {
        return k();
      } finally {
        f = U;
      }
    }),
    (t.unstable_scheduleCallback = function (A, k, U) {
      var X = t.unstable_now();
      switch ((typeof U == 'object' && U !== null ? ((U = U.delay), (U = typeof U == 'number' && 0 < U ? X + U : X)) : (U = X), A)) {
        case 1:
          var Q = -1;
          break;
        case 2:
          Q = 250;
          break;
        case 5:
          Q = 1073741823;
          break;
        case 4:
          Q = 1e4;
          break;
        default:
          Q = 5e3;
      }
      return (
        (Q = U + Q),
        (A = { id: c++, callback: k, priorityLevel: A, startTime: U, expirationTime: Q, sortIndex: -1 }),
        U > X ? ((A.sortIndex = U), e(u, A), n(l) === null && A === n(u) && (g ? (_(L), (L = -1)) : (g = !0), F(w, U - X))) : ((A.sortIndex = Q), e(l, A), m || h || ((m = !0), q(I))),
        A
      );
    }),
    (t.unstable_shouldYield = G),
    (t.unstable_wrapCallback = function (A) {
      var k = f;
      return function () {
        var U = f;
        f = k;
        try {
          return A.apply(this, arguments);
        } finally {
          f = U;
        }
      };
    });
})(G2);
j2.exports = G2;
var U5 = j2.exports;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var W2 = v,
  _r = U5;
function be(t) {
  for (var e = 'https://reactjs.org/docs/error-decoder.html?invariant=' + t, n = 1; n < arguments.length; n++) e += '&args[]=' + encodeURIComponent(arguments[n]);
  return 'Minified React error #' + t + '; visit ' + e + ' for the full message or use the non-minified dev environment for full errors and additional helpful warnings.';
}
var K2 = new Set(),
  Js = {};
function Ho(t, e) {
  ja(t, e), ja(t + 'Capture', e);
}
function ja(t, e) {
  for (Js[t] = e, t = 0; t < e.length; t++) K2.add(e[t]);
}
var Pi = !(typeof window > 'u' || typeof window.document > 'u' || typeof window.document.createElement > 'u'),
  lh = Object.prototype.hasOwnProperty,
  z5 =
    /^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
  i1 = {},
  o1 = {};
function V5(t) {
  return lh.call(o1, t) ? !0 : lh.call(i1, t) ? !1 : z5.test(t) ? (o1[t] = !0) : ((i1[t] = !0), !1);
}
function H5(t, e, n, r) {
  if (n !== null && n.type === 0) return !1;
  switch (typeof e) {
    case 'function':
    case 'symbol':
      return !0;
    case 'boolean':
      return r ? !1 : n !== null ? !n.acceptsBooleans : ((t = t.toLowerCase().slice(0, 5)), t !== 'data-' && t !== 'aria-');
    default:
      return !1;
  }
}
function j5(t, e, n, r) {
  if (e === null || typeof e > 'u' || H5(t, e, n, r)) return !0;
  if (r) return !1;
  if (n !== null)
    switch (n.type) {
      case 3:
        return !e;
      case 4:
        return e === !1;
      case 5:
        return isNaN(e);
      case 6:
        return isNaN(e) || 1 > e;
    }
  return !1;
}
function er(t, e, n, r, i, o, a) {
  (this.acceptsBooleans = e === 2 || e === 3 || e === 4),
    (this.attributeName = r),
    (this.attributeNamespace = i),
    (this.mustUseProperty = n),
    (this.propertyName = t),
    (this.type = e),
    (this.sanitizeURL = o),
    (this.removeEmptyString = a);
}
var jn = {};
'children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style'.split(' ').forEach(function (t) {
  jn[t] = new er(t, 0, !1, t, null, !1, !1);
});
[
  ['acceptCharset', 'accept-charset'],
  ['className', 'class'],
  ['htmlFor', 'for'],
  ['httpEquiv', 'http-equiv'],
].forEach(function (t) {
  var e = t[0];
  jn[e] = new er(e, 1, !1, t[1], null, !1, !1);
});
['contentEditable', 'draggable', 'spellCheck', 'value'].forEach(function (t) {
  jn[t] = new er(t, 2, !1, t.toLowerCase(), null, !1, !1);
});
['autoReverse', 'externalResourcesRequired', 'focusable', 'preserveAlpha'].forEach(function (t) {
  jn[t] = new er(t, 2, !1, t, null, !1, !1);
});
'allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope'
  .split(' ')
  .forEach(function (t) {
    jn[t] = new er(t, 3, !1, t.toLowerCase(), null, !1, !1);
  });
['checked', 'multiple', 'muted', 'selected'].forEach(function (t) {
  jn[t] = new er(t, 3, !0, t, null, !1, !1);
});
['capture', 'download'].forEach(function (t) {
  jn[t] = new er(t, 4, !1, t, null, !1, !1);
});
['cols', 'rows', 'size', 'span'].forEach(function (t) {
  jn[t] = new er(t, 6, !1, t, null, !1, !1);
});
['rowSpan', 'start'].forEach(function (t) {
  jn[t] = new er(t, 5, !1, t.toLowerCase(), null, !1, !1);
});
var lm = /[\-:]([a-z])/g;
function um(t) {
  return t[1].toUpperCase();
}
'accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height'
  .split(' ')
  .forEach(function (t) {
    var e = t.replace(lm, um);
    jn[e] = new er(e, 1, !1, t, null, !1, !1);
  });
'xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type'.split(' ').forEach(function (t) {
  var e = t.replace(lm, um);
  jn[e] = new er(e, 1, !1, t, 'http://www.w3.org/1999/xlink', !1, !1);
});
['xml:base', 'xml:lang', 'xml:space'].forEach(function (t) {
  var e = t.replace(lm, um);
  jn[e] = new er(e, 1, !1, t, 'http://www.w3.org/XML/1998/namespace', !1, !1);
});
['tabIndex', 'crossOrigin'].forEach(function (t) {
  jn[t] = new er(t, 1, !1, t.toLowerCase(), null, !1, !1);
});
jn.xlinkHref = new er('xlinkHref', 1, !1, 'xlink:href', 'http://www.w3.org/1999/xlink', !0, !1);
['src', 'href', 'action', 'formAction'].forEach(function (t) {
  jn[t] = new er(t, 1, !1, t.toLowerCase(), null, !0, !0);
});
function cm(t, e, n, r) {
  var i = jn.hasOwnProperty(e) ? jn[e] : null;
  (i !== null ? i.type !== 0 : r || !(2 < e.length) || (e[0] !== 'o' && e[0] !== 'O') || (e[1] !== 'n' && e[1] !== 'N')) &&
    (j5(e, n, i, r) && (n = null),
    r || i === null
      ? V5(e) && (n === null ? t.removeAttribute(e) : t.setAttribute(e, '' + n))
      : i.mustUseProperty
      ? (t[i.propertyName] = n === null ? (i.type === 3 ? !1 : '') : n)
      : ((e = i.attributeName),
        (r = i.attributeNamespace),
        n === null ? t.removeAttribute(e) : ((i = i.type), (n = i === 3 || (i === 4 && n === !0) ? '' : '' + n), r ? t.setAttributeNS(r, e, n) : t.setAttribute(e, n))));
}
var Bi = W2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,
  Gl = Symbol.for('react.element'),
  pa = Symbol.for('react.portal'),
  ga = Symbol.for('react.fragment'),
  dm = Symbol.for('react.strict_mode'),
  uh = Symbol.for('react.profiler'),
  q2 = Symbol.for('react.provider'),
  Y2 = Symbol.for('react.context'),
  fm = Symbol.for('react.forward_ref'),
  ch = Symbol.for('react.suspense'),
  dh = Symbol.for('react.suspense_list'),
  hm = Symbol.for('react.memo'),
  ji = Symbol.for('react.lazy'),
  X2 = Symbol.for('react.offscreen'),
  a1 = Symbol.iterator;
function ms(t) {
  return t === null || typeof t != 'object' ? null : ((t = (a1 && t[a1]) || t['@@iterator']), typeof t == 'function' ? t : null);
}
var mn = Object.assign,
  kd;
function Ls(t) {
  if (kd === void 0)
    try {
      throw Error();
    } catch (n) {
      var e = n.stack.trim().match(/\n( *(at )?)/);
      kd = (e && e[1]) || '';
    }
  return (
    `
` +
    kd +
    t
  );
}
var Md = !1;
function Fd(t, e) {
  if (!t || Md) return '';
  Md = !0;
  var n = Error.prepareStackTrace;
  Error.prepareStackTrace = void 0;
  try {
    if (e)
      if (
        ((e = function () {
          throw Error();
        }),
        Object.defineProperty(e.prototype, 'props', {
          set: function () {
            throw Error();
          },
        }),
        typeof Reflect == 'object' && Reflect.construct)
      ) {
        try {
          Reflect.construct(e, []);
        } catch (u) {
          var r = u;
        }
        Reflect.construct(t, [], e);
      } else {
        try {
          e.call();
        } catch (u) {
          r = u;
        }
        t.call(e.prototype);
      }
    else {
      try {
        throw Error();
      } catch (u) {
        r = u;
      }
      t();
    }
  } catch (u) {
    if (u && r && typeof u.stack == 'string') {
      for (
        var i = u.stack.split(`
`),
          o = r.stack.split(`
`),
          a = i.length - 1,
          s = o.length - 1;
        1 <= a && 0 <= s && i[a] !== o[s];

      )
        s--;
      for (; 1 <= a && 0 <= s; a--, s--)
        if (i[a] !== o[s]) {
          if (a !== 1 || s !== 1)
            do
              if ((a--, s--, 0 > s || i[a] !== o[s])) {
                var l =
                  `
` + i[a].replace(' at new ', ' at ');
                return t.displayName && l.includes('<anonymous>') && (l = l.replace('<anonymous>', t.displayName)), l;
              }
            while (1 <= a && 0 <= s);
          break;
        }
    }
  } finally {
    (Md = !1), (Error.prepareStackTrace = n);
  }
  return (t = t ? t.displayName || t.name : '') ? Ls(t) : '';
}
function G5(t) {
  switch (t.tag) {
    case 5:
      return Ls(t.type);
    case 16:
      return Ls('Lazy');
    case 13:
      return Ls('Suspense');
    case 19:
      return Ls('SuspenseList');
    case 0:
    case 2:
    case 15:
      return (t = Fd(t.type, !1)), t;
    case 11:
      return (t = Fd(t.type.render, !1)), t;
    case 1:
      return (t = Fd(t.type, !0)), t;
    default:
      return '';
  }
}
function fh(t) {
  if (t == null) return null;
  if (typeof t == 'function') return t.displayName || t.name || null;
  if (typeof t == 'string') return t;
  switch (t) {
    case ga:
      return 'Fragment';
    case pa:
      return 'Portal';
    case uh:
      return 'Profiler';
    case dm:
      return 'StrictMode';
    case ch:
      return 'Suspense';
    case dh:
      return 'SuspenseList';
  }
  if (typeof t == 'object')
    switch (t.$$typeof) {
      case Y2:
        return (t.displayName || 'Context') + '.Consumer';
      case q2:
        return (t._context.displayName || 'Context') + '.Provider';
      case fm:
        var e = t.render;
        return (t = t.displayName), t || ((t = e.displayName || e.name || ''), (t = t !== '' ? 'ForwardRef(' + t + ')' : 'ForwardRef')), t;
      case hm:
        return (e = t.displayName || null), e !== null ? e : fh(t.type) || 'Memo';
      case ji:
        (e = t._payload), (t = t._init);
        try {
          return fh(t(e));
        } catch {}
    }
  return null;
}
function W5(t) {
  var e = t.type;
  switch (t.tag) {
    case 24:
      return 'Cache';
    case 9:
      return (e.displayName || 'Context') + '.Consumer';
    case 10:
      return (e._context.displayName || 'Context') + '.Provider';
    case 18:
      return 'DehydratedFragment';
    case 11:
      return (t = e.render), (t = t.displayName || t.name || ''), e.displayName || (t !== '' ? 'ForwardRef(' + t + ')' : 'ForwardRef');
    case 7:
      return 'Fragment';
    case 5:
      return e;
    case 4:
      return 'Portal';
    case 3:
      return 'Root';
    case 6:
      return 'Text';
    case 16:
      return fh(e);
    case 8:
      return e === dm ? 'StrictMode' : 'Mode';
    case 22:
      return 'Offscreen';
    case 12:
      return 'Profiler';
    case 21:
      return 'Scope';
    case 13:
      return 'Suspense';
    case 19:
      return 'SuspenseList';
    case 25:
      return 'TracingMarker';
    case 1:
    case 0:
    case 17:
    case 2:
    case 14:
    case 15:
      if (typeof e == 'function') return e.displayName || e.name || null;
      if (typeof e == 'string') return e;
  }
  return null;
}
function uo(t) {
  switch (typeof t) {
    case 'boolean':
    case 'number':
    case 'string':
    case 'undefined':
      return t;
    case 'object':
      return t;
    default:
      return '';
  }
}
function Q2(t) {
  var e = t.type;
  return (t = t.nodeName) && t.toLowerCase() === 'input' && (e === 'checkbox' || e === 'radio');
}
function K5(t) {
  var e = Q2(t) ? 'checked' : 'value',
    n = Object.getOwnPropertyDescriptor(t.constructor.prototype, e),
    r = '' + t[e];
  if (!t.hasOwnProperty(e) && typeof n < 'u' && typeof n.get == 'function' && typeof n.set == 'function') {
    var i = n.get,
      o = n.set;
    return (
      Object.defineProperty(t, e, {
        configurable: !0,
        get: function () {
          return i.call(this);
        },
        set: function (a) {
          (r = '' + a), o.call(this, a);
        },
      }),
      Object.defineProperty(t, e, { enumerable: n.enumerable }),
      {
        getValue: function () {
          return r;
        },
        setValue: function (a) {
          r = '' + a;
        },
        stopTracking: function () {
          (t._valueTracker = null), delete t[e];
        },
      }
    );
  }
}
function Wl(t) {
  t._valueTracker || (t._valueTracker = K5(t));
}
function Z2(t) {
  if (!t) return !1;
  var e = t._valueTracker;
  if (!e) return !0;
  var n = e.getValue(),
    r = '';
  return t && (r = Q2(t) ? (t.checked ? 'true' : 'false') : t.value), (t = r), t !== n ? (e.setValue(t), !0) : !1;
}
function qu(t) {
  if (((t = t || (typeof document < 'u' ? document : void 0)), typeof t > 'u')) return null;
  try {
    return t.activeElement || t.body;
  } catch {
    return t.body;
  }
}
function hh(t, e) {
  var n = e.checked;
  return mn({}, e, { defaultChecked: void 0, defaultValue: void 0, value: void 0, checked: n ?? t._wrapperState.initialChecked });
}
function s1(t, e) {
  var n = e.defaultValue == null ? '' : e.defaultValue,
    r = e.checked != null ? e.checked : e.defaultChecked;
  (n = uo(e.value != null ? e.value : n)), (t._wrapperState = { initialChecked: r, initialValue: n, controlled: e.type === 'checkbox' || e.type === 'radio' ? e.checked != null : e.value != null });
}
function J2(t, e) {
  (e = e.checked), e != null && cm(t, 'checked', e, !1);
}
function mh(t, e) {
  J2(t, e);
  var n = uo(e.value),
    r = e.type;
  if (n != null) r === 'number' ? ((n === 0 && t.value === '') || t.value != n) && (t.value = '' + n) : t.value !== '' + n && (t.value = '' + n);
  else if (r === 'submit' || r === 'reset') {
    t.removeAttribute('value');
    return;
  }
  e.hasOwnProperty('value') ? ph(t, e.type, n) : e.hasOwnProperty('defaultValue') && ph(t, e.type, uo(e.defaultValue)),
    e.checked == null && e.defaultChecked != null && (t.defaultChecked = !!e.defaultChecked);
}
function l1(t, e, n) {
  if (e.hasOwnProperty('value') || e.hasOwnProperty('defaultValue')) {
    var r = e.type;
    if (!((r !== 'submit' && r !== 'reset') || (e.value !== void 0 && e.value !== null))) return;
    (e = '' + t._wrapperState.initialValue), n || e === t.value || (t.value = e), (t.defaultValue = e);
  }
  (n = t.name), n !== '' && (t.name = ''), (t.defaultChecked = !!t._wrapperState.initialChecked), n !== '' && (t.name = n);
}
function ph(t, e, n) {
  (e !== 'number' || qu(t.ownerDocument) !== t) && (n == null ? (t.defaultValue = '' + t._wrapperState.initialValue) : t.defaultValue !== '' + n && (t.defaultValue = '' + n));
}
var Is = Array.isArray;
function Oa(t, e, n, r) {
  if (((t = t.options), e)) {
    e = {};
    for (var i = 0; i < n.length; i++) e['$' + n[i]] = !0;
    for (n = 0; n < t.length; n++) (i = e.hasOwnProperty('$' + t[n].value)), t[n].selected !== i && (t[n].selected = i), i && r && (t[n].defaultSelected = !0);
  } else {
    for (n = '' + uo(n), e = null, i = 0; i < t.length; i++) {
      if (t[i].value === n) {
        (t[i].selected = !0), r && (t[i].defaultSelected = !0);
        return;
      }
      e !== null || t[i].disabled || (e = t[i]);
    }
    e !== null && (e.selected = !0);
  }
}
function gh(t, e) {
  if (e.dangerouslySetInnerHTML != null) throw Error(be(91));
  return mn({}, e, { value: void 0, defaultValue: void 0, children: '' + t._wrapperState.initialValue });
}
function u1(t, e) {
  var n = e.value;
  if (n == null) {
    if (((n = e.children), (e = e.defaultValue), n != null)) {
      if (e != null) throw Error(be(92));
      if (Is(n)) {
        if (1 < n.length) throw Error(be(93));
        n = n[0];
      }
      e = n;
    }
    e == null && (e = ''), (n = e);
  }
  t._wrapperState = { initialValue: uo(n) };
}
function e3(t, e) {
  var n = uo(e.value),
    r = uo(e.defaultValue);
  n != null && ((n = '' + n), n !== t.value && (t.value = n), e.defaultValue == null && t.defaultValue !== n && (t.defaultValue = n)), r != null && (t.defaultValue = '' + r);
}
function c1(t) {
  var e = t.textContent;
  e === t._wrapperState.initialValue && e !== '' && e !== null && (t.value = e);
}
function t3(t) {
  switch (t) {
    case 'svg':
      return 'http://www.w3.org/2000/svg';
    case 'math':
      return 'http://www.w3.org/1998/Math/MathML';
    default:
      return 'http://www.w3.org/1999/xhtml';
  }
}
function vh(t, e) {
  return t == null || t === 'http://www.w3.org/1999/xhtml' ? t3(e) : t === 'http://www.w3.org/2000/svg' && e === 'foreignObject' ? 'http://www.w3.org/1999/xhtml' : t;
}
var Kl,
  n3 = (function (t) {
    return typeof MSApp < 'u' && MSApp.execUnsafeLocalFunction
      ? function (e, n, r, i) {
          MSApp.execUnsafeLocalFunction(function () {
            return t(e, n, r, i);
          });
        }
      : t;
  })(function (t, e) {
    if (t.namespaceURI !== 'http://www.w3.org/2000/svg' || 'innerHTML' in t) t.innerHTML = e;
    else {
      for (Kl = Kl || document.createElement('div'), Kl.innerHTML = '<svg>' + e.valueOf().toString() + '</svg>', e = Kl.firstChild; t.firstChild; ) t.removeChild(t.firstChild);
      for (; e.firstChild; ) t.appendChild(e.firstChild);
    }
  });
function el(t, e) {
  if (e) {
    var n = t.firstChild;
    if (n && n === t.lastChild && n.nodeType === 3) {
      n.nodeValue = e;
      return;
    }
  }
  t.textContent = e;
}
var Ms = {
    animationIterationCount: !0,
    aspectRatio: !0,
    borderImageOutset: !0,
    borderImageSlice: !0,
    borderImageWidth: !0,
    boxFlex: !0,
    boxFlexGroup: !0,
    boxOrdinalGroup: !0,
    columnCount: !0,
    columns: !0,
    flex: !0,
    flexGrow: !0,
    flexPositive: !0,
    flexShrink: !0,
    flexNegative: !0,
    flexOrder: !0,
    gridArea: !0,
    gridRow: !0,
    gridRowEnd: !0,
    gridRowSpan: !0,
    gridRowStart: !0,
    gridColumn: !0,
    gridColumnEnd: !0,
    gridColumnSpan: !0,
    gridColumnStart: !0,
    fontWeight: !0,
    lineClamp: !0,
    lineHeight: !0,
    opacity: !0,
    order: !0,
    orphans: !0,
    tabSize: !0,
    widows: !0,
    zIndex: !0,
    zoom: !0,
    fillOpacity: !0,
    floodOpacity: !0,
    stopOpacity: !0,
    strokeDasharray: !0,
    strokeDashoffset: !0,
    strokeMiterlimit: !0,
    strokeOpacity: !0,
    strokeWidth: !0,
  },
  q5 = ['Webkit', 'ms', 'Moz', 'O'];
Object.keys(Ms).forEach(function (t) {
  q5.forEach(function (e) {
    (e = e + t.charAt(0).toUpperCase() + t.substring(1)), (Ms[e] = Ms[t]);
  });
});
function r3(t, e, n) {
  return e == null || typeof e == 'boolean' || e === '' ? '' : n || typeof e != 'number' || e === 0 || (Ms.hasOwnProperty(t) && Ms[t]) ? ('' + e).trim() : e + 'px';
}
function i3(t, e) {
  t = t.style;
  for (var n in e)
    if (e.hasOwnProperty(n)) {
      var r = n.indexOf('--') === 0,
        i = r3(n, e[n], r);
      n === 'float' && (n = 'cssFloat'), r ? t.setProperty(n, i) : (t[n] = i);
    }
}
var Y5 = mn({ menuitem: !0 }, { area: !0, base: !0, br: !0, col: !0, embed: !0, hr: !0, img: !0, input: !0, keygen: !0, link: !0, meta: !0, param: !0, source: !0, track: !0, wbr: !0 });
function yh(t, e) {
  if (e) {
    if (Y5[t] && (e.children != null || e.dangerouslySetInnerHTML != null)) throw Error(be(137, t));
    if (e.dangerouslySetInnerHTML != null) {
      if (e.children != null) throw Error(be(60));
      if (typeof e.dangerouslySetInnerHTML != 'object' || !('__html' in e.dangerouslySetInnerHTML)) throw Error(be(61));
    }
    if (e.style != null && typeof e.style != 'object') throw Error(be(62));
  }
}
function _h(t, e) {
  if (t.indexOf('-') === -1) return typeof e.is == 'string';
  switch (t) {
    case 'annotation-xml':
    case 'color-profile':
    case 'font-face':
    case 'font-face-src':
    case 'font-face-uri':
    case 'font-face-format':
    case 'font-face-name':
    case 'missing-glyph':
      return !1;
    default:
      return !0;
  }
}
var Sh = null;
function mm(t) {
  return (t = t.target || t.srcElement || window), t.correspondingUseElement && (t = t.correspondingUseElement), t.nodeType === 3 ? t.parentNode : t;
}
var Eh = null,
  ka = null,
  Ma = null;
function d1(t) {
  if ((t = Al(t))) {
    if (typeof Eh != 'function') throw Error(be(280));
    var e = t.stateNode;
    e && ((e = Qc(e)), Eh(t.stateNode, t.type, e));
  }
}
function o3(t) {
  ka ? (Ma ? Ma.push(t) : (Ma = [t])) : (ka = t);
}
function a3() {
  if (ka) {
    var t = ka,
      e = Ma;
    if (((Ma = ka = null), d1(t), e)) for (t = 0; t < e.length; t++) d1(e[t]);
  }
}
function s3(t, e) {
  return t(e);
}
function l3() {}
var Nd = !1;
function u3(t, e, n) {
  if (Nd) return t(e, n);
  Nd = !0;
  try {
    return s3(t, e, n);
  } finally {
    (Nd = !1), (ka !== null || Ma !== null) && (l3(), a3());
  }
}
function tl(t, e) {
  var n = t.stateNode;
  if (n === null) return null;
  var r = Qc(n);
  if (r === null) return null;
  n = r[e];
  e: switch (e) {
    case 'onClick':
    case 'onClickCapture':
    case 'onDoubleClick':
    case 'onDoubleClickCapture':
    case 'onMouseDown':
    case 'onMouseDownCapture':
    case 'onMouseMove':
    case 'onMouseMoveCapture':
    case 'onMouseUp':
    case 'onMouseUpCapture':
    case 'onMouseEnter':
      (r = !r.disabled) || ((t = t.type), (r = !(t === 'button' || t === 'input' || t === 'select' || t === 'textarea'))), (t = !r);
      break e;
    default:
      t = !1;
  }
  if (t) return null;
  if (n && typeof n != 'function') throw Error(be(231, e, typeof n));
  return n;
}
var bh = !1;
if (Pi)
  try {
    var ps = {};
    Object.defineProperty(ps, 'passive', {
      get: function () {
        bh = !0;
      },
    }),
      window.addEventListener('test', ps, ps),
      window.removeEventListener('test', ps, ps);
  } catch {
    bh = !1;
  }
function X5(t, e, n, r, i, o, a, s, l) {
  var u = Array.prototype.slice.call(arguments, 3);
  try {
    e.apply(n, u);
  } catch (c) {
    this.onError(c);
  }
}
var Fs = !1,
  Yu = null,
  Xu = !1,
  xh = null,
  Q5 = {
    onError: function (t) {
      (Fs = !0), (Yu = t);
    },
  };
function Z5(t, e, n, r, i, o, a, s, l) {
  (Fs = !1), (Yu = null), X5.apply(Q5, arguments);
}
function J5(t, e, n, r, i, o, a, s, l) {
  if ((Z5.apply(this, arguments), Fs)) {
    if (Fs) {
      var u = Yu;
      (Fs = !1), (Yu = null);
    } else throw Error(be(198));
    Xu || ((Xu = !0), (xh = u));
  }
}
function jo(t) {
  var e = t,
    n = t;
  if (t.alternate) for (; e.return; ) e = e.return;
  else {
    t = e;
    do (e = t), e.flags & 4098 && (n = e.return), (t = e.return);
    while (t);
  }
  return e.tag === 3 ? n : null;
}
function c3(t) {
  if (t.tag === 13) {
    var e = t.memoizedState;
    if ((e === null && ((t = t.alternate), t !== null && (e = t.memoizedState)), e !== null)) return e.dehydrated;
  }
  return null;
}
function f1(t) {
  if (jo(t) !== t) throw Error(be(188));
}
function e8(t) {
  var e = t.alternate;
  if (!e) {
    if (((e = jo(t)), e === null)) throw Error(be(188));
    return e !== t ? null : t;
  }
  for (var n = t, r = e; ; ) {
    var i = n.return;
    if (i === null) break;
    var o = i.alternate;
    if (o === null) {
      if (((r = i.return), r !== null)) {
        n = r;
        continue;
      }
      break;
    }
    if (i.child === o.child) {
      for (o = i.child; o; ) {
        if (o === n) return f1(i), t;
        if (o === r) return f1(i), e;
        o = o.sibling;
      }
      throw Error(be(188));
    }
    if (n.return !== r.return) (n = i), (r = o);
    else {
      for (var a = !1, s = i.child; s; ) {
        if (s === n) {
          (a = !0), (n = i), (r = o);
          break;
        }
        if (s === r) {
          (a = !0), (r = i), (n = o);
          break;
        }
        s = s.sibling;
      }
      if (!a) {
        for (s = o.child; s; ) {
          if (s === n) {
            (a = !0), (n = o), (r = i);
            break;
          }
          if (s === r) {
            (a = !0), (r = o), (n = i);
            break;
          }
          s = s.sibling;
        }
        if (!a) throw Error(be(189));
      }
    }
    if (n.alternate !== r) throw Error(be(190));
  }
  if (n.tag !== 3) throw Error(be(188));
  return n.stateNode.current === n ? t : e;
}
function d3(t) {
  return (t = e8(t)), t !== null ? f3(t) : null;
}
function f3(t) {
  if (t.tag === 5 || t.tag === 6) return t;
  for (t = t.child; t !== null; ) {
    var e = f3(t);
    if (e !== null) return e;
    t = t.sibling;
  }
  return null;
}
var h3 = _r.unstable_scheduleCallback,
  h1 = _r.unstable_cancelCallback,
  t8 = _r.unstable_shouldYield,
  n8 = _r.unstable_requestPaint,
  bn = _r.unstable_now,
  r8 = _r.unstable_getCurrentPriorityLevel,
  pm = _r.unstable_ImmediatePriority,
  m3 = _r.unstable_UserBlockingPriority,
  Qu = _r.unstable_NormalPriority,
  i8 = _r.unstable_LowPriority,
  p3 = _r.unstable_IdlePriority,
  Kc = null,
  di = null;
function o8(t) {
  if (di && typeof di.onCommitFiberRoot == 'function')
    try {
      di.onCommitFiberRoot(Kc, t, void 0, (t.current.flags & 128) === 128);
    } catch {}
}
var Zr = Math.clz32 ? Math.clz32 : l8,
  a8 = Math.log,
  s8 = Math.LN2;
function l8(t) {
  return (t >>>= 0), t === 0 ? 32 : (31 - ((a8(t) / s8) | 0)) | 0;
}
var ql = 64,
  Yl = 4194304;
function Ds(t) {
  switch (t & -t) {
    case 1:
      return 1;
    case 2:
      return 2;
    case 4:
      return 4;
    case 8:
      return 8;
    case 16:
      return 16;
    case 32:
      return 32;
    case 64:
    case 128:
    case 256:
    case 512:
    case 1024:
    case 2048:
    case 4096:
    case 8192:
    case 16384:
    case 32768:
    case 65536:
    case 131072:
    case 262144:
    case 524288:
    case 1048576:
    case 2097152:
      return t & 4194240;
    case 4194304:
    case 8388608:
    case 16777216:
    case 33554432:
    case 67108864:
      return t & 130023424;
    case 134217728:
      return 134217728;
    case 268435456:
      return 268435456;
    case 536870912:
      return 536870912;
    case 1073741824:
      return 1073741824;
    default:
      return t;
  }
}
function Zu(t, e) {
  var n = t.pendingLanes;
  if (n === 0) return 0;
  var r = 0,
    i = t.suspendedLanes,
    o = t.pingedLanes,
    a = n & 268435455;
  if (a !== 0) {
    var s = a & ~i;
    s !== 0 ? (r = Ds(s)) : ((o &= a), o !== 0 && (r = Ds(o)));
  } else (a = n & ~i), a !== 0 ? (r = Ds(a)) : o !== 0 && (r = Ds(o));
  if (r === 0) return 0;
  if (e !== 0 && e !== r && !(e & i) && ((i = r & -r), (o = e & -e), i >= o || (i === 16 && (o & 4194240) !== 0))) return e;
  if ((r & 4 && (r |= n & 16), (e = t.entangledLanes), e !== 0)) for (t = t.entanglements, e &= r; 0 < e; ) (n = 31 - Zr(e)), (i = 1 << n), (r |= t[n]), (e &= ~i);
  return r;
}
function u8(t, e) {
  switch (t) {
    case 1:
    case 2:
    case 4:
      return e + 250;
    case 8:
    case 16:
    case 32:
    case 64:
    case 128:
    case 256:
    case 512:
    case 1024:
    case 2048:
    case 4096:
    case 8192:
    case 16384:
    case 32768:
    case 65536:
    case 131072:
    case 262144:
    case 524288:
    case 1048576:
    case 2097152:
      return e + 5e3;
    case 4194304:
    case 8388608:
    case 16777216:
    case 33554432:
    case 67108864:
      return -1;
    case 134217728:
    case 268435456:
    case 536870912:
    case 1073741824:
      return -1;
    default:
      return -1;
  }
}
function c8(t, e) {
  for (var n = t.suspendedLanes, r = t.pingedLanes, i = t.expirationTimes, o = t.pendingLanes; 0 < o; ) {
    var a = 31 - Zr(o),
      s = 1 << a,
      l = i[a];
    l === -1 ? (!(s & n) || s & r) && (i[a] = u8(s, e)) : l <= e && (t.expiredLanes |= s), (o &= ~s);
  }
}
function Th(t) {
  return (t = t.pendingLanes & -1073741825), t !== 0 ? t : t & 1073741824 ? 1073741824 : 0;
}
function g3() {
  var t = ql;
  return (ql <<= 1), !(ql & 4194240) && (ql = 64), t;
}
function $d(t) {
  for (var e = [], n = 0; 31 > n; n++) e.push(t);
  return e;
}
function Cl(t, e, n) {
  (t.pendingLanes |= e), e !== 536870912 && ((t.suspendedLanes = 0), (t.pingedLanes = 0)), (t = t.eventTimes), (e = 31 - Zr(e)), (t[e] = n);
}
function d8(t, e) {
  var n = t.pendingLanes & ~e;
  (t.pendingLanes = e), (t.suspendedLanes = 0), (t.pingedLanes = 0), (t.expiredLanes &= e), (t.mutableReadLanes &= e), (t.entangledLanes &= e), (e = t.entanglements);
  var r = t.eventTimes;
  for (t = t.expirationTimes; 0 < n; ) {
    var i = 31 - Zr(n),
      o = 1 << i;
    (e[i] = 0), (r[i] = -1), (t[i] = -1), (n &= ~o);
  }
}
function gm(t, e) {
  var n = (t.entangledLanes |= e);
  for (t = t.entanglements; n; ) {
    var r = 31 - Zr(n),
      i = 1 << r;
    (i & e) | (t[r] & e) && (t[r] |= e), (n &= ~i);
  }
}
var Vt = 0;
function v3(t) {
  return (t &= -t), 1 < t ? (4 < t ? (t & 268435455 ? 16 : 536870912) : 4) : 1;
}
var y3,
  vm,
  _3,
  S3,
  E3,
  wh = !1,
  Xl = [],
  to = null,
  no = null,
  ro = null,
  nl = new Map(),
  rl = new Map(),
  Yi = [],
  f8 =
    'mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit'.split(
      ' ',
    );
function m1(t, e) {
  switch (t) {
    case 'focusin':
    case 'focusout':
      to = null;
      break;
    case 'dragenter':
    case 'dragleave':
      no = null;
      break;
    case 'mouseover':
    case 'mouseout':
      ro = null;
      break;
    case 'pointerover':
    case 'pointerout':
      nl.delete(e.pointerId);
      break;
    case 'gotpointercapture':
    case 'lostpointercapture':
      rl.delete(e.pointerId);
  }
}
function gs(t, e, n, r, i, o) {
  return t === null || t.nativeEvent !== o
    ? ((t = { blockedOn: e, domEventName: n, eventSystemFlags: r, nativeEvent: o, targetContainers: [i] }), e !== null && ((e = Al(e)), e !== null && vm(e)), t)
    : ((t.eventSystemFlags |= r), (e = t.targetContainers), i !== null && e.indexOf(i) === -1 && e.push(i), t);
}
function h8(t, e, n, r, i) {
  switch (e) {
    case 'focusin':
      return (to = gs(to, t, e, n, r, i)), !0;
    case 'dragenter':
      return (no = gs(no, t, e, n, r, i)), !0;
    case 'mouseover':
      return (ro = gs(ro, t, e, n, r, i)), !0;
    case 'pointerover':
      var o = i.pointerId;
      return nl.set(o, gs(nl.get(o) || null, t, e, n, r, i)), !0;
    case 'gotpointercapture':
      return (o = i.pointerId), rl.set(o, gs(rl.get(o) || null, t, e, n, r, i)), !0;
  }
  return !1;
}
function b3(t) {
  var e = Co(t.target);
  if (e !== null) {
    var n = jo(e);
    if (n !== null) {
      if (((e = n.tag), e === 13)) {
        if (((e = c3(n)), e !== null)) {
          (t.blockedOn = e),
            E3(t.priority, function () {
              _3(n);
            });
          return;
        }
      } else if (e === 3 && n.stateNode.current.memoizedState.isDehydrated) {
        t.blockedOn = n.tag === 3 ? n.stateNode.containerInfo : null;
        return;
      }
    }
  }
  t.blockedOn = null;
}
function Du(t) {
  if (t.blockedOn !== null) return !1;
  for (var e = t.targetContainers; 0 < e.length; ) {
    var n = Ch(t.domEventName, t.eventSystemFlags, e[0], t.nativeEvent);
    if (n === null) {
      n = t.nativeEvent;
      var r = new n.constructor(n.type, n);
      (Sh = r), n.target.dispatchEvent(r), (Sh = null);
    } else return (e = Al(n)), e !== null && vm(e), (t.blockedOn = n), !1;
    e.shift();
  }
  return !0;
}
function p1(t, e, n) {
  Du(t) && n.delete(e);
}
function m8() {
  (wh = !1), to !== null && Du(to) && (to = null), no !== null && Du(no) && (no = null), ro !== null && Du(ro) && (ro = null), nl.forEach(p1), rl.forEach(p1);
}
function vs(t, e) {
  t.blockedOn === e && ((t.blockedOn = null), wh || ((wh = !0), _r.unstable_scheduleCallback(_r.unstable_NormalPriority, m8)));
}
function il(t) {
  function e(i) {
    return vs(i, t);
  }
  if (0 < Xl.length) {
    vs(Xl[0], t);
    for (var n = 1; n < Xl.length; n++) {
      var r = Xl[n];
      r.blockedOn === t && (r.blockedOn = null);
    }
  }
  for (to !== null && vs(to, t), no !== null && vs(no, t), ro !== null && vs(ro, t), nl.forEach(e), rl.forEach(e), n = 0; n < Yi.length; n++) (r = Yi[n]), r.blockedOn === t && (r.blockedOn = null);
  for (; 0 < Yi.length && ((n = Yi[0]), n.blockedOn === null); ) b3(n), n.blockedOn === null && Yi.shift();
}
var Fa = Bi.ReactCurrentBatchConfig,
  Ju = !0;
function p8(t, e, n, r) {
  var i = Vt,
    o = Fa.transition;
  Fa.transition = null;
  try {
    (Vt = 1), ym(t, e, n, r);
  } finally {
    (Vt = i), (Fa.transition = o);
  }
}
function g8(t, e, n, r) {
  var i = Vt,
    o = Fa.transition;
  Fa.transition = null;
  try {
    (Vt = 4), ym(t, e, n, r);
  } finally {
    (Vt = i), (Fa.transition = o);
  }
}
function ym(t, e, n, r) {
  if (Ju) {
    var i = Ch(t, e, n, r);
    if (i === null) qd(t, e, r, ec, n), m1(t, r);
    else if (h8(i, t, e, n, r)) r.stopPropagation();
    else if ((m1(t, r), e & 4 && -1 < f8.indexOf(t))) {
      for (; i !== null; ) {
        var o = Al(i);
        if ((o !== null && y3(o), (o = Ch(t, e, n, r)), o === null && qd(t, e, r, ec, n), o === i)) break;
        i = o;
      }
      i !== null && r.stopPropagation();
    } else qd(t, e, r, null, n);
  }
}
var ec = null;
function Ch(t, e, n, r) {
  if (((ec = null), (t = mm(r)), (t = Co(t)), t !== null))
    if (((e = jo(t)), e === null)) t = null;
    else if (((n = e.tag), n === 13)) {
      if (((t = c3(e)), t !== null)) return t;
      t = null;
    } else if (n === 3) {
      if (e.stateNode.current.memoizedState.isDehydrated) return e.tag === 3 ? e.stateNode.containerInfo : null;
      t = null;
    } else e !== t && (t = null);
  return (ec = t), null;
}
function x3(t) {
  switch (t) {
    case 'cancel':
    case 'click':
    case 'close':
    case 'contextmenu':
    case 'copy':
    case 'cut':
    case 'auxclick':
    case 'dblclick':
    case 'dragend':
    case 'dragstart':
    case 'drop':
    case 'focusin':
    case 'focusout':
    case 'input':
    case 'invalid':
    case 'keydown':
    case 'keypress':
    case 'keyup':
    case 'mousedown':
    case 'mouseup':
    case 'paste':
    case 'pause':
    case 'play':
    case 'pointercancel':
    case 'pointerdown':
    case 'pointerup':
    case 'ratechange':
    case 'reset':
    case 'resize':
    case 'seeked':
    case 'submit':
    case 'touchcancel':
    case 'touchend':
    case 'touchstart':
    case 'volumechange':
    case 'change':
    case 'selectionchange':
    case 'textInput':
    case 'compositionstart':
    case 'compositionend':
    case 'compositionupdate':
    case 'beforeblur':
    case 'afterblur':
    case 'beforeinput':
    case 'blur':
    case 'fullscreenchange':
    case 'focus':
    case 'hashchange':
    case 'popstate':
    case 'select':
    case 'selectstart':
      return 1;
    case 'drag':
    case 'dragenter':
    case 'dragexit':
    case 'dragleave':
    case 'dragover':
    case 'mousemove':
    case 'mouseout':
    case 'mouseover':
    case 'pointermove':
    case 'pointerout':
    case 'pointerover':
    case 'scroll':
    case 'toggle':
    case 'touchmove':
    case 'wheel':
    case 'mouseenter':
    case 'mouseleave':
    case 'pointerenter':
    case 'pointerleave':
      return 4;
    case 'message':
      switch (r8()) {
        case pm:
          return 1;
        case m3:
          return 4;
        case Qu:
        case i8:
          return 16;
        case p3:
          return 536870912;
        default:
          return 16;
      }
    default:
      return 16;
  }
}
var Qi = null,
  _m = null,
  Pu = null;
function T3() {
  if (Pu) return Pu;
  var t,
    e = _m,
    n = e.length,
    r,
    i = 'value' in Qi ? Qi.value : Qi.textContent,
    o = i.length;
  for (t = 0; t < n && e[t] === i[t]; t++);
  var a = n - t;
  for (r = 1; r <= a && e[n - r] === i[o - r]; r++);
  return (Pu = i.slice(t, 1 < r ? 1 - r : void 0));
}
function Ou(t) {
  var e = t.keyCode;
  return 'charCode' in t ? ((t = t.charCode), t === 0 && e === 13 && (t = 13)) : (t = e), t === 10 && (t = 13), 32 <= t || t === 13 ? t : 0;
}
function Ql() {
  return !0;
}
function g1() {
  return !1;
}
function xr(t) {
  function e(n, r, i, o, a) {
    (this._reactName = n), (this._targetInst = i), (this.type = r), (this.nativeEvent = o), (this.target = a), (this.currentTarget = null);
    for (var s in t) t.hasOwnProperty(s) && ((n = t[s]), (this[s] = n ? n(o) : o[s]));
    return (this.isDefaultPrevented = (o.defaultPrevented != null ? o.defaultPrevented : o.returnValue === !1) ? Ql : g1), (this.isPropagationStopped = g1), this;
  }
  return (
    mn(e.prototype, {
      preventDefault: function () {
        this.defaultPrevented = !0;
        var n = this.nativeEvent;
        n && (n.preventDefault ? n.preventDefault() : typeof n.returnValue != 'unknown' && (n.returnValue = !1), (this.isDefaultPrevented = Ql));
      },
      stopPropagation: function () {
        var n = this.nativeEvent;
        n && (n.stopPropagation ? n.stopPropagation() : typeof n.cancelBubble != 'unknown' && (n.cancelBubble = !0), (this.isPropagationStopped = Ql));
      },
      persist: function () {},
      isPersistent: Ql,
    }),
    e
  );
}
var rs = {
    eventPhase: 0,
    bubbles: 0,
    cancelable: 0,
    timeStamp: function (t) {
      return t.timeStamp || Date.now();
    },
    defaultPrevented: 0,
    isTrusted: 0,
  },
  Sm = xr(rs),
  Rl = mn({}, rs, { view: 0, detail: 0 }),
  v8 = xr(Rl),
  Bd,
  Ud,
  ys,
  qc = mn({}, Rl, {
    screenX: 0,
    screenY: 0,
    clientX: 0,
    clientY: 0,
    pageX: 0,
    pageY: 0,
    ctrlKey: 0,
    shiftKey: 0,
    altKey: 0,
    metaKey: 0,
    getModifierState: Em,
    button: 0,
    buttons: 0,
    relatedTarget: function (t) {
      return t.relatedTarget === void 0 ? (t.fromElement === t.srcElement ? t.toElement : t.fromElement) : t.relatedTarget;
    },
    movementX: function (t) {
      return 'movementX' in t ? t.movementX : (t !== ys && (ys && t.type === 'mousemove' ? ((Bd = t.screenX - ys.screenX), (Ud = t.screenY - ys.screenY)) : (Ud = Bd = 0), (ys = t)), Bd);
    },
    movementY: function (t) {
      return 'movementY' in t ? t.movementY : Ud;
    },
  }),
  v1 = xr(qc),
  y8 = mn({}, qc, { dataTransfer: 0 }),
  _8 = xr(y8),
  S8 = mn({}, Rl, { relatedTarget: 0 }),
  zd = xr(S8),
  E8 = mn({}, rs, { animationName: 0, elapsedTime: 0, pseudoElement: 0 }),
  b8 = xr(E8),
  x8 = mn({}, rs, {
    clipboardData: function (t) {
      return 'clipboardData' in t ? t.clipboardData : window.clipboardData;
    },
  }),
  T8 = xr(x8),
  w8 = mn({}, rs, { data: 0 }),
  y1 = xr(w8),
  C8 = {
    Esc: 'Escape',
    Spacebar: ' ',
    Left: 'ArrowLeft',
    Up: 'ArrowUp',
    Right: 'ArrowRight',
    Down: 'ArrowDown',
    Del: 'Delete',
    Win: 'OS',
    Menu: 'ContextMenu',
    Apps: 'ContextMenu',
    Scroll: 'ScrollLock',
    MozPrintableKey: 'Unidentified',
  },
  R8 = {
    8: 'Backspace',
    9: 'Tab',
    12: 'Clear',
    13: 'Enter',
    16: 'Shift',
    17: 'Control',
    18: 'Alt',
    19: 'Pause',
    20: 'CapsLock',
    27: 'Escape',
    32: ' ',
    33: 'PageUp',
    34: 'PageDown',
    35: 'End',
    36: 'Home',
    37: 'ArrowLeft',
    38: 'ArrowUp',
    39: 'ArrowRight',
    40: 'ArrowDown',
    45: 'Insert',
    46: 'Delete',
    112: 'F1',
    113: 'F2',
    114: 'F3',
    115: 'F4',
    116: 'F5',
    117: 'F6',
    118: 'F7',
    119: 'F8',
    120: 'F9',
    121: 'F10',
    122: 'F11',
    123: 'F12',
    144: 'NumLock',
    145: 'ScrollLock',
    224: 'Meta',
  },
  A8 = { Alt: 'altKey', Control: 'ctrlKey', Meta: 'metaKey', Shift: 'shiftKey' };
function L8(t) {
  var e = this.nativeEvent;
  return e.getModifierState ? e.getModifierState(t) : (t = A8[t]) ? !!e[t] : !1;
}
function Em() {
  return L8;
}
var I8 = mn({}, Rl, {
    key: function (t) {
      if (t.key) {
        var e = C8[t.key] || t.key;
        if (e !== 'Unidentified') return e;
      }
      return t.type === 'keypress' ? ((t = Ou(t)), t === 13 ? 'Enter' : String.fromCharCode(t)) : t.type === 'keydown' || t.type === 'keyup' ? R8[t.keyCode] || 'Unidentified' : '';
    },
    code: 0,
    location: 0,
    ctrlKey: 0,
    shiftKey: 0,
    altKey: 0,
    metaKey: 0,
    repeat: 0,
    locale: 0,
    getModifierState: Em,
    charCode: function (t) {
      return t.type === 'keypress' ? Ou(t) : 0;
    },
    keyCode: function (t) {
      return t.type === 'keydown' || t.type === 'keyup' ? t.keyCode : 0;
    },
    which: function (t) {
      return t.type === 'keypress' ? Ou(t) : t.type === 'keydown' || t.type === 'keyup' ? t.keyCode : 0;
    },
  }),
  D8 = xr(I8),
  P8 = mn({}, qc, { pointerId: 0, width: 0, height: 0, pressure: 0, tangentialPressure: 0, tiltX: 0, tiltY: 0, twist: 0, pointerType: 0, isPrimary: 0 }),
  _1 = xr(P8),
  O8 = mn({}, Rl, { touches: 0, targetTouches: 0, changedTouches: 0, altKey: 0, metaKey: 0, ctrlKey: 0, shiftKey: 0, getModifierState: Em }),
  k8 = xr(O8),
  M8 = mn({}, rs, { propertyName: 0, elapsedTime: 0, pseudoElement: 0 }),
  F8 = xr(M8),
  N8 = mn({}, qc, {
    deltaX: function (t) {
      return 'deltaX' in t ? t.deltaX : 'wheelDeltaX' in t ? -t.wheelDeltaX : 0;
    },
    deltaY: function (t) {
      return 'deltaY' in t ? t.deltaY : 'wheelDeltaY' in t ? -t.wheelDeltaY : 'wheelDelta' in t ? -t.wheelDelta : 0;
    },
    deltaZ: 0,
    deltaMode: 0,
  }),
  $8 = xr(N8),
  B8 = [9, 13, 27, 32],
  bm = Pi && 'CompositionEvent' in window,
  Ns = null;
Pi && 'documentMode' in document && (Ns = document.documentMode);
var U8 = Pi && 'TextEvent' in window && !Ns,
  w3 = Pi && (!bm || (Ns && 8 < Ns && 11 >= Ns)),
  S1 = String.fromCharCode(32),
  E1 = !1;
function C3(t, e) {
  switch (t) {
    case 'keyup':
      return B8.indexOf(e.keyCode) !== -1;
    case 'keydown':
      return e.keyCode !== 229;
    case 'keypress':
    case 'mousedown':
    case 'focusout':
      return !0;
    default:
      return !1;
  }
}
function R3(t) {
  return (t = t.detail), typeof t == 'object' && 'data' in t ? t.data : null;
}
var va = !1;
function z8(t, e) {
  switch (t) {
    case 'compositionend':
      return R3(e);
    case 'keypress':
      return e.which !== 32 ? null : ((E1 = !0), S1);
    case 'textInput':
      return (t = e.data), t === S1 && E1 ? null : t;
    default:
      return null;
  }
}
function V8(t, e) {
  if (va) return t === 'compositionend' || (!bm && C3(t, e)) ? ((t = T3()), (Pu = _m = Qi = null), (va = !1), t) : null;
  switch (t) {
    case 'paste':
      return null;
    case 'keypress':
      if (!(e.ctrlKey || e.altKey || e.metaKey) || (e.ctrlKey && e.altKey)) {
        if (e.char && 1 < e.char.length) return e.char;
        if (e.which) return String.fromCharCode(e.which);
      }
      return null;
    case 'compositionend':
      return w3 && e.locale !== 'ko' ? null : e.data;
    default:
      return null;
  }
}
var H8 = { color: !0, date: !0, datetime: !0, 'datetime-local': !0, email: !0, month: !0, number: !0, password: !0, range: !0, search: !0, tel: !0, text: !0, time: !0, url: !0, week: !0 };
function b1(t) {
  var e = t && t.nodeName && t.nodeName.toLowerCase();
  return e === 'input' ? !!H8[t.type] : e === 'textarea';
}
function A3(t, e, n, r) {
  o3(r), (e = tc(e, 'onChange')), 0 < e.length && ((n = new Sm('onChange', 'change', null, n, r)), t.push({ event: n, listeners: e }));
}
var $s = null,
  ol = null;
function j8(t) {
  B3(t, 0);
}
function Yc(t) {
  var e = Sa(t);
  if (Z2(e)) return t;
}
function G8(t, e) {
  if (t === 'change') return e;
}
var L3 = !1;
if (Pi) {
  var Vd;
  if (Pi) {
    var Hd = 'oninput' in document;
    if (!Hd) {
      var x1 = document.createElement('div');
      x1.setAttribute('oninput', 'return;'), (Hd = typeof x1.oninput == 'function');
    }
    Vd = Hd;
  } else Vd = !1;
  L3 = Vd && (!document.documentMode || 9 < document.documentMode);
}
function T1() {
  $s && ($s.detachEvent('onpropertychange', I3), (ol = $s = null));
}
function I3(t) {
  if (t.propertyName === 'value' && Yc(ol)) {
    var e = [];
    A3(e, ol, t, mm(t)), u3(j8, e);
  }
}
function W8(t, e, n) {
  t === 'focusin' ? (T1(), ($s = e), (ol = n), $s.attachEvent('onpropertychange', I3)) : t === 'focusout' && T1();
}
function K8(t) {
  if (t === 'selectionchange' || t === 'keyup' || t === 'keydown') return Yc(ol);
}
function q8(t, e) {
  if (t === 'click') return Yc(e);
}
function Y8(t, e) {
  if (t === 'input' || t === 'change') return Yc(e);
}
function X8(t, e) {
  return (t === e && (t !== 0 || 1 / t === 1 / e)) || (t !== t && e !== e);
}
var ti = typeof Object.is == 'function' ? Object.is : X8;
function al(t, e) {
  if (ti(t, e)) return !0;
  if (typeof t != 'object' || t === null || typeof e != 'object' || e === null) return !1;
  var n = Object.keys(t),
    r = Object.keys(e);
  if (n.length !== r.length) return !1;
  for (r = 0; r < n.length; r++) {
    var i = n[r];
    if (!lh.call(e, i) || !ti(t[i], e[i])) return !1;
  }
  return !0;
}
function w1(t) {
  for (; t && t.firstChild; ) t = t.firstChild;
  return t;
}
function C1(t, e) {
  var n = w1(t);
  t = 0;
  for (var r; n; ) {
    if (n.nodeType === 3) {
      if (((r = t + n.textContent.length), t <= e && r >= e)) return { node: n, offset: e - t };
      t = r;
    }
    e: {
      for (; n; ) {
        if (n.nextSibling) {
          n = n.nextSibling;
          break e;
        }
        n = n.parentNode;
      }
      n = void 0;
    }
    n = w1(n);
  }
}
function D3(t, e) {
  return t && e
    ? t === e
      ? !0
      : t && t.nodeType === 3
      ? !1
      : e && e.nodeType === 3
      ? D3(t, e.parentNode)
      : 'contains' in t
      ? t.contains(e)
      : t.compareDocumentPosition
      ? !!(t.compareDocumentPosition(e) & 16)
      : !1
    : !1;
}
function P3() {
  for (var t = window, e = qu(); e instanceof t.HTMLIFrameElement; ) {
    try {
      var n = typeof e.contentWindow.location.href == 'string';
    } catch {
      n = !1;
    }
    if (n) t = e.contentWindow;
    else break;
    e = qu(t.document);
  }
  return e;
}
function xm(t) {
  var e = t && t.nodeName && t.nodeName.toLowerCase();
  return e && ((e === 'input' && (t.type === 'text' || t.type === 'search' || t.type === 'tel' || t.type === 'url' || t.type === 'password')) || e === 'textarea' || t.contentEditable === 'true');
}
function Q8(t) {
  var e = P3(),
    n = t.focusedElem,
    r = t.selectionRange;
  if (e !== n && n && n.ownerDocument && D3(n.ownerDocument.documentElement, n)) {
    if (r !== null && xm(n)) {
      if (((e = r.start), (t = r.end), t === void 0 && (t = e), 'selectionStart' in n)) (n.selectionStart = e), (n.selectionEnd = Math.min(t, n.value.length));
      else if (((t = ((e = n.ownerDocument || document) && e.defaultView) || window), t.getSelection)) {
        t = t.getSelection();
        var i = n.textContent.length,
          o = Math.min(r.start, i);
        (r = r.end === void 0 ? o : Math.min(r.end, i)), !t.extend && o > r && ((i = r), (r = o), (o = i)), (i = C1(n, o));
        var a = C1(n, r);
        i &&
          a &&
          (t.rangeCount !== 1 || t.anchorNode !== i.node || t.anchorOffset !== i.offset || t.focusNode !== a.node || t.focusOffset !== a.offset) &&
          ((e = e.createRange()), e.setStart(i.node, i.offset), t.removeAllRanges(), o > r ? (t.addRange(e), t.extend(a.node, a.offset)) : (e.setEnd(a.node, a.offset), t.addRange(e)));
      }
    }
    for (e = [], t = n; (t = t.parentNode); ) t.nodeType === 1 && e.push({ element: t, left: t.scrollLeft, top: t.scrollTop });
    for (typeof n.focus == 'function' && n.focus(), n = 0; n < e.length; n++) (t = e[n]), (t.element.scrollLeft = t.left), (t.element.scrollTop = t.top);
  }
}
var Z8 = Pi && 'documentMode' in document && 11 >= document.documentMode,
  ya = null,
  Rh = null,
  Bs = null,
  Ah = !1;
function R1(t, e, n) {
  var r = n.window === n ? n.document : n.nodeType === 9 ? n : n.ownerDocument;
  Ah ||
    ya == null ||
    ya !== qu(r) ||
    ((r = ya),
    'selectionStart' in r && xm(r)
      ? (r = { start: r.selectionStart, end: r.selectionEnd })
      : ((r = ((r.ownerDocument && r.ownerDocument.defaultView) || window).getSelection()),
        (r = { anchorNode: r.anchorNode, anchorOffset: r.anchorOffset, focusNode: r.focusNode, focusOffset: r.focusOffset })),
    (Bs && al(Bs, r)) || ((Bs = r), (r = tc(Rh, 'onSelect')), 0 < r.length && ((e = new Sm('onSelect', 'select', null, e, n)), t.push({ event: e, listeners: r }), (e.target = ya))));
}
function Zl(t, e) {
  var n = {};
  return (n[t.toLowerCase()] = e.toLowerCase()), (n['Webkit' + t] = 'webkit' + e), (n['Moz' + t] = 'moz' + e), n;
}
var _a = {
    animationend: Zl('Animation', 'AnimationEnd'),
    animationiteration: Zl('Animation', 'AnimationIteration'),
    animationstart: Zl('Animation', 'AnimationStart'),
    transitionend: Zl('Transition', 'TransitionEnd'),
  },
  jd = {},
  O3 = {};
Pi &&
  ((O3 = document.createElement('div').style),
  'AnimationEvent' in window || (delete _a.animationend.animation, delete _a.animationiteration.animation, delete _a.animationstart.animation),
  'TransitionEvent' in window || delete _a.transitionend.transition);
function Xc(t) {
  if (jd[t]) return jd[t];
  if (!_a[t]) return t;
  var e = _a[t],
    n;
  for (n in e) if (e.hasOwnProperty(n) && n in O3) return (jd[t] = e[n]);
  return t;
}
var k3 = Xc('animationend'),
  M3 = Xc('animationiteration'),
  F3 = Xc('animationstart'),
  N3 = Xc('transitionend'),
  $3 = new Map(),
  A1 =
    'abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel'.split(
      ' ',
    );
function fo(t, e) {
  $3.set(t, e), Ho(e, [t]);
}
for (var Gd = 0; Gd < A1.length; Gd++) {
  var Wd = A1[Gd],
    J8 = Wd.toLowerCase(),
    eS = Wd[0].toUpperCase() + Wd.slice(1);
  fo(J8, 'on' + eS);
}
fo(k3, 'onAnimationEnd');
fo(M3, 'onAnimationIteration');
fo(F3, 'onAnimationStart');
fo('dblclick', 'onDoubleClick');
fo('focusin', 'onFocus');
fo('focusout', 'onBlur');
fo(N3, 'onTransitionEnd');
ja('onMouseEnter', ['mouseout', 'mouseover']);
ja('onMouseLeave', ['mouseout', 'mouseover']);
ja('onPointerEnter', ['pointerout', 'pointerover']);
ja('onPointerLeave', ['pointerout', 'pointerover']);
Ho('onChange', 'change click focusin focusout input keydown keyup selectionchange'.split(' '));
Ho('onSelect', 'focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange'.split(' '));
Ho('onBeforeInput', ['compositionend', 'keypress', 'textInput', 'paste']);
Ho('onCompositionEnd', 'compositionend focusout keydown keypress keyup mousedown'.split(' '));
Ho('onCompositionStart', 'compositionstart focusout keydown keypress keyup mousedown'.split(' '));
Ho('onCompositionUpdate', 'compositionupdate focusout keydown keypress keyup mousedown'.split(' '));
var Ps =
    'abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting'.split(
      ' ',
    ),
  tS = new Set('cancel close invalid load scroll toggle'.split(' ').concat(Ps));
function L1(t, e, n) {
  var r = t.type || 'unknown-event';
  (t.currentTarget = n), J5(r, e, void 0, t), (t.currentTarget = null);
}
function B3(t, e) {
  e = (e & 4) !== 0;
  for (var n = 0; n < t.length; n++) {
    var r = t[n],
      i = r.event;
    r = r.listeners;
    e: {
      var o = void 0;
      if (e)
        for (var a = r.length - 1; 0 <= a; a--) {
          var s = r[a],
            l = s.instance,
            u = s.currentTarget;
          if (((s = s.listener), l !== o && i.isPropagationStopped())) break e;
          L1(i, s, u), (o = l);
        }
      else
        for (a = 0; a < r.length; a++) {
          if (((s = r[a]), (l = s.instance), (u = s.currentTarget), (s = s.listener), l !== o && i.isPropagationStopped())) break e;
          L1(i, s, u), (o = l);
        }
    }
  }
  if (Xu) throw ((t = xh), (Xu = !1), (xh = null), t);
}
function rn(t, e) {
  var n = e[Oh];
  n === void 0 && (n = e[Oh] = new Set());
  var r = t + '__bubble';
  n.has(r) || (U3(e, t, 2, !1), n.add(r));
}
function Kd(t, e, n) {
  var r = 0;
  e && (r |= 4), U3(n, t, r, e);
}
var Jl = '_reactListening' + Math.random().toString(36).slice(2);
function sl(t) {
  if (!t[Jl]) {
    (t[Jl] = !0),
      K2.forEach(function (n) {
        n !== 'selectionchange' && (tS.has(n) || Kd(n, !1, t), Kd(n, !0, t));
      });
    var e = t.nodeType === 9 ? t : t.ownerDocument;
    e === null || e[Jl] || ((e[Jl] = !0), Kd('selectionchange', !1, e));
  }
}
function U3(t, e, n, r) {
  switch (x3(e)) {
    case 1:
      var i = p8;
      break;
    case 4:
      i = g8;
      break;
    default:
      i = ym;
  }
  (n = i.bind(null, e, n, t)),
    (i = void 0),
    !bh || (e !== 'touchstart' && e !== 'touchmove' && e !== 'wheel') || (i = !0),
    r ? (i !== void 0 ? t.addEventListener(e, n, { capture: !0, passive: i }) : t.addEventListener(e, n, !0)) : i !== void 0 ? t.addEventListener(e, n, { passive: i }) : t.addEventListener(e, n, !1);
}
function qd(t, e, n, r, i) {
  var o = r;
  if (!(e & 1) && !(e & 2) && r !== null)
    e: for (;;) {
      if (r === null) return;
      var a = r.tag;
      if (a === 3 || a === 4) {
        var s = r.stateNode.containerInfo;
        if (s === i || (s.nodeType === 8 && s.parentNode === i)) break;
        if (a === 4)
          for (a = r.return; a !== null; ) {
            var l = a.tag;
            if ((l === 3 || l === 4) && ((l = a.stateNode.containerInfo), l === i || (l.nodeType === 8 && l.parentNode === i))) return;
            a = a.return;
          }
        for (; s !== null; ) {
          if (((a = Co(s)), a === null)) return;
          if (((l = a.tag), l === 5 || l === 6)) {
            r = o = a;
            continue e;
          }
          s = s.parentNode;
        }
      }
      r = r.return;
    }
  u3(function () {
    var u = o,
      c = mm(n),
      d = [];
    e: {
      var f = $3.get(t);
      if (f !== void 0) {
        var h = Sm,
          m = t;
        switch (t) {
          case 'keypress':
            if (Ou(n) === 0) break e;
          case 'keydown':
          case 'keyup':
            h = D8;
            break;
          case 'focusin':
            (m = 'focus'), (h = zd);
            break;
          case 'focusout':
            (m = 'blur'), (h = zd);
            break;
          case 'beforeblur':
          case 'afterblur':
            h = zd;
            break;
          case 'click':
            if (n.button === 2) break e;
          case 'auxclick':
          case 'dblclick':
          case 'mousedown':
          case 'mousemove':
          case 'mouseup':
          case 'mouseout':
          case 'mouseover':
          case 'contextmenu':
            h = v1;
            break;
          case 'drag':
          case 'dragend':
          case 'dragenter':
          case 'dragexit':
          case 'dragleave':
          case 'dragover':
          case 'dragstart':
          case 'drop':
            h = _8;
            break;
          case 'touchcancel':
          case 'touchend':
          case 'touchmove':
          case 'touchstart':
            h = k8;
            break;
          case k3:
          case M3:
          case F3:
            h = b8;
            break;
          case N3:
            h = F8;
            break;
          case 'scroll':
            h = v8;
            break;
          case 'wheel':
            h = $8;
            break;
          case 'copy':
          case 'cut':
          case 'paste':
            h = T8;
            break;
          case 'gotpointercapture':
          case 'lostpointercapture':
          case 'pointercancel':
          case 'pointerdown':
          case 'pointermove':
          case 'pointerout':
          case 'pointerover':
          case 'pointerup':
            h = _1;
        }
        var g = (e & 4) !== 0,
          b = !g && t === 'scroll',
          _ = g ? (f !== null ? f + 'Capture' : null) : f;
        g = [];
        for (var y = u, T; y !== null; ) {
          T = y;
          var w = T.stateNode;
          if ((T.tag === 5 && w !== null && ((T = w), _ !== null && ((w = tl(y, _)), w != null && g.push(ll(y, w, T)))), b)) break;
          y = y.return;
        }
        0 < g.length && ((f = new h(f, m, null, n, c)), d.push({ event: f, listeners: g }));
      }
    }
    if (!(e & 7)) {
      e: {
        if (((f = t === 'mouseover' || t === 'pointerover'), (h = t === 'mouseout' || t === 'pointerout'), f && n !== Sh && (m = n.relatedTarget || n.fromElement) && (Co(m) || m[Oi]))) break e;
        if (
          (h || f) &&
          ((f = c.window === c ? c : (f = c.ownerDocument) ? f.defaultView || f.parentWindow : window),
          h ? ((m = n.relatedTarget || n.toElement), (h = u), (m = m ? Co(m) : null), m !== null && ((b = jo(m)), m !== b || (m.tag !== 5 && m.tag !== 6)) && (m = null)) : ((h = null), (m = u)),
          h !== m)
        ) {
          if (
            ((g = v1),
            (w = 'onMouseLeave'),
            (_ = 'onMouseEnter'),
            (y = 'mouse'),
            (t === 'pointerout' || t === 'pointerover') && ((g = _1), (w = 'onPointerLeave'), (_ = 'onPointerEnter'), (y = 'pointer')),
            (b = h == null ? f : Sa(h)),
            (T = m == null ? f : Sa(m)),
            (f = new g(w, y + 'leave', h, n, c)),
            (f.target = b),
            (f.relatedTarget = T),
            (w = null),
            Co(c) === u && ((g = new g(_, y + 'enter', m, n, c)), (g.target = T), (g.relatedTarget = b), (w = g)),
            (b = w),
            h && m)
          )
            t: {
              for (g = h, _ = m, y = 0, T = g; T; T = Zo(T)) y++;
              for (T = 0, w = _; w; w = Zo(w)) T++;
              for (; 0 < y - T; ) (g = Zo(g)), y--;
              for (; 0 < T - y; ) (_ = Zo(_)), T--;
              for (; y--; ) {
                if (g === _ || (_ !== null && g === _.alternate)) break t;
                (g = Zo(g)), (_ = Zo(_));
              }
              g = null;
            }
          else g = null;
          h !== null && I1(d, f, h, g, !1), m !== null && b !== null && I1(d, b, m, g, !0);
        }
      }
      e: {
        if (((f = u ? Sa(u) : window), (h = f.nodeName && f.nodeName.toLowerCase()), h === 'select' || (h === 'input' && f.type === 'file'))) var I = G8;
        else if (b1(f))
          if (L3) I = Y8;
          else {
            I = K8;
            var O = W8;
          }
        else (h = f.nodeName) && h.toLowerCase() === 'input' && (f.type === 'checkbox' || f.type === 'radio') && (I = q8);
        if (I && (I = I(t, u))) {
          A3(d, I, n, c);
          break e;
        }
        O && O(t, f, u), t === 'focusout' && (O = f._wrapperState) && O.controlled && f.type === 'number' && ph(f, 'number', f.value);
      }
      switch (((O = u ? Sa(u) : window), t)) {
        case 'focusin':
          (b1(O) || O.contentEditable === 'true') && ((ya = O), (Rh = u), (Bs = null));
          break;
        case 'focusout':
          Bs = Rh = ya = null;
          break;
        case 'mousedown':
          Ah = !0;
          break;
        case 'contextmenu':
        case 'mouseup':
        case 'dragend':
          (Ah = !1), R1(d, n, c);
          break;
        case 'selectionchange':
          if (Z8) break;
        case 'keydown':
        case 'keyup':
          R1(d, n, c);
      }
      var x;
      if (bm)
        e: {
          switch (t) {
            case 'compositionstart':
              var L = 'onCompositionStart';
              break e;
            case 'compositionend':
              L = 'onCompositionEnd';
              break e;
            case 'compositionupdate':
              L = 'onCompositionUpdate';
              break e;
          }
          L = void 0;
        }
      else va ? C3(t, n) && (L = 'onCompositionEnd') : t === 'keydown' && n.keyCode === 229 && (L = 'onCompositionStart');
      L &&
        (w3 && n.locale !== 'ko' && (va || L !== 'onCompositionStart' ? L === 'onCompositionEnd' && va && (x = T3()) : ((Qi = c), (_m = 'value' in Qi ? Qi.value : Qi.textContent), (va = !0))),
        (O = tc(u, L)),
        0 < O.length && ((L = new y1(L, t, null, n, c)), d.push({ event: L, listeners: O }), x ? (L.data = x) : ((x = R3(n)), x !== null && (L.data = x)))),
        (x = U8 ? z8(t, n) : V8(t, n)) && ((u = tc(u, 'onBeforeInput')), 0 < u.length && ((c = new y1('onBeforeInput', 'beforeinput', null, n, c)), d.push({ event: c, listeners: u }), (c.data = x)));
    }
    B3(d, e);
  });
}
function ll(t, e, n) {
  return { instance: t, listener: e, currentTarget: n };
}
function tc(t, e) {
  for (var n = e + 'Capture', r = []; t !== null; ) {
    var i = t,
      o = i.stateNode;
    i.tag === 5 && o !== null && ((i = o), (o = tl(t, n)), o != null && r.unshift(ll(t, o, i)), (o = tl(t, e)), o != null && r.push(ll(t, o, i))), (t = t.return);
  }
  return r;
}
function Zo(t) {
  if (t === null) return null;
  do t = t.return;
  while (t && t.tag !== 5);
  return t || null;
}
function I1(t, e, n, r, i) {
  for (var o = e._reactName, a = []; n !== null && n !== r; ) {
    var s = n,
      l = s.alternate,
      u = s.stateNode;
    if (l !== null && l === r) break;
    s.tag === 5 && u !== null && ((s = u), i ? ((l = tl(n, o)), l != null && a.unshift(ll(n, l, s))) : i || ((l = tl(n, o)), l != null && a.push(ll(n, l, s)))), (n = n.return);
  }
  a.length !== 0 && t.push({ event: e, listeners: a });
}
var nS = /\r\n?/g,
  rS = /\u0000|\uFFFD/g;
function D1(t) {
  return (typeof t == 'string' ? t : '' + t)
    .replace(
      nS,
      `
`,
    )
    .replace(rS, '');
}
function eu(t, e, n) {
  if (((e = D1(e)), D1(t) !== e && n)) throw Error(be(425));
}
function nc() {}
var Lh = null,
  Ih = null;
function Dh(t, e) {
  return (
    t === 'textarea' ||
    t === 'noscript' ||
    typeof e.children == 'string' ||
    typeof e.children == 'number' ||
    (typeof e.dangerouslySetInnerHTML == 'object' && e.dangerouslySetInnerHTML !== null && e.dangerouslySetInnerHTML.__html != null)
  );
}
var Ph = typeof setTimeout == 'function' ? setTimeout : void 0,
  iS = typeof clearTimeout == 'function' ? clearTimeout : void 0,
  P1 = typeof Promise == 'function' ? Promise : void 0,
  oS =
    typeof queueMicrotask == 'function'
      ? queueMicrotask
      : typeof P1 < 'u'
      ? function (t) {
          return P1.resolve(null).then(t).catch(aS);
        }
      : Ph;
function aS(t) {
  setTimeout(function () {
    throw t;
  });
}
function Yd(t, e) {
  var n = e,
    r = 0;
  do {
    var i = n.nextSibling;
    if ((t.removeChild(n), i && i.nodeType === 8))
      if (((n = i.data), n === '/$')) {
        if (r === 0) {
          t.removeChild(i), il(e);
          return;
        }
        r--;
      } else (n !== '$' && n !== '$?' && n !== '$!') || r++;
    n = i;
  } while (n);
  il(e);
}
function io(t) {
  for (; t != null; t = t.nextSibling) {
    var e = t.nodeType;
    if (e === 1 || e === 3) break;
    if (e === 8) {
      if (((e = t.data), e === '$' || e === '$!' || e === '$?')) break;
      if (e === '/$') return null;
    }
  }
  return t;
}
function O1(t) {
  t = t.previousSibling;
  for (var e = 0; t; ) {
    if (t.nodeType === 8) {
      var n = t.data;
      if (n === '$' || n === '$!' || n === '$?') {
        if (e === 0) return t;
        e--;
      } else n === '/$' && e++;
    }
    t = t.previousSibling;
  }
  return null;
}
var is = Math.random().toString(36).slice(2),
  ci = '__reactFiber$' + is,
  ul = '__reactProps$' + is,
  Oi = '__reactContainer$' + is,
  Oh = '__reactEvents$' + is,
  sS = '__reactListeners$' + is,
  lS = '__reactHandles$' + is;
function Co(t) {
  var e = t[ci];
  if (e) return e;
  for (var n = t.parentNode; n; ) {
    if ((e = n[Oi] || n[ci])) {
      if (((n = e.alternate), e.child !== null || (n !== null && n.child !== null)))
        for (t = O1(t); t !== null; ) {
          if ((n = t[ci])) return n;
          t = O1(t);
        }
      return e;
    }
    (t = n), (n = t.parentNode);
  }
  return null;
}
function Al(t) {
  return (t = t[ci] || t[Oi]), !t || (t.tag !== 5 && t.tag !== 6 && t.tag !== 13 && t.tag !== 3) ? null : t;
}
function Sa(t) {
  if (t.tag === 5 || t.tag === 6) return t.stateNode;
  throw Error(be(33));
}
function Qc(t) {
  return t[ul] || null;
}
var kh = [],
  Ea = -1;
function ho(t) {
  return { current: t };
}
function an(t) {
  0 > Ea || ((t.current = kh[Ea]), (kh[Ea] = null), Ea--);
}
function en(t, e) {
  Ea++, (kh[Ea] = t.current), (t.current = e);
}
var co = {},
  Yn = ho(co),
  ar = ho(!1),
  Fo = co;
function Ga(t, e) {
  var n = t.type.contextTypes;
  if (!n) return co;
  var r = t.stateNode;
  if (r && r.__reactInternalMemoizedUnmaskedChildContext === e) return r.__reactInternalMemoizedMaskedChildContext;
  var i = {},
    o;
  for (o in n) i[o] = e[o];
  return r && ((t = t.stateNode), (t.__reactInternalMemoizedUnmaskedChildContext = e), (t.__reactInternalMemoizedMaskedChildContext = i)), i;
}
function sr(t) {
  return (t = t.childContextTypes), t != null;
}
function rc() {
  an(ar), an(Yn);
}
function k1(t, e, n) {
  if (Yn.current !== co) throw Error(be(168));
  en(Yn, e), en(ar, n);
}
function z3(t, e, n) {
  var r = t.stateNode;
  if (((e = e.childContextTypes), typeof r.getChildContext != 'function')) return n;
  r = r.getChildContext();
  for (var i in r) if (!(i in e)) throw Error(be(108, W5(t) || 'Unknown', i));
  return mn({}, n, r);
}
function ic(t) {
  return (t = ((t = t.stateNode) && t.__reactInternalMemoizedMergedChildContext) || co), (Fo = Yn.current), en(Yn, t), en(ar, ar.current), !0;
}
function M1(t, e, n) {
  var r = t.stateNode;
  if (!r) throw Error(be(169));
  n ? ((t = z3(t, e, Fo)), (r.__reactInternalMemoizedMergedChildContext = t), an(ar), an(Yn), en(Yn, t)) : an(ar), en(ar, n);
}
var wi = null,
  Zc = !1,
  Xd = !1;
function V3(t) {
  wi === null ? (wi = [t]) : wi.push(t);
}
function uS(t) {
  (Zc = !0), V3(t);
}
function mo() {
  if (!Xd && wi !== null) {
    Xd = !0;
    var t = 0,
      e = Vt;
    try {
      var n = wi;
      for (Vt = 1; t < n.length; t++) {
        var r = n[t];
        do r = r(!0);
        while (r !== null);
      }
      (wi = null), (Zc = !1);
    } catch (i) {
      throw (wi !== null && (wi = wi.slice(t + 1)), h3(pm, mo), i);
    } finally {
      (Vt = e), (Xd = !1);
    }
  }
  return null;
}
var ba = [],
  xa = 0,
  oc = null,
  ac = 0,
  Ir = [],
  Dr = 0,
  No = null,
  Ci = 1,
  Ri = '';
function Eo(t, e) {
  (ba[xa++] = ac), (ba[xa++] = oc), (oc = t), (ac = e);
}
function H3(t, e, n) {
  (Ir[Dr++] = Ci), (Ir[Dr++] = Ri), (Ir[Dr++] = No), (No = t);
  var r = Ci;
  t = Ri;
  var i = 32 - Zr(r) - 1;
  (r &= ~(1 << i)), (n += 1);
  var o = 32 - Zr(e) + i;
  if (30 < o) {
    var a = i - (i % 5);
    (o = (r & ((1 << a) - 1)).toString(32)), (r >>= a), (i -= a), (Ci = (1 << (32 - Zr(e) + i)) | (n << i) | r), (Ri = o + t);
  } else (Ci = (1 << o) | (n << i) | r), (Ri = t);
}
function Tm(t) {
  t.return !== null && (Eo(t, 1), H3(t, 1, 0));
}
function wm(t) {
  for (; t === oc; ) (oc = ba[--xa]), (ba[xa] = null), (ac = ba[--xa]), (ba[xa] = null);
  for (; t === No; ) (No = Ir[--Dr]), (Ir[Dr] = null), (Ri = Ir[--Dr]), (Ir[Dr] = null), (Ci = Ir[--Dr]), (Ir[Dr] = null);
}
var yr = null,
  gr = null,
  ln = !1,
  qr = null;
function j3(t, e) {
  var n = Pr(5, null, null, 0);
  (n.elementType = 'DELETED'), (n.stateNode = e), (n.return = t), (e = t.deletions), e === null ? ((t.deletions = [n]), (t.flags |= 16)) : e.push(n);
}
function F1(t, e) {
  switch (t.tag) {
    case 5:
      var n = t.type;
      return (e = e.nodeType !== 1 || n.toLowerCase() !== e.nodeName.toLowerCase() ? null : e), e !== null ? ((t.stateNode = e), (yr = t), (gr = io(e.firstChild)), !0) : !1;
    case 6:
      return (e = t.pendingProps === '' || e.nodeType !== 3 ? null : e), e !== null ? ((t.stateNode = e), (yr = t), (gr = null), !0) : !1;
    case 13:
      return (
        (e = e.nodeType !== 8 ? null : e),
        e !== null
          ? ((n = No !== null ? { id: Ci, overflow: Ri } : null),
            (t.memoizedState = { dehydrated: e, treeContext: n, retryLane: 1073741824 }),
            (n = Pr(18, null, null, 0)),
            (n.stateNode = e),
            (n.return = t),
            (t.child = n),
            (yr = t),
            (gr = null),
            !0)
          : !1
      );
    default:
      return !1;
  }
}
function Mh(t) {
  return (t.mode & 1) !== 0 && (t.flags & 128) === 0;
}
function Fh(t) {
  if (ln) {
    var e = gr;
    if (e) {
      var n = e;
      if (!F1(t, e)) {
        if (Mh(t)) throw Error(be(418));
        e = io(n.nextSibling);
        var r = yr;
        e && F1(t, e) ? j3(r, n) : ((t.flags = (t.flags & -4097) | 2), (ln = !1), (yr = t));
      }
    } else {
      if (Mh(t)) throw Error(be(418));
      (t.flags = (t.flags & -4097) | 2), (ln = !1), (yr = t);
    }
  }
}
function N1(t) {
  for (t = t.return; t !== null && t.tag !== 5 && t.tag !== 3 && t.tag !== 13; ) t = t.return;
  yr = t;
}
function tu(t) {
  if (t !== yr) return !1;
  if (!ln) return N1(t), (ln = !0), !1;
  var e;
  if (((e = t.tag !== 3) && !(e = t.tag !== 5) && ((e = t.type), (e = e !== 'head' && e !== 'body' && !Dh(t.type, t.memoizedProps))), e && (e = gr))) {
    if (Mh(t)) throw (G3(), Error(be(418)));
    for (; e; ) j3(t, e), (e = io(e.nextSibling));
  }
  if ((N1(t), t.tag === 13)) {
    if (((t = t.memoizedState), (t = t !== null ? t.dehydrated : null), !t)) throw Error(be(317));
    e: {
      for (t = t.nextSibling, e = 0; t; ) {
        if (t.nodeType === 8) {
          var n = t.data;
          if (n === '/$') {
            if (e === 0) {
              gr = io(t.nextSibling);
              break e;
            }
            e--;
          } else (n !== '$' && n !== '$!' && n !== '$?') || e++;
        }
        t = t.nextSibling;
      }
      gr = null;
    }
  } else gr = yr ? io(t.stateNode.nextSibling) : null;
  return !0;
}
function G3() {
  for (var t = gr; t; ) t = io(t.nextSibling);
}
function Wa() {
  (gr = yr = null), (ln = !1);
}
function Cm(t) {
  qr === null ? (qr = [t]) : qr.push(t);
}
var cS = Bi.ReactCurrentBatchConfig;
function jr(t, e) {
  if (t && t.defaultProps) {
    (e = mn({}, e)), (t = t.defaultProps);
    for (var n in t) e[n] === void 0 && (e[n] = t[n]);
    return e;
  }
  return e;
}
var sc = ho(null),
  lc = null,
  Ta = null,
  Rm = null;
function Am() {
  Rm = Ta = lc = null;
}
function Lm(t) {
  var e = sc.current;
  an(sc), (t._currentValue = e);
}
function Nh(t, e, n) {
  for (; t !== null; ) {
    var r = t.alternate;
    if (((t.childLanes & e) !== e ? ((t.childLanes |= e), r !== null && (r.childLanes |= e)) : r !== null && (r.childLanes & e) !== e && (r.childLanes |= e), t === n)) break;
    t = t.return;
  }
}
function Na(t, e) {
  (lc = t), (Rm = Ta = null), (t = t.dependencies), t !== null && t.firstContext !== null && (t.lanes & e && (or = !0), (t.firstContext = null));
}
function Mr(t) {
  var e = t._currentValue;
  if (Rm !== t)
    if (((t = { context: t, memoizedValue: e, next: null }), Ta === null)) {
      if (lc === null) throw Error(be(308));
      (Ta = t), (lc.dependencies = { lanes: 0, firstContext: t });
    } else Ta = Ta.next = t;
  return e;
}
var Ro = null;
function Im(t) {
  Ro === null ? (Ro = [t]) : Ro.push(t);
}
function W3(t, e, n, r) {
  var i = e.interleaved;
  return i === null ? ((n.next = n), Im(e)) : ((n.next = i.next), (i.next = n)), (e.interleaved = n), ki(t, r);
}
function ki(t, e) {
  t.lanes |= e;
  var n = t.alternate;
  for (n !== null && (n.lanes |= e), n = t, t = t.return; t !== null; ) (t.childLanes |= e), (n = t.alternate), n !== null && (n.childLanes |= e), (n = t), (t = t.return);
  return n.tag === 3 ? n.stateNode : null;
}
var Gi = !1;
function Dm(t) {
  t.updateQueue = { baseState: t.memoizedState, firstBaseUpdate: null, lastBaseUpdate: null, shared: { pending: null, interleaved: null, lanes: 0 }, effects: null };
}
function K3(t, e) {
  (t = t.updateQueue), e.updateQueue === t && (e.updateQueue = { baseState: t.baseState, firstBaseUpdate: t.firstBaseUpdate, lastBaseUpdate: t.lastBaseUpdate, shared: t.shared, effects: t.effects });
}
function Ii(t, e) {
  return { eventTime: t, lane: e, tag: 0, payload: null, callback: null, next: null };
}
function oo(t, e, n) {
  var r = t.updateQueue;
  if (r === null) return null;
  if (((r = r.shared), Pt & 2)) {
    var i = r.pending;
    return i === null ? (e.next = e) : ((e.next = i.next), (i.next = e)), (r.pending = e), ki(t, n);
  }
  return (i = r.interleaved), i === null ? ((e.next = e), Im(r)) : ((e.next = i.next), (i.next = e)), (r.interleaved = e), ki(t, n);
}
function ku(t, e, n) {
  if (((e = e.updateQueue), e !== null && ((e = e.shared), (n & 4194240) !== 0))) {
    var r = e.lanes;
    (r &= t.pendingLanes), (n |= r), (e.lanes = n), gm(t, n);
  }
}
function $1(t, e) {
  var n = t.updateQueue,
    r = t.alternate;
  if (r !== null && ((r = r.updateQueue), n === r)) {
    var i = null,
      o = null;
    if (((n = n.firstBaseUpdate), n !== null)) {
      do {
        var a = { eventTime: n.eventTime, lane: n.lane, tag: n.tag, payload: n.payload, callback: n.callback, next: null };
        o === null ? (i = o = a) : (o = o.next = a), (n = n.next);
      } while (n !== null);
      o === null ? (i = o = e) : (o = o.next = e);
    } else i = o = e;
    (n = { baseState: r.baseState, firstBaseUpdate: i, lastBaseUpdate: o, shared: r.shared, effects: r.effects }), (t.updateQueue = n);
    return;
  }
  (t = n.lastBaseUpdate), t === null ? (n.firstBaseUpdate = e) : (t.next = e), (n.lastBaseUpdate = e);
}
function uc(t, e, n, r) {
  var i = t.updateQueue;
  Gi = !1;
  var o = i.firstBaseUpdate,
    a = i.lastBaseUpdate,
    s = i.shared.pending;
  if (s !== null) {
    i.shared.pending = null;
    var l = s,
      u = l.next;
    (l.next = null), a === null ? (o = u) : (a.next = u), (a = l);
    var c = t.alternate;
    c !== null && ((c = c.updateQueue), (s = c.lastBaseUpdate), s !== a && (s === null ? (c.firstBaseUpdate = u) : (s.next = u), (c.lastBaseUpdate = l)));
  }
  if (o !== null) {
    var d = i.baseState;
    (a = 0), (c = u = l = null), (s = o);
    do {
      var f = s.lane,
        h = s.eventTime;
      if ((r & f) === f) {
        c !== null && (c = c.next = { eventTime: h, lane: 0, tag: s.tag, payload: s.payload, callback: s.callback, next: null });
        e: {
          var m = t,
            g = s;
          switch (((f = e), (h = n), g.tag)) {
            case 1:
              if (((m = g.payload), typeof m == 'function')) {
                d = m.call(h, d, f);
                break e;
              }
              d = m;
              break e;
            case 3:
              m.flags = (m.flags & -65537) | 128;
            case 0:
              if (((m = g.payload), (f = typeof m == 'function' ? m.call(h, d, f) : m), f == null)) break e;
              d = mn({}, d, f);
              break e;
            case 2:
              Gi = !0;
          }
        }
        s.callback !== null && s.lane !== 0 && ((t.flags |= 64), (f = i.effects), f === null ? (i.effects = [s]) : f.push(s));
      } else (h = { eventTime: h, lane: f, tag: s.tag, payload: s.payload, callback: s.callback, next: null }), c === null ? ((u = c = h), (l = d)) : (c = c.next = h), (a |= f);
      if (((s = s.next), s === null)) {
        if (((s = i.shared.pending), s === null)) break;
        (f = s), (s = f.next), (f.next = null), (i.lastBaseUpdate = f), (i.shared.pending = null);
      }
    } while (1);
    if ((c === null && (l = d), (i.baseState = l), (i.firstBaseUpdate = u), (i.lastBaseUpdate = c), (e = i.shared.interleaved), e !== null)) {
      i = e;
      do (a |= i.lane), (i = i.next);
      while (i !== e);
    } else o === null && (i.shared.lanes = 0);
    (Bo |= a), (t.lanes = a), (t.memoizedState = d);
  }
}
function B1(t, e, n) {
  if (((t = e.effects), (e.effects = null), t !== null))
    for (e = 0; e < t.length; e++) {
      var r = t[e],
        i = r.callback;
      if (i !== null) {
        if (((r.callback = null), (r = n), typeof i != 'function')) throw Error(be(191, i));
        i.call(r);
      }
    }
}
var q3 = new W2.Component().refs;
function $h(t, e, n, r) {
  (e = t.memoizedState), (n = n(r, e)), (n = n == null ? e : mn({}, e, n)), (t.memoizedState = n), t.lanes === 0 && (t.updateQueue.baseState = n);
}
var Jc = {
  isMounted: function (t) {
    return (t = t._reactInternals) ? jo(t) === t : !1;
  },
  enqueueSetState: function (t, e, n) {
    t = t._reactInternals;
    var r = Zn(),
      i = so(t),
      o = Ii(r, i);
    (o.payload = e), n != null && (o.callback = n), (e = oo(t, o, i)), e !== null && (Jr(e, t, i, r), ku(e, t, i));
  },
  enqueueReplaceState: function (t, e, n) {
    t = t._reactInternals;
    var r = Zn(),
      i = so(t),
      o = Ii(r, i);
    (o.tag = 1), (o.payload = e), n != null && (o.callback = n), (e = oo(t, o, i)), e !== null && (Jr(e, t, i, r), ku(e, t, i));
  },
  enqueueForceUpdate: function (t, e) {
    t = t._reactInternals;
    var n = Zn(),
      r = so(t),
      i = Ii(n, r);
    (i.tag = 2), e != null && (i.callback = e), (e = oo(t, i, r)), e !== null && (Jr(e, t, r, n), ku(e, t, r));
  },
};
function U1(t, e, n, r, i, o, a) {
  return (t = t.stateNode), typeof t.shouldComponentUpdate == 'function' ? t.shouldComponentUpdate(r, o, a) : e.prototype && e.prototype.isPureReactComponent ? !al(n, r) || !al(i, o) : !0;
}
function Y3(t, e, n) {
  var r = !1,
    i = co,
    o = e.contextType;
  return (
    typeof o == 'object' && o !== null ? (o = Mr(o)) : ((i = sr(e) ? Fo : Yn.current), (r = e.contextTypes), (o = (r = r != null) ? Ga(t, i) : co)),
    (e = new e(n, o)),
    (t.memoizedState = e.state !== null && e.state !== void 0 ? e.state : null),
    (e.updater = Jc),
    (t.stateNode = e),
    (e._reactInternals = t),
    r && ((t = t.stateNode), (t.__reactInternalMemoizedUnmaskedChildContext = i), (t.__reactInternalMemoizedMaskedChildContext = o)),
    e
  );
}
function z1(t, e, n, r) {
  (t = e.state),
    typeof e.componentWillReceiveProps == 'function' && e.componentWillReceiveProps(n, r),
    typeof e.UNSAFE_componentWillReceiveProps == 'function' && e.UNSAFE_componentWillReceiveProps(n, r),
    e.state !== t && Jc.enqueueReplaceState(e, e.state, null);
}
function Bh(t, e, n, r) {
  var i = t.stateNode;
  (i.props = n), (i.state = t.memoizedState), (i.refs = q3), Dm(t);
  var o = e.contextType;
  typeof o == 'object' && o !== null ? (i.context = Mr(o)) : ((o = sr(e) ? Fo : Yn.current), (i.context = Ga(t, o))),
    (i.state = t.memoizedState),
    (o = e.getDerivedStateFromProps),
    typeof o == 'function' && ($h(t, e, o, n), (i.state = t.memoizedState)),
    typeof e.getDerivedStateFromProps == 'function' ||
      typeof i.getSnapshotBeforeUpdate == 'function' ||
      (typeof i.UNSAFE_componentWillMount != 'function' && typeof i.componentWillMount != 'function') ||
      ((e = i.state),
      typeof i.componentWillMount == 'function' && i.componentWillMount(),
      typeof i.UNSAFE_componentWillMount == 'function' && i.UNSAFE_componentWillMount(),
      e !== i.state && Jc.enqueueReplaceState(i, i.state, null),
      uc(t, n, i, r),
      (i.state = t.memoizedState)),
    typeof i.componentDidMount == 'function' && (t.flags |= 4194308);
}
function _s(t, e, n) {
  if (((t = n.ref), t !== null && typeof t != 'function' && typeof t != 'object')) {
    if (n._owner) {
      if (((n = n._owner), n)) {
        if (n.tag !== 1) throw Error(be(309));
        var r = n.stateNode;
      }
      if (!r) throw Error(be(147, t));
      var i = r,
        o = '' + t;
      return e !== null && e.ref !== null && typeof e.ref == 'function' && e.ref._stringRef === o
        ? e.ref
        : ((e = function (a) {
            var s = i.refs;
            s === q3 && (s = i.refs = {}), a === null ? delete s[o] : (s[o] = a);
          }),
          (e._stringRef = o),
          e);
    }
    if (typeof t != 'string') throw Error(be(284));
    if (!n._owner) throw Error(be(290, t));
  }
  return t;
}
function nu(t, e) {
  throw ((t = Object.prototype.toString.call(e)), Error(be(31, t === '[object Object]' ? 'object with keys {' + Object.keys(e).join(', ') + '}' : t)));
}
function V1(t) {
  var e = t._init;
  return e(t._payload);
}
function X3(t) {
  function e(_, y) {
    if (t) {
      var T = _.deletions;
      T === null ? ((_.deletions = [y]), (_.flags |= 16)) : T.push(y);
    }
  }
  function n(_, y) {
    if (!t) return null;
    for (; y !== null; ) e(_, y), (y = y.sibling);
    return null;
  }
  function r(_, y) {
    for (_ = new Map(); y !== null; ) y.key !== null ? _.set(y.key, y) : _.set(y.index, y), (y = y.sibling);
    return _;
  }
  function i(_, y) {
    return (_ = lo(_, y)), (_.index = 0), (_.sibling = null), _;
  }
  function o(_, y, T) {
    return (_.index = T), t ? ((T = _.alternate), T !== null ? ((T = T.index), T < y ? ((_.flags |= 2), y) : T) : ((_.flags |= 2), y)) : ((_.flags |= 1048576), y);
  }
  function a(_) {
    return t && _.alternate === null && (_.flags |= 2), _;
  }
  function s(_, y, T, w) {
    return y === null || y.tag !== 6 ? ((y = rf(T, _.mode, w)), (y.return = _), y) : ((y = i(y, T)), (y.return = _), y);
  }
  function l(_, y, T, w) {
    var I = T.type;
    return I === ga
      ? c(_, y, T.props.children, w, T.key)
      : y !== null && (y.elementType === I || (typeof I == 'object' && I !== null && I.$$typeof === ji && V1(I) === y.type))
      ? ((w = i(y, T.props)), (w.ref = _s(_, y, T)), (w.return = _), w)
      : ((w = Uu(T.type, T.key, T.props, null, _.mode, w)), (w.ref = _s(_, y, T)), (w.return = _), w);
  }
  function u(_, y, T, w) {
    return y === null || y.tag !== 4 || y.stateNode.containerInfo !== T.containerInfo || y.stateNode.implementation !== T.implementation
      ? ((y = of(T, _.mode, w)), (y.return = _), y)
      : ((y = i(y, T.children || [])), (y.return = _), y);
  }
  function c(_, y, T, w, I) {
    return y === null || y.tag !== 7 ? ((y = Oo(T, _.mode, w, I)), (y.return = _), y) : ((y = i(y, T)), (y.return = _), y);
  }
  function d(_, y, T) {
    if ((typeof y == 'string' && y !== '') || typeof y == 'number') return (y = rf('' + y, _.mode, T)), (y.return = _), y;
    if (typeof y == 'object' && y !== null) {
      switch (y.$$typeof) {
        case Gl:
          return (T = Uu(y.type, y.key, y.props, null, _.mode, T)), (T.ref = _s(_, null, y)), (T.return = _), T;
        case pa:
          return (y = of(y, _.mode, T)), (y.return = _), y;
        case ji:
          var w = y._init;
          return d(_, w(y._payload), T);
      }
      if (Is(y) || ms(y)) return (y = Oo(y, _.mode, T, null)), (y.return = _), y;
      nu(_, y);
    }
    return null;
  }
  function f(_, y, T, w) {
    var I = y !== null ? y.key : null;
    if ((typeof T == 'string' && T !== '') || typeof T == 'number') return I !== null ? null : s(_, y, '' + T, w);
    if (typeof T == 'object' && T !== null) {
      switch (T.$$typeof) {
        case Gl:
          return T.key === I ? l(_, y, T, w) : null;
        case pa:
          return T.key === I ? u(_, y, T, w) : null;
        case ji:
          return (I = T._init), f(_, y, I(T._payload), w);
      }
      if (Is(T) || ms(T)) return I !== null ? null : c(_, y, T, w, null);
      nu(_, T);
    }
    return null;
  }
  function h(_, y, T, w, I) {
    if ((typeof w == 'string' && w !== '') || typeof w == 'number') return (_ = _.get(T) || null), s(y, _, '' + w, I);
    if (typeof w == 'object' && w !== null) {
      switch (w.$$typeof) {
        case Gl:
          return (_ = _.get(w.key === null ? T : w.key) || null), l(y, _, w, I);
        case pa:
          return (_ = _.get(w.key === null ? T : w.key) || null), u(y, _, w, I);
        case ji:
          var O = w._init;
          return h(_, y, T, O(w._payload), I);
      }
      if (Is(w) || ms(w)) return (_ = _.get(T) || null), c(y, _, w, I, null);
      nu(y, w);
    }
    return null;
  }
  function m(_, y, T, w) {
    for (var I = null, O = null, x = y, L = (y = 0), D = null; x !== null && L < T.length; L++) {
      x.index > L ? ((D = x), (x = null)) : (D = x.sibling);
      var C = f(_, x, T[L], w);
      if (C === null) {
        x === null && (x = D);
        break;
      }
      t && x && C.alternate === null && e(_, x), (y = o(C, y, L)), O === null ? (I = C) : (O.sibling = C), (O = C), (x = D);
    }
    if (L === T.length) return n(_, x), ln && Eo(_, L), I;
    if (x === null) {
      for (; L < T.length; L++) (x = d(_, T[L], w)), x !== null && ((y = o(x, y, L)), O === null ? (I = x) : (O.sibling = x), (O = x));
      return ln && Eo(_, L), I;
    }
    for (x = r(_, x); L < T.length; L++)
      (D = h(x, _, L, T[L], w)), D !== null && (t && D.alternate !== null && x.delete(D.key === null ? L : D.key), (y = o(D, y, L)), O === null ? (I = D) : (O.sibling = D), (O = D));
    return (
      t &&
        x.forEach(function (G) {
          return e(_, G);
        }),
      ln && Eo(_, L),
      I
    );
  }
  function g(_, y, T, w) {
    var I = ms(T);
    if (typeof I != 'function') throw Error(be(150));
    if (((T = I.call(T)), T == null)) throw Error(be(151));
    for (var O = (I = null), x = y, L = (y = 0), D = null, C = T.next(); x !== null && !C.done; L++, C = T.next()) {
      x.index > L ? ((D = x), (x = null)) : (D = x.sibling);
      var G = f(_, x, C.value, w);
      if (G === null) {
        x === null && (x = D);
        break;
      }
      t && x && G.alternate === null && e(_, x), (y = o(G, y, L)), O === null ? (I = G) : (O.sibling = G), (O = G), (x = D);
    }
    if (C.done) return n(_, x), ln && Eo(_, L), I;
    if (x === null) {
      for (; !C.done; L++, C = T.next()) (C = d(_, C.value, w)), C !== null && ((y = o(C, y, L)), O === null ? (I = C) : (O.sibling = C), (O = C));
      return ln && Eo(_, L), I;
    }
    for (x = r(_, x); !C.done; L++, C = T.next())
      (C = h(x, _, L, C.value, w)), C !== null && (t && C.alternate !== null && x.delete(C.key === null ? L : C.key), (y = o(C, y, L)), O === null ? (I = C) : (O.sibling = C), (O = C));
    return (
      t &&
        x.forEach(function (M) {
          return e(_, M);
        }),
      ln && Eo(_, L),
      I
    );
  }
  function b(_, y, T, w) {
    if ((typeof T == 'object' && T !== null && T.type === ga && T.key === null && (T = T.props.children), typeof T == 'object' && T !== null)) {
      switch (T.$$typeof) {
        case Gl:
          e: {
            for (var I = T.key, O = y; O !== null; ) {
              if (O.key === I) {
                if (((I = T.type), I === ga)) {
                  if (O.tag === 7) {
                    n(_, O.sibling), (y = i(O, T.props.children)), (y.return = _), (_ = y);
                    break e;
                  }
                } else if (O.elementType === I || (typeof I == 'object' && I !== null && I.$$typeof === ji && V1(I) === O.type)) {
                  n(_, O.sibling), (y = i(O, T.props)), (y.ref = _s(_, O, T)), (y.return = _), (_ = y);
                  break e;
                }
                n(_, O);
                break;
              } else e(_, O);
              O = O.sibling;
            }
            T.type === ga
              ? ((y = Oo(T.props.children, _.mode, w, T.key)), (y.return = _), (_ = y))
              : ((w = Uu(T.type, T.key, T.props, null, _.mode, w)), (w.ref = _s(_, y, T)), (w.return = _), (_ = w));
          }
          return a(_);
        case pa:
          e: {
            for (O = T.key; y !== null; ) {
              if (y.key === O)
                if (y.tag === 4 && y.stateNode.containerInfo === T.containerInfo && y.stateNode.implementation === T.implementation) {
                  n(_, y.sibling), (y = i(y, T.children || [])), (y.return = _), (_ = y);
                  break e;
                } else {
                  n(_, y);
                  break;
                }
              else e(_, y);
              y = y.sibling;
            }
            (y = of(T, _.mode, w)), (y.return = _), (_ = y);
          }
          return a(_);
        case ji:
          return (O = T._init), b(_, y, O(T._payload), w);
      }
      if (Is(T)) return m(_, y, T, w);
      if (ms(T)) return g(_, y, T, w);
      nu(_, T);
    }
    return (typeof T == 'string' && T !== '') || typeof T == 'number'
      ? ((T = '' + T), y !== null && y.tag === 6 ? (n(_, y.sibling), (y = i(y, T)), (y.return = _), (_ = y)) : (n(_, y), (y = rf(T, _.mode, w)), (y.return = _), (_ = y)), a(_))
      : n(_, y);
  }
  return b;
}
var Ka = X3(!0),
  Q3 = X3(!1),
  Ll = {},
  fi = ho(Ll),
  cl = ho(Ll),
  dl = ho(Ll);
function Ao(t) {
  if (t === Ll) throw Error(be(174));
  return t;
}
function Pm(t, e) {
  switch ((en(dl, e), en(cl, t), en(fi, Ll), (t = e.nodeType), t)) {
    case 9:
    case 11:
      e = (e = e.documentElement) ? e.namespaceURI : vh(null, '');
      break;
    default:
      (t = t === 8 ? e.parentNode : e), (e = t.namespaceURI || null), (t = t.tagName), (e = vh(e, t));
  }
  an(fi), en(fi, e);
}
function qa() {
  an(fi), an(cl), an(dl);
}
function Z3(t) {
  Ao(dl.current);
  var e = Ao(fi.current),
    n = vh(e, t.type);
  e !== n && (en(cl, t), en(fi, n));
}
function Om(t) {
  cl.current === t && (an(fi), an(cl));
}
var dn = ho(0);
function cc(t) {
  for (var e = t; e !== null; ) {
    if (e.tag === 13) {
      var n = e.memoizedState;
      if (n !== null && ((n = n.dehydrated), n === null || n.data === '$?' || n.data === '$!')) return e;
    } else if (e.tag === 19 && e.memoizedProps.revealOrder !== void 0) {
      if (e.flags & 128) return e;
    } else if (e.child !== null) {
      (e.child.return = e), (e = e.child);
      continue;
    }
    if (e === t) break;
    for (; e.sibling === null; ) {
      if (e.return === null || e.return === t) return null;
      e = e.return;
    }
    (e.sibling.return = e.return), (e = e.sibling);
  }
  return null;
}
var Qd = [];
function km() {
  for (var t = 0; t < Qd.length; t++) Qd[t]._workInProgressVersionPrimary = null;
  Qd.length = 0;
}
var Mu = Bi.ReactCurrentDispatcher,
  Zd = Bi.ReactCurrentBatchConfig,
  $o = 0,
  hn = null,
  Ln = null,
  Fn = null,
  dc = !1,
  Us = !1,
  fl = 0,
  dS = 0;
function Gn() {
  throw Error(be(321));
}
function Mm(t, e) {
  if (e === null) return !1;
  for (var n = 0; n < e.length && n < t.length; n++) if (!ti(t[n], e[n])) return !1;
  return !0;
}
function Fm(t, e, n, r, i, o) {
  if ((($o = o), (hn = e), (e.memoizedState = null), (e.updateQueue = null), (e.lanes = 0), (Mu.current = t === null || t.memoizedState === null ? pS : gS), (t = n(r, i)), Us)) {
    o = 0;
    do {
      if (((Us = !1), (fl = 0), 25 <= o)) throw Error(be(301));
      (o += 1), (Fn = Ln = null), (e.updateQueue = null), (Mu.current = vS), (t = n(r, i));
    } while (Us);
  }
  if (((Mu.current = fc), (e = Ln !== null && Ln.next !== null), ($o = 0), (Fn = Ln = hn = null), (dc = !1), e)) throw Error(be(300));
  return t;
}
function Nm() {
  var t = fl !== 0;
  return (fl = 0), t;
}
function oi() {
  var t = { memoizedState: null, baseState: null, baseQueue: null, queue: null, next: null };
  return Fn === null ? (hn.memoizedState = Fn = t) : (Fn = Fn.next = t), Fn;
}
function Fr() {
  if (Ln === null) {
    var t = hn.alternate;
    t = t !== null ? t.memoizedState : null;
  } else t = Ln.next;
  var e = Fn === null ? hn.memoizedState : Fn.next;
  if (e !== null) (Fn = e), (Ln = t);
  else {
    if (t === null) throw Error(be(310));
    (Ln = t), (t = { memoizedState: Ln.memoizedState, baseState: Ln.baseState, baseQueue: Ln.baseQueue, queue: Ln.queue, next: null }), Fn === null ? (hn.memoizedState = Fn = t) : (Fn = Fn.next = t);
  }
  return Fn;
}
function hl(t, e) {
  return typeof e == 'function' ? e(t) : e;
}
function Jd(t) {
  var e = Fr(),
    n = e.queue;
  if (n === null) throw Error(be(311));
  n.lastRenderedReducer = t;
  var r = Ln,
    i = r.baseQueue,
    o = n.pending;
  if (o !== null) {
    if (i !== null) {
      var a = i.next;
      (i.next = o.next), (o.next = a);
    }
    (r.baseQueue = i = o), (n.pending = null);
  }
  if (i !== null) {
    (o = i.next), (r = r.baseState);
    var s = (a = null),
      l = null,
      u = o;
    do {
      var c = u.lane;
      if (($o & c) === c)
        l !== null && (l = l.next = { lane: 0, action: u.action, hasEagerState: u.hasEagerState, eagerState: u.eagerState, next: null }), (r = u.hasEagerState ? u.eagerState : t(r, u.action));
      else {
        var d = { lane: c, action: u.action, hasEagerState: u.hasEagerState, eagerState: u.eagerState, next: null };
        l === null ? ((s = l = d), (a = r)) : (l = l.next = d), (hn.lanes |= c), (Bo |= c);
      }
      u = u.next;
    } while (u !== null && u !== o);
    l === null ? (a = r) : (l.next = s), ti(r, e.memoizedState) || (or = !0), (e.memoizedState = r), (e.baseState = a), (e.baseQueue = l), (n.lastRenderedState = r);
  }
  if (((t = n.interleaved), t !== null)) {
    i = t;
    do (o = i.lane), (hn.lanes |= o), (Bo |= o), (i = i.next);
    while (i !== t);
  } else i === null && (n.lanes = 0);
  return [e.memoizedState, n.dispatch];
}
function ef(t) {
  var e = Fr(),
    n = e.queue;
  if (n === null) throw Error(be(311));
  n.lastRenderedReducer = t;
  var r = n.dispatch,
    i = n.pending,
    o = e.memoizedState;
  if (i !== null) {
    n.pending = null;
    var a = (i = i.next);
    do (o = t(o, a.action)), (a = a.next);
    while (a !== i);
    ti(o, e.memoizedState) || (or = !0), (e.memoizedState = o), e.baseQueue === null && (e.baseState = o), (n.lastRenderedState = o);
  }
  return [o, r];
}
function J3() {}
function ey(t, e) {
  var n = hn,
    r = Fr(),
    i = e(),
    o = !ti(r.memoizedState, i);
  if ((o && ((r.memoizedState = i), (or = !0)), (r = r.queue), $m(ry.bind(null, n, r, t), [t]), r.getSnapshot !== e || o || (Fn !== null && Fn.memoizedState.tag & 1))) {
    if (((n.flags |= 2048), ml(9, ny.bind(null, n, r, i, e), void 0, null), $n === null)) throw Error(be(349));
    $o & 30 || ty(n, e, i);
  }
  return i;
}
function ty(t, e, n) {
  (t.flags |= 16384),
    (t = { getSnapshot: e, value: n }),
    (e = hn.updateQueue),
    e === null ? ((e = { lastEffect: null, stores: null }), (hn.updateQueue = e), (e.stores = [t])) : ((n = e.stores), n === null ? (e.stores = [t]) : n.push(t));
}
function ny(t, e, n, r) {
  (e.value = n), (e.getSnapshot = r), iy(e) && oy(t);
}
function ry(t, e, n) {
  return n(function () {
    iy(e) && oy(t);
  });
}
function iy(t) {
  var e = t.getSnapshot;
  t = t.value;
  try {
    var n = e();
    return !ti(t, n);
  } catch {
    return !0;
  }
}
function oy(t) {
  var e = ki(t, 1);
  e !== null && Jr(e, t, 1, -1);
}
function H1(t) {
  var e = oi();
  return (
    typeof t == 'function' && (t = t()),
    (e.memoizedState = e.baseState = t),
    (t = { pending: null, interleaved: null, lanes: 0, dispatch: null, lastRenderedReducer: hl, lastRenderedState: t }),
    (e.queue = t),
    (t = t.dispatch = mS.bind(null, hn, t)),
    [e.memoizedState, t]
  );
}
function ml(t, e, n, r) {
  return (
    (t = { tag: t, create: e, destroy: n, deps: r, next: null }),
    (e = hn.updateQueue),
    e === null
      ? ((e = { lastEffect: null, stores: null }), (hn.updateQueue = e), (e.lastEffect = t.next = t))
      : ((n = e.lastEffect), n === null ? (e.lastEffect = t.next = t) : ((r = n.next), (n.next = t), (t.next = r), (e.lastEffect = t))),
    t
  );
}
function ay() {
  return Fr().memoizedState;
}
function Fu(t, e, n, r) {
  var i = oi();
  (hn.flags |= t), (i.memoizedState = ml(1 | e, n, void 0, r === void 0 ? null : r));
}
function ed(t, e, n, r) {
  var i = Fr();
  r = r === void 0 ? null : r;
  var o = void 0;
  if (Ln !== null) {
    var a = Ln.memoizedState;
    if (((o = a.destroy), r !== null && Mm(r, a.deps))) {
      i.memoizedState = ml(e, n, o, r);
      return;
    }
  }
  (hn.flags |= t), (i.memoizedState = ml(1 | e, n, o, r));
}
function j1(t, e) {
  return Fu(8390656, 8, t, e);
}
function $m(t, e) {
  return ed(2048, 8, t, e);
}
function sy(t, e) {
  return ed(4, 2, t, e);
}
function ly(t, e) {
  return ed(4, 4, t, e);
}
function uy(t, e) {
  if (typeof e == 'function')
    return (
      (t = t()),
      e(t),
      function () {
        e(null);
      }
    );
  if (e != null)
    return (
      (t = t()),
      (e.current = t),
      function () {
        e.current = null;
      }
    );
}
function cy(t, e, n) {
  return (n = n != null ? n.concat([t]) : null), ed(4, 4, uy.bind(null, e, t), n);
}
function Bm() {}
function dy(t, e) {
  var n = Fr();
  e = e === void 0 ? null : e;
  var r = n.memoizedState;
  return r !== null && e !== null && Mm(e, r[1]) ? r[0] : ((n.memoizedState = [t, e]), t);
}
function fy(t, e) {
  var n = Fr();
  e = e === void 0 ? null : e;
  var r = n.memoizedState;
  return r !== null && e !== null && Mm(e, r[1]) ? r[0] : ((t = t()), (n.memoizedState = [t, e]), t);
}
function hy(t, e, n) {
  return $o & 21 ? (ti(n, e) || ((n = g3()), (hn.lanes |= n), (Bo |= n), (t.baseState = !0)), e) : (t.baseState && ((t.baseState = !1), (or = !0)), (t.memoizedState = n));
}
function fS(t, e) {
  var n = Vt;
  (Vt = n !== 0 && 4 > n ? n : 4), t(!0);
  var r = Zd.transition;
  Zd.transition = {};
  try {
    t(!1), e();
  } finally {
    (Vt = n), (Zd.transition = r);
  }
}
function my() {
  return Fr().memoizedState;
}
function hS(t, e, n) {
  var r = so(t);
  if (((n = { lane: r, action: n, hasEagerState: !1, eagerState: null, next: null }), py(t))) gy(e, n);
  else if (((n = W3(t, e, n, r)), n !== null)) {
    var i = Zn();
    Jr(n, t, r, i), vy(n, e, r);
  }
}
function mS(t, e, n) {
  var r = so(t),
    i = { lane: r, action: n, hasEagerState: !1, eagerState: null, next: null };
  if (py(t)) gy(e, i);
  else {
    var o = t.alternate;
    if (t.lanes === 0 && (o === null || o.lanes === 0) && ((o = e.lastRenderedReducer), o !== null))
      try {
        var a = e.lastRenderedState,
          s = o(a, n);
        if (((i.hasEagerState = !0), (i.eagerState = s), ti(s, a))) {
          var l = e.interleaved;
          l === null ? ((i.next = i), Im(e)) : ((i.next = l.next), (l.next = i)), (e.interleaved = i);
          return;
        }
      } catch {
      } finally {
      }
    (n = W3(t, e, i, r)), n !== null && ((i = Zn()), Jr(n, t, r, i), vy(n, e, r));
  }
}
function py(t) {
  var e = t.alternate;
  return t === hn || (e !== null && e === hn);
}
function gy(t, e) {
  Us = dc = !0;
  var n = t.pending;
  n === null ? (e.next = e) : ((e.next = n.next), (n.next = e)), (t.pending = e);
}
function vy(t, e, n) {
  if (n & 4194240) {
    var r = e.lanes;
    (r &= t.pendingLanes), (n |= r), (e.lanes = n), gm(t, n);
  }
}
var fc = {
    readContext: Mr,
    useCallback: Gn,
    useContext: Gn,
    useEffect: Gn,
    useImperativeHandle: Gn,
    useInsertionEffect: Gn,
    useLayoutEffect: Gn,
    useMemo: Gn,
    useReducer: Gn,
    useRef: Gn,
    useState: Gn,
    useDebugValue: Gn,
    useDeferredValue: Gn,
    useTransition: Gn,
    useMutableSource: Gn,
    useSyncExternalStore: Gn,
    useId: Gn,
    unstable_isNewReconciler: !1,
  },
  pS = {
    readContext: Mr,
    useCallback: function (t, e) {
      return (oi().memoizedState = [t, e === void 0 ? null : e]), t;
    },
    useContext: Mr,
    useEffect: j1,
    useImperativeHandle: function (t, e, n) {
      return (n = n != null ? n.concat([t]) : null), Fu(4194308, 4, uy.bind(null, e, t), n);
    },
    useLayoutEffect: function (t, e) {
      return Fu(4194308, 4, t, e);
    },
    useInsertionEffect: function (t, e) {
      return Fu(4, 2, t, e);
    },
    useMemo: function (t, e) {
      var n = oi();
      return (e = e === void 0 ? null : e), (t = t()), (n.memoizedState = [t, e]), t;
    },
    useReducer: function (t, e, n) {
      var r = oi();
      return (
        (e = n !== void 0 ? n(e) : e),
        (r.memoizedState = r.baseState = e),
        (t = { pending: null, interleaved: null, lanes: 0, dispatch: null, lastRenderedReducer: t, lastRenderedState: e }),
        (r.queue = t),
        (t = t.dispatch = hS.bind(null, hn, t)),
        [r.memoizedState, t]
      );
    },
    useRef: function (t) {
      var e = oi();
      return (t = { current: t }), (e.memoizedState = t);
    },
    useState: H1,
    useDebugValue: Bm,
    useDeferredValue: function (t) {
      return (oi().memoizedState = t);
    },
    useTransition: function () {
      var t = H1(!1),
        e = t[0];
      return (t = fS.bind(null, t[1])), (oi().memoizedState = t), [e, t];
    },
    useMutableSource: function () {},
    useSyncExternalStore: function (t, e, n) {
      var r = hn,
        i = oi();
      if (ln) {
        if (n === void 0) throw Error(be(407));
        n = n();
      } else {
        if (((n = e()), $n === null)) throw Error(be(349));
        $o & 30 || ty(r, e, n);
      }
      i.memoizedState = n;
      var o = { value: n, getSnapshot: e };
      return (i.queue = o), j1(ry.bind(null, r, o, t), [t]), (r.flags |= 2048), ml(9, ny.bind(null, r, o, n, e), void 0, null), n;
    },
    useId: function () {
      var t = oi(),
        e = $n.identifierPrefix;
      if (ln) {
        var n = Ri,
          r = Ci;
        (n = (r & ~(1 << (32 - Zr(r) - 1))).toString(32) + n), (e = ':' + e + 'R' + n), (n = fl++), 0 < n && (e += 'H' + n.toString(32)), (e += ':');
      } else (n = dS++), (e = ':' + e + 'r' + n.toString(32) + ':');
      return (t.memoizedState = e);
    },
    unstable_isNewReconciler: !1,
  },
  gS = {
    readContext: Mr,
    useCallback: dy,
    useContext: Mr,
    useEffect: $m,
    useImperativeHandle: cy,
    useInsertionEffect: sy,
    useLayoutEffect: ly,
    useMemo: fy,
    useReducer: Jd,
    useRef: ay,
    useState: function () {
      return Jd(hl);
    },
    useDebugValue: Bm,
    useDeferredValue: function (t) {
      var e = Fr();
      return hy(e, Ln.memoizedState, t);
    },
    useTransition: function () {
      var t = Jd(hl)[0],
        e = Fr().memoizedState;
      return [t, e];
    },
    useMutableSource: J3,
    useSyncExternalStore: ey,
    useId: my,
    unstable_isNewReconciler: !1,
  },
  vS = {
    readContext: Mr,
    useCallback: dy,
    useContext: Mr,
    useEffect: $m,
    useImperativeHandle: cy,
    useInsertionEffect: sy,
    useLayoutEffect: ly,
    useMemo: fy,
    useReducer: ef,
    useRef: ay,
    useState: function () {
      return ef(hl);
    },
    useDebugValue: Bm,
    useDeferredValue: function (t) {
      var e = Fr();
      return Ln === null ? (e.memoizedState = t) : hy(e, Ln.memoizedState, t);
    },
    useTransition: function () {
      var t = ef(hl)[0],
        e = Fr().memoizedState;
      return [t, e];
    },
    useMutableSource: J3,
    useSyncExternalStore: ey,
    useId: my,
    unstable_isNewReconciler: !1,
  };
function Ya(t, e) {
  try {
    var n = '',
      r = e;
    do (n += G5(r)), (r = r.return);
    while (r);
    var i = n;
  } catch (o) {
    i =
      `
Error generating stack: ` +
      o.message +
      `
` +
      o.stack;
  }
  return { value: t, source: e, stack: i, digest: null };
}
function tf(t, e, n) {
  return { value: t, source: null, stack: n ?? null, digest: e ?? null };
}
function Uh(t, e) {
  try {
    console.error(e.value);
  } catch (n) {
    setTimeout(function () {
      throw n;
    });
  }
}
var yS = typeof WeakMap == 'function' ? WeakMap : Map;
function yy(t, e, n) {
  (n = Ii(-1, n)), (n.tag = 3), (n.payload = { element: null });
  var r = e.value;
  return (
    (n.callback = function () {
      mc || ((mc = !0), (Xh = r)), Uh(t, e);
    }),
    n
  );
}
function _y(t, e, n) {
  (n = Ii(-1, n)), (n.tag = 3);
  var r = t.type.getDerivedStateFromError;
  if (typeof r == 'function') {
    var i = e.value;
    (n.payload = function () {
      return r(i);
    }),
      (n.callback = function () {
        Uh(t, e);
      });
  }
  var o = t.stateNode;
  return (
    o !== null &&
      typeof o.componentDidCatch == 'function' &&
      (n.callback = function () {
        Uh(t, e), typeof r != 'function' && (ao === null ? (ao = new Set([this])) : ao.add(this));
        var a = e.stack;
        this.componentDidCatch(e.value, { componentStack: a !== null ? a : '' });
      }),
    n
  );
}
function G1(t, e, n) {
  var r = t.pingCache;
  if (r === null) {
    r = t.pingCache = new yS();
    var i = new Set();
    r.set(e, i);
  } else (i = r.get(e)), i === void 0 && ((i = new Set()), r.set(e, i));
  i.has(n) || (i.add(n), (t = PS.bind(null, t, e, n)), e.then(t, t));
}
function W1(t) {
  do {
    var e;
    if (((e = t.tag === 13) && ((e = t.memoizedState), (e = e !== null ? e.dehydrated !== null : !0)), e)) return t;
    t = t.return;
  } while (t !== null);
  return null;
}
function K1(t, e, n, r, i) {
  return t.mode & 1
    ? ((t.flags |= 65536), (t.lanes = i), t)
    : (t === e
        ? (t.flags |= 65536)
        : ((t.flags |= 128), (n.flags |= 131072), (n.flags &= -52805), n.tag === 1 && (n.alternate === null ? (n.tag = 17) : ((e = Ii(-1, 1)), (e.tag = 2), oo(n, e, 1))), (n.lanes |= 1)),
      t);
}
var _S = Bi.ReactCurrentOwner,
  or = !1;
function Qn(t, e, n, r) {
  e.child = t === null ? Q3(e, null, n, r) : Ka(e, t.child, n, r);
}
function q1(t, e, n, r, i) {
  n = n.render;
  var o = e.ref;
  return (
    Na(e, i),
    (r = Fm(t, e, n, r, o, i)),
    (n = Nm()),
    t !== null && !or ? ((e.updateQueue = t.updateQueue), (e.flags &= -2053), (t.lanes &= ~i), Mi(t, e, i)) : (ln && n && Tm(e), (e.flags |= 1), Qn(t, e, r, i), e.child)
  );
}
function Y1(t, e, n, r, i) {
  if (t === null) {
    var o = n.type;
    return typeof o == 'function' && !Km(o) && o.defaultProps === void 0 && n.compare === null && n.defaultProps === void 0
      ? ((e.tag = 15), (e.type = o), Sy(t, e, o, r, i))
      : ((t = Uu(n.type, null, r, e, e.mode, i)), (t.ref = e.ref), (t.return = e), (e.child = t));
  }
  if (((o = t.child), !(t.lanes & i))) {
    var a = o.memoizedProps;
    if (((n = n.compare), (n = n !== null ? n : al), n(a, r) && t.ref === e.ref)) return Mi(t, e, i);
  }
  return (e.flags |= 1), (t = lo(o, r)), (t.ref = e.ref), (t.return = e), (e.child = t);
}
function Sy(t, e, n, r, i) {
  if (t !== null) {
    var o = t.memoizedProps;
    if (al(o, r) && t.ref === e.ref)
      if (((or = !1), (e.pendingProps = r = o), (t.lanes & i) !== 0)) t.flags & 131072 && (or = !0);
      else return (e.lanes = t.lanes), Mi(t, e, i);
  }
  return zh(t, e, n, r, i);
}
function Ey(t, e, n) {
  var r = e.pendingProps,
    i = r.children,
    o = t !== null ? t.memoizedState : null;
  if (r.mode === 'hidden')
    if (!(e.mode & 1)) (e.memoizedState = { baseLanes: 0, cachePool: null, transitions: null }), en(Ca, pr), (pr |= n);
    else {
      if (!(n & 1073741824))
        return (
          (t = o !== null ? o.baseLanes | n : n),
          (e.lanes = e.childLanes = 1073741824),
          (e.memoizedState = { baseLanes: t, cachePool: null, transitions: null }),
          (e.updateQueue = null),
          en(Ca, pr),
          (pr |= t),
          null
        );
      (e.memoizedState = { baseLanes: 0, cachePool: null, transitions: null }), (r = o !== null ? o.baseLanes : n), en(Ca, pr), (pr |= r);
    }
  else o !== null ? ((r = o.baseLanes | n), (e.memoizedState = null)) : (r = n), en(Ca, pr), (pr |= r);
  return Qn(t, e, i, n), e.child;
}
function by(t, e) {
  var n = e.ref;
  ((t === null && n !== null) || (t !== null && t.ref !== n)) && ((e.flags |= 512), (e.flags |= 2097152));
}
function zh(t, e, n, r, i) {
  var o = sr(n) ? Fo : Yn.current;
  return (
    (o = Ga(e, o)),
    Na(e, i),
    (n = Fm(t, e, n, r, o, i)),
    (r = Nm()),
    t !== null && !or ? ((e.updateQueue = t.updateQueue), (e.flags &= -2053), (t.lanes &= ~i), Mi(t, e, i)) : (ln && r && Tm(e), (e.flags |= 1), Qn(t, e, n, i), e.child)
  );
}
function X1(t, e, n, r, i) {
  if (sr(n)) {
    var o = !0;
    ic(e);
  } else o = !1;
  if ((Na(e, i), e.stateNode === null)) Nu(t, e), Y3(e, n, r), Bh(e, n, r, i), (r = !0);
  else if (t === null) {
    var a = e.stateNode,
      s = e.memoizedProps;
    a.props = s;
    var l = a.context,
      u = n.contextType;
    typeof u == 'object' && u !== null ? (u = Mr(u)) : ((u = sr(n) ? Fo : Yn.current), (u = Ga(e, u)));
    var c = n.getDerivedStateFromProps,
      d = typeof c == 'function' || typeof a.getSnapshotBeforeUpdate == 'function';
    d || (typeof a.UNSAFE_componentWillReceiveProps != 'function' && typeof a.componentWillReceiveProps != 'function') || ((s !== r || l !== u) && z1(e, a, r, u)), (Gi = !1);
    var f = e.memoizedState;
    (a.state = f),
      uc(e, r, a, i),
      (l = e.memoizedState),
      s !== r || f !== l || ar.current || Gi
        ? (typeof c == 'function' && ($h(e, n, c, r), (l = e.memoizedState)),
          (s = Gi || U1(e, n, s, r, f, l, u))
            ? (d ||
                (typeof a.UNSAFE_componentWillMount != 'function' && typeof a.componentWillMount != 'function') ||
                (typeof a.componentWillMount == 'function' && a.componentWillMount(), typeof a.UNSAFE_componentWillMount == 'function' && a.UNSAFE_componentWillMount()),
              typeof a.componentDidMount == 'function' && (e.flags |= 4194308))
            : (typeof a.componentDidMount == 'function' && (e.flags |= 4194308), (e.memoizedProps = r), (e.memoizedState = l)),
          (a.props = r),
          (a.state = l),
          (a.context = u),
          (r = s))
        : (typeof a.componentDidMount == 'function' && (e.flags |= 4194308), (r = !1));
  } else {
    (a = e.stateNode),
      K3(t, e),
      (s = e.memoizedProps),
      (u = e.type === e.elementType ? s : jr(e.type, s)),
      (a.props = u),
      (d = e.pendingProps),
      (f = a.context),
      (l = n.contextType),
      typeof l == 'object' && l !== null ? (l = Mr(l)) : ((l = sr(n) ? Fo : Yn.current), (l = Ga(e, l)));
    var h = n.getDerivedStateFromProps;
    (c = typeof h == 'function' || typeof a.getSnapshotBeforeUpdate == 'function') ||
      (typeof a.UNSAFE_componentWillReceiveProps != 'function' && typeof a.componentWillReceiveProps != 'function') ||
      ((s !== d || f !== l) && z1(e, a, r, l)),
      (Gi = !1),
      (f = e.memoizedState),
      (a.state = f),
      uc(e, r, a, i);
    var m = e.memoizedState;
    s !== d || f !== m || ar.current || Gi
      ? (typeof h == 'function' && ($h(e, n, h, r), (m = e.memoizedState)),
        (u = Gi || U1(e, n, u, r, f, m, l) || !1)
          ? (c ||
              (typeof a.UNSAFE_componentWillUpdate != 'function' && typeof a.componentWillUpdate != 'function') ||
              (typeof a.componentWillUpdate == 'function' && a.componentWillUpdate(r, m, l), typeof a.UNSAFE_componentWillUpdate == 'function' && a.UNSAFE_componentWillUpdate(r, m, l)),
            typeof a.componentDidUpdate == 'function' && (e.flags |= 4),
            typeof a.getSnapshotBeforeUpdate == 'function' && (e.flags |= 1024))
          : (typeof a.componentDidUpdate != 'function' || (s === t.memoizedProps && f === t.memoizedState) || (e.flags |= 4),
            typeof a.getSnapshotBeforeUpdate != 'function' || (s === t.memoizedProps && f === t.memoizedState) || (e.flags |= 1024),
            (e.memoizedProps = r),
            (e.memoizedState = m)),
        (a.props = r),
        (a.state = m),
        (a.context = l),
        (r = u))
      : (typeof a.componentDidUpdate != 'function' || (s === t.memoizedProps && f === t.memoizedState) || (e.flags |= 4),
        typeof a.getSnapshotBeforeUpdate != 'function' || (s === t.memoizedProps && f === t.memoizedState) || (e.flags |= 1024),
        (r = !1));
  }
  return Vh(t, e, n, r, o, i);
}
function Vh(t, e, n, r, i, o) {
  by(t, e);
  var a = (e.flags & 128) !== 0;
  if (!r && !a) return i && M1(e, n, !1), Mi(t, e, o);
  (r = e.stateNode), (_S.current = e);
  var s = a && typeof n.getDerivedStateFromError != 'function' ? null : r.render();
  return (e.flags |= 1), t !== null && a ? ((e.child = Ka(e, t.child, null, o)), (e.child = Ka(e, null, s, o))) : Qn(t, e, s, o), (e.memoizedState = r.state), i && M1(e, n, !0), e.child;
}
function xy(t) {
  var e = t.stateNode;
  e.pendingContext ? k1(t, e.pendingContext, e.pendingContext !== e.context) : e.context && k1(t, e.context, !1), Pm(t, e.containerInfo);
}
function Q1(t, e, n, r, i) {
  return Wa(), Cm(i), (e.flags |= 256), Qn(t, e, n, r), e.child;
}
var Hh = { dehydrated: null, treeContext: null, retryLane: 0 };
function jh(t) {
  return { baseLanes: t, cachePool: null, transitions: null };
}
function Ty(t, e, n) {
  var r = e.pendingProps,
    i = dn.current,
    o = !1,
    a = (e.flags & 128) !== 0,
    s;
  if (
    ((s = a) || (s = t !== null && t.memoizedState === null ? !1 : (i & 2) !== 0), s ? ((o = !0), (e.flags &= -129)) : (t === null || t.memoizedState !== null) && (i |= 1), en(dn, i & 1), t === null)
  )
    return (
      Fh(e),
      (t = e.memoizedState),
      t !== null && ((t = t.dehydrated), t !== null)
        ? (e.mode & 1 ? (t.data === '$!' ? (e.lanes = 8) : (e.lanes = 1073741824)) : (e.lanes = 1), null)
        : ((a = r.children),
          (t = r.fallback),
          o
            ? ((r = e.mode),
              (o = e.child),
              (a = { mode: 'hidden', children: a }),
              !(r & 1) && o !== null ? ((o.childLanes = 0), (o.pendingProps = a)) : (o = rd(a, r, 0, null)),
              (t = Oo(t, r, n, null)),
              (o.return = e),
              (t.return = e),
              (o.sibling = t),
              (e.child = o),
              (e.child.memoizedState = jh(n)),
              (e.memoizedState = Hh),
              t)
            : Um(e, a))
    );
  if (((i = t.memoizedState), i !== null && ((s = i.dehydrated), s !== null))) return SS(t, e, a, r, s, i, n);
  if (o) {
    (o = r.fallback), (a = e.mode), (i = t.child), (s = i.sibling);
    var l = { mode: 'hidden', children: r.children };
    return (
      !(a & 1) && e.child !== i ? ((r = e.child), (r.childLanes = 0), (r.pendingProps = l), (e.deletions = null)) : ((r = lo(i, l)), (r.subtreeFlags = i.subtreeFlags & 14680064)),
      s !== null ? (o = lo(s, o)) : ((o = Oo(o, a, n, null)), (o.flags |= 2)),
      (o.return = e),
      (r.return = e),
      (r.sibling = o),
      (e.child = r),
      (r = o),
      (o = e.child),
      (a = t.child.memoizedState),
      (a = a === null ? jh(n) : { baseLanes: a.baseLanes | n, cachePool: null, transitions: a.transitions }),
      (o.memoizedState = a),
      (o.childLanes = t.childLanes & ~n),
      (e.memoizedState = Hh),
      r
    );
  }
  return (
    (o = t.child),
    (t = o.sibling),
    (r = lo(o, { mode: 'visible', children: r.children })),
    !(e.mode & 1) && (r.lanes = n),
    (r.return = e),
    (r.sibling = null),
    t !== null && ((n = e.deletions), n === null ? ((e.deletions = [t]), (e.flags |= 16)) : n.push(t)),
    (e.child = r),
    (e.memoizedState = null),
    r
  );
}
function Um(t, e) {
  return (e = rd({ mode: 'visible', children: e }, t.mode, 0, null)), (e.return = t), (t.child = e);
}
function ru(t, e, n, r) {
  return r !== null && Cm(r), Ka(e, t.child, null, n), (t = Um(e, e.pendingProps.children)), (t.flags |= 2), (e.memoizedState = null), t;
}
function SS(t, e, n, r, i, o, a) {
  if (n)
    return e.flags & 256
      ? ((e.flags &= -257), (r = tf(Error(be(422)))), ru(t, e, a, r))
      : e.memoizedState !== null
      ? ((e.child = t.child), (e.flags |= 128), null)
      : ((o = r.fallback),
        (i = e.mode),
        (r = rd({ mode: 'visible', children: r.children }, i, 0, null)),
        (o = Oo(o, i, a, null)),
        (o.flags |= 2),
        (r.return = e),
        (o.return = e),
        (r.sibling = o),
        (e.child = r),
        e.mode & 1 && Ka(e, t.child, null, a),
        (e.child.memoizedState = jh(a)),
        (e.memoizedState = Hh),
        o);
  if (!(e.mode & 1)) return ru(t, e, a, null);
  if (i.data === '$!') {
    if (((r = i.nextSibling && i.nextSibling.dataset), r)) var s = r.dgst;
    return (r = s), (o = Error(be(419))), (r = tf(o, r, void 0)), ru(t, e, a, r);
  }
  if (((s = (a & t.childLanes) !== 0), or || s)) {
    if (((r = $n), r !== null)) {
      switch (a & -a) {
        case 4:
          i = 2;
          break;
        case 16:
          i = 8;
          break;
        case 64:
        case 128:
        case 256:
        case 512:
        case 1024:
        case 2048:
        case 4096:
        case 8192:
        case 16384:
        case 32768:
        case 65536:
        case 131072:
        case 262144:
        case 524288:
        case 1048576:
        case 2097152:
        case 4194304:
        case 8388608:
        case 16777216:
        case 33554432:
        case 67108864:
          i = 32;
          break;
        case 536870912:
          i = 268435456;
          break;
        default:
          i = 0;
      }
      (i = i & (r.suspendedLanes | a) ? 0 : i), i !== 0 && i !== o.retryLane && ((o.retryLane = i), ki(t, i), Jr(r, t, i, -1));
    }
    return Wm(), (r = tf(Error(be(421)))), ru(t, e, a, r);
  }
  return i.data === '$?'
    ? ((e.flags |= 128), (e.child = t.child), (e = OS.bind(null, t)), (i._reactRetry = e), null)
    : ((t = o.treeContext),
      (gr = io(i.nextSibling)),
      (yr = e),
      (ln = !0),
      (qr = null),
      t !== null && ((Ir[Dr++] = Ci), (Ir[Dr++] = Ri), (Ir[Dr++] = No), (Ci = t.id), (Ri = t.overflow), (No = e)),
      (e = Um(e, r.children)),
      (e.flags |= 4096),
      e);
}
function Z1(t, e, n) {
  t.lanes |= e;
  var r = t.alternate;
  r !== null && (r.lanes |= e), Nh(t.return, e, n);
}
function nf(t, e, n, r, i) {
  var o = t.memoizedState;
  o === null
    ? (t.memoizedState = { isBackwards: e, rendering: null, renderingStartTime: 0, last: r, tail: n, tailMode: i })
    : ((o.isBackwards = e), (o.rendering = null), (o.renderingStartTime = 0), (o.last = r), (o.tail = n), (o.tailMode = i));
}
function wy(t, e, n) {
  var r = e.pendingProps,
    i = r.revealOrder,
    o = r.tail;
  if ((Qn(t, e, r.children, n), (r = dn.current), r & 2)) (r = (r & 1) | 2), (e.flags |= 128);
  else {
    if (t !== null && t.flags & 128)
      e: for (t = e.child; t !== null; ) {
        if (t.tag === 13) t.memoizedState !== null && Z1(t, n, e);
        else if (t.tag === 19) Z1(t, n, e);
        else if (t.child !== null) {
          (t.child.return = t), (t = t.child);
          continue;
        }
        if (t === e) break e;
        for (; t.sibling === null; ) {
          if (t.return === null || t.return === e) break e;
          t = t.return;
        }
        (t.sibling.return = t.return), (t = t.sibling);
      }
    r &= 1;
  }
  if ((en(dn, r), !(e.mode & 1))) e.memoizedState = null;
  else
    switch (i) {
      case 'forwards':
        for (n = e.child, i = null; n !== null; ) (t = n.alternate), t !== null && cc(t) === null && (i = n), (n = n.sibling);
        (n = i), n === null ? ((i = e.child), (e.child = null)) : ((i = n.sibling), (n.sibling = null)), nf(e, !1, i, n, o);
        break;
      case 'backwards':
        for (n = null, i = e.child, e.child = null; i !== null; ) {
          if (((t = i.alternate), t !== null && cc(t) === null)) {
            e.child = i;
            break;
          }
          (t = i.sibling), (i.sibling = n), (n = i), (i = t);
        }
        nf(e, !0, n, null, o);
        break;
      case 'together':
        nf(e, !1, null, null, void 0);
        break;
      default:
        e.memoizedState = null;
    }
  return e.child;
}
function Nu(t, e) {
  !(e.mode & 1) && t !== null && ((t.alternate = null), (e.alternate = null), (e.flags |= 2));
}
function Mi(t, e, n) {
  if ((t !== null && (e.dependencies = t.dependencies), (Bo |= e.lanes), !(n & e.childLanes))) return null;
  if (t !== null && e.child !== t.child) throw Error(be(153));
  if (e.child !== null) {
    for (t = e.child, n = lo(t, t.pendingProps), e.child = n, n.return = e; t.sibling !== null; ) (t = t.sibling), (n = n.sibling = lo(t, t.pendingProps)), (n.return = e);
    n.sibling = null;
  }
  return e.child;
}
function ES(t, e, n) {
  switch (e.tag) {
    case 3:
      xy(e), Wa();
      break;
    case 5:
      Z3(e);
      break;
    case 1:
      sr(e.type) && ic(e);
      break;
    case 4:
      Pm(e, e.stateNode.containerInfo);
      break;
    case 10:
      var r = e.type._context,
        i = e.memoizedProps.value;
      en(sc, r._currentValue), (r._currentValue = i);
      break;
    case 13:
      if (((r = e.memoizedState), r !== null))
        return r.dehydrated !== null
          ? (en(dn, dn.current & 1), (e.flags |= 128), null)
          : n & e.child.childLanes
          ? Ty(t, e, n)
          : (en(dn, dn.current & 1), (t = Mi(t, e, n)), t !== null ? t.sibling : null);
      en(dn, dn.current & 1);
      break;
    case 19:
      if (((r = (n & e.childLanes) !== 0), t.flags & 128)) {
        if (r) return wy(t, e, n);
        e.flags |= 128;
      }
      if (((i = e.memoizedState), i !== null && ((i.rendering = null), (i.tail = null), (i.lastEffect = null)), en(dn, dn.current), r)) break;
      return null;
    case 22:
    case 23:
      return (e.lanes = 0), Ey(t, e, n);
  }
  return Mi(t, e, n);
}
var Cy, Gh, Ry, Ay;
Cy = function (t, e) {
  for (var n = e.child; n !== null; ) {
    if (n.tag === 5 || n.tag === 6) t.appendChild(n.stateNode);
    else if (n.tag !== 4 && n.child !== null) {
      (n.child.return = n), (n = n.child);
      continue;
    }
    if (n === e) break;
    for (; n.sibling === null; ) {
      if (n.return === null || n.return === e) return;
      n = n.return;
    }
    (n.sibling.return = n.return), (n = n.sibling);
  }
};
Gh = function () {};
Ry = function (t, e, n, r) {
  var i = t.memoizedProps;
  if (i !== r) {
    (t = e.stateNode), Ao(fi.current);
    var o = null;
    switch (n) {
      case 'input':
        (i = hh(t, i)), (r = hh(t, r)), (o = []);
        break;
      case 'select':
        (i = mn({}, i, { value: void 0 })), (r = mn({}, r, { value: void 0 })), (o = []);
        break;
      case 'textarea':
        (i = gh(t, i)), (r = gh(t, r)), (o = []);
        break;
      default:
        typeof i.onClick != 'function' && typeof r.onClick == 'function' && (t.onclick = nc);
    }
    yh(n, r);
    var a;
    n = null;
    for (u in i)
      if (!r.hasOwnProperty(u) && i.hasOwnProperty(u) && i[u] != null)
        if (u === 'style') {
          var s = i[u];
          for (a in s) s.hasOwnProperty(a) && (n || (n = {}), (n[a] = ''));
        } else
          u !== 'dangerouslySetInnerHTML' &&
            u !== 'children' &&
            u !== 'suppressContentEditableWarning' &&
            u !== 'suppressHydrationWarning' &&
            u !== 'autoFocus' &&
            (Js.hasOwnProperty(u) ? o || (o = []) : (o = o || []).push(u, null));
    for (u in r) {
      var l = r[u];
      if (((s = i != null ? i[u] : void 0), r.hasOwnProperty(u) && l !== s && (l != null || s != null)))
        if (u === 'style')
          if (s) {
            for (a in s) !s.hasOwnProperty(a) || (l && l.hasOwnProperty(a)) || (n || (n = {}), (n[a] = ''));
            for (a in l) l.hasOwnProperty(a) && s[a] !== l[a] && (n || (n = {}), (n[a] = l[a]));
          } else n || (o || (o = []), o.push(u, n)), (n = l);
        else
          u === 'dangerouslySetInnerHTML'
            ? ((l = l ? l.__html : void 0), (s = s ? s.__html : void 0), l != null && s !== l && (o = o || []).push(u, l))
            : u === 'children'
            ? (typeof l != 'string' && typeof l != 'number') || (o = o || []).push(u, '' + l)
            : u !== 'suppressContentEditableWarning' &&
              u !== 'suppressHydrationWarning' &&
              (Js.hasOwnProperty(u) ? (l != null && u === 'onScroll' && rn('scroll', t), o || s === l || (o = [])) : (o = o || []).push(u, l));
    }
    n && (o = o || []).push('style', n);
    var u = o;
    (e.updateQueue = u) && (e.flags |= 4);
  }
};
Ay = function (t, e, n, r) {
  n !== r && (e.flags |= 4);
};
function Ss(t, e) {
  if (!ln)
    switch (t.tailMode) {
      case 'hidden':
        e = t.tail;
        for (var n = null; e !== null; ) e.alternate !== null && (n = e), (e = e.sibling);
        n === null ? (t.tail = null) : (n.sibling = null);
        break;
      case 'collapsed':
        n = t.tail;
        for (var r = null; n !== null; ) n.alternate !== null && (r = n), (n = n.sibling);
        r === null ? (e || t.tail === null ? (t.tail = null) : (t.tail.sibling = null)) : (r.sibling = null);
    }
}
function Wn(t) {
  var e = t.alternate !== null && t.alternate.child === t.child,
    n = 0,
    r = 0;
  if (e) for (var i = t.child; i !== null; ) (n |= i.lanes | i.childLanes), (r |= i.subtreeFlags & 14680064), (r |= i.flags & 14680064), (i.return = t), (i = i.sibling);
  else for (i = t.child; i !== null; ) (n |= i.lanes | i.childLanes), (r |= i.subtreeFlags), (r |= i.flags), (i.return = t), (i = i.sibling);
  return (t.subtreeFlags |= r), (t.childLanes = n), e;
}
function bS(t, e, n) {
  var r = e.pendingProps;
  switch ((wm(e), e.tag)) {
    case 2:
    case 16:
    case 15:
    case 0:
    case 11:
    case 7:
    case 8:
    case 12:
    case 9:
    case 14:
      return Wn(e), null;
    case 1:
      return sr(e.type) && rc(), Wn(e), null;
    case 3:
      return (
        (r = e.stateNode),
        qa(),
        an(ar),
        an(Yn),
        km(),
        r.pendingContext && ((r.context = r.pendingContext), (r.pendingContext = null)),
        (t === null || t.child === null) && (tu(e) ? (e.flags |= 4) : t === null || (t.memoizedState.isDehydrated && !(e.flags & 256)) || ((e.flags |= 1024), qr !== null && (Jh(qr), (qr = null)))),
        Gh(t, e),
        Wn(e),
        null
      );
    case 5:
      Om(e);
      var i = Ao(dl.current);
      if (((n = e.type), t !== null && e.stateNode != null)) Ry(t, e, n, r, i), t.ref !== e.ref && ((e.flags |= 512), (e.flags |= 2097152));
      else {
        if (!r) {
          if (e.stateNode === null) throw Error(be(166));
          return Wn(e), null;
        }
        if (((t = Ao(fi.current)), tu(e))) {
          (r = e.stateNode), (n = e.type);
          var o = e.memoizedProps;
          switch (((r[ci] = e), (r[ul] = o), (t = (e.mode & 1) !== 0), n)) {
            case 'dialog':
              rn('cancel', r), rn('close', r);
              break;
            case 'iframe':
            case 'object':
            case 'embed':
              rn('load', r);
              break;
            case 'video':
            case 'audio':
              for (i = 0; i < Ps.length; i++) rn(Ps[i], r);
              break;
            case 'source':
              rn('error', r);
              break;
            case 'img':
            case 'image':
            case 'link':
              rn('error', r), rn('load', r);
              break;
            case 'details':
              rn('toggle', r);
              break;
            case 'input':
              s1(r, o), rn('invalid', r);
              break;
            case 'select':
              (r._wrapperState = { wasMultiple: !!o.multiple }), rn('invalid', r);
              break;
            case 'textarea':
              u1(r, o), rn('invalid', r);
          }
          yh(n, o), (i = null);
          for (var a in o)
            if (o.hasOwnProperty(a)) {
              var s = o[a];
              a === 'children'
                ? typeof s == 'string'
                  ? r.textContent !== s && (o.suppressHydrationWarning !== !0 && eu(r.textContent, s, t), (i = ['children', s]))
                  : typeof s == 'number' && r.textContent !== '' + s && (o.suppressHydrationWarning !== !0 && eu(r.textContent, s, t), (i = ['children', '' + s]))
                : Js.hasOwnProperty(a) && s != null && a === 'onScroll' && rn('scroll', r);
            }
          switch (n) {
            case 'input':
              Wl(r), l1(r, o, !0);
              break;
            case 'textarea':
              Wl(r), c1(r);
              break;
            case 'select':
            case 'option':
              break;
            default:
              typeof o.onClick == 'function' && (r.onclick = nc);
          }
          (r = i), (e.updateQueue = r), r !== null && (e.flags |= 4);
        } else {
          (a = i.nodeType === 9 ? i : i.ownerDocument),
            t === 'http://www.w3.org/1999/xhtml' && (t = t3(n)),
            t === 'http://www.w3.org/1999/xhtml'
              ? n === 'script'
                ? ((t = a.createElement('div')), (t.innerHTML = '<script></script>'), (t = t.removeChild(t.firstChild)))
                : typeof r.is == 'string'
                ? (t = a.createElement(n, { is: r.is }))
                : ((t = a.createElement(n)), n === 'select' && ((a = t), r.multiple ? (a.multiple = !0) : r.size && (a.size = r.size)))
              : (t = a.createElementNS(t, n)),
            (t[ci] = e),
            (t[ul] = r),
            Cy(t, e, !1, !1),
            (e.stateNode = t);
          e: {
            switch (((a = _h(n, r)), n)) {
              case 'dialog':
                rn('cancel', t), rn('close', t), (i = r);
                break;
              case 'iframe':
              case 'object':
              case 'embed':
                rn('load', t), (i = r);
                break;
              case 'video':
              case 'audio':
                for (i = 0; i < Ps.length; i++) rn(Ps[i], t);
                i = r;
                break;
              case 'source':
                rn('error', t), (i = r);
                break;
              case 'img':
              case 'image':
              case 'link':
                rn('error', t), rn('load', t), (i = r);
                break;
              case 'details':
                rn('toggle', t), (i = r);
                break;
              case 'input':
                s1(t, r), (i = hh(t, r)), rn('invalid', t);
                break;
              case 'option':
                i = r;
                break;
              case 'select':
                (t._wrapperState = { wasMultiple: !!r.multiple }), (i = mn({}, r, { value: void 0 })), rn('invalid', t);
                break;
              case 'textarea':
                u1(t, r), (i = gh(t, r)), rn('invalid', t);
                break;
              default:
                i = r;
            }
            yh(n, i), (s = i);
            for (o in s)
              if (s.hasOwnProperty(o)) {
                var l = s[o];
                o === 'style'
                  ? i3(t, l)
                  : o === 'dangerouslySetInnerHTML'
                  ? ((l = l ? l.__html : void 0), l != null && n3(t, l))
                  : o === 'children'
                  ? typeof l == 'string'
                    ? (n !== 'textarea' || l !== '') && el(t, l)
                    : typeof l == 'number' && el(t, '' + l)
                  : o !== 'suppressContentEditableWarning' &&
                    o !== 'suppressHydrationWarning' &&
                    o !== 'autoFocus' &&
                    (Js.hasOwnProperty(o) ? l != null && o === 'onScroll' && rn('scroll', t) : l != null && cm(t, o, l, a));
              }
            switch (n) {
              case 'input':
                Wl(t), l1(t, r, !1);
                break;
              case 'textarea':
                Wl(t), c1(t);
                break;
              case 'option':
                r.value != null && t.setAttribute('value', '' + uo(r.value));
                break;
              case 'select':
                (t.multiple = !!r.multiple), (o = r.value), o != null ? Oa(t, !!r.multiple, o, !1) : r.defaultValue != null && Oa(t, !!r.multiple, r.defaultValue, !0);
                break;
              default:
                typeof i.onClick == 'function' && (t.onclick = nc);
            }
            switch (n) {
              case 'button':
              case 'input':
              case 'select':
              case 'textarea':
                r = !!r.autoFocus;
                break e;
              case 'img':
                r = !0;
                break e;
              default:
                r = !1;
            }
          }
          r && (e.flags |= 4);
        }
        e.ref !== null && ((e.flags |= 512), (e.flags |= 2097152));
      }
      return Wn(e), null;
    case 6:
      if (t && e.stateNode != null) Ay(t, e, t.memoizedProps, r);
      else {
        if (typeof r != 'string' && e.stateNode === null) throw Error(be(166));
        if (((n = Ao(dl.current)), Ao(fi.current), tu(e))) {
          if (((r = e.stateNode), (n = e.memoizedProps), (r[ci] = e), (o = r.nodeValue !== n) && ((t = yr), t !== null)))
            switch (t.tag) {
              case 3:
                eu(r.nodeValue, n, (t.mode & 1) !== 0);
                break;
              case 5:
                t.memoizedProps.suppressHydrationWarning !== !0 && eu(r.nodeValue, n, (t.mode & 1) !== 0);
            }
          o && (e.flags |= 4);
        } else (r = (n.nodeType === 9 ? n : n.ownerDocument).createTextNode(r)), (r[ci] = e), (e.stateNode = r);
      }
      return Wn(e), null;
    case 13:
      if ((an(dn), (r = e.memoizedState), t === null || (t.memoizedState !== null && t.memoizedState.dehydrated !== null))) {
        if (ln && gr !== null && e.mode & 1 && !(e.flags & 128)) G3(), Wa(), (e.flags |= 98560), (o = !1);
        else if (((o = tu(e)), r !== null && r.dehydrated !== null)) {
          if (t === null) {
            if (!o) throw Error(be(318));
            if (((o = e.memoizedState), (o = o !== null ? o.dehydrated : null), !o)) throw Error(be(317));
            o[ci] = e;
          } else Wa(), !(e.flags & 128) && (e.memoizedState = null), (e.flags |= 4);
          Wn(e), (o = !1);
        } else qr !== null && (Jh(qr), (qr = null)), (o = !0);
        if (!o) return e.flags & 65536 ? e : null;
      }
      return e.flags & 128
        ? ((e.lanes = n), e)
        : ((r = r !== null),
          r !== (t !== null && t.memoizedState !== null) && r && ((e.child.flags |= 8192), e.mode & 1 && (t === null || dn.current & 1 ? In === 0 && (In = 3) : Wm())),
          e.updateQueue !== null && (e.flags |= 4),
          Wn(e),
          null);
    case 4:
      return qa(), Gh(t, e), t === null && sl(e.stateNode.containerInfo), Wn(e), null;
    case 10:
      return Lm(e.type._context), Wn(e), null;
    case 17:
      return sr(e.type) && rc(), Wn(e), null;
    case 19:
      if ((an(dn), (o = e.memoizedState), o === null)) return Wn(e), null;
      if (((r = (e.flags & 128) !== 0), (a = o.rendering), a === null))
        if (r) Ss(o, !1);
        else {
          if (In !== 0 || (t !== null && t.flags & 128))
            for (t = e.child; t !== null; ) {
              if (((a = cc(t)), a !== null)) {
                for (e.flags |= 128, Ss(o, !1), r = a.updateQueue, r !== null && ((e.updateQueue = r), (e.flags |= 4)), e.subtreeFlags = 0, r = n, n = e.child; n !== null; )
                  (o = n),
                    (t = r),
                    (o.flags &= 14680066),
                    (a = o.alternate),
                    a === null
                      ? ((o.childLanes = 0),
                        (o.lanes = t),
                        (o.child = null),
                        (o.subtreeFlags = 0),
                        (o.memoizedProps = null),
                        (o.memoizedState = null),
                        (o.updateQueue = null),
                        (o.dependencies = null),
                        (o.stateNode = null))
                      : ((o.childLanes = a.childLanes),
                        (o.lanes = a.lanes),
                        (o.child = a.child),
                        (o.subtreeFlags = 0),
                        (o.deletions = null),
                        (o.memoizedProps = a.memoizedProps),
                        (o.memoizedState = a.memoizedState),
                        (o.updateQueue = a.updateQueue),
                        (o.type = a.type),
                        (t = a.dependencies),
                        (o.dependencies = t === null ? null : { lanes: t.lanes, firstContext: t.firstContext })),
                    (n = n.sibling);
                return en(dn, (dn.current & 1) | 2), e.child;
              }
              t = t.sibling;
            }
          o.tail !== null && bn() > Xa && ((e.flags |= 128), (r = !0), Ss(o, !1), (e.lanes = 4194304));
        }
      else {
        if (!r)
          if (((t = cc(a)), t !== null)) {
            if (((e.flags |= 128), (r = !0), (n = t.updateQueue), n !== null && ((e.updateQueue = n), (e.flags |= 4)), Ss(o, !0), o.tail === null && o.tailMode === 'hidden' && !a.alternate && !ln))
              return Wn(e), null;
          } else 2 * bn() - o.renderingStartTime > Xa && n !== 1073741824 && ((e.flags |= 128), (r = !0), Ss(o, !1), (e.lanes = 4194304));
        o.isBackwards ? ((a.sibling = e.child), (e.child = a)) : ((n = o.last), n !== null ? (n.sibling = a) : (e.child = a), (o.last = a));
      }
      return o.tail !== null
        ? ((e = o.tail), (o.rendering = e), (o.tail = e.sibling), (o.renderingStartTime = bn()), (e.sibling = null), (n = dn.current), en(dn, r ? (n & 1) | 2 : n & 1), e)
        : (Wn(e), null);
    case 22:
    case 23:
      return (
        Gm(),
        (r = e.memoizedState !== null),
        t !== null && (t.memoizedState !== null) !== r && (e.flags |= 8192),
        r && e.mode & 1 ? pr & 1073741824 && (Wn(e), e.subtreeFlags & 6 && (e.flags |= 8192)) : Wn(e),
        null
      );
    case 24:
      return null;
    case 25:
      return null;
  }
  throw Error(be(156, e.tag));
}
function xS(t, e) {
  switch ((wm(e), e.tag)) {
    case 1:
      return sr(e.type) && rc(), (t = e.flags), t & 65536 ? ((e.flags = (t & -65537) | 128), e) : null;
    case 3:
      return qa(), an(ar), an(Yn), km(), (t = e.flags), t & 65536 && !(t & 128) ? ((e.flags = (t & -65537) | 128), e) : null;
    case 5:
      return Om(e), null;
    case 13:
      if ((an(dn), (t = e.memoizedState), t !== null && t.dehydrated !== null)) {
        if (e.alternate === null) throw Error(be(340));
        Wa();
      }
      return (t = e.flags), t & 65536 ? ((e.flags = (t & -65537) | 128), e) : null;
    case 19:
      return an(dn), null;
    case 4:
      return qa(), null;
    case 10:
      return Lm(e.type._context), null;
    case 22:
    case 23:
      return Gm(), null;
    case 24:
      return null;
    default:
      return null;
  }
}
var iu = !1,
  qn = !1,
  TS = typeof WeakSet == 'function' ? WeakSet : Set,
  He = null;
function wa(t, e) {
  var n = t.ref;
  if (n !== null)
    if (typeof n == 'function')
      try {
        n(null);
      } catch (r) {
        pn(t, e, r);
      }
    else n.current = null;
}
function Wh(t, e, n) {
  try {
    n();
  } catch (r) {
    pn(t, e, r);
  }
}
var J1 = !1;
function wS(t, e) {
  if (((Lh = Ju), (t = P3()), xm(t))) {
    if ('selectionStart' in t) var n = { start: t.selectionStart, end: t.selectionEnd };
    else
      e: {
        n = ((n = t.ownerDocument) && n.defaultView) || window;
        var r = n.getSelection && n.getSelection();
        if (r && r.rangeCount !== 0) {
          n = r.anchorNode;
          var i = r.anchorOffset,
            o = r.focusNode;
          r = r.focusOffset;
          try {
            n.nodeType, o.nodeType;
          } catch {
            n = null;
            break e;
          }
          var a = 0,
            s = -1,
            l = -1,
            u = 0,
            c = 0,
            d = t,
            f = null;
          t: for (;;) {
            for (
              var h;
              d !== n || (i !== 0 && d.nodeType !== 3) || (s = a + i),
                d !== o || (r !== 0 && d.nodeType !== 3) || (l = a + r),
                d.nodeType === 3 && (a += d.nodeValue.length),
                (h = d.firstChild) !== null;

            )
              (f = d), (d = h);
            for (;;) {
              if (d === t) break t;
              if ((f === n && ++u === i && (s = a), f === o && ++c === r && (l = a), (h = d.nextSibling) !== null)) break;
              (d = f), (f = d.parentNode);
            }
            d = h;
          }
          n = s === -1 || l === -1 ? null : { start: s, end: l };
        } else n = null;
      }
    n = n || { start: 0, end: 0 };
  } else n = null;
  for (Ih = { focusedElem: t, selectionRange: n }, Ju = !1, He = e; He !== null; )
    if (((e = He), (t = e.child), (e.subtreeFlags & 1028) !== 0 && t !== null)) (t.return = e), (He = t);
    else
      for (; He !== null; ) {
        e = He;
        try {
          var m = e.alternate;
          if (e.flags & 1024)
            switch (e.tag) {
              case 0:
              case 11:
              case 15:
                break;
              case 1:
                if (m !== null) {
                  var g = m.memoizedProps,
                    b = m.memoizedState,
                    _ = e.stateNode,
                    y = _.getSnapshotBeforeUpdate(e.elementType === e.type ? g : jr(e.type, g), b);
                  _.__reactInternalSnapshotBeforeUpdate = y;
                }
                break;
              case 3:
                var T = e.stateNode.containerInfo;
                T.nodeType === 1 ? (T.textContent = '') : T.nodeType === 9 && T.documentElement && T.removeChild(T.documentElement);
                break;
              case 5:
              case 6:
              case 4:
              case 17:
                break;
              default:
                throw Error(be(163));
            }
        } catch (w) {
          pn(e, e.return, w);
        }
        if (((t = e.sibling), t !== null)) {
          (t.return = e.return), (He = t);
          break;
        }
        He = e.return;
      }
  return (m = J1), (J1 = !1), m;
}
function zs(t, e, n) {
  var r = e.updateQueue;
  if (((r = r !== null ? r.lastEffect : null), r !== null)) {
    var i = (r = r.next);
    do {
      if ((i.tag & t) === t) {
        var o = i.destroy;
        (i.destroy = void 0), o !== void 0 && Wh(e, n, o);
      }
      i = i.next;
    } while (i !== r);
  }
}
function td(t, e) {
  if (((e = e.updateQueue), (e = e !== null ? e.lastEffect : null), e !== null)) {
    var n = (e = e.next);
    do {
      if ((n.tag & t) === t) {
        var r = n.create;
        n.destroy = r();
      }
      n = n.next;
    } while (n !== e);
  }
}
function Kh(t) {
  var e = t.ref;
  if (e !== null) {
    var n = t.stateNode;
    switch (t.tag) {
      case 5:
        t = n;
        break;
      default:
        t = n;
    }
    typeof e == 'function' ? e(t) : (e.current = t);
  }
}
function Ly(t) {
  var e = t.alternate;
  e !== null && ((t.alternate = null), Ly(e)),
    (t.child = null),
    (t.deletions = null),
    (t.sibling = null),
    t.tag === 5 && ((e = t.stateNode), e !== null && (delete e[ci], delete e[ul], delete e[Oh], delete e[sS], delete e[lS])),
    (t.stateNode = null),
    (t.return = null),
    (t.dependencies = null),
    (t.memoizedProps = null),
    (t.memoizedState = null),
    (t.pendingProps = null),
    (t.stateNode = null),
    (t.updateQueue = null);
}
function Iy(t) {
  return t.tag === 5 || t.tag === 3 || t.tag === 4;
}
function eg(t) {
  e: for (;;) {
    for (; t.sibling === null; ) {
      if (t.return === null || Iy(t.return)) return null;
      t = t.return;
    }
    for (t.sibling.return = t.return, t = t.sibling; t.tag !== 5 && t.tag !== 6 && t.tag !== 18; ) {
      if (t.flags & 2 || t.child === null || t.tag === 4) continue e;
      (t.child.return = t), (t = t.child);
    }
    if (!(t.flags & 2)) return t.stateNode;
  }
}
function qh(t, e, n) {
  var r = t.tag;
  if (r === 5 || r === 6)
    (t = t.stateNode),
      e
        ? n.nodeType === 8
          ? n.parentNode.insertBefore(t, e)
          : n.insertBefore(t, e)
        : (n.nodeType === 8 ? ((e = n.parentNode), e.insertBefore(t, n)) : ((e = n), e.appendChild(t)), (n = n._reactRootContainer), n != null || e.onclick !== null || (e.onclick = nc));
  else if (r !== 4 && ((t = t.child), t !== null)) for (qh(t, e, n), t = t.sibling; t !== null; ) qh(t, e, n), (t = t.sibling);
}
function Yh(t, e, n) {
  var r = t.tag;
  if (r === 5 || r === 6) (t = t.stateNode), e ? n.insertBefore(t, e) : n.appendChild(t);
  else if (r !== 4 && ((t = t.child), t !== null)) for (Yh(t, e, n), t = t.sibling; t !== null; ) Yh(t, e, n), (t = t.sibling);
}
var Un = null,
  Gr = !1;
function Ui(t, e, n) {
  for (n = n.child; n !== null; ) Dy(t, e, n), (n = n.sibling);
}
function Dy(t, e, n) {
  if (di && typeof di.onCommitFiberUnmount == 'function')
    try {
      di.onCommitFiberUnmount(Kc, n);
    } catch {}
  switch (n.tag) {
    case 5:
      qn || wa(n, e);
    case 6:
      var r = Un,
        i = Gr;
      (Un = null),
        Ui(t, e, n),
        (Un = r),
        (Gr = i),
        Un !== null && (Gr ? ((t = Un), (n = n.stateNode), t.nodeType === 8 ? t.parentNode.removeChild(n) : t.removeChild(n)) : Un.removeChild(n.stateNode));
      break;
    case 18:
      Un !== null && (Gr ? ((t = Un), (n = n.stateNode), t.nodeType === 8 ? Yd(t.parentNode, n) : t.nodeType === 1 && Yd(t, n), il(t)) : Yd(Un, n.stateNode));
      break;
    case 4:
      (r = Un), (i = Gr), (Un = n.stateNode.containerInfo), (Gr = !0), Ui(t, e, n), (Un = r), (Gr = i);
      break;
    case 0:
    case 11:
    case 14:
    case 15:
      if (!qn && ((r = n.updateQueue), r !== null && ((r = r.lastEffect), r !== null))) {
        i = r = r.next;
        do {
          var o = i,
            a = o.destroy;
          (o = o.tag), a !== void 0 && (o & 2 || o & 4) && Wh(n, e, a), (i = i.next);
        } while (i !== r);
      }
      Ui(t, e, n);
      break;
    case 1:
      if (!qn && (wa(n, e), (r = n.stateNode), typeof r.componentWillUnmount == 'function'))
        try {
          (r.props = n.memoizedProps), (r.state = n.memoizedState), r.componentWillUnmount();
        } catch (s) {
          pn(n, e, s);
        }
      Ui(t, e, n);
      break;
    case 21:
      Ui(t, e, n);
      break;
    case 22:
      n.mode & 1 ? ((qn = (r = qn) || n.memoizedState !== null), Ui(t, e, n), (qn = r)) : Ui(t, e, n);
      break;
    default:
      Ui(t, e, n);
  }
}
function tg(t) {
  var e = t.updateQueue;
  if (e !== null) {
    t.updateQueue = null;
    var n = t.stateNode;
    n === null && (n = t.stateNode = new TS()),
      e.forEach(function (r) {
        var i = kS.bind(null, t, r);
        n.has(r) || (n.add(r), r.then(i, i));
      });
  }
}
function Ur(t, e) {
  var n = e.deletions;
  if (n !== null)
    for (var r = 0; r < n.length; r++) {
      var i = n[r];
      try {
        var o = t,
          a = e,
          s = a;
        e: for (; s !== null; ) {
          switch (s.tag) {
            case 5:
              (Un = s.stateNode), (Gr = !1);
              break e;
            case 3:
              (Un = s.stateNode.containerInfo), (Gr = !0);
              break e;
            case 4:
              (Un = s.stateNode.containerInfo), (Gr = !0);
              break e;
          }
          s = s.return;
        }
        if (Un === null) throw Error(be(160));
        Dy(o, a, i), (Un = null), (Gr = !1);
        var l = i.alternate;
        l !== null && (l.return = null), (i.return = null);
      } catch (u) {
        pn(i, e, u);
      }
    }
  if (e.subtreeFlags & 12854) for (e = e.child; e !== null; ) Py(e, t), (e = e.sibling);
}
function Py(t, e) {
  var n = t.alternate,
    r = t.flags;
  switch (t.tag) {
    case 0:
    case 11:
    case 14:
    case 15:
      if ((Ur(e, t), ri(t), r & 4)) {
        try {
          zs(3, t, t.return), td(3, t);
        } catch (g) {
          pn(t, t.return, g);
        }
        try {
          zs(5, t, t.return);
        } catch (g) {
          pn(t, t.return, g);
        }
      }
      break;
    case 1:
      Ur(e, t), ri(t), r & 512 && n !== null && wa(n, n.return);
      break;
    case 5:
      if ((Ur(e, t), ri(t), r & 512 && n !== null && wa(n, n.return), t.flags & 32)) {
        var i = t.stateNode;
        try {
          el(i, '');
        } catch (g) {
          pn(t, t.return, g);
        }
      }
      if (r & 4 && ((i = t.stateNode), i != null)) {
        var o = t.memoizedProps,
          a = n !== null ? n.memoizedProps : o,
          s = t.type,
          l = t.updateQueue;
        if (((t.updateQueue = null), l !== null))
          try {
            s === 'input' && o.type === 'radio' && o.name != null && J2(i, o), _h(s, a);
            var u = _h(s, o);
            for (a = 0; a < l.length; a += 2) {
              var c = l[a],
                d = l[a + 1];
              c === 'style' ? i3(i, d) : c === 'dangerouslySetInnerHTML' ? n3(i, d) : c === 'children' ? el(i, d) : cm(i, c, d, u);
            }
            switch (s) {
              case 'input':
                mh(i, o);
                break;
              case 'textarea':
                e3(i, o);
                break;
              case 'select':
                var f = i._wrapperState.wasMultiple;
                i._wrapperState.wasMultiple = !!o.multiple;
                var h = o.value;
                h != null ? Oa(i, !!o.multiple, h, !1) : f !== !!o.multiple && (o.defaultValue != null ? Oa(i, !!o.multiple, o.defaultValue, !0) : Oa(i, !!o.multiple, o.multiple ? [] : '', !1));
            }
            i[ul] = o;
          } catch (g) {
            pn(t, t.return, g);
          }
      }
      break;
    case 6:
      if ((Ur(e, t), ri(t), r & 4)) {
        if (t.stateNode === null) throw Error(be(162));
        (i = t.stateNode), (o = t.memoizedProps);
        try {
          i.nodeValue = o;
        } catch (g) {
          pn(t, t.return, g);
        }
      }
      break;
    case 3:
      if ((Ur(e, t), ri(t), r & 4 && n !== null && n.memoizedState.isDehydrated))
        try {
          il(e.containerInfo);
        } catch (g) {
          pn(t, t.return, g);
        }
      break;
    case 4:
      Ur(e, t), ri(t);
      break;
    case 13:
      Ur(e, t),
        ri(t),
        (i = t.child),
        i.flags & 8192 && ((o = i.memoizedState !== null), (i.stateNode.isHidden = o), !o || (i.alternate !== null && i.alternate.memoizedState !== null) || (Hm = bn())),
        r & 4 && tg(t);
      break;
    case 22:
      if (((c = n !== null && n.memoizedState !== null), t.mode & 1 ? ((qn = (u = qn) || c), Ur(e, t), (qn = u)) : Ur(e, t), ri(t), r & 8192)) {
        if (((u = t.memoizedState !== null), (t.stateNode.isHidden = u) && !c && t.mode & 1))
          for (He = t, c = t.child; c !== null; ) {
            for (d = He = c; He !== null; ) {
              switch (((f = He), (h = f.child), f.tag)) {
                case 0:
                case 11:
                case 14:
                case 15:
                  zs(4, f, f.return);
                  break;
                case 1:
                  wa(f, f.return);
                  var m = f.stateNode;
                  if (typeof m.componentWillUnmount == 'function') {
                    (r = f), (n = f.return);
                    try {
                      (e = r), (m.props = e.memoizedProps), (m.state = e.memoizedState), m.componentWillUnmount();
                    } catch (g) {
                      pn(r, n, g);
                    }
                  }
                  break;
                case 5:
                  wa(f, f.return);
                  break;
                case 22:
                  if (f.memoizedState !== null) {
                    rg(d);
                    continue;
                  }
              }
              h !== null ? ((h.return = f), (He = h)) : rg(d);
            }
            c = c.sibling;
          }
        e: for (c = null, d = t; ; ) {
          if (d.tag === 5) {
            if (c === null) {
              c = d;
              try {
                (i = d.stateNode),
                  u
                    ? ((o = i.style), typeof o.setProperty == 'function' ? o.setProperty('display', 'none', 'important') : (o.display = 'none'))
                    : ((s = d.stateNode), (l = d.memoizedProps.style), (a = l != null && l.hasOwnProperty('display') ? l.display : null), (s.style.display = r3('display', a)));
              } catch (g) {
                pn(t, t.return, g);
              }
            }
          } else if (d.tag === 6) {
            if (c === null)
              try {
                d.stateNode.nodeValue = u ? '' : d.memoizedProps;
              } catch (g) {
                pn(t, t.return, g);
              }
          } else if (((d.tag !== 22 && d.tag !== 23) || d.memoizedState === null || d === t) && d.child !== null) {
            (d.child.return = d), (d = d.child);
            continue;
          }
          if (d === t) break e;
          for (; d.sibling === null; ) {
            if (d.return === null || d.return === t) break e;
            c === d && (c = null), (d = d.return);
          }
          c === d && (c = null), (d.sibling.return = d.return), (d = d.sibling);
        }
      }
      break;
    case 19:
      Ur(e, t), ri(t), r & 4 && tg(t);
      break;
    case 21:
      break;
    default:
      Ur(e, t), ri(t);
  }
}
function ri(t) {
  var e = t.flags;
  if (e & 2) {
    try {
      e: {
        for (var n = t.return; n !== null; ) {
          if (Iy(n)) {
            var r = n;
            break e;
          }
          n = n.return;
        }
        throw Error(be(160));
      }
      switch (r.tag) {
        case 5:
          var i = r.stateNode;
          r.flags & 32 && (el(i, ''), (r.flags &= -33));
          var o = eg(t);
          Yh(t, o, i);
          break;
        case 3:
        case 4:
          var a = r.stateNode.containerInfo,
            s = eg(t);
          qh(t, s, a);
          break;
        default:
          throw Error(be(161));
      }
    } catch (l) {
      pn(t, t.return, l);
    }
    t.flags &= -3;
  }
  e & 4096 && (t.flags &= -4097);
}
function CS(t, e, n) {
  (He = t), Oy(t);
}
function Oy(t, e, n) {
  for (var r = (t.mode & 1) !== 0; He !== null; ) {
    var i = He,
      o = i.child;
    if (i.tag === 22 && r) {
      var a = i.memoizedState !== null || iu;
      if (!a) {
        var s = i.alternate,
          l = (s !== null && s.memoizedState !== null) || qn;
        s = iu;
        var u = qn;
        if (((iu = a), (qn = l) && !u)) for (He = i; He !== null; ) (a = He), (l = a.child), a.tag === 22 && a.memoizedState !== null ? ig(i) : l !== null ? ((l.return = a), (He = l)) : ig(i);
        for (; o !== null; ) (He = o), Oy(o), (o = o.sibling);
        (He = i), (iu = s), (qn = u);
      }
      ng(t);
    } else i.subtreeFlags & 8772 && o !== null ? ((o.return = i), (He = o)) : ng(t);
  }
}
function ng(t) {
  for (; He !== null; ) {
    var e = He;
    if (e.flags & 8772) {
      var n = e.alternate;
      try {
        if (e.flags & 8772)
          switch (e.tag) {
            case 0:
            case 11:
            case 15:
              qn || td(5, e);
              break;
            case 1:
              var r = e.stateNode;
              if (e.flags & 4 && !qn)
                if (n === null) r.componentDidMount();
                else {
                  var i = e.elementType === e.type ? n.memoizedProps : jr(e.type, n.memoizedProps);
                  r.componentDidUpdate(i, n.memoizedState, r.__reactInternalSnapshotBeforeUpdate);
                }
              var o = e.updateQueue;
              o !== null && B1(e, o, r);
              break;
            case 3:
              var a = e.updateQueue;
              if (a !== null) {
                if (((n = null), e.child !== null))
                  switch (e.child.tag) {
                    case 5:
                      n = e.child.stateNode;
                      break;
                    case 1:
                      n = e.child.stateNode;
                  }
                B1(e, a, n);
              }
              break;
            case 5:
              var s = e.stateNode;
              if (n === null && e.flags & 4) {
                n = s;
                var l = e.memoizedProps;
                switch (e.type) {
                  case 'button':
                  case 'input':
                  case 'select':
                  case 'textarea':
                    l.autoFocus && n.focus();
                    break;
                  case 'img':
                    l.src && (n.src = l.src);
                }
              }
              break;
            case 6:
              break;
            case 4:
              break;
            case 12:
              break;
            case 13:
              if (e.memoizedState === null) {
                var u = e.alternate;
                if (u !== null) {
                  var c = u.memoizedState;
                  if (c !== null) {
                    var d = c.dehydrated;
                    d !== null && il(d);
                  }
                }
              }
              break;
            case 19:
            case 17:
            case 21:
            case 22:
            case 23:
            case 25:
              break;
            default:
              throw Error(be(163));
          }
        qn || (e.flags & 512 && Kh(e));
      } catch (f) {
        pn(e, e.return, f);
      }
    }
    if (e === t) {
      He = null;
      break;
    }
    if (((n = e.sibling), n !== null)) {
      (n.return = e.return), (He = n);
      break;
    }
    He = e.return;
  }
}
function rg(t) {
  for (; He !== null; ) {
    var e = He;
    if (e === t) {
      He = null;
      break;
    }
    var n = e.sibling;
    if (n !== null) {
      (n.return = e.return), (He = n);
      break;
    }
    He = e.return;
  }
}
function ig(t) {
  for (; He !== null; ) {
    var e = He;
    try {
      switch (e.tag) {
        case 0:
        case 11:
        case 15:
          var n = e.return;
          try {
            td(4, e);
          } catch (l) {
            pn(e, n, l);
          }
          break;
        case 1:
          var r = e.stateNode;
          if (typeof r.componentDidMount == 'function') {
            var i = e.return;
            try {
              r.componentDidMount();
            } catch (l) {
              pn(e, i, l);
            }
          }
          var o = e.return;
          try {
            Kh(e);
          } catch (l) {
            pn(e, o, l);
          }
          break;
        case 5:
          var a = e.return;
          try {
            Kh(e);
          } catch (l) {
            pn(e, a, l);
          }
      }
    } catch (l) {
      pn(e, e.return, l);
    }
    if (e === t) {
      He = null;
      break;
    }
    var s = e.sibling;
    if (s !== null) {
      (s.return = e.return), (He = s);
      break;
    }
    He = e.return;
  }
}
var RS = Math.ceil,
  hc = Bi.ReactCurrentDispatcher,
  zm = Bi.ReactCurrentOwner,
  kr = Bi.ReactCurrentBatchConfig,
  Pt = 0,
  $n = null,
  Cn = null,
  Vn = 0,
  pr = 0,
  Ca = ho(0),
  In = 0,
  pl = null,
  Bo = 0,
  nd = 0,
  Vm = 0,
  Vs = null,
  rr = null,
  Hm = 0,
  Xa = 1 / 0,
  bi = null,
  mc = !1,
  Xh = null,
  ao = null,
  ou = !1,
  Zi = null,
  pc = 0,
  Hs = 0,
  Qh = null,
  $u = -1,
  Bu = 0;
function Zn() {
  return Pt & 6 ? bn() : $u !== -1 ? $u : ($u = bn());
}
function so(t) {
  return t.mode & 1
    ? Pt & 2 && Vn !== 0
      ? Vn & -Vn
      : cS.transition !== null
      ? (Bu === 0 && (Bu = g3()), Bu)
      : ((t = Vt), t !== 0 || ((t = window.event), (t = t === void 0 ? 16 : x3(t.type))), t)
    : 1;
}
function Jr(t, e, n, r) {
  if (50 < Hs) throw ((Hs = 0), (Qh = null), Error(be(185)));
  Cl(t, n, r), (!(Pt & 2) || t !== $n) && (t === $n && (!(Pt & 2) && (nd |= n), In === 4 && Xi(t, Vn)), lr(t, r), n === 1 && Pt === 0 && !(e.mode & 1) && ((Xa = bn() + 500), Zc && mo()));
}
function lr(t, e) {
  var n = t.callbackNode;
  c8(t, e);
  var r = Zu(t, t === $n ? Vn : 0);
  if (r === 0) n !== null && h1(n), (t.callbackNode = null), (t.callbackPriority = 0);
  else if (((e = r & -r), t.callbackPriority !== e)) {
    if ((n != null && h1(n), e === 1))
      t.tag === 0 ? uS(og.bind(null, t)) : V3(og.bind(null, t)),
        oS(function () {
          !(Pt & 6) && mo();
        }),
        (n = null);
    else {
      switch (v3(r)) {
        case 1:
          n = pm;
          break;
        case 4:
          n = m3;
          break;
        case 16:
          n = Qu;
          break;
        case 536870912:
          n = p3;
          break;
        default:
          n = Qu;
      }
      n = zy(n, ky.bind(null, t));
    }
    (t.callbackPriority = e), (t.callbackNode = n);
  }
}
function ky(t, e) {
  if ((($u = -1), (Bu = 0), Pt & 6)) throw Error(be(327));
  var n = t.callbackNode;
  if ($a() && t.callbackNode !== n) return null;
  var r = Zu(t, t === $n ? Vn : 0);
  if (r === 0) return null;
  if (r & 30 || r & t.expiredLanes || e) e = gc(t, r);
  else {
    e = r;
    var i = Pt;
    Pt |= 2;
    var o = Fy();
    ($n !== t || Vn !== e) && ((bi = null), (Xa = bn() + 500), Po(t, e));
    do
      try {
        IS();
        break;
      } catch (s) {
        My(t, s);
      }
    while (1);
    Am(), (hc.current = o), (Pt = i), Cn !== null ? (e = 0) : (($n = null), (Vn = 0), (e = In));
  }
  if (e !== 0) {
    if ((e === 2 && ((i = Th(t)), i !== 0 && ((r = i), (e = Zh(t, i)))), e === 1)) throw ((n = pl), Po(t, 0), Xi(t, r), lr(t, bn()), n);
    if (e === 6) Xi(t, r);
    else {
      if (((i = t.current.alternate), !(r & 30) && !AS(i) && ((e = gc(t, r)), e === 2 && ((o = Th(t)), o !== 0 && ((r = o), (e = Zh(t, o)))), e === 1)))
        throw ((n = pl), Po(t, 0), Xi(t, r), lr(t, bn()), n);
      switch (((t.finishedWork = i), (t.finishedLanes = r), e)) {
        case 0:
        case 1:
          throw Error(be(345));
        case 2:
          bo(t, rr, bi);
          break;
        case 3:
          if ((Xi(t, r), (r & 130023424) === r && ((e = Hm + 500 - bn()), 10 < e))) {
            if (Zu(t, 0) !== 0) break;
            if (((i = t.suspendedLanes), (i & r) !== r)) {
              Zn(), (t.pingedLanes |= t.suspendedLanes & i);
              break;
            }
            t.timeoutHandle = Ph(bo.bind(null, t, rr, bi), e);
            break;
          }
          bo(t, rr, bi);
          break;
        case 4:
          if ((Xi(t, r), (r & 4194240) === r)) break;
          for (e = t.eventTimes, i = -1; 0 < r; ) {
            var a = 31 - Zr(r);
            (o = 1 << a), (a = e[a]), a > i && (i = a), (r &= ~o);
          }
          if (((r = i), (r = bn() - r), (r = (120 > r ? 120 : 480 > r ? 480 : 1080 > r ? 1080 : 1920 > r ? 1920 : 3e3 > r ? 3e3 : 4320 > r ? 4320 : 1960 * RS(r / 1960)) - r), 10 < r)) {
            t.timeoutHandle = Ph(bo.bind(null, t, rr, bi), r);
            break;
          }
          bo(t, rr, bi);
          break;
        case 5:
          bo(t, rr, bi);
          break;
        default:
          throw Error(be(329));
      }
    }
  }
  return lr(t, bn()), t.callbackNode === n ? ky.bind(null, t) : null;
}
function Zh(t, e) {
  var n = Vs;
  return t.current.memoizedState.isDehydrated && (Po(t, e).flags |= 256), (t = gc(t, e)), t !== 2 && ((e = rr), (rr = n), e !== null && Jh(e)), t;
}
function Jh(t) {
  rr === null ? (rr = t) : rr.push.apply(rr, t);
}
function AS(t) {
  for (var e = t; ; ) {
    if (e.flags & 16384) {
      var n = e.updateQueue;
      if (n !== null && ((n = n.stores), n !== null))
        for (var r = 0; r < n.length; r++) {
          var i = n[r],
            o = i.getSnapshot;
          i = i.value;
          try {
            if (!ti(o(), i)) return !1;
          } catch {
            return !1;
          }
        }
    }
    if (((n = e.child), e.subtreeFlags & 16384 && n !== null)) (n.return = e), (e = n);
    else {
      if (e === t) break;
      for (; e.sibling === null; ) {
        if (e.return === null || e.return === t) return !0;
        e = e.return;
      }
      (e.sibling.return = e.return), (e = e.sibling);
    }
  }
  return !0;
}
function Xi(t, e) {
  for (e &= ~Vm, e &= ~nd, t.suspendedLanes |= e, t.pingedLanes &= ~e, t = t.expirationTimes; 0 < e; ) {
    var n = 31 - Zr(e),
      r = 1 << n;
    (t[n] = -1), (e &= ~r);
  }
}
function og(t) {
  if (Pt & 6) throw Error(be(327));
  $a();
  var e = Zu(t, 0);
  if (!(e & 1)) return lr(t, bn()), null;
  var n = gc(t, e);
  if (t.tag !== 0 && n === 2) {
    var r = Th(t);
    r !== 0 && ((e = r), (n = Zh(t, r)));
  }
  if (n === 1) throw ((n = pl), Po(t, 0), Xi(t, e), lr(t, bn()), n);
  if (n === 6) throw Error(be(345));
  return (t.finishedWork = t.current.alternate), (t.finishedLanes = e), bo(t, rr, bi), lr(t, bn()), null;
}
function jm(t, e) {
  var n = Pt;
  Pt |= 1;
  try {
    return t(e);
  } finally {
    (Pt = n), Pt === 0 && ((Xa = bn() + 500), Zc && mo());
  }
}
function Uo(t) {
  Zi !== null && Zi.tag === 0 && !(Pt & 6) && $a();
  var e = Pt;
  Pt |= 1;
  var n = kr.transition,
    r = Vt;
  try {
    if (((kr.transition = null), (Vt = 1), t)) return t();
  } finally {
    (Vt = r), (kr.transition = n), (Pt = e), !(Pt & 6) && mo();
  }
}
function Gm() {
  (pr = Ca.current), an(Ca);
}
function Po(t, e) {
  (t.finishedWork = null), (t.finishedLanes = 0);
  var n = t.timeoutHandle;
  if ((n !== -1 && ((t.timeoutHandle = -1), iS(n)), Cn !== null))
    for (n = Cn.return; n !== null; ) {
      var r = n;
      switch ((wm(r), r.tag)) {
        case 1:
          (r = r.type.childContextTypes), r != null && rc();
          break;
        case 3:
          qa(), an(ar), an(Yn), km();
          break;
        case 5:
          Om(r);
          break;
        case 4:
          qa();
          break;
        case 13:
          an(dn);
          break;
        case 19:
          an(dn);
          break;
        case 10:
          Lm(r.type._context);
          break;
        case 22:
        case 23:
          Gm();
      }
      n = n.return;
    }
  if ((($n = t), (Cn = t = lo(t.current, null)), (Vn = pr = e), (In = 0), (pl = null), (Vm = nd = Bo = 0), (rr = Vs = null), Ro !== null)) {
    for (e = 0; e < Ro.length; e++)
      if (((n = Ro[e]), (r = n.interleaved), r !== null)) {
        n.interleaved = null;
        var i = r.next,
          o = n.pending;
        if (o !== null) {
          var a = o.next;
          (o.next = i), (r.next = a);
        }
        n.pending = r;
      }
    Ro = null;
  }
  return t;
}
function My(t, e) {
  do {
    var n = Cn;
    try {
      if ((Am(), (Mu.current = fc), dc)) {
        for (var r = hn.memoizedState; r !== null; ) {
          var i = r.queue;
          i !== null && (i.pending = null), (r = r.next);
        }
        dc = !1;
      }
      if ((($o = 0), (Fn = Ln = hn = null), (Us = !1), (fl = 0), (zm.current = null), n === null || n.return === null)) {
        (In = 1), (pl = e), (Cn = null);
        break;
      }
      e: {
        var o = t,
          a = n.return,
          s = n,
          l = e;
        if (((e = Vn), (s.flags |= 32768), l !== null && typeof l == 'object' && typeof l.then == 'function')) {
          var u = l,
            c = s,
            d = c.tag;
          if (!(c.mode & 1) && (d === 0 || d === 11 || d === 15)) {
            var f = c.alternate;
            f ? ((c.updateQueue = f.updateQueue), (c.memoizedState = f.memoizedState), (c.lanes = f.lanes)) : ((c.updateQueue = null), (c.memoizedState = null));
          }
          var h = W1(a);
          if (h !== null) {
            (h.flags &= -257), K1(h, a, s, o, e), h.mode & 1 && G1(o, u, e), (e = h), (l = u);
            var m = e.updateQueue;
            if (m === null) {
              var g = new Set();
              g.add(l), (e.updateQueue = g);
            } else m.add(l);
            break e;
          } else {
            if (!(e & 1)) {
              G1(o, u, e), Wm();
              break e;
            }
            l = Error(be(426));
          }
        } else if (ln && s.mode & 1) {
          var b = W1(a);
          if (b !== null) {
            !(b.flags & 65536) && (b.flags |= 256), K1(b, a, s, o, e), Cm(Ya(l, s));
            break e;
          }
        }
        (o = l = Ya(l, s)), In !== 4 && (In = 2), Vs === null ? (Vs = [o]) : Vs.push(o), (o = a);
        do {
          switch (o.tag) {
            case 3:
              (o.flags |= 65536), (e &= -e), (o.lanes |= e);
              var _ = yy(o, l, e);
              $1(o, _);
              break e;
            case 1:
              s = l;
              var y = o.type,
                T = o.stateNode;
              if (!(o.flags & 128) && (typeof y.getDerivedStateFromError == 'function' || (T !== null && typeof T.componentDidCatch == 'function' && (ao === null || !ao.has(T))))) {
                (o.flags |= 65536), (e &= -e), (o.lanes |= e);
                var w = _y(o, s, e);
                $1(o, w);
                break e;
              }
          }
          o = o.return;
        } while (o !== null);
      }
      $y(n);
    } catch (I) {
      (e = I), Cn === n && n !== null && (Cn = n = n.return);
      continue;
    }
    break;
  } while (1);
}
function Fy() {
  var t = hc.current;
  return (hc.current = fc), t === null ? fc : t;
}
function Wm() {
  (In === 0 || In === 3 || In === 2) && (In = 4), $n === null || (!(Bo & 268435455) && !(nd & 268435455)) || Xi($n, Vn);
}
function gc(t, e) {
  var n = Pt;
  Pt |= 2;
  var r = Fy();
  ($n !== t || Vn !== e) && ((bi = null), Po(t, e));
  do
    try {
      LS();
      break;
    } catch (i) {
      My(t, i);
    }
  while (1);
  if ((Am(), (Pt = n), (hc.current = r), Cn !== null)) throw Error(be(261));
  return ($n = null), (Vn = 0), In;
}
function LS() {
  for (; Cn !== null; ) Ny(Cn);
}
function IS() {
  for (; Cn !== null && !t8(); ) Ny(Cn);
}
function Ny(t) {
  var e = Uy(t.alternate, t, pr);
  (t.memoizedProps = t.pendingProps), e === null ? $y(t) : (Cn = e), (zm.current = null);
}
function $y(t) {
  var e = t;
  do {
    var n = e.alternate;
    if (((t = e.return), e.flags & 32768)) {
      if (((n = xS(n, e)), n !== null)) {
        (n.flags &= 32767), (Cn = n);
        return;
      }
      if (t !== null) (t.flags |= 32768), (t.subtreeFlags = 0), (t.deletions = null);
      else {
        (In = 6), (Cn = null);
        return;
      }
    } else if (((n = bS(n, e, pr)), n !== null)) {
      Cn = n;
      return;
    }
    if (((e = e.sibling), e !== null)) {
      Cn = e;
      return;
    }
    Cn = e = t;
  } while (e !== null);
  In === 0 && (In = 5);
}
function bo(t, e, n) {
  var r = Vt,
    i = kr.transition;
  try {
    (kr.transition = null), (Vt = 1), DS(t, e, n, r);
  } finally {
    (kr.transition = i), (Vt = r);
  }
  return null;
}
function DS(t, e, n, r) {
  do $a();
  while (Zi !== null);
  if (Pt & 6) throw Error(be(327));
  n = t.finishedWork;
  var i = t.finishedLanes;
  if (n === null) return null;
  if (((t.finishedWork = null), (t.finishedLanes = 0), n === t.current)) throw Error(be(177));
  (t.callbackNode = null), (t.callbackPriority = 0);
  var o = n.lanes | n.childLanes;
  if (
    (d8(t, o),
    t === $n && ((Cn = $n = null), (Vn = 0)),
    (!(n.subtreeFlags & 2064) && !(n.flags & 2064)) ||
      ou ||
      ((ou = !0),
      zy(Qu, function () {
        return $a(), null;
      })),
    (o = (n.flags & 15990) !== 0),
    n.subtreeFlags & 15990 || o)
  ) {
    (o = kr.transition), (kr.transition = null);
    var a = Vt;
    Vt = 1;
    var s = Pt;
    (Pt |= 4), (zm.current = null), wS(t, n), Py(n, t), Q8(Ih), (Ju = !!Lh), (Ih = Lh = null), (t.current = n), CS(n), n8(), (Pt = s), (Vt = a), (kr.transition = o);
  } else t.current = n;
  if ((ou && ((ou = !1), (Zi = t), (pc = i)), (o = t.pendingLanes), o === 0 && (ao = null), o8(n.stateNode), lr(t, bn()), e !== null))
    for (r = t.onRecoverableError, n = 0; n < e.length; n++) (i = e[n]), r(i.value, { componentStack: i.stack, digest: i.digest });
  if (mc) throw ((mc = !1), (t = Xh), (Xh = null), t);
  return pc & 1 && t.tag !== 0 && $a(), (o = t.pendingLanes), o & 1 ? (t === Qh ? Hs++ : ((Hs = 0), (Qh = t))) : (Hs = 0), mo(), null;
}
function $a() {
  if (Zi !== null) {
    var t = v3(pc),
      e = kr.transition,
      n = Vt;
    try {
      if (((kr.transition = null), (Vt = 16 > t ? 16 : t), Zi === null)) var r = !1;
      else {
        if (((t = Zi), (Zi = null), (pc = 0), Pt & 6)) throw Error(be(331));
        var i = Pt;
        for (Pt |= 4, He = t.current; He !== null; ) {
          var o = He,
            a = o.child;
          if (He.flags & 16) {
            var s = o.deletions;
            if (s !== null) {
              for (var l = 0; l < s.length; l++) {
                var u = s[l];
                for (He = u; He !== null; ) {
                  var c = He;
                  switch (c.tag) {
                    case 0:
                    case 11:
                    case 15:
                      zs(8, c, o);
                  }
                  var d = c.child;
                  if (d !== null) (d.return = c), (He = d);
                  else
                    for (; He !== null; ) {
                      c = He;
                      var f = c.sibling,
                        h = c.return;
                      if ((Ly(c), c === u)) {
                        He = null;
                        break;
                      }
                      if (f !== null) {
                        (f.return = h), (He = f);
                        break;
                      }
                      He = h;
                    }
                }
              }
              var m = o.alternate;
              if (m !== null) {
                var g = m.child;
                if (g !== null) {
                  m.child = null;
                  do {
                    var b = g.sibling;
                    (g.sibling = null), (g = b);
                  } while (g !== null);
                }
              }
              He = o;
            }
          }
          if (o.subtreeFlags & 2064 && a !== null) (a.return = o), (He = a);
          else
            e: for (; He !== null; ) {
              if (((o = He), o.flags & 2048))
                switch (o.tag) {
                  case 0:
                  case 11:
                  case 15:
                    zs(9, o, o.return);
                }
              var _ = o.sibling;
              if (_ !== null) {
                (_.return = o.return), (He = _);
                break e;
              }
              He = o.return;
            }
        }
        var y = t.current;
        for (He = y; He !== null; ) {
          a = He;
          var T = a.child;
          if (a.subtreeFlags & 2064 && T !== null) (T.return = a), (He = T);
          else
            e: for (a = y; He !== null; ) {
              if (((s = He), s.flags & 2048))
                try {
                  switch (s.tag) {
                    case 0:
                    case 11:
                    case 15:
                      td(9, s);
                  }
                } catch (I) {
                  pn(s, s.return, I);
                }
              if (s === a) {
                He = null;
                break e;
              }
              var w = s.sibling;
              if (w !== null) {
                (w.return = s.return), (He = w);
                break e;
              }
              He = s.return;
            }
        }
        if (((Pt = i), mo(), di && typeof di.onPostCommitFiberRoot == 'function'))
          try {
            di.onPostCommitFiberRoot(Kc, t);
          } catch {}
        r = !0;
      }
      return r;
    } finally {
      (Vt = n), (kr.transition = e);
    }
  }
  return !1;
}
function ag(t, e, n) {
  (e = Ya(n, e)), (e = yy(t, e, 1)), (t = oo(t, e, 1)), (e = Zn()), t !== null && (Cl(t, 1, e), lr(t, e));
}
function pn(t, e, n) {
  if (t.tag === 3) ag(t, t, n);
  else
    for (; e !== null; ) {
      if (e.tag === 3) {
        ag(e, t, n);
        break;
      } else if (e.tag === 1) {
        var r = e.stateNode;
        if (typeof e.type.getDerivedStateFromError == 'function' || (typeof r.componentDidCatch == 'function' && (ao === null || !ao.has(r)))) {
          (t = Ya(n, t)), (t = _y(e, t, 1)), (e = oo(e, t, 1)), (t = Zn()), e !== null && (Cl(e, 1, t), lr(e, t));
          break;
        }
      }
      e = e.return;
    }
}
function PS(t, e, n) {
  var r = t.pingCache;
  r !== null && r.delete(e),
    (e = Zn()),
    (t.pingedLanes |= t.suspendedLanes & n),
    $n === t && (Vn & n) === n && (In === 4 || (In === 3 && (Vn & 130023424) === Vn && 500 > bn() - Hm) ? Po(t, 0) : (Vm |= n)),
    lr(t, e);
}
function By(t, e) {
  e === 0 && (t.mode & 1 ? ((e = Yl), (Yl <<= 1), !(Yl & 130023424) && (Yl = 4194304)) : (e = 1));
  var n = Zn();
  (t = ki(t, e)), t !== null && (Cl(t, e, n), lr(t, n));
}
function OS(t) {
  var e = t.memoizedState,
    n = 0;
  e !== null && (n = e.retryLane), By(t, n);
}
function kS(t, e) {
  var n = 0;
  switch (t.tag) {
    case 13:
      var r = t.stateNode,
        i = t.memoizedState;
      i !== null && (n = i.retryLane);
      break;
    case 19:
      r = t.stateNode;
      break;
    default:
      throw Error(be(314));
  }
  r !== null && r.delete(e), By(t, n);
}
var Uy;
Uy = function (t, e, n) {
  if (t !== null)
    if (t.memoizedProps !== e.pendingProps || ar.current) or = !0;
    else {
      if (!(t.lanes & n) && !(e.flags & 128)) return (or = !1), ES(t, e, n);
      or = !!(t.flags & 131072);
    }
  else (or = !1), ln && e.flags & 1048576 && H3(e, ac, e.index);
  switch (((e.lanes = 0), e.tag)) {
    case 2:
      var r = e.type;
      Nu(t, e), (t = e.pendingProps);
      var i = Ga(e, Yn.current);
      Na(e, n), (i = Fm(null, e, r, t, i, n));
      var o = Nm();
      return (
        (e.flags |= 1),
        typeof i == 'object' && i !== null && typeof i.render == 'function' && i.$$typeof === void 0
          ? ((e.tag = 1),
            (e.memoizedState = null),
            (e.updateQueue = null),
            sr(r) ? ((o = !0), ic(e)) : (o = !1),
            (e.memoizedState = i.state !== null && i.state !== void 0 ? i.state : null),
            Dm(e),
            (i.updater = Jc),
            (e.stateNode = i),
            (i._reactInternals = e),
            Bh(e, r, t, n),
            (e = Vh(null, e, r, !0, o, n)))
          : ((e.tag = 0), ln && o && Tm(e), Qn(null, e, i, n), (e = e.child)),
        e
      );
    case 16:
      r = e.elementType;
      e: {
        switch ((Nu(t, e), (t = e.pendingProps), (i = r._init), (r = i(r._payload)), (e.type = r), (i = e.tag = FS(r)), (t = jr(r, t)), i)) {
          case 0:
            e = zh(null, e, r, t, n);
            break e;
          case 1:
            e = X1(null, e, r, t, n);
            break e;
          case 11:
            e = q1(null, e, r, t, n);
            break e;
          case 14:
            e = Y1(null, e, r, jr(r.type, t), n);
            break e;
        }
        throw Error(be(306, r, ''));
      }
      return e;
    case 0:
      return (r = e.type), (i = e.pendingProps), (i = e.elementType === r ? i : jr(r, i)), zh(t, e, r, i, n);
    case 1:
      return (r = e.type), (i = e.pendingProps), (i = e.elementType === r ? i : jr(r, i)), X1(t, e, r, i, n);
    case 3:
      e: {
        if ((xy(e), t === null)) throw Error(be(387));
        (r = e.pendingProps), (o = e.memoizedState), (i = o.element), K3(t, e), uc(e, r, null, n);
        var a = e.memoizedState;
        if (((r = a.element), o.isDehydrated))
          if (
            ((o = { element: r, isDehydrated: !1, cache: a.cache, pendingSuspenseBoundaries: a.pendingSuspenseBoundaries, transitions: a.transitions }),
            (e.updateQueue.baseState = o),
            (e.memoizedState = o),
            e.flags & 256)
          ) {
            (i = Ya(Error(be(423)), e)), (e = Q1(t, e, r, n, i));
            break e;
          } else if (r !== i) {
            (i = Ya(Error(be(424)), e)), (e = Q1(t, e, r, n, i));
            break e;
          } else for (gr = io(e.stateNode.containerInfo.firstChild), yr = e, ln = !0, qr = null, n = Q3(e, null, r, n), e.child = n; n; ) (n.flags = (n.flags & -3) | 4096), (n = n.sibling);
        else {
          if ((Wa(), r === i)) {
            e = Mi(t, e, n);
            break e;
          }
          Qn(t, e, r, n);
        }
        e = e.child;
      }
      return e;
    case 5:
      return (
        Z3(e),
        t === null && Fh(e),
        (r = e.type),
        (i = e.pendingProps),
        (o = t !== null ? t.memoizedProps : null),
        (a = i.children),
        Dh(r, i) ? (a = null) : o !== null && Dh(r, o) && (e.flags |= 32),
        by(t, e),
        Qn(t, e, a, n),
        e.child
      );
    case 6:
      return t === null && Fh(e), null;
    case 13:
      return Ty(t, e, n);
    case 4:
      return Pm(e, e.stateNode.containerInfo), (r = e.pendingProps), t === null ? (e.child = Ka(e, null, r, n)) : Qn(t, e, r, n), e.child;
    case 11:
      return (r = e.type), (i = e.pendingProps), (i = e.elementType === r ? i : jr(r, i)), q1(t, e, r, i, n);
    case 7:
      return Qn(t, e, e.pendingProps, n), e.child;
    case 8:
      return Qn(t, e, e.pendingProps.children, n), e.child;
    case 12:
      return Qn(t, e, e.pendingProps.children, n), e.child;
    case 10:
      e: {
        if (((r = e.type._context), (i = e.pendingProps), (o = e.memoizedProps), (a = i.value), en(sc, r._currentValue), (r._currentValue = a), o !== null))
          if (ti(o.value, a)) {
            if (o.children === i.children && !ar.current) {
              e = Mi(t, e, n);
              break e;
            }
          } else
            for (o = e.child, o !== null && (o.return = e); o !== null; ) {
              var s = o.dependencies;
              if (s !== null) {
                a = o.child;
                for (var l = s.firstContext; l !== null; ) {
                  if (l.context === r) {
                    if (o.tag === 1) {
                      (l = Ii(-1, n & -n)), (l.tag = 2);
                      var u = o.updateQueue;
                      if (u !== null) {
                        u = u.shared;
                        var c = u.pending;
                        c === null ? (l.next = l) : ((l.next = c.next), (c.next = l)), (u.pending = l);
                      }
                    }
                    (o.lanes |= n), (l = o.alternate), l !== null && (l.lanes |= n), Nh(o.return, n, e), (s.lanes |= n);
                    break;
                  }
                  l = l.next;
                }
              } else if (o.tag === 10) a = o.type === e.type ? null : o.child;
              else if (o.tag === 18) {
                if (((a = o.return), a === null)) throw Error(be(341));
                (a.lanes |= n), (s = a.alternate), s !== null && (s.lanes |= n), Nh(a, n, e), (a = o.sibling);
              } else a = o.child;
              if (a !== null) a.return = o;
              else
                for (a = o; a !== null; ) {
                  if (a === e) {
                    a = null;
                    break;
                  }
                  if (((o = a.sibling), o !== null)) {
                    (o.return = a.return), (a = o);
                    break;
                  }
                  a = a.return;
                }
              o = a;
            }
        Qn(t, e, i.children, n), (e = e.child);
      }
      return e;
    case 9:
      return (i = e.type), (r = e.pendingProps.children), Na(e, n), (i = Mr(i)), (r = r(i)), (e.flags |= 1), Qn(t, e, r, n), e.child;
    case 14:
      return (r = e.type), (i = jr(r, e.pendingProps)), (i = jr(r.type, i)), Y1(t, e, r, i, n);
    case 15:
      return Sy(t, e, e.type, e.pendingProps, n);
    case 17:
      return (
        (r = e.type),
        (i = e.pendingProps),
        (i = e.elementType === r ? i : jr(r, i)),
        Nu(t, e),
        (e.tag = 1),
        sr(r) ? ((t = !0), ic(e)) : (t = !1),
        Na(e, n),
        Y3(e, r, i),
        Bh(e, r, i, n),
        Vh(null, e, r, !0, t, n)
      );
    case 19:
      return wy(t, e, n);
    case 22:
      return Ey(t, e, n);
  }
  throw Error(be(156, e.tag));
};
function zy(t, e) {
  return h3(t, e);
}
function MS(t, e, n, r) {
  (this.tag = t),
    (this.key = n),
    (this.sibling = this.child = this.return = this.stateNode = this.type = this.elementType = null),
    (this.index = 0),
    (this.ref = null),
    (this.pendingProps = e),
    (this.dependencies = this.memoizedState = this.updateQueue = this.memoizedProps = null),
    (this.mode = r),
    (this.subtreeFlags = this.flags = 0),
    (this.deletions = null),
    (this.childLanes = this.lanes = 0),
    (this.alternate = null);
}
function Pr(t, e, n, r) {
  return new MS(t, e, n, r);
}
function Km(t) {
  return (t = t.prototype), !(!t || !t.isReactComponent);
}
function FS(t) {
  if (typeof t == 'function') return Km(t) ? 1 : 0;
  if (t != null) {
    if (((t = t.$$typeof), t === fm)) return 11;
    if (t === hm) return 14;
  }
  return 2;
}
function lo(t, e) {
  var n = t.alternate;
  return (
    n === null
      ? ((n = Pr(t.tag, e, t.key, t.mode)), (n.elementType = t.elementType), (n.type = t.type), (n.stateNode = t.stateNode), (n.alternate = t), (t.alternate = n))
      : ((n.pendingProps = e), (n.type = t.type), (n.flags = 0), (n.subtreeFlags = 0), (n.deletions = null)),
    (n.flags = t.flags & 14680064),
    (n.childLanes = t.childLanes),
    (n.lanes = t.lanes),
    (n.child = t.child),
    (n.memoizedProps = t.memoizedProps),
    (n.memoizedState = t.memoizedState),
    (n.updateQueue = t.updateQueue),
    (e = t.dependencies),
    (n.dependencies = e === null ? null : { lanes: e.lanes, firstContext: e.firstContext }),
    (n.sibling = t.sibling),
    (n.index = t.index),
    (n.ref = t.ref),
    n
  );
}
function Uu(t, e, n, r, i, o) {
  var a = 2;
  if (((r = t), typeof t == 'function')) Km(t) && (a = 1);
  else if (typeof t == 'string') a = 5;
  else
    e: switch (t) {
      case ga:
        return Oo(n.children, i, o, e);
      case dm:
        (a = 8), (i |= 8);
        break;
      case uh:
        return (t = Pr(12, n, e, i | 2)), (t.elementType = uh), (t.lanes = o), t;
      case ch:
        return (t = Pr(13, n, e, i)), (t.elementType = ch), (t.lanes = o), t;
      case dh:
        return (t = Pr(19, n, e, i)), (t.elementType = dh), (t.lanes = o), t;
      case X2:
        return rd(n, i, o, e);
      default:
        if (typeof t == 'object' && t !== null)
          switch (t.$$typeof) {
            case q2:
              a = 10;
              break e;
            case Y2:
              a = 9;
              break e;
            case fm:
              a = 11;
              break e;
            case hm:
              a = 14;
              break e;
            case ji:
              (a = 16), (r = null);
              break e;
          }
        throw Error(be(130, t == null ? t : typeof t, ''));
    }
  return (e = Pr(a, n, e, i)), (e.elementType = t), (e.type = r), (e.lanes = o), e;
}
function Oo(t, e, n, r) {
  return (t = Pr(7, t, r, e)), (t.lanes = n), t;
}
function rd(t, e, n, r) {
  return (t = Pr(22, t, r, e)), (t.elementType = X2), (t.lanes = n), (t.stateNode = { isHidden: !1 }), t;
}
function rf(t, e, n) {
  return (t = Pr(6, t, null, e)), (t.lanes = n), t;
}
function of(t, e, n) {
  return (e = Pr(4, t.children !== null ? t.children : [], t.key, e)), (e.lanes = n), (e.stateNode = { containerInfo: t.containerInfo, pendingChildren: null, implementation: t.implementation }), e;
}
function NS(t, e, n, r, i) {
  (this.tag = e),
    (this.containerInfo = t),
    (this.finishedWork = this.pingCache = this.current = this.pendingChildren = null),
    (this.timeoutHandle = -1),
    (this.callbackNode = this.pendingContext = this.context = null),
    (this.callbackPriority = 0),
    (this.eventTimes = $d(0)),
    (this.expirationTimes = $d(-1)),
    (this.entangledLanes = this.finishedLanes = this.mutableReadLanes = this.expiredLanes = this.pingedLanes = this.suspendedLanes = this.pendingLanes = 0),
    (this.entanglements = $d(0)),
    (this.identifierPrefix = r),
    (this.onRecoverableError = i),
    (this.mutableSourceEagerHydrationData = null);
}
function qm(t, e, n, r, i, o, a, s, l) {
  return (
    (t = new NS(t, e, n, s, l)),
    e === 1 ? ((e = 1), o === !0 && (e |= 8)) : (e = 0),
    (o = Pr(3, null, null, e)),
    (t.current = o),
    (o.stateNode = t),
    (o.memoizedState = { element: r, isDehydrated: n, cache: null, transitions: null, pendingSuspenseBoundaries: null }),
    Dm(o),
    t
  );
}
function $S(t, e, n) {
  var r = 3 < arguments.length && arguments[3] !== void 0 ? arguments[3] : null;
  return { $$typeof: pa, key: r == null ? null : '' + r, children: t, containerInfo: e, implementation: n };
}
function Vy(t) {
  if (!t) return co;
  t = t._reactInternals;
  e: {
    if (jo(t) !== t || t.tag !== 1) throw Error(be(170));
    var e = t;
    do {
      switch (e.tag) {
        case 3:
          e = e.stateNode.context;
          break e;
        case 1:
          if (sr(e.type)) {
            e = e.stateNode.__reactInternalMemoizedMergedChildContext;
            break e;
          }
      }
      e = e.return;
    } while (e !== null);
    throw Error(be(171));
  }
  if (t.tag === 1) {
    var n = t.type;
    if (sr(n)) return z3(t, n, e);
  }
  return e;
}
function Hy(t, e, n, r, i, o, a, s, l) {
  return (
    (t = qm(n, r, !0, t, i, o, a, s, l)),
    (t.context = Vy(null)),
    (n = t.current),
    (r = Zn()),
    (i = so(n)),
    (o = Ii(r, i)),
    (o.callback = e ?? null),
    oo(n, o, i),
    (t.current.lanes = i),
    Cl(t, i, r),
    lr(t, r),
    t
  );
}
function id(t, e, n, r) {
  var i = e.current,
    o = Zn(),
    a = so(i);
  return (
    (n = Vy(n)),
    e.context === null ? (e.context = n) : (e.pendingContext = n),
    (e = Ii(o, a)),
    (e.payload = { element: t }),
    (r = r === void 0 ? null : r),
    r !== null && (e.callback = r),
    (t = oo(i, e, a)),
    t !== null && (Jr(t, i, a, o), ku(t, i, a)),
    a
  );
}
function vc(t) {
  if (((t = t.current), !t.child)) return null;
  switch (t.child.tag) {
    case 5:
      return t.child.stateNode;
    default:
      return t.child.stateNode;
  }
}
function sg(t, e) {
  if (((t = t.memoizedState), t !== null && t.dehydrated !== null)) {
    var n = t.retryLane;
    t.retryLane = n !== 0 && n < e ? n : e;
  }
}
function Ym(t, e) {
  sg(t, e), (t = t.alternate) && sg(t, e);
}
function BS() {
  return null;
}
var jy =
  typeof reportError == 'function'
    ? reportError
    : function (t) {
        console.error(t);
      };
function Xm(t) {
  this._internalRoot = t;
}
od.prototype.render = Xm.prototype.render = function (t) {
  var e = this._internalRoot;
  if (e === null) throw Error(be(409));
  id(t, e, null, null);
};
od.prototype.unmount = Xm.prototype.unmount = function () {
  var t = this._internalRoot;
  if (t !== null) {
    this._internalRoot = null;
    var e = t.containerInfo;
    Uo(function () {
      id(null, t, null, null);
    }),
      (e[Oi] = null);
  }
};
function od(t) {
  this._internalRoot = t;
}
od.prototype.unstable_scheduleHydration = function (t) {
  if (t) {
    var e = S3();
    t = { blockedOn: null, target: t, priority: e };
    for (var n = 0; n < Yi.length && e !== 0 && e < Yi[n].priority; n++);
    Yi.splice(n, 0, t), n === 0 && b3(t);
  }
};
function Qm(t) {
  return !(!t || (t.nodeType !== 1 && t.nodeType !== 9 && t.nodeType !== 11));
}
function ad(t) {
  return !(!t || (t.nodeType !== 1 && t.nodeType !== 9 && t.nodeType !== 11 && (t.nodeType !== 8 || t.nodeValue !== ' react-mount-point-unstable ')));
}
function lg() {}
function US(t, e, n, r, i) {
  if (i) {
    if (typeof r == 'function') {
      var o = r;
      r = function () {
        var u = vc(a);
        o.call(u);
      };
    }
    var a = Hy(e, r, t, 0, null, !1, !1, '', lg);
    return (t._reactRootContainer = a), (t[Oi] = a.current), sl(t.nodeType === 8 ? t.parentNode : t), Uo(), a;
  }
  for (; (i = t.lastChild); ) t.removeChild(i);
  if (typeof r == 'function') {
    var s = r;
    r = function () {
      var u = vc(l);
      s.call(u);
    };
  }
  var l = qm(t, 0, !1, null, null, !1, !1, '', lg);
  return (
    (t._reactRootContainer = l),
    (t[Oi] = l.current),
    sl(t.nodeType === 8 ? t.parentNode : t),
    Uo(function () {
      id(e, l, n, r);
    }),
    l
  );
}
function sd(t, e, n, r, i) {
  var o = n._reactRootContainer;
  if (o) {
    var a = o;
    if (typeof i == 'function') {
      var s = i;
      i = function () {
        var l = vc(a);
        s.call(l);
      };
    }
    id(e, a, t, i);
  } else a = US(n, e, t, i, r);
  return vc(a);
}
y3 = function (t) {
  switch (t.tag) {
    case 3:
      var e = t.stateNode;
      if (e.current.memoizedState.isDehydrated) {
        var n = Ds(e.pendingLanes);
        n !== 0 && (gm(e, n | 1), lr(e, bn()), !(Pt & 6) && ((Xa = bn() + 500), mo()));
      }
      break;
    case 13:
      Uo(function () {
        var r = ki(t, 1);
        if (r !== null) {
          var i = Zn();
          Jr(r, t, 1, i);
        }
      }),
        Ym(t, 1);
  }
};
vm = function (t) {
  if (t.tag === 13) {
    var e = ki(t, 134217728);
    if (e !== null) {
      var n = Zn();
      Jr(e, t, 134217728, n);
    }
    Ym(t, 134217728);
  }
};
_3 = function (t) {
  if (t.tag === 13) {
    var e = so(t),
      n = ki(t, e);
    if (n !== null) {
      var r = Zn();
      Jr(n, t, e, r);
    }
    Ym(t, e);
  }
};
S3 = function () {
  return Vt;
};
E3 = function (t, e) {
  var n = Vt;
  try {
    return (Vt = t), e();
  } finally {
    Vt = n;
  }
};
Eh = function (t, e, n) {
  switch (e) {
    case 'input':
      if ((mh(t, n), (e = n.name), n.type === 'radio' && e != null)) {
        for (n = t; n.parentNode; ) n = n.parentNode;
        for (n = n.querySelectorAll('input[name=' + JSON.stringify('' + e) + '][type="radio"]'), e = 0; e < n.length; e++) {
          var r = n[e];
          if (r !== t && r.form === t.form) {
            var i = Qc(r);
            if (!i) throw Error(be(90));
            Z2(r), mh(r, i);
          }
        }
      }
      break;
    case 'textarea':
      e3(t, n);
      break;
    case 'select':
      (e = n.value), e != null && Oa(t, !!n.multiple, e, !1);
  }
};
s3 = jm;
l3 = Uo;
var zS = { usingClientEntryPoint: !1, Events: [Al, Sa, Qc, o3, a3, jm] },
  Es = { findFiberByHostInstance: Co, bundleType: 0, version: '18.2.0', rendererPackageName: 'react-dom' },
  VS = {
    bundleType: Es.bundleType,
    version: Es.version,
    rendererPackageName: Es.rendererPackageName,
    rendererConfig: Es.rendererConfig,
    overrideHookState: null,
    overrideHookStateDeletePath: null,
    overrideHookStateRenamePath: null,
    overrideProps: null,
    overridePropsDeletePath: null,
    overridePropsRenamePath: null,
    setErrorHandler: null,
    setSuspenseHandler: null,
    scheduleUpdate: null,
    currentDispatcherRef: Bi.ReactCurrentDispatcher,
    findHostInstanceByFiber: function (t) {
      return (t = d3(t)), t === null ? null : t.stateNode;
    },
    findFiberByHostInstance: Es.findFiberByHostInstance || BS,
    findHostInstancesForRefresh: null,
    scheduleRefresh: null,
    scheduleRoot: null,
    setRefreshHandler: null,
    getCurrentFiber: null,
    reconcilerVersion: '18.2.0-next-9e3b772b8-20220608',
  };
if (typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ < 'u') {
  var au = __REACT_DEVTOOLS_GLOBAL_HOOK__;
  if (!au.isDisabled && au.supportsFiber)
    try {
      (Kc = au.inject(VS)), (di = au);
    } catch {}
}
br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = zS;
br.createPortal = function (t, e) {
  var n = 2 < arguments.length && arguments[2] !== void 0 ? arguments[2] : null;
  if (!Qm(e)) throw Error(be(200));
  return $S(t, e, null, n);
};
br.createRoot = function (t, e) {
  if (!Qm(t)) throw Error(be(299));
  var n = !1,
    r = '',
    i = jy;
  return (
    e != null && (e.unstable_strictMode === !0 && (n = !0), e.identifierPrefix !== void 0 && (r = e.identifierPrefix), e.onRecoverableError !== void 0 && (i = e.onRecoverableError)),
    (e = qm(t, 1, !1, null, null, n, !1, r, i)),
    (t[Oi] = e.current),
    sl(t.nodeType === 8 ? t.parentNode : t),
    new Xm(e)
  );
};
br.findDOMNode = function (t) {
  if (t == null) return null;
  if (t.nodeType === 1) return t;
  var e = t._reactInternals;
  if (e === void 0) throw typeof t.render == 'function' ? Error(be(188)) : ((t = Object.keys(t).join(',')), Error(be(268, t)));
  return (t = d3(e)), (t = t === null ? null : t.stateNode), t;
};
br.flushSync = function (t) {
  return Uo(t);
};
br.hydrate = function (t, e, n) {
  if (!ad(e)) throw Error(be(200));
  return sd(null, t, e, !0, n);
};
br.hydrateRoot = function (t, e, n) {
  if (!Qm(t)) throw Error(be(405));
  var r = (n != null && n.hydratedSources) || null,
    i = !1,
    o = '',
    a = jy;
  if (
    (n != null && (n.unstable_strictMode === !0 && (i = !0), n.identifierPrefix !== void 0 && (o = n.identifierPrefix), n.onRecoverableError !== void 0 && (a = n.onRecoverableError)),
    (e = Hy(e, null, t, 1, n ?? null, i, !1, o, a)),
    (t[Oi] = e.current),
    sl(t),
    r)
  )
    for (t = 0; t < r.length; t++)
      (n = r[t]), (i = n._getVersion), (i = i(n._source)), e.mutableSourceEagerHydrationData == null ? (e.mutableSourceEagerHydrationData = [n, i]) : e.mutableSourceEagerHydrationData.push(n, i);
  return new od(e);
};
br.render = function (t, e, n) {
  if (!ad(e)) throw Error(be(200));
  return sd(null, t, e, !1, n);
};
br.unmountComponentAtNode = function (t) {
  if (!ad(t)) throw Error(be(40));
  return t._reactRootContainer
    ? (Uo(function () {
        sd(null, null, t, !1, function () {
          (t._reactRootContainer = null), (t[Oi] = null);
        });
      }),
      !0)
    : !1;
};
br.unstable_batchedUpdates = jm;
br.unstable_renderSubtreeIntoContainer = function (t, e, n, r) {
  if (!ad(n)) throw Error(be(200));
  if (t == null || t._reactInternals === void 0) throw Error(be(38));
  return sd(t, e, n, !1, r);
};
br.version = '18.2.0-next-9e3b772b8-20220608';
function Gy() {
  if (!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ > 'u' || typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE != 'function'))
    try {
      __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gy);
    } catch (t) {
      console.error(t);
    }
}
Gy(), (H2.exports = br);
var Il = H2.exports;
const Wy = Gc(Il),
  HS = D2({ __proto__: null, default: Wy }, [Il]);
var ug = Il;
(sh.createRoot = ug.createRoot), (sh.hydrateRoot = ug.hydrateRoot);
function $r(t, e) {
  if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function');
}
function wt(t) {
  '@babel/helpers - typeof';
  return (
    (wt =
      typeof Symbol == 'function' && typeof Symbol.iterator == 'symbol'
        ? function (e) {
            return typeof e;
          }
        : function (e) {
            return e && typeof Symbol == 'function' && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e;
          }),
    wt(t)
  );
}
function jS(t, e) {
  if (wt(t) !== 'object' || t === null) return t;
  var n = t[Symbol.toPrimitive];
  if (n !== void 0) {
    var r = n.call(t, e || 'default');
    if (wt(r) !== 'object') return r;
    throw new TypeError('@@toPrimitive must return a primitive value.');
  }
  return (e === 'string' ? String : Number)(t);
}
function Ky(t) {
  var e = jS(t, 'string');
  return wt(e) === 'symbol' ? e : String(e);
}
function cg(t, e) {
  for (var n = 0; n < e.length; n++) {
    var r = e[n];
    (r.enumerable = r.enumerable || !1), (r.configurable = !0), 'value' in r && (r.writable = !0), Object.defineProperty(t, Ky(r.key), r);
  }
}
function Br(t, e, n) {
  return e && cg(t.prototype, e), n && cg(t, n), Object.defineProperty(t, 'prototype', { writable: !1 }), t;
}
function e0(t, e) {
  return (
    (e0 = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (r, i) {
          return (r.__proto__ = i), r;
        }),
    e0(t, e)
  );
}
function Dl(t, e) {
  if (typeof e != 'function' && e !== null) throw new TypeError('Super expression must either be null or a function');
  (t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } })), Object.defineProperty(t, 'prototype', { writable: !1 }), e && e0(t, e);
}
function yc(t) {
  return (
    (yc = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (n) {
          return n.__proto__ || Object.getPrototypeOf(n);
        }),
    yc(t)
  );
}
function GS() {
  if (typeof Reflect > 'u' || !Reflect.construct || Reflect.construct.sham) return !1;
  if (typeof Proxy == 'function') return !0;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0;
  } catch {
    return !1;
  }
}
function _c(t) {
  if (t === void 0) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return t;
}
function WS(t, e) {
  if (e && (wt(e) === 'object' || typeof e == 'function')) return e;
  if (e !== void 0) throw new TypeError('Derived constructors may only return object or undefined');
  return _c(t);
}
function Pl(t) {
  var e = GS();
  return function () {
    var r = yc(t),
      i;
    if (e) {
      var o = yc(this).constructor;
      i = Reflect.construct(r, arguments, o);
    } else i = r.apply(this, arguments);
    return WS(this, i);
  };
}
var qy = { exports: {} };
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/ (function (t) {
  (function () {
    var e = {}.hasOwnProperty;
    function n() {
      for (var r = [], i = 0; i < arguments.length; i++) {
        var o = arguments[i];
        if (o) {
          var a = typeof o;
          if (a === 'string' || a === 'number') r.push(o);
          else if (Array.isArray(o)) {
            if (o.length) {
              var s = n.apply(null, o);
              s && r.push(s);
            }
          } else if (a === 'object') {
            if (o.toString !== Object.prototype.toString && !o.toString.toString().includes('[native code]')) {
              r.push(o.toString());
              continue;
            }
            for (var l in o) e.call(o, l) && o[l] && r.push(l);
          }
        }
      }
      return r.join(' ');
    }
    t.exports ? ((n.default = n), (t.exports = n)) : (window.classNames = n);
  })();
})(qy);
var KS = qy.exports;
const $e = Gc(KS);
function pt() {
  return (
    (pt = Object.assign
      ? Object.assign.bind()
      : function (t) {
          for (var e = 1; e < arguments.length; e++) {
            var n = arguments[e];
            for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (t[r] = n[r]);
          }
          return t;
        }),
    pt.apply(this, arguments)
  );
}
var Yy = { exports: {} },
  Ht = {};
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var Bn = typeof Symbol == 'function' && Symbol.for,
  Zm = Bn ? Symbol.for('react.element') : 60103,
  Jm = Bn ? Symbol.for('react.portal') : 60106,
  ld = Bn ? Symbol.for('react.fragment') : 60107,
  ud = Bn ? Symbol.for('react.strict_mode') : 60108,
  cd = Bn ? Symbol.for('react.profiler') : 60114,
  dd = Bn ? Symbol.for('react.provider') : 60109,
  fd = Bn ? Symbol.for('react.context') : 60110,
  ep = Bn ? Symbol.for('react.async_mode') : 60111,
  hd = Bn ? Symbol.for('react.concurrent_mode') : 60111,
  md = Bn ? Symbol.for('react.forward_ref') : 60112,
  pd = Bn ? Symbol.for('react.suspense') : 60113,
  qS = Bn ? Symbol.for('react.suspense_list') : 60120,
  gd = Bn ? Symbol.for('react.memo') : 60115,
  vd = Bn ? Symbol.for('react.lazy') : 60116,
  YS = Bn ? Symbol.for('react.block') : 60121,
  XS = Bn ? Symbol.for('react.fundamental') : 60117,
  QS = Bn ? Symbol.for('react.responder') : 60118,
  ZS = Bn ? Symbol.for('react.scope') : 60119;
function Tr(t) {
  if (typeof t == 'object' && t !== null) {
    var e = t.$$typeof;
    switch (e) {
      case Zm:
        switch (((t = t.type), t)) {
          case ep:
          case hd:
          case ld:
          case cd:
          case ud:
          case pd:
            return t;
          default:
            switch (((t = t && t.$$typeof), t)) {
              case fd:
              case md:
              case vd:
              case gd:
              case dd:
                return t;
              default:
                return e;
            }
        }
      case Jm:
        return e;
    }
  }
}
function Xy(t) {
  return Tr(t) === hd;
}
Ht.AsyncMode = ep;
Ht.ConcurrentMode = hd;
Ht.ContextConsumer = fd;
Ht.ContextProvider = dd;
Ht.Element = Zm;
Ht.ForwardRef = md;
Ht.Fragment = ld;
Ht.Lazy = vd;
Ht.Memo = gd;
Ht.Portal = Jm;
Ht.Profiler = cd;
Ht.StrictMode = ud;
Ht.Suspense = pd;
Ht.isAsyncMode = function (t) {
  return Xy(t) || Tr(t) === ep;
};
Ht.isConcurrentMode = Xy;
Ht.isContextConsumer = function (t) {
  return Tr(t) === fd;
};
Ht.isContextProvider = function (t) {
  return Tr(t) === dd;
};
Ht.isElement = function (t) {
  return typeof t == 'object' && t !== null && t.$$typeof === Zm;
};
Ht.isForwardRef = function (t) {
  return Tr(t) === md;
};
Ht.isFragment = function (t) {
  return Tr(t) === ld;
};
Ht.isLazy = function (t) {
  return Tr(t) === vd;
};
Ht.isMemo = function (t) {
  return Tr(t) === gd;
};
Ht.isPortal = function (t) {
  return Tr(t) === Jm;
};
Ht.isProfiler = function (t) {
  return Tr(t) === cd;
};
Ht.isStrictMode = function (t) {
  return Tr(t) === ud;
};
Ht.isSuspense = function (t) {
  return Tr(t) === pd;
};
Ht.isValidElementType = function (t) {
  return (
    typeof t == 'string' ||
    typeof t == 'function' ||
    t === ld ||
    t === hd ||
    t === cd ||
    t === ud ||
    t === pd ||
    t === qS ||
    (typeof t == 'object' &&
      t !== null &&
      (t.$$typeof === vd || t.$$typeof === gd || t.$$typeof === dd || t.$$typeof === fd || t.$$typeof === md || t.$$typeof === XS || t.$$typeof === QS || t.$$typeof === ZS || t.$$typeof === YS))
  );
};
Ht.typeOf = Tr;
Yy.exports = Ht;
var Qy = Yy.exports;
function gl(t) {
  var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {},
    n = [];
  return (
    Ie.Children.forEach(t, function (r) {
      (r == null && !e.keepEmpty) || (Array.isArray(r) ? (n = n.concat(gl(r))) : Qy.isFragment(r) && r.props ? (n = n.concat(gl(r.props.children, e))) : n.push(r));
    }),
    n
  );
}
var t0 = {},
  JS = function (e) {};
function eE(t, e) {}
function tE(t, e) {}
function nE() {
  t0 = {};
}
function Zy(t, e, n) {
  !e && !t0[n] && (t(!1, n), (t0[n] = !0));
}
function ur(t, e) {
  Zy(eE, t, e);
}
function rE(t, e) {
  Zy(tE, t, e);
}
ur.preMessage = JS;
ur.resetWarned = nE;
ur.noteOnce = rE;
function De(t, e, n) {
  return (e = Ky(e)), e in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (t[e] = n), t;
}
function dg(t, e) {
  var n = Object.keys(t);
  if (Object.getOwnPropertySymbols) {
    var r = Object.getOwnPropertySymbols(t);
    e &&
      (r = r.filter(function (i) {
        return Object.getOwnPropertyDescriptor(t, i).enumerable;
      })),
      n.push.apply(n, r);
  }
  return n;
}
function ce(t) {
  for (var e = 1; e < arguments.length; e++) {
    var n = arguments[e] != null ? arguments[e] : {};
    e % 2
      ? dg(Object(n), !0).forEach(function (r) {
          De(t, r, n[r]);
        })
      : Object.getOwnPropertyDescriptors
      ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n))
      : dg(Object(n)).forEach(function (r) {
          Object.defineProperty(t, r, Object.getOwnPropertyDescriptor(n, r));
        });
  }
  return t;
}
function yd(t, e, n) {
  var r = v.useRef({});
  return (!('value' in r.current) || n(r.current.condition, e)) && ((r.current.value = t()), (r.current.condition = e)), r.current.value;
}
function tp(t, e) {
  typeof t == 'function' ? t(e) : wt(t) === 'object' && t && 'current' in t && (t.current = e);
}
function pi() {
  for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++) e[n] = arguments[n];
  var r = e.filter(function (i) {
    return i;
  });
  return r.length <= 1
    ? r[0]
    : function (i) {
        e.forEach(function (o) {
          tp(o, i);
        });
      };
}
function np() {
  for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++) e[n] = arguments[n];
  return yd(
    function () {
      return pi.apply(void 0, e);
    },
    e,
    function (r, i) {
      return (
        r.length === i.length &&
        r.every(function (o, a) {
          return o === i[a];
        })
      );
    },
  );
}
function Ol(t) {
  var e,
    n,
    r = Qy.isMemo(t) ? t.type.type : t.type;
  return !((typeof r == 'function' && !((e = r.prototype) !== null && e !== void 0 && e.render)) || (typeof t == 'function' && !((n = t.prototype) !== null && n !== void 0 && n.render)));
}
function Sc(t) {
  return t instanceof HTMLElement || t instanceof SVGElement;
}
function Ec(t) {
  return Sc(t) ? t : t instanceof Ie.Component ? Wy.findDOMNode(t) : null;
}
var Jy = (function () {
    if (typeof Map < 'u') return Map;
    function t(e, n) {
      var r = -1;
      return (
        e.some(function (i, o) {
          return i[0] === n ? ((r = o), !0) : !1;
        }),
        r
      );
    }
    return (function () {
      function e() {
        this.__entries__ = [];
      }
      return (
        Object.defineProperty(e.prototype, 'size', {
          get: function () {
            return this.__entries__.length;
          },
          enumerable: !0,
          configurable: !0,
        }),
        (e.prototype.get = function (n) {
          var r = t(this.__entries__, n),
            i = this.__entries__[r];
          return i && i[1];
        }),
        (e.prototype.set = function (n, r) {
          var i = t(this.__entries__, n);
          ~i ? (this.__entries__[i][1] = r) : this.__entries__.push([n, r]);
        }),
        (e.prototype.delete = function (n) {
          var r = this.__entries__,
            i = t(r, n);
          ~i && r.splice(i, 1);
        }),
        (e.prototype.has = function (n) {
          return !!~t(this.__entries__, n);
        }),
        (e.prototype.clear = function () {
          this.__entries__.splice(0);
        }),
        (e.prototype.forEach = function (n, r) {
          r === void 0 && (r = null);
          for (var i = 0, o = this.__entries__; i < o.length; i++) {
            var a = o[i];
            n.call(r, a[1], a[0]);
          }
        }),
        e
      );
    })();
  })(),
  n0 = typeof window < 'u' && typeof document < 'u' && window.document === document,
  bc = (function () {
    return typeof global < 'u' && global.Math === Math ? global : typeof self < 'u' && self.Math === Math ? self : typeof window < 'u' && window.Math === Math ? window : Function('return this')();
  })(),
  iE = (function () {
    return typeof requestAnimationFrame == 'function'
      ? requestAnimationFrame.bind(bc)
      : function (t) {
          return setTimeout(function () {
            return t(Date.now());
          }, 1e3 / 60);
        };
  })(),
  oE = 2;
function aE(t, e) {
  var n = !1,
    r = !1,
    i = 0;
  function o() {
    n && ((n = !1), t()), r && s();
  }
  function a() {
    iE(o);
  }
  function s() {
    var l = Date.now();
    if (n) {
      if (l - i < oE) return;
      r = !0;
    } else (n = !0), (r = !1), setTimeout(a, e);
    i = l;
  }
  return s;
}
var sE = 20,
  lE = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'],
  uE = typeof MutationObserver < 'u',
  cE = (function () {
    function t() {
      (this.connected_ = !1),
        (this.mutationEventsAdded_ = !1),
        (this.mutationsObserver_ = null),
        (this.observers_ = []),
        (this.onTransitionEnd_ = this.onTransitionEnd_.bind(this)),
        (this.refresh = aE(this.refresh.bind(this), sE));
    }
    return (
      (t.prototype.addObserver = function (e) {
        ~this.observers_.indexOf(e) || this.observers_.push(e), this.connected_ || this.connect_();
      }),
      (t.prototype.removeObserver = function (e) {
        var n = this.observers_,
          r = n.indexOf(e);
        ~r && n.splice(r, 1), !n.length && this.connected_ && this.disconnect_();
      }),
      (t.prototype.refresh = function () {
        var e = this.updateObservers_();
        e && this.refresh();
      }),
      (t.prototype.updateObservers_ = function () {
        var e = this.observers_.filter(function (n) {
          return n.gatherActive(), n.hasActive();
        });
        return (
          e.forEach(function (n) {
            return n.broadcastActive();
          }),
          e.length > 0
        );
      }),
      (t.prototype.connect_ = function () {
        !n0 ||
          this.connected_ ||
          (document.addEventListener('transitionend', this.onTransitionEnd_),
          window.addEventListener('resize', this.refresh),
          uE
            ? ((this.mutationsObserver_ = new MutationObserver(this.refresh)), this.mutationsObserver_.observe(document, { attributes: !0, childList: !0, characterData: !0, subtree: !0 }))
            : (document.addEventListener('DOMSubtreeModified', this.refresh), (this.mutationEventsAdded_ = !0)),
          (this.connected_ = !0));
      }),
      (t.prototype.disconnect_ = function () {
        !n0 ||
          !this.connected_ ||
          (document.removeEventListener('transitionend', this.onTransitionEnd_),
          window.removeEventListener('resize', this.refresh),
          this.mutationsObserver_ && this.mutationsObserver_.disconnect(),
          this.mutationEventsAdded_ && document.removeEventListener('DOMSubtreeModified', this.refresh),
          (this.mutationsObserver_ = null),
          (this.mutationEventsAdded_ = !1),
          (this.connected_ = !1));
      }),
      (t.prototype.onTransitionEnd_ = function (e) {
        var n = e.propertyName,
          r = n === void 0 ? '' : n,
          i = lE.some(function (o) {
            return !!~r.indexOf(o);
          });
        i && this.refresh();
      }),
      (t.getInstance = function () {
        return this.instance_ || (this.instance_ = new t()), this.instance_;
      }),
      (t.instance_ = null),
      t
    );
  })(),
  e6 = function (t, e) {
    for (var n = 0, r = Object.keys(e); n < r.length; n++) {
      var i = r[n];
      Object.defineProperty(t, i, { value: e[i], enumerable: !1, writable: !1, configurable: !0 });
    }
    return t;
  },
  Qa = function (t) {
    var e = t && t.ownerDocument && t.ownerDocument.defaultView;
    return e || bc;
  },
  t6 = _d(0, 0, 0, 0);
function xc(t) {
  return parseFloat(t) || 0;
}
function fg(t) {
  for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
  return e.reduce(function (r, i) {
    var o = t['border-' + i + '-width'];
    return r + xc(o);
  }, 0);
}
function dE(t) {
  for (var e = ['top', 'right', 'bottom', 'left'], n = {}, r = 0, i = e; r < i.length; r++) {
    var o = i[r],
      a = t['padding-' + o];
    n[o] = xc(a);
  }
  return n;
}
function fE(t) {
  var e = t.getBBox();
  return _d(0, 0, e.width, e.height);
}
function hE(t) {
  var e = t.clientWidth,
    n = t.clientHeight;
  if (!e && !n) return t6;
  var r = Qa(t).getComputedStyle(t),
    i = dE(r),
    o = i.left + i.right,
    a = i.top + i.bottom,
    s = xc(r.width),
    l = xc(r.height);
  if ((r.boxSizing === 'border-box' && (Math.round(s + o) !== e && (s -= fg(r, 'left', 'right') + o), Math.round(l + a) !== n && (l -= fg(r, 'top', 'bottom') + a)), !pE(t))) {
    var u = Math.round(s + o) - e,
      c = Math.round(l + a) - n;
    Math.abs(u) !== 1 && (s -= u), Math.abs(c) !== 1 && (l -= c);
  }
  return _d(i.left, i.top, s, l);
}
var mE = (function () {
  return typeof SVGGraphicsElement < 'u'
    ? function (t) {
        return t instanceof Qa(t).SVGGraphicsElement;
      }
    : function (t) {
        return t instanceof Qa(t).SVGElement && typeof t.getBBox == 'function';
      };
})();
function pE(t) {
  return t === Qa(t).document.documentElement;
}
function gE(t) {
  return n0 ? (mE(t) ? fE(t) : hE(t)) : t6;
}
function vE(t) {
  var e = t.x,
    n = t.y,
    r = t.width,
    i = t.height,
    o = typeof DOMRectReadOnly < 'u' ? DOMRectReadOnly : Object,
    a = Object.create(o.prototype);
  return e6(a, { x: e, y: n, width: r, height: i, top: n, right: e + r, bottom: i + n, left: e }), a;
}
function _d(t, e, n, r) {
  return { x: t, y: e, width: n, height: r };
}
var yE = (function () {
    function t(e) {
      (this.broadcastWidth = 0), (this.broadcastHeight = 0), (this.contentRect_ = _d(0, 0, 0, 0)), (this.target = e);
    }
    return (
      (t.prototype.isActive = function () {
        var e = gE(this.target);
        return (this.contentRect_ = e), e.width !== this.broadcastWidth || e.height !== this.broadcastHeight;
      }),
      (t.prototype.broadcastRect = function () {
        var e = this.contentRect_;
        return (this.broadcastWidth = e.width), (this.broadcastHeight = e.height), e;
      }),
      t
    );
  })(),
  _E = (function () {
    function t(e, n) {
      var r = vE(n);
      e6(this, { target: e, contentRect: r });
    }
    return t;
  })(),
  SE = (function () {
    function t(e, n, r) {
      if (((this.activeObservations_ = []), (this.observations_ = new Jy()), typeof e != 'function')) throw new TypeError('The callback provided as parameter 1 is not a function.');
      (this.callback_ = e), (this.controller_ = n), (this.callbackCtx_ = r);
    }
    return (
      (t.prototype.observe = function (e) {
        if (!arguments.length) throw new TypeError('1 argument required, but only 0 present.');
        if (!(typeof Element > 'u' || !(Element instanceof Object))) {
          if (!(e instanceof Qa(e).Element)) throw new TypeError('parameter 1 is not of type "Element".');
          var n = this.observations_;
          n.has(e) || (n.set(e, new yE(e)), this.controller_.addObserver(this), this.controller_.refresh());
        }
      }),
      (t.prototype.unobserve = function (e) {
        if (!arguments.length) throw new TypeError('1 argument required, but only 0 present.');
        if (!(typeof Element > 'u' || !(Element instanceof Object))) {
          if (!(e instanceof Qa(e).Element)) throw new TypeError('parameter 1 is not of type "Element".');
          var n = this.observations_;
          n.has(e) && (n.delete(e), n.size || this.controller_.removeObserver(this));
        }
      }),
      (t.prototype.disconnect = function () {
        this.clearActive(), this.observations_.clear(), this.controller_.removeObserver(this);
      }),
      (t.prototype.gatherActive = function () {
        var e = this;
        this.clearActive(),
          this.observations_.forEach(function (n) {
            n.isActive() && e.activeObservations_.push(n);
          });
      }),
      (t.prototype.broadcastActive = function () {
        if (this.hasActive()) {
          var e = this.callbackCtx_,
            n = this.activeObservations_.map(function (r) {
              return new _E(r.target, r.broadcastRect());
            });
          this.callback_.call(e, n, e), this.clearActive();
        }
      }),
      (t.prototype.clearActive = function () {
        this.activeObservations_.splice(0);
      }),
      (t.prototype.hasActive = function () {
        return this.activeObservations_.length > 0;
      }),
      t
    );
  })(),
  n6 = typeof WeakMap < 'u' ? new WeakMap() : new Jy(),
  r6 = (function () {
    function t(e) {
      if (!(this instanceof t)) throw new TypeError('Cannot call a class as a function.');
      if (!arguments.length) throw new TypeError('1 argument required, but only 0 present.');
      var n = cE.getInstance(),
        r = new SE(e, n, this);
      n6.set(this, r);
    }
    return t;
  })();
['observe', 'unobserve', 'disconnect'].forEach(function (t) {
  r6.prototype[t] = function () {
    var e;
    return (e = n6.get(this))[t].apply(e, arguments);
  };
});
var EE = (function () {
    return typeof bc.ResizeObserver < 'u' ? bc.ResizeObserver : r6;
  })(),
  Ji = new Map();
function bE(t) {
  t.forEach(function (e) {
    var n,
      r = e.target;
    (n = Ji.get(r)) === null ||
      n === void 0 ||
      n.forEach(function (i) {
        return i(r);
      });
  });
}
var i6 = new EE(bE);
function xE(t, e) {
  Ji.has(t) || (Ji.set(t, new Set()), i6.observe(t)), Ji.get(t).add(e);
}
function TE(t, e) {
  Ji.has(t) && (Ji.get(t).delete(e), Ji.get(t).size || (i6.unobserve(t), Ji.delete(t)));
}
var wE = (function (t) {
    Dl(n, t);
    var e = Pl(n);
    function n() {
      return $r(this, n), e.apply(this, arguments);
    }
    return (
      Br(n, [
        {
          key: 'render',
          value: function () {
            return this.props.children;
          },
        },
      ]),
      n
    );
  })(v.Component),
  r0 = v.createContext(null);
function CE(t) {
  var e = t.children,
    n = t.onBatchResize,
    r = v.useRef(0),
    i = v.useRef([]),
    o = v.useContext(r0),
    a = v.useCallback(
      function (s, l, u) {
        r.current += 1;
        var c = r.current;
        i.current.push({ size: s, element: l, data: u }),
          Promise.resolve().then(function () {
            c === r.current && (n == null || n(i.current), (i.current = []));
          }),
          o == null || o(s, l, u);
      },
      [n, o],
    );
  return v.createElement(r0.Provider, { value: a }, e);
}
function RE(t, e) {
  var n = t.children,
    r = t.disabled,
    i = v.useRef(null),
    o = v.useRef(null),
    a = v.useContext(r0),
    s = typeof n == 'function',
    l = s ? n(i) : n,
    u = v.useRef({ width: -1, height: -1, offsetWidth: -1, offsetHeight: -1 }),
    c = !s && v.isValidElement(l) && Ol(l),
    d = c ? l.ref : null,
    f = v.useMemo(
      function () {
        return pi(d, i);
      },
      [d, i],
    ),
    h = function () {
      return Ec(i.current) || Ec(o.current);
    };
  v.useImperativeHandle(e, function () {
    return h();
  });
  var m = v.useRef(t);
  m.current = t;
  var g = v.useCallback(function (b) {
    var _ = m.current,
      y = _.onResize,
      T = _.data,
      w = b.getBoundingClientRect(),
      I = w.width,
      O = w.height,
      x = b.offsetWidth,
      L = b.offsetHeight,
      D = Math.floor(I),
      C = Math.floor(O);
    if (u.current.width !== D || u.current.height !== C || u.current.offsetWidth !== x || u.current.offsetHeight !== L) {
      var G = { width: D, height: C, offsetWidth: x, offsetHeight: L };
      u.current = G;
      var M = x === Math.round(I) ? I : x,
        B = L === Math.round(O) ? O : L,
        z = ce(ce({}, G), {}, { offsetWidth: M, offsetHeight: B });
      a == null || a(z, b, T),
        y &&
          Promise.resolve().then(function () {
            y(z, b);
          });
    }
  }, []);
  return (
    v.useEffect(
      function () {
        var b = h();
        return (
          b && !r && xE(b, g),
          function () {
            return TE(b, g);
          }
        );
      },
      [i.current, r],
    ),
    v.createElement(wE, { ref: o }, c ? v.cloneElement(l, { ref: f }) : l)
  );
}
var AE = v.forwardRef(RE),
  LE = 'rc-observer-key';
function IE(t, e) {
  var n = t.children,
    r = typeof n == 'function' ? [n] : gl(n);
  return r.map(function (i, o) {
    var a = (i == null ? void 0 : i.key) || ''.concat(LE, '-').concat(o);
    return v.createElement(AE, pt({}, t, { key: a, ref: o === 0 ? e : void 0 }), i);
  });
}
var Go = v.forwardRef(IE);
Go.Collection = CE;
function kl(t, e) {
  var n = ce({}, t);
  return (
    Array.isArray(e) &&
      e.forEach(function (r) {
        delete n[r];
      }),
    n
  );
}
function i0(t, e) {
  (e == null || e > t.length) && (e = t.length);
  for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
  return r;
}
function DE(t) {
  if (Array.isArray(t)) return i0(t);
}
function o6(t) {
  if ((typeof Symbol < 'u' && t[Symbol.iterator] != null) || t['@@iterator'] != null) return Array.from(t);
}
function rp(t, e) {
  if (t) {
    if (typeof t == 'string') return i0(t, e);
    var n = Object.prototype.toString.call(t).slice(8, -1);
    if ((n === 'Object' && t.constructor && (n = t.constructor.name), n === 'Map' || n === 'Set')) return Array.from(t);
    if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return i0(t, e);
  }
}
function PE() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function Ue(t) {
  return DE(t) || o6(t) || rp(t) || PE();
}
var a6 = function (e) {
    return +setTimeout(e, 16);
  },
  s6 = function (e) {
    return clearTimeout(e);
  };
typeof window < 'u' &&
  'requestAnimationFrame' in window &&
  ((a6 = function (e) {
    return window.requestAnimationFrame(e);
  }),
  (s6 = function (e) {
    return window.cancelAnimationFrame(e);
  }));
var hg = 0,
  ip = new Map();
function l6(t) {
  ip.delete(t);
}
var xn = function (e) {
  var n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;
  hg += 1;
  var r = hg;
  function i(o) {
    if (o === 0) l6(r), e();
    else {
      var a = a6(function () {
        i(o - 1);
      });
      ip.set(r, a);
    }
  }
  return i(n), r;
};
xn.cancel = function (t) {
  var e = ip.get(t);
  return l6(e), s6(e);
};
function op(t) {
  for (var e = 0, n, r = 0, i = t.length; i >= 4; ++r, i -= 4)
    (n = (t.charCodeAt(r) & 255) | ((t.charCodeAt(++r) & 255) << 8) | ((t.charCodeAt(++r) & 255) << 16) | ((t.charCodeAt(++r) & 255) << 24)),
      (n = (n & 65535) * 1540483477 + (((n >>> 16) * 59797) << 16)),
      (n ^= n >>> 24),
      (e = ((n & 65535) * 1540483477 + (((n >>> 16) * 59797) << 16)) ^ ((e & 65535) * 1540483477 + (((e >>> 16) * 59797) << 16)));
  switch (i) {
    case 3:
      e ^= (t.charCodeAt(r + 2) & 255) << 16;
    case 2:
      e ^= (t.charCodeAt(r + 1) & 255) << 8;
    case 1:
      (e ^= t.charCodeAt(r) & 255), (e = (e & 65535) * 1540483477 + (((e >>> 16) * 59797) << 16));
  }
  return (e ^= e >>> 13), (e = (e & 65535) * 1540483477 + (((e >>> 16) * 59797) << 16)), ((e ^ (e >>> 15)) >>> 0).toString(36);
}
function OE(t, e) {
  if (t == null) return {};
  var n = {},
    r = Object.keys(t),
    i,
    o;
  for (o = 0; o < r.length; o++) (i = r[o]), !(e.indexOf(i) >= 0) && (n[i] = t[i]);
  return n;
}
function Zt(t, e) {
  if (t == null) return {};
  var n = OE(t, e),
    r,
    i;
  if (Object.getOwnPropertySymbols) {
    var o = Object.getOwnPropertySymbols(t);
    for (i = 0; i < o.length; i++) (r = o[i]), !(e.indexOf(r) >= 0) && Object.prototype.propertyIsEnumerable.call(t, r) && (n[r] = t[r]);
  }
  return n;
}
function u6(t, e) {
  var n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !1,
    r = new Set();
  function i(o, a) {
    var s = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : 1,
      l = r.has(o);
    if ((ur(!l, 'Warning: There may be circular references'), l)) return !1;
    if (o === a) return !0;
    if (n && s > 1) return !1;
    r.add(o);
    var u = s + 1;
    if (Array.isArray(o)) {
      if (!Array.isArray(a) || o.length !== a.length) return !1;
      for (var c = 0; c < o.length; c++) if (!i(o[c], a[c], u)) return !1;
      return !0;
    }
    if (o && a && wt(o) === 'object' && wt(a) === 'object') {
      var d = Object.keys(o);
      return d.length !== Object.keys(a).length
        ? !1
        : d.every(function (f) {
            return i(o[f], a[f], u);
          });
    }
    return !1;
  }
  return i(t, e);
}
var kE = (function () {
    function t(e) {
      $r(this, t), De(this, 'instanceId', void 0), De(this, 'cache', new Map()), (this.instanceId = e);
    }
    return (
      Br(t, [
        {
          key: 'get',
          value: function (n) {
            return this.cache.get(n.join('%')) || null;
          },
        },
        {
          key: 'update',
          value: function (n, r) {
            var i = n.join('%'),
              o = this.cache.get(i),
              a = r(o);
            a === null ? this.cache.delete(i) : this.cache.set(i, a);
          },
        },
      ]),
      t
    );
  })(),
  o0 = 'data-token-hash',
  Ba = 'data-css-hash',
  Ra = '__cssinjs_instance__';
function ME() {
  var t = Math.random().toString(12).slice(2);
  if (typeof document < 'u' && document.head && document.body) {
    var e = document.body.querySelectorAll('style['.concat(Ba, ']')) || [],
      n = document.head.firstChild;
    Array.from(e).forEach(function (i) {
      (i[Ra] = i[Ra] || t), i[Ra] === t && document.head.insertBefore(i, n);
    });
    var r = {};
    Array.from(document.querySelectorAll('style['.concat(Ba, ']'))).forEach(function (i) {
      var o = i.getAttribute(Ba);
      if (r[o]) {
        if (i[Ra] === t) {
          var a;
          (a = i.parentNode) === null || a === void 0 || a.removeChild(i);
        }
      } else r[o] = !0;
    });
  }
  return new kE(t);
}
var FE = v.createContext({ hashPriority: 'low', cache: ME(), defaultCache: !0 });
const ap = FE;
function Sr() {
  return !!(typeof window < 'u' && window.document && window.document.createElement);
}
function NE(t, e) {
  if (!t) return !1;
  if (t.contains) return t.contains(e);
  for (var n = e; n; ) {
    if (n === t) return !0;
    n = n.parentNode;
  }
  return !1;
}
var mg = 'data-rc-order',
  $E = 'rc-util-key',
  a0 = new Map();
function c6() {
  var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {},
    e = t.mark;
  return e ? (e.startsWith('data-') ? e : 'data-'.concat(e)) : $E;
}
function Sd(t) {
  if (t.attachTo) return t.attachTo;
  var e = document.querySelector('head');
  return e || document.body;
}
function BE(t) {
  return t === 'queue' ? 'prependQueue' : t ? 'prepend' : 'append';
}
function d6(t) {
  return Array.from((a0.get(t) || t).children).filter(function (e) {
    return e.tagName === 'STYLE';
  });
}
function f6(t) {
  var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
  if (!Sr()) return null;
  var n = e.csp,
    r = e.prepend,
    i = document.createElement('style');
  i.setAttribute(mg, BE(r)), n != null && n.nonce && (i.nonce = n == null ? void 0 : n.nonce), (i.innerHTML = t);
  var o = Sd(e),
    a = o.firstChild;
  if (r) {
    if (r === 'queue') {
      var s = d6(o).filter(function (l) {
        return ['prepend', 'prependQueue'].includes(l.getAttribute(mg));
      });
      if (s.length) return o.insertBefore(i, s[s.length - 1].nextSibling), i;
    }
    o.insertBefore(i, a);
  } else o.appendChild(i);
  return i;
}
function h6(t) {
  var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {},
    n = Sd(e);
  return d6(n).find(function (r) {
    return r.getAttribute(c6(e)) === t;
  });
}
function Tc(t) {
  var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {},
    n = h6(t, e);
  if (n) {
    var r = Sd(e);
    r.removeChild(n);
  }
}
function UE(t, e) {
  var n = a0.get(t);
  if (!n || !NE(document, n)) {
    var r = f6('', e),
      i = r.parentNode;
    a0.set(t, i), t.removeChild(r);
  }
}
function Za(t, e) {
  var n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {},
    r = Sd(n);
  UE(r, n);
  var i = h6(e, n);
  if (i) {
    var o, a;
    if ((o = n.csp) !== null && o !== void 0 && o.nonce && i.nonce !== ((a = n.csp) === null || a === void 0 ? void 0 : a.nonce)) {
      var s;
      i.nonce = (s = n.csp) === null || s === void 0 ? void 0 : s.nonce;
    }
    return i.innerHTML !== t && (i.innerHTML = t), i;
  }
  var l = f6(t, n);
  return l.setAttribute(c6(n), e), l;
}
function wc(t) {
  var e = '';
  return (
    Object.keys(t).forEach(function (n) {
      var r = t[n];
      (e += n), r && wt(r) === 'object' ? (e += wc(r)) : (e += r);
    }),
    e
  );
}
function zE(t, e) {
  return op(''.concat(e, '_').concat(wc(t)));
}
var js = 'layer-'.concat(Date.now(), '-').concat(Math.random()).replace(/\./g, ''),
  m6 = '903px';
function VE(t, e) {
  if (Sr()) {
    var n;
    Za(t, js);
    var r = document.createElement('div');
    (r.style.position = 'fixed'), (r.style.left = '0'), (r.style.top = '0'), e == null || e(r), document.body.appendChild(r);
    var i = getComputedStyle(r).width === m6;
    return (n = r.parentNode) === null || n === void 0 || n.removeChild(r), Tc(js), i;
  }
  return !1;
}
var af = void 0;
function HE() {
  return (
    af === void 0 &&
      (af = VE('@layer '.concat(js, ' { .').concat(js, ' { width: ').concat(m6, '!important; } }'), function (t) {
        t.className = js;
      })),
    af
  );
}
function p6(t) {
  if (Array.isArray(t)) return t;
}
function jE(t, e) {
  var n = t == null ? null : (typeof Symbol < 'u' && t[Symbol.iterator]) || t['@@iterator'];
  if (n != null) {
    var r,
      i,
      o,
      a,
      s = [],
      l = !0,
      u = !1;
    try {
      if (((o = (n = n.call(t)).next), e === 0)) {
        if (Object(n) !== n) return;
        l = !1;
      } else for (; !(l = (r = o.call(n)).done) && (s.push(r.value), s.length !== e); l = !0);
    } catch (c) {
      (u = !0), (i = c);
    } finally {
      try {
        if (!l && n.return != null && ((a = n.return()), Object(a) !== a)) return;
      } finally {
        if (u) throw i;
      }
    }
    return s;
  }
}
function g6() {
  throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
function ve(t, e) {
  return p6(t) || jE(t, e) || rp(t, e) || g6();
}
function v6(t, e, n, r) {
  var i = v.useContext(ap),
    o = i.cache,
    a = [t].concat(Ue(e));
  return (
    v.useMemo(
      function () {
        o.update(a, function (s) {
          var l = s || [],
            u = ve(l, 2),
            c = u[0],
            d = c === void 0 ? 0 : c,
            f = u[1],
            h = f,
            m = h || n();
          return [d + 1, m];
        });
      },
      [a.join('_')],
    ),
    v.useEffect(function () {
      return function () {
        o.update(a, function (s) {
          var l = s || [],
            u = ve(l, 2),
            c = u[0],
            d = c === void 0 ? 0 : c,
            f = u[1],
            h = d - 1;
          return h === 0 ? (r == null || r(f, !1), null) : [d - 1, f];
        });
      };
    }, a),
    o.get(a)[1]
  );
}
var GE = {},
  WE = 'css',
  wo = new Map();
function KE(t) {
  wo.set(t, (wo.get(t) || 0) + 1);
}
function qE(t, e) {
  if (typeof document < 'u') {
    var n = document.querySelectorAll('style['.concat(o0, '="').concat(t, '"]'));
    n.forEach(function (r) {
      if (r[Ra] === e) {
        var i;
        (i = r.parentNode) === null || i === void 0 || i.removeChild(r);
      }
    });
  }
}
function YE(t, e) {
  wo.set(t, (wo.get(t) || 0) - 1);
  var n = Array.from(wo.keys()),
    r = n.filter(function (i) {
      var o = wo.get(i) || 0;
      return o <= 0;
    });
  r.length < n.length &&
    r.forEach(function (i) {
      qE(i, e), wo.delete(i);
    });
}
var y6 = function (e, n, r, i) {
  var o = r.getDerivativeToken(e),
    a = ce(ce({}, o), n);
  return i && (a = i(a)), a;
};
function XE(t, e) {
  var n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {},
    r = v.useContext(ap),
    i = r.cache.instanceId,
    o = n.salt,
    a = o === void 0 ? '' : o,
    s = n.override,
    l = s === void 0 ? GE : s,
    u = n.formatToken,
    c = v.useMemo(
      function () {
        return Object.assign.apply(Object, [{}].concat(Ue(e)));
      },
      [e],
    ),
    d = v.useMemo(
      function () {
        return wc(c);
      },
      [c],
    ),
    f = v.useMemo(
      function () {
        return wc(l);
      },
      [l],
    ),
    h = v6(
      'token',
      [a, t.id, d, f],
      function () {
        var m = y6(c, l, t, u),
          g = zE(m, a);
        (m._tokenKey = g), KE(g);
        var b = ''.concat(WE, '-').concat(op(g));
        return (m._hashId = b), [m, b];
      },
      function (m) {
        YE(m[0]._tokenKey, i);
      },
    );
  return h;
}
var QE = {
    animationIterationCount: 1,
    borderImageOutset: 1,
    borderImageSlice: 1,
    borderImageWidth: 1,
    boxFlex: 1,
    boxFlexGroup: 1,
    boxOrdinalGroup: 1,
    columnCount: 1,
    columns: 1,
    flex: 1,
    flexGrow: 1,
    flexPositive: 1,
    flexShrink: 1,
    flexNegative: 1,
    flexOrder: 1,
    gridRow: 1,
    gridRowEnd: 1,
    gridRowSpan: 1,
    gridRowStart: 1,
    gridColumn: 1,
    gridColumnEnd: 1,
    gridColumnSpan: 1,
    gridColumnStart: 1,
    msGridRow: 1,
    msGridRowSpan: 1,
    msGridColumn: 1,
    msGridColumnSpan: 1,
    fontWeight: 1,
    lineHeight: 1,
    opacity: 1,
    order: 1,
    orphans: 1,
    tabSize: 1,
    widows: 1,
    zIndex: 1,
    zoom: 1,
    WebkitLineClamp: 1,
    fillOpacity: 1,
    floodOpacity: 1,
    stopOpacity: 1,
    strokeDasharray: 1,
    strokeDashoffset: 1,
    strokeMiterlimit: 1,
    strokeOpacity: 1,
    strokeWidth: 1,
  },
  _6 = 'comm',
  S6 = 'rule',
  E6 = 'decl',
  ZE = '@import',
  JE = '@keyframes',
  eb = '@layer',
  tb = Math.abs,
  sp = String.fromCharCode;
function b6(t) {
  return t.trim();
}
function zu(t, e, n) {
  return t.replace(e, n);
}
function nb(t, e) {
  return t.indexOf(e);
}
function vl(t, e) {
  return t.charCodeAt(e) | 0;
}
function yl(t, e, n) {
  return t.slice(e, n);
}
function Wi(t) {
  return t.length;
}
function x6(t) {
  return t.length;
}
function su(t, e) {
  return e.push(t), t;
}
var Ed = 1,
  Ja = 1,
  T6 = 0,
  Nr = 0,
  wn = 0,
  os = '';
function lp(t, e, n, r, i, o, a) {
  return { value: t, root: e, parent: n, type: r, props: i, children: o, line: Ed, column: Ja, length: a, return: '' };
}
function rb() {
  return wn;
}
function ib() {
  return (wn = Nr > 0 ? vl(os, --Nr) : 0), Ja--, wn === 10 && ((Ja = 1), Ed--), wn;
}
function ei() {
  return (wn = Nr < T6 ? vl(os, Nr++) : 0), Ja++, wn === 10 && ((Ja = 1), Ed++), wn;
}
function ko() {
  return vl(os, Nr);
}
function Vu() {
  return Nr;
}
function bd(t, e) {
  return yl(os, t, e);
}
function s0(t) {
  switch (t) {
    case 0:
    case 9:
    case 10:
    case 13:
    case 32:
      return 5;
    case 33:
    case 43:
    case 44:
    case 47:
    case 62:
    case 64:
    case 126:
    case 59:
    case 123:
    case 125:
      return 4;
    case 58:
      return 3;
    case 34:
    case 39:
    case 40:
    case 91:
      return 2;
    case 41:
    case 93:
      return 1;
  }
  return 0;
}
function ob(t) {
  return (Ed = Ja = 1), (T6 = Wi((os = t))), (Nr = 0), [];
}
function ab(t) {
  return (os = ''), t;
}
function sf(t) {
  return b6(bd(Nr - 1, l0(t === 91 ? t + 2 : t === 40 ? t + 1 : t)));
}
function sb(t) {
  for (; (wn = ko()) && wn < 33; ) ei();
  return s0(t) > 2 || s0(wn) > 3 ? '' : ' ';
}
function lb(t, e) {
  for (; --e && ei() && !(wn < 48 || wn > 102 || (wn > 57 && wn < 65) || (wn > 70 && wn < 97)); );
  return bd(t, Vu() + (e < 6 && ko() == 32 && ei() == 32));
}
function l0(t) {
  for (; ei(); )
    switch (wn) {
      case t:
        return Nr;
      case 34:
      case 39:
        t !== 34 && t !== 39 && l0(wn);
        break;
      case 40:
        t === 41 && l0(t);
        break;
      case 92:
        ei();
        break;
    }
  return Nr;
}
function ub(t, e) {
  for (; ei() && t + wn !== 47 + 10; ) if (t + wn === 42 + 42 && ko() === 47) break;
  return '/*' + bd(e, Nr - 1) + '*' + sp(t === 47 ? t : ei());
}
function cb(t) {
  for (; !s0(ko()); ) ei();
  return bd(t, Nr);
}
function db(t) {
  return ab(Hu('', null, null, null, [''], (t = ob(t)), 0, [0], t));
}
function Hu(t, e, n, r, i, o, a, s, l) {
  for (var u = 0, c = 0, d = a, f = 0, h = 0, m = 0, g = 1, b = 1, _ = 1, y = 0, T = '', w = i, I = o, O = r, x = T; b; )
    switch (((m = y), (y = ei()))) {
      case 40:
        if (m != 108 && vl(x, d - 1) == 58) {
          nb((x += zu(sf(y), '&', '&\f')), '&\f') != -1 && (_ = -1);
          break;
        }
      case 34:
      case 39:
      case 91:
        x += sf(y);
        break;
      case 9:
      case 10:
      case 13:
      case 32:
        x += sb(m);
        break;
      case 92:
        x += lb(Vu() - 1, 7);
        continue;
      case 47:
        switch (ko()) {
          case 42:
          case 47:
            su(fb(ub(ei(), Vu()), e, n), l);
            break;
          default:
            x += '/';
        }
        break;
      case 123 * g:
        s[u++] = Wi(x) * _;
      case 125 * g:
      case 59:
      case 0:
        switch (y) {
          case 0:
          case 125:
            b = 0;
          case 59 + c:
            _ == -1 && (x = zu(x, /\f/g, '')), h > 0 && Wi(x) - d && su(h > 32 ? gg(x + ';', r, n, d - 1) : gg(zu(x, ' ', '') + ';', r, n, d - 2), l);
            break;
          case 59:
            x += ';';
          default:
            if ((su((O = pg(x, e, n, u, c, i, s, T, (w = []), (I = []), d)), o), y === 123))
              if (c === 0) Hu(x, e, O, O, w, o, d, s, I);
              else
                switch (f === 99 && vl(x, 3) === 110 ? 100 : f) {
                  case 100:
                  case 108:
                  case 109:
                  case 115:
                    Hu(t, O, O, r && su(pg(t, O, O, 0, 0, i, s, T, i, (w = []), d), I), i, I, d, s, r ? w : I);
                    break;
                  default:
                    Hu(x, O, O, O, [''], I, 0, s, I);
                }
        }
        (u = c = h = 0), (g = _ = 1), (T = x = ''), (d = a);
        break;
      case 58:
        (d = 1 + Wi(x)), (h = m);
      default:
        if (g < 1) {
          if (y == 123) --g;
          else if (y == 125 && g++ == 0 && ib() == 125) continue;
        }
        switch (((x += sp(y)), y * g)) {
          case 38:
            _ = c > 0 ? 1 : ((x += '\f'), -1);
            break;
          case 44:
            (s[u++] = (Wi(x) - 1) * _), (_ = 1);
            break;
          case 64:
            ko() === 45 && (x += sf(ei())), (f = ko()), (c = d = Wi((T = x += cb(Vu())))), y++;
            break;
          case 45:
            m === 45 && Wi(x) == 2 && (g = 0);
        }
    }
  return o;
}
function pg(t, e, n, r, i, o, a, s, l, u, c) {
  for (var d = i - 1, f = i === 0 ? o : [''], h = x6(f), m = 0, g = 0, b = 0; m < r; ++m)
    for (var _ = 0, y = yl(t, d + 1, (d = tb((g = a[m])))), T = t; _ < h; ++_) (T = b6(g > 0 ? f[_] + ' ' + y : zu(y, /&\f/g, f[_]))) && (l[b++] = T);
  return lp(t, e, n, i === 0 ? S6 : s, l, u, c);
}
function fb(t, e, n) {
  return lp(t, e, n, _6, sp(rb()), yl(t, 2, -2), 0);
}
function gg(t, e, n, r) {
  return lp(t, e, n, E6, yl(t, 0, r), yl(t, r + 1, -1), r);
}
function u0(t, e) {
  for (var n = '', r = x6(t), i = 0; i < r; i++) n += e(t[i], i, t, e) || '';
  return n;
}
function hb(t, e, n, r) {
  switch (t.type) {
    case eb:
      if (t.children.length) break;
    case ZE:
    case E6:
      return (t.return = t.return || t.value);
    case _6:
      return '';
    case JE:
      return (t.return = t.value + '{' + u0(t.children, r) + '}');
    case S6:
      t.value = t.props.join(',');
  }
  return Wi((n = u0(t.children, r))) ? (t.return = t.value + '{' + n + '}') : '';
}
var vg = Sr(),
  mb = '_skip_check_',
  w6 = '_multi_value_';
function yg(t) {
  var e = u0(db(t), hb);
  return e.replace(/\{%%%\:[^;];}/g, ';');
}
function pb(t) {
  return wt(t) === 'object' && t && (mb in t || w6 in t);
}
function gb(t, e, n) {
  if (!e) return t;
  var r = '.'.concat(e),
    i = n === 'low' ? ':where('.concat(r, ')') : r,
    o = t.split(',').map(function (a) {
      var s,
        l = a.trim().split(/\s+/),
        u = l[0] || '',
        c = ((s = u.match(/^\w+/)) === null || s === void 0 ? void 0 : s[0]) || '';
      return (u = ''.concat(c).concat(i).concat(u.slice(c.length))), [u].concat(Ue(l.slice(1))).join(' ');
    });
  return o.join(',');
}
var vb = function t(e) {
  var n = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {},
    r = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : { root: !0, parentSelectors: [] },
    i = r.root,
    o = r.injectHash,
    a = r.parentSelectors,
    s = n.hashId,
    l = n.layer;
  n.path;
  var u = n.hashPriority,
    c = n.transformers,
    d = c === void 0 ? [] : c;
  n.linters;
  var f = '',
    h = {};
  function m(T) {
    var w = T.getName(s);
    if (!h[w]) {
      var I = t(T.style, n, { root: !1, parentSelectors: a }),
        O = ve(I, 1),
        x = O[0];
      h[w] = '@keyframes '.concat(T.getName(s)).concat(x);
    }
  }
  function g(T) {
    var w = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];
    return (
      T.forEach(function (I) {
        Array.isArray(I) ? g(I, w) : I && w.push(I);
      }),
      w
    );
  }
  var b = g(Array.isArray(e) ? e : [e]);
  if (
    (b.forEach(function (T) {
      var w = typeof T == 'string' && !i ? {} : T;
      if (typeof w == 'string')
        f += ''.concat(
          w,
          `
`,
        );
      else if (w._keyframe) m(w);
      else {
        var I = d.reduce(function (O, x) {
          var L;
          return (x == null || (L = x.visit) === null || L === void 0 ? void 0 : L.call(x, O)) || O;
        }, w);
        Object.keys(I).forEach(function (O) {
          var x = I[O];
          if (wt(x) === 'object' && x && (O !== 'animationName' || !x._keyframe) && !pb(x)) {
            var L = !1,
              D = O.trim(),
              C = !1;
            (i || o) && s ? (D.startsWith('@') ? (L = !0) : (D = gb(O, s, u))) : i && !s && (D === '&' || D === '') && ((D = ''), (C = !0));
            var G = t(x, n, { root: C, injectHash: L, parentSelectors: [].concat(Ue(a), [D]) }),
              M = ve(G, 2),
              B = M[0],
              z = M[1];
            (h = ce(ce({}, h), z)), (f += ''.concat(D).concat(B));
          } else {
            let A = function (k, U) {
              var X = k.replace(/[A-Z]/g, function (W) {
                  return '-'.concat(W.toLowerCase());
                }),
                Q = U;
              !QE[k] && typeof Q == 'number' && Q !== 0 && (Q = ''.concat(Q, 'px')),
                k === 'animationName' && U !== null && U !== void 0 && U._keyframe && (m(U), (Q = U.getName(s))),
                (f += ''.concat(X, ':').concat(Q, ';'));
            };
            var F = A,
              H,
              q = (H = x == null ? void 0 : x.value) !== null && H !== void 0 ? H : x;
            wt(x) === 'object' && x !== null && x !== void 0 && x[w6] && Array.isArray(q)
              ? q.forEach(function (k) {
                  A(O, k);
                })
              : A(O, q);
          }
        });
      }
    }),
    !i)
  )
    f = '{'.concat(f, '}');
  else if (l && HE()) {
    var _ = l.split(','),
      y = _[_.length - 1].trim();
    (f = '@layer '.concat(y, ' {').concat(f, '}')), _.length > 1 && (f = '@layer '.concat(l, '{%%%:%}').concat(f));
  }
  return [f, h];
};
function yb(t, e) {
  return op(''.concat(t.join('%')).concat(e));
}
function _b() {
  return null;
}
function c0(t, e) {
  var n = t.token,
    r = t.path,
    i = t.hashId,
    o = t.layer,
    a = t.nonce,
    s = v.useContext(ap),
    l = s.autoClear;
  s.mock;
  var u = s.defaultCache,
    c = s.hashPriority,
    d = s.container,
    f = s.ssrInline,
    h = s.transformers,
    m = s.linters,
    g = s.cache,
    b = n._tokenKey,
    _ = [b].concat(Ue(r)),
    y = vg,
    T = v6(
      'style',
      _,
      function () {
        var L = e(),
          D = vb(L, { hashId: i, hashPriority: c, layer: o, path: r.join('-'), transformers: h, linters: m }),
          C = ve(D, 2),
          G = C[0],
          M = C[1],
          B = yg(G),
          z = yb(_, B);
        if (y) {
          var H = { mark: Ba, prepend: 'queue', attachTo: d },
            q = typeof a == 'function' ? a() : a;
          q && (H.csp = { nonce: q });
          var F = Za(B, z, H);
          (F[Ra] = g.instanceId),
            F.setAttribute(o0, b),
            Object.keys(M).forEach(function (A) {
              Za(yg(M[A]), '_effect-'.concat(A), H);
            });
        }
        return [B, b, z];
      },
      function (L, D) {
        var C = ve(L, 3),
          G = C[2];
        (D || l) && vg && Tc(G, { mark: Ba });
      },
    ),
    w = ve(T, 3),
    I = w[0],
    O = w[1],
    x = w[2];
  return function (L) {
    var D;
    if (!f || y || !u) D = v.createElement(_b, null);
    else {
      var C;
      D = v.createElement('style', pt({}, ((C = {}), De(C, o0, O), De(C, Ba, x), C), { dangerouslySetInnerHTML: { __html: I } }));
    }
    return v.createElement(v.Fragment, null, D, L);
  };
}
var Yt = (function () {
  function t(e, n) {
    $r(this, t), De(this, 'name', void 0), De(this, 'style', void 0), De(this, '_keyframe', !0), (this.name = e), (this.style = n);
  }
  return (
    Br(t, [
      {
        key: 'getName',
        value: function () {
          var n = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : '';
          return n ? ''.concat(n, '-').concat(this.name) : this.name;
        },
      },
    ]),
    t
  );
})();
function Sb(t, e) {
  if (t.length !== e.length) return !1;
  for (var n = 0; n < t.length; n++) if (t[n] !== e[n]) return !1;
  return !0;
}
var up = (function () {
  function t() {
    $r(this, t), De(this, 'cache', void 0), De(this, 'keys', void 0), De(this, 'cacheCallTimes', void 0), (this.cache = new Map()), (this.keys = []), (this.cacheCallTimes = 0);
  }
  return (
    Br(t, [
      {
        key: 'size',
        value: function () {
          return this.keys.length;
        },
      },
      {
        key: 'internalGet',
        value: function (n) {
          var r,
            i,
            o = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1,
            a = { map: this.cache };
          return (
            n.forEach(function (s) {
              if (!a) a = void 0;
              else {
                var l, u;
                a = (l = a) === null || l === void 0 || (u = l.map) === null || u === void 0 ? void 0 : u.get(s);
              }
            }),
            (r = a) !== null && r !== void 0 && r.value && o && (a.value[1] = this.cacheCallTimes++),
            (i = a) === null || i === void 0 ? void 0 : i.value
          );
        },
      },
      {
        key: 'get',
        value: function (n) {
          var r;
          return (r = this.internalGet(n, !0)) === null || r === void 0 ? void 0 : r[0];
        },
      },
      {
        key: 'has',
        value: function (n) {
          return !!this.internalGet(n);
        },
      },
      {
        key: 'set',
        value: function (n, r) {
          var i = this;
          if (!this.has(n)) {
            if (this.size() + 1 > t.MAX_CACHE_SIZE + t.MAX_CACHE_OFFSET) {
              var o = this.keys.reduce(
                  function (u, c) {
                    var d = ve(u, 2),
                      f = d[1];
                    return i.internalGet(c)[1] < f ? [c, i.internalGet(c)[1]] : u;
                  },
                  [this.keys[0], this.cacheCallTimes],
                ),
                a = ve(o, 1),
                s = a[0];
              this.delete(s);
            }
            this.keys.push(n);
          }
          var l = this.cache;
          n.forEach(function (u, c) {
            if (c === n.length - 1) l.set(u, { value: [r, i.cacheCallTimes++] });
            else {
              var d = l.get(u);
              d ? d.map || (d.map = new Map()) : l.set(u, { map: new Map() }), (l = l.get(u).map);
            }
          });
        },
      },
      {
        key: 'deleteByPath',
        value: function (n, r) {
          var i = n.get(r[0]);
          if (r.length === 1) {
            var o;
            return i.map ? n.set(r[0], { map: i.map }) : n.delete(r[0]), (o = i.value) === null || o === void 0 ? void 0 : o[0];
          }
          var a = this.deleteByPath(i.map, r.slice(1));
          return (!i.map || i.map.size === 0) && !i.value && n.delete(r[0]), a;
        },
      },
      {
        key: 'delete',
        value: function (n) {
          if (this.has(n))
            return (
              (this.keys = this.keys.filter(function (r) {
                return !Sb(r, n);
              })),
              this.deleteByPath(this.cache, n)
            );
        },
      },
    ]),
    t
  );
})();
De(up, 'MAX_CACHE_SIZE', 20);
De(up, 'MAX_CACHE_OFFSET', 5);
var _g = 0,
  Eb = (function () {
    function t(e) {
      $r(this, t), De(this, 'derivatives', void 0), De(this, 'id', void 0), (this.derivatives = Array.isArray(e) ? e : [e]), (this.id = _g), e.length === 0 && (e.length > 0, void 0), (_g += 1);
    }
    return (
      Br(t, [
        {
          key: 'getDerivativeToken',
          value: function (n) {
            return this.derivatives.reduce(function (r, i) {
              return i(n, r);
            }, void 0);
          },
        },
      ]),
      t
    );
  })(),
  lf = new up();
function Cc(t) {
  var e = Array.isArray(t) ? t : [t];
  return lf.has(e) || lf.set(e, new Eb(e)), lf.get(e);
}
function Jo(t) {
  return (t.notSplit = !0), t;
}
Jo(['borderTop', 'borderBottom']), Jo(['borderTop']), Jo(['borderBottom']), Jo(['borderLeft', 'borderRight']), Jo(['borderLeft']), Jo(['borderRight']);
var bb = v.createContext({});
const cp = bb;
function C6(t) {
  return p6(t) || o6(t) || rp(t) || g6();
}
function Qr(t, e) {
  for (var n = t, r = 0; r < e.length; r += 1) {
    if (n == null) return;
    n = n[e[r]];
  }
  return n;
}
function R6(t, e, n, r) {
  if (!e.length) return n;
  var i = C6(e),
    o = i[0],
    a = i.slice(1),
    s;
  return !t && typeof o == 'number' ? (s = []) : Array.isArray(t) ? (s = Ue(t)) : (s = ce({}, t)), r && n === void 0 && a.length === 1 ? delete s[o][a[0]] : (s[o] = R6(s[o], a, n, r)), s;
}
function Wr(t, e, n) {
  var r = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : !1;
  return e.length && r && n === void 0 && !Qr(t, e.slice(0, -1)) ? t : R6(t, e, n, r);
}
function xb(t) {
  return wt(t) === 'object' && t !== null && Object.getPrototypeOf(t) === Object.prototype;
}
function Sg(t) {
  return Array.isArray(t) ? [] : {};
}
function Aa() {
  for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++) e[n] = arguments[n];
  var r = Sg(e[0]);
  return (
    e.forEach(function (i) {
      var o = new Set();
      function a(s) {
        var l = Qr(i, s),
          u = Array.isArray(l);
        if (u || xb(l)) {
          if (!o.has(l)) {
            o.add(l);
            var c = Qr(r, s);
            u ? (r = Wr(r, s, [])) : (!c || wt(c) !== 'object') && (r = Wr(r, s, Sg(l))),
              Object.keys(l).forEach(function (d) {
                a([].concat(Ue(s), [d]));
              });
          }
        } else r = Wr(r, s, l);
      }
      a([]);
    }),
    r
  );
}
const Tb = v.createContext(void 0),
  wb = {
    items_per_page: '/ page',
    jump_to: 'Go to',
    jump_to_confirm: 'confirm',
    page: 'Page',
    prev_page: 'Previous Page',
    next_page: 'Next Page',
    prev_5: 'Previous 5 Pages',
    next_5: 'Next 5 Pages',
    prev_3: 'Previous 3 Pages',
    next_3: 'Next 3 Pages',
    page_size: 'Page Size',
  };
var Cb = {
  locale: 'en_US',
  today: 'Today',
  now: 'Now',
  backToToday: 'Back to today',
  ok: 'OK',
  clear: 'Clear',
  month: 'Month',
  year: 'Year',
  timeSelect: 'select time',
  dateSelect: 'select date',
  weekSelect: 'Choose a week',
  monthSelect: 'Choose a month',
  yearSelect: 'Choose a year',
  decadeSelect: 'Choose a decade',
  yearFormat: 'YYYY',
  dateFormat: 'M/D/YYYY',
  dayFormat: 'D',
  dateTimeFormat: 'M/D/YYYY HH:mm:ss',
  monthBeforeYear: !0,
  previousMonth: 'Previous month (PageUp)',
  nextMonth: 'Next month (PageDown)',
  previousYear: 'Last year (Control + left)',
  nextYear: 'Next year (Control + right)',
  previousDecade: 'Last decade',
  nextDecade: 'Next decade',
  previousCentury: 'Last century',
  nextCentury: 'Next century',
};
const Rb = { placeholder: 'Select time', rangePlaceholder: ['Start time', 'End time'] },
  A6 = Rb,
  Ab = {
    lang: Object.assign(
      {
        placeholder: 'Select date',
        yearPlaceholder: 'Select year',
        quarterPlaceholder: 'Select quarter',
        monthPlaceholder: 'Select month',
        weekPlaceholder: 'Select week',
        rangePlaceholder: ['Start date', 'End date'],
        rangeYearPlaceholder: ['Start year', 'End year'],
        rangeQuarterPlaceholder: ['Start quarter', 'End quarter'],
        rangeMonthPlaceholder: ['Start month', 'End month'],
        rangeWeekPlaceholder: ['Start week', 'End week'],
      },
      Cb,
    ),
    timePickerLocale: Object.assign({}, A6),
  },
  Eg = Ab,
  dr = '${label} is not a valid ${type}',
  Lb = {
    locale: 'en',
    Pagination: wb,
    DatePicker: Eg,
    TimePicker: A6,
    Calendar: Eg,
    global: { placeholder: 'Please select' },
    Table: {
      filterTitle: 'Filter menu',
      filterConfirm: 'OK',
      filterReset: 'Reset',
      filterEmptyText: 'No filters',
      filterCheckall: 'Select all items',
      filterSearchPlaceholder: 'Search in filters',
      emptyText: 'No data',
      selectAll: 'Select current page',
      selectInvert: 'Invert current page',
      selectNone: 'Clear all data',
      selectionAll: 'Select all data',
      sortTitle: 'Sort',
      expand: 'Expand row',
      collapse: 'Collapse row',
      triggerDesc: 'Click to sort descending',
      triggerAsc: 'Click to sort ascending',
      cancelSort: 'Click to cancel sorting',
    },
    Tour: { Next: 'Next', Previous: 'Previous', Finish: 'Finish' },
    Modal: { okText: 'OK', cancelText: 'Cancel', justOkText: 'OK' },
    Popconfirm: { okText: 'OK', cancelText: 'Cancel' },
    Transfer: {
      titles: ['', ''],
      searchPlaceholder: 'Search here',
      itemUnit: 'item',
      itemsUnit: 'items',
      remove: 'Remove',
      selectCurrent: 'Select current page',
      removeCurrent: 'Remove current page',
      selectAll: 'Select all data',
      removeAll: 'Remove all data',
      selectInvert: 'Invert current page',
    },
    Upload: { uploading: 'Uploading...', removeFile: 'Remove file', uploadError: 'Upload error', previewFile: 'Preview file', downloadFile: 'Download file' },
    Empty: { description: 'No data' },
    Icon: { icon: 'icon' },
    Text: { edit: 'Edit', copy: 'Copy', copied: 'Copied', expand: 'Expand' },
    PageHeader: { back: 'Back' },
    Form: {
      optional: '(optional)',
      defaultValidateMessages: {
        default: 'Field validation error for ${label}',
        required: 'Please enter ${label}',
        enum: '${label} must be one of [${enum}]',
        whitespace: '${label} cannot be a blank character',
        date: { format: '${label} date format is invalid', parse: '${label} cannot be converted to a date', invalid: '${label} is an invalid date' },
        types: { string: dr, method: dr, array: dr, object: dr, number: dr, date: dr, boolean: dr, integer: dr, float: dr, regexp: dr, email: dr, url: dr, hex: dr },
        string: {
          len: '${label} must be ${len} characters',
          min: '${label} must be at least ${min} characters',
          max: '${label} must be up to ${max} characters',
          range: '${label} must be between ${min}-${max} characters',
        },
        number: { len: '${label} must be equal to ${len}', min: '${label} must be minimum ${min}', max: '${label} must be maximum ${max}', range: '${label} must be between ${min}-${max}' },
        array: { len: 'Must be ${len} ${label}', min: 'At least ${min} ${label}', max: 'At most ${max} ${label}', range: 'The amount of ${label} must be between ${min}-${max}' },
        pattern: { mismatch: '${label} does not match the pattern ${pattern}' },
      },
    },
    Image: { preview: 'Preview' },
    QRCode: { expired: 'QR code expired', refresh: 'Refresh' },
    ColorPicker: { presetEmpty: 'Empty' },
  },
  _l = Lb;
let uf = Object.assign({}, _l.Modal);
function bg(t) {
  t ? (uf = Object.assign(Object.assign({}, uf), t)) : (uf = Object.assign({}, _l.Modal));
}
const Ib = v.createContext(void 0),
  dp = Ib,
  Db = (t, e) => {
    const n = v.useContext(dp),
      r = v.useMemo(() => {
        var o;
        const a = e || _l[t],
          s = (o = n == null ? void 0 : n[t]) !== null && o !== void 0 ? o : {};
        return Object.assign(Object.assign({}, typeof a == 'function' ? a() : a), s || {});
      }, [t, e, n]),
      i = v.useMemo(() => {
        const o = n == null ? void 0 : n.locale;
        return n != null && n.exist && !o ? _l.locale : o;
      }, [n]);
    return [r, i];
  },
  Pb = Db,
  Ob = 'internalMark',
  kb = (t) => {
    const { locale: e = {}, children: n, _ANT_MARK__: r } = t;
    v.useEffect(
      () => (
        bg(e && e.Modal),
        () => {
          bg();
        }
      ),
      [e],
    );
    const i = v.useMemo(() => Object.assign(Object.assign({}, e), { exist: !0 }), [e]);
    return v.createElement(dp.Provider, { value: i }, n);
  },
  Mb = kb,
  Fb = '5.6.4',
  Rc = ['blue', 'purple', 'cyan', 'green', 'magenta', 'pink', 'red', 'orange', 'yellow', 'volcano', 'geekblue', 'lime', 'gold'];
function Hn(t, e) {
  Nb(t) && (t = '100%');
  var n = $b(t);
  return (
    (t = e === 360 ? t : Math.min(e, Math.max(0, parseFloat(t)))),
    n && (t = parseInt(String(t * e), 10) / 100),
    Math.abs(t - e) < 1e-6 ? 1 : (e === 360 ? (t = (t < 0 ? (t % e) + e : t % e) / parseFloat(String(e))) : (t = (t % e) / parseFloat(String(e))), t)
  );
}
function lu(t) {
  return Math.min(1, Math.max(0, t));
}
function Nb(t) {
  return typeof t == 'string' && t.indexOf('.') !== -1 && parseFloat(t) === 1;
}
function $b(t) {
  return typeof t == 'string' && t.indexOf('%') !== -1;
}
function L6(t) {
  return (t = parseFloat(t)), (isNaN(t) || t < 0 || t > 1) && (t = 1), t;
}
function uu(t) {
  return t <= 1 ? ''.concat(Number(t) * 100, '%') : t;
}
function Lo(t) {
  return t.length === 1 ? '0' + t : String(t);
}
function Bb(t, e, n) {
  return { r: Hn(t, 255) * 255, g: Hn(e, 255) * 255, b: Hn(n, 255) * 255 };
}
function xg(t, e, n) {
  (t = Hn(t, 255)), (e = Hn(e, 255)), (n = Hn(n, 255));
  var r = Math.max(t, e, n),
    i = Math.min(t, e, n),
    o = 0,
    a = 0,
    s = (r + i) / 2;
  if (r === i) (a = 0), (o = 0);
  else {
    var l = r - i;
    switch (((a = s > 0.5 ? l / (2 - r - i) : l / (r + i)), r)) {
      case t:
        o = (e - n) / l + (e < n ? 6 : 0);
        break;
      case e:
        o = (n - t) / l + 2;
        break;
      case n:
        o = (t - e) / l + 4;
        break;
    }
    o /= 6;
  }
  return { h: o, s: a, l: s };
}
function cf(t, e, n) {
  return n < 0 && (n += 1), n > 1 && (n -= 1), n < 1 / 6 ? t + (e - t) * (6 * n) : n < 1 / 2 ? e : n < 2 / 3 ? t + (e - t) * (2 / 3 - n) * 6 : t;
}
function Ub(t, e, n) {
  var r, i, o;
  if (((t = Hn(t, 360)), (e = Hn(e, 100)), (n = Hn(n, 100)), e === 0)) (i = n), (o = n), (r = n);
  else {
    var a = n < 0.5 ? n * (1 + e) : n + e - n * e,
      s = 2 * n - a;
    (r = cf(s, a, t + 1 / 3)), (i = cf(s, a, t)), (o = cf(s, a, t - 1 / 3));
  }
  return { r: r * 255, g: i * 255, b: o * 255 };
}
function d0(t, e, n) {
  (t = Hn(t, 255)), (e = Hn(e, 255)), (n = Hn(n, 255));
  var r = Math.max(t, e, n),
    i = Math.min(t, e, n),
    o = 0,
    a = r,
    s = r - i,
    l = r === 0 ? 0 : s / r;
  if (r === i) o = 0;
  else {
    switch (r) {
      case t:
        o = (e - n) / s + (e < n ? 6 : 0);
        break;
      case e:
        o = (n - t) / s + 2;
        break;
      case n:
        o = (t - e) / s + 4;
        break;
    }
    o /= 6;
  }
  return { h: o, s: l, v: a };
}
function zb(t, e, n) {
  (t = Hn(t, 360) * 6), (e = Hn(e, 100)), (n = Hn(n, 100));
  var r = Math.floor(t),
    i = t - r,
    o = n * (1 - e),
    a = n * (1 - i * e),
    s = n * (1 - (1 - i) * e),
    l = r % 6,
    u = [n, a, o, o, s, n][l],
    c = [s, n, n, a, o, o][l],
    d = [o, o, s, n, n, a][l];
  return { r: u * 255, g: c * 255, b: d * 255 };
}
function f0(t, e, n, r) {
  var i = [Lo(Math.round(t).toString(16)), Lo(Math.round(e).toString(16)), Lo(Math.round(n).toString(16))];
  return r && i[0].startsWith(i[0].charAt(1)) && i[1].startsWith(i[1].charAt(1)) && i[2].startsWith(i[2].charAt(1)) ? i[0].charAt(0) + i[1].charAt(0) + i[2].charAt(0) : i.join('');
}
function Vb(t, e, n, r, i) {
  var o = [Lo(Math.round(t).toString(16)), Lo(Math.round(e).toString(16)), Lo(Math.round(n).toString(16)), Lo(Hb(r))];
  return i && o[0].startsWith(o[0].charAt(1)) && o[1].startsWith(o[1].charAt(1)) && o[2].startsWith(o[2].charAt(1)) && o[3].startsWith(o[3].charAt(1))
    ? o[0].charAt(0) + o[1].charAt(0) + o[2].charAt(0) + o[3].charAt(0)
    : o.join('');
}
function Hb(t) {
  return Math.round(parseFloat(t) * 255).toString(16);
}
function Tg(t) {
  return hr(t) / 255;
}
function hr(t) {
  return parseInt(t, 16);
}
function jb(t) {
  return { r: t >> 16, g: (t & 65280) >> 8, b: t & 255 };
}
var h0 = {
  aliceblue: '#f0f8ff',
  antiquewhite: '#faebd7',
  aqua: '#00ffff',
  aquamarine: '#7fffd4',
  azure: '#f0ffff',
  beige: '#f5f5dc',
  bisque: '#ffe4c4',
  black: '#000000',
  blanchedalmond: '#ffebcd',
  blue: '#0000ff',
  blueviolet: '#8a2be2',
  brown: '#a52a2a',
  burlywood: '#deb887',
  cadetblue: '#5f9ea0',
  chartreuse: '#7fff00',
  chocolate: '#d2691e',
  coral: '#ff7f50',
  cornflowerblue: '#6495ed',
  cornsilk: '#fff8dc',
  crimson: '#dc143c',
  cyan: '#00ffff',
  darkblue: '#00008b',
  darkcyan: '#008b8b',
  darkgoldenrod: '#b8860b',
  darkgray: '#a9a9a9',
  darkgreen: '#006400',
  darkgrey: '#a9a9a9',
  darkkhaki: '#bdb76b',
  darkmagenta: '#8b008b',
  darkolivegreen: '#556b2f',
  darkorange: '#ff8c00',
  darkorchid: '#9932cc',
  darkred: '#8b0000',
  darksalmon: '#e9967a',
  darkseagreen: '#8fbc8f',
  darkslateblue: '#483d8b',
  darkslategray: '#2f4f4f',
  darkslategrey: '#2f4f4f',
  darkturquoise: '#00ced1',
  darkviolet: '#9400d3',
  deeppink: '#ff1493',
  deepskyblue: '#00bfff',
  dimgray: '#696969',
  dimgrey: '#696969',
  dodgerblue: '#1e90ff',
  firebrick: '#b22222',
  floralwhite: '#fffaf0',
  forestgreen: '#228b22',
  fuchsia: '#ff00ff',
  gainsboro: '#dcdcdc',
  ghostwhite: '#f8f8ff',
  goldenrod: '#daa520',
  gold: '#ffd700',
  gray: '#808080',
  green: '#008000',
  greenyellow: '#adff2f',
  grey: '#808080',
  honeydew: '#f0fff0',
  hotpink: '#ff69b4',
  indianred: '#cd5c5c',
  indigo: '#4b0082',
  ivory: '#fffff0',
  khaki: '#f0e68c',
  lavenderblush: '#fff0f5',
  lavender: '#e6e6fa',
  lawngreen: '#7cfc00',
  lemonchiffon: '#fffacd',
  lightblue: '#add8e6',
  lightcoral: '#f08080',
  lightcyan: '#e0ffff',
  lightgoldenrodyellow: '#fafad2',
  lightgray: '#d3d3d3',
  lightgreen: '#90ee90',
  lightgrey: '#d3d3d3',
  lightpink: '#ffb6c1',
  lightsalmon: '#ffa07a',
  lightseagreen: '#20b2aa',
  lightskyblue: '#87cefa',
  lightslategray: '#778899',
  lightslategrey: '#778899',
  lightsteelblue: '#b0c4de',
  lightyellow: '#ffffe0',
  lime: '#00ff00',
  limegreen: '#32cd32',
  linen: '#faf0e6',
  magenta: '#ff00ff',
  maroon: '#800000',
  mediumaquamarine: '#66cdaa',
  mediumblue: '#0000cd',
  mediumorchid: '#ba55d3',
  mediumpurple: '#9370db',
  mediumseagreen: '#3cb371',
  mediumslateblue: '#7b68ee',
  mediumspringgreen: '#00fa9a',
  mediumturquoise: '#48d1cc',
  mediumvioletred: '#c71585',
  midnightblue: '#191970',
  mintcream: '#f5fffa',
  mistyrose: '#ffe4e1',
  moccasin: '#ffe4b5',
  navajowhite: '#ffdead',
  navy: '#000080',
  oldlace: '#fdf5e6',
  olive: '#808000',
  olivedrab: '#6b8e23',
  orange: '#ffa500',
  orangered: '#ff4500',
  orchid: '#da70d6',
  palegoldenrod: '#eee8aa',
  palegreen: '#98fb98',
  paleturquoise: '#afeeee',
  palevioletred: '#db7093',
  papayawhip: '#ffefd5',
  peachpuff: '#ffdab9',
  peru: '#cd853f',
  pink: '#ffc0cb',
  plum: '#dda0dd',
  powderblue: '#b0e0e6',
  purple: '#800080',
  rebeccapurple: '#663399',
  red: '#ff0000',
  rosybrown: '#bc8f8f',
  royalblue: '#4169e1',
  saddlebrown: '#8b4513',
  salmon: '#fa8072',
  sandybrown: '#f4a460',
  seagreen: '#2e8b57',
  seashell: '#fff5ee',
  sienna: '#a0522d',
  silver: '#c0c0c0',
  skyblue: '#87ceeb',
  slateblue: '#6a5acd',
  slategray: '#708090',
  slategrey: '#708090',
  snow: '#fffafa',
  springgreen: '#00ff7f',
  steelblue: '#4682b4',
  tan: '#d2b48c',
  teal: '#008080',
  thistle: '#d8bfd8',
  tomato: '#ff6347',
  turquoise: '#40e0d0',
  violet: '#ee82ee',
  wheat: '#f5deb3',
  white: '#ffffff',
  whitesmoke: '#f5f5f5',
  yellow: '#ffff00',
  yellowgreen: '#9acd32',
};
function ha(t) {
  var e = { r: 0, g: 0, b: 0 },
    n = 1,
    r = null,
    i = null,
    o = null,
    a = !1,
    s = !1;
  return (
    typeof t == 'string' && (t = Kb(t)),
    typeof t == 'object' &&
      (_i(t.r) && _i(t.g) && _i(t.b)
        ? ((e = Bb(t.r, t.g, t.b)), (a = !0), (s = String(t.r).substr(-1) === '%' ? 'prgb' : 'rgb'))
        : _i(t.h) && _i(t.s) && _i(t.v)
        ? ((r = uu(t.s)), (i = uu(t.v)), (e = zb(t.h, r, i)), (a = !0), (s = 'hsv'))
        : _i(t.h) && _i(t.s) && _i(t.l) && ((r = uu(t.s)), (o = uu(t.l)), (e = Ub(t.h, r, o)), (a = !0), (s = 'hsl')),
      Object.prototype.hasOwnProperty.call(t, 'a') && (n = t.a)),
    (n = L6(n)),
    { ok: a, format: t.format || s, r: Math.min(255, Math.max(e.r, 0)), g: Math.min(255, Math.max(e.g, 0)), b: Math.min(255, Math.max(e.b, 0)), a: n }
  );
}
var Gb = '[-\\+]?\\d+%?',
  Wb = '[-\\+]?\\d*\\.\\d+%?',
  eo = '(?:'.concat(Wb, ')|(?:').concat(Gb, ')'),
  df = '[\\s|\\(]+('.concat(eo, ')[,|\\s]+(').concat(eo, ')[,|\\s]+(').concat(eo, ')\\s*\\)?'),
  ff = '[\\s|\\(]+('.concat(eo, ')[,|\\s]+(').concat(eo, ')[,|\\s]+(').concat(eo, ')[,|\\s]+(').concat(eo, ')\\s*\\)?'),
  zr = {
    CSS_UNIT: new RegExp(eo),
    rgb: new RegExp('rgb' + df),
    rgba: new RegExp('rgba' + ff),
    hsl: new RegExp('hsl' + df),
    hsla: new RegExp('hsla' + ff),
    hsv: new RegExp('hsv' + df),
    hsva: new RegExp('hsva' + ff),
    hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
    hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
    hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
    hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
  };
function Kb(t) {
  if (((t = t.trim().toLowerCase()), t.length === 0)) return !1;
  var e = !1;
  if (h0[t]) (t = h0[t]), (e = !0);
  else if (t === 'transparent') return { r: 0, g: 0, b: 0, a: 0, format: 'name' };
  var n = zr.rgb.exec(t);
  return n
    ? { r: n[1], g: n[2], b: n[3] }
    : ((n = zr.rgba.exec(t)),
      n
        ? { r: n[1], g: n[2], b: n[3], a: n[4] }
        : ((n = zr.hsl.exec(t)),
          n
            ? { h: n[1], s: n[2], l: n[3] }
            : ((n = zr.hsla.exec(t)),
              n
                ? { h: n[1], s: n[2], l: n[3], a: n[4] }
                : ((n = zr.hsv.exec(t)),
                  n
                    ? { h: n[1], s: n[2], v: n[3] }
                    : ((n = zr.hsva.exec(t)),
                      n
                        ? { h: n[1], s: n[2], v: n[3], a: n[4] }
                        : ((n = zr.hex8.exec(t)),
                          n
                            ? { r: hr(n[1]), g: hr(n[2]), b: hr(n[3]), a: Tg(n[4]), format: e ? 'name' : 'hex8' }
                            : ((n = zr.hex6.exec(t)),
                              n
                                ? { r: hr(n[1]), g: hr(n[2]), b: hr(n[3]), format: e ? 'name' : 'hex' }
                                : ((n = zr.hex4.exec(t)),
                                  n
                                    ? { r: hr(n[1] + n[1]), g: hr(n[2] + n[2]), b: hr(n[3] + n[3]), a: Tg(n[4] + n[4]), format: e ? 'name' : 'hex8' }
                                    : ((n = zr.hex3.exec(t)), n ? { r: hr(n[1] + n[1]), g: hr(n[2] + n[2]), b: hr(n[3] + n[3]), format: e ? 'name' : 'hex' } : !1)))))))));
}
function _i(t) {
  return !!zr.CSS_UNIT.exec(String(t));
}
var Rn = (function () {
    function t(e, n) {
      e === void 0 && (e = ''), n === void 0 && (n = {});
      var r;
      if (e instanceof t) return e;
      typeof e == 'number' && (e = jb(e)), (this.originalInput = e);
      var i = ha(e);
      (this.originalInput = e),
        (this.r = i.r),
        (this.g = i.g),
        (this.b = i.b),
        (this.a = i.a),
        (this.roundA = Math.round(100 * this.a) / 100),
        (this.format = (r = n.format) !== null && r !== void 0 ? r : i.format),
        (this.gradientType = n.gradientType),
        this.r < 1 && (this.r = Math.round(this.r)),
        this.g < 1 && (this.g = Math.round(this.g)),
        this.b < 1 && (this.b = Math.round(this.b)),
        (this.isValid = i.ok);
    }
    return (
      (t.prototype.isDark = function () {
        return this.getBrightness() < 128;
      }),
      (t.prototype.isLight = function () {
        return !this.isDark();
      }),
      (t.prototype.getBrightness = function () {
        var e = this.toRgb();
        return (e.r * 299 + e.g * 587 + e.b * 114) / 1e3;
      }),
      (t.prototype.getLuminance = function () {
        var e = this.toRgb(),
          n,
          r,
          i,
          o = e.r / 255,
          a = e.g / 255,
          s = e.b / 255;
        return (
          o <= 0.03928 ? (n = o / 12.92) : (n = Math.pow((o + 0.055) / 1.055, 2.4)),
          a <= 0.03928 ? (r = a / 12.92) : (r = Math.pow((a + 0.055) / 1.055, 2.4)),
          s <= 0.03928 ? (i = s / 12.92) : (i = Math.pow((s + 0.055) / 1.055, 2.4)),
          0.2126 * n + 0.7152 * r + 0.0722 * i
        );
      }),
      (t.prototype.getAlpha = function () {
        return this.a;
      }),
      (t.prototype.setAlpha = function (e) {
        return (this.a = L6(e)), (this.roundA = Math.round(100 * this.a) / 100), this;
      }),
      (t.prototype.isMonochrome = function () {
        var e = this.toHsl().s;
        return e === 0;
      }),
      (t.prototype.toHsv = function () {
        var e = d0(this.r, this.g, this.b);
        return { h: e.h * 360, s: e.s, v: e.v, a: this.a };
      }),
      (t.prototype.toHsvString = function () {
        var e = d0(this.r, this.g, this.b),
          n = Math.round(e.h * 360),
          r = Math.round(e.s * 100),
          i = Math.round(e.v * 100);
        return this.a === 1 ? 'hsv('.concat(n, ', ').concat(r, '%, ').concat(i, '%)') : 'hsva('.concat(n, ', ').concat(r, '%, ').concat(i, '%, ').concat(this.roundA, ')');
      }),
      (t.prototype.toHsl = function () {
        var e = xg(this.r, this.g, this.b);
        return { h: e.h * 360, s: e.s, l: e.l, a: this.a };
      }),
      (t.prototype.toHslString = function () {
        var e = xg(this.r, this.g, this.b),
          n = Math.round(e.h * 360),
          r = Math.round(e.s * 100),
          i = Math.round(e.l * 100);
        return this.a === 1 ? 'hsl('.concat(n, ', ').concat(r, '%, ').concat(i, '%)') : 'hsla('.concat(n, ', ').concat(r, '%, ').concat(i, '%, ').concat(this.roundA, ')');
      }),
      (t.prototype.toHex = function (e) {
        return e === void 0 && (e = !1), f0(this.r, this.g, this.b, e);
      }),
      (t.prototype.toHexString = function (e) {
        return e === void 0 && (e = !1), '#' + this.toHex(e);
      }),
      (t.prototype.toHex8 = function (e) {
        return e === void 0 && (e = !1), Vb(this.r, this.g, this.b, this.a, e);
      }),
      (t.prototype.toHex8String = function (e) {
        return e === void 0 && (e = !1), '#' + this.toHex8(e);
      }),
      (t.prototype.toHexShortString = function (e) {
        return e === void 0 && (e = !1), this.a === 1 ? this.toHexString(e) : this.toHex8String(e);
      }),
      (t.prototype.toRgb = function () {
        return { r: Math.round(this.r), g: Math.round(this.g), b: Math.round(this.b), a: this.a };
      }),
      (t.prototype.toRgbString = function () {
        var e = Math.round(this.r),
          n = Math.round(this.g),
          r = Math.round(this.b);
        return this.a === 1 ? 'rgb('.concat(e, ', ').concat(n, ', ').concat(r, ')') : 'rgba('.concat(e, ', ').concat(n, ', ').concat(r, ', ').concat(this.roundA, ')');
      }),
      (t.prototype.toPercentageRgb = function () {
        var e = function (n) {
          return ''.concat(Math.round(Hn(n, 255) * 100), '%');
        };
        return { r: e(this.r), g: e(this.g), b: e(this.b), a: this.a };
      }),
      (t.prototype.toPercentageRgbString = function () {
        var e = function (n) {
          return Math.round(Hn(n, 255) * 100);
        };
        return this.a === 1
          ? 'rgb('.concat(e(this.r), '%, ').concat(e(this.g), '%, ').concat(e(this.b), '%)')
          : 'rgba('.concat(e(this.r), '%, ').concat(e(this.g), '%, ').concat(e(this.b), '%, ').concat(this.roundA, ')');
      }),
      (t.prototype.toName = function () {
        if (this.a === 0) return 'transparent';
        if (this.a < 1) return !1;
        for (var e = '#' + f0(this.r, this.g, this.b, !1), n = 0, r = Object.entries(h0); n < r.length; n++) {
          var i = r[n],
            o = i[0],
            a = i[1];
          if (e === a) return o;
        }
        return !1;
      }),
      (t.prototype.toString = function (e) {
        var n = !!e;
        e = e ?? this.format;
        var r = !1,
          i = this.a < 1 && this.a >= 0,
          o = !n && i && (e.startsWith('hex') || e === 'name');
        return o
          ? e === 'name' && this.a === 0
            ? this.toName()
            : this.toRgbString()
          : (e === 'rgb' && (r = this.toRgbString()),
            e === 'prgb' && (r = this.toPercentageRgbString()),
            (e === 'hex' || e === 'hex6') && (r = this.toHexString()),
            e === 'hex3' && (r = this.toHexString(!0)),
            e === 'hex4' && (r = this.toHex8String(!0)),
            e === 'hex8' && (r = this.toHex8String()),
            e === 'name' && (r = this.toName()),
            e === 'hsl' && (r = this.toHslString()),
            e === 'hsv' && (r = this.toHsvString()),
            r || this.toHexString());
      }),
      (t.prototype.toNumber = function () {
        return (Math.round(this.r) << 16) + (Math.round(this.g) << 8) + Math.round(this.b);
      }),
      (t.prototype.clone = function () {
        return new t(this.toString());
      }),
      (t.prototype.lighten = function (e) {
        e === void 0 && (e = 10);
        var n = this.toHsl();
        return (n.l += e / 100), (n.l = lu(n.l)), new t(n);
      }),
      (t.prototype.brighten = function (e) {
        e === void 0 && (e = 10);
        var n = this.toRgb();
        return (
          (n.r = Math.max(0, Math.min(255, n.r - Math.round(255 * -(e / 100))))),
          (n.g = Math.max(0, Math.min(255, n.g - Math.round(255 * -(e / 100))))),
          (n.b = Math.max(0, Math.min(255, n.b - Math.round(255 * -(e / 100))))),
          new t(n)
        );
      }),
      (t.prototype.darken = function (e) {
        e === void 0 && (e = 10);
        var n = this.toHsl();
        return (n.l -= e / 100), (n.l = lu(n.l)), new t(n);
      }),
      (t.prototype.tint = function (e) {
        return e === void 0 && (e = 10), this.mix('white', e);
      }),
      (t.prototype.shade = function (e) {
        return e === void 0 && (e = 10), this.mix('black', e);
      }),
      (t.prototype.desaturate = function (e) {
        e === void 0 && (e = 10);
        var n = this.toHsl();
        return (n.s -= e / 100), (n.s = lu(n.s)), new t(n);
      }),
      (t.prototype.saturate = function (e) {
        e === void 0 && (e = 10);
        var n = this.toHsl();
        return (n.s += e / 100), (n.s = lu(n.s)), new t(n);
      }),
      (t.prototype.greyscale = function () {
        return this.desaturate(100);
      }),
      (t.prototype.spin = function (e) {
        var n = this.toHsl(),
          r = (n.h + e) % 360;
        return (n.h = r < 0 ? 360 + r : r), new t(n);
      }),
      (t.prototype.mix = function (e, n) {
        n === void 0 && (n = 50);
        var r = this.toRgb(),
          i = new t(e).toRgb(),
          o = n / 100,
          a = { r: (i.r - r.r) * o + r.r, g: (i.g - r.g) * o + r.g, b: (i.b - r.b) * o + r.b, a: (i.a - r.a) * o + r.a };
        return new t(a);
      }),
      (t.prototype.analogous = function (e, n) {
        e === void 0 && (e = 6), n === void 0 && (n = 30);
        var r = this.toHsl(),
          i = 360 / n,
          o = [this];
        for (r.h = (r.h - ((i * e) >> 1) + 720) % 360; --e; ) (r.h = (r.h + i) % 360), o.push(new t(r));
        return o;
      }),
      (t.prototype.complement = function () {
        var e = this.toHsl();
        return (e.h = (e.h + 180) % 360), new t(e);
      }),
      (t.prototype.monochromatic = function (e) {
        e === void 0 && (e = 6);
        for (var n = this.toHsv(), r = n.h, i = n.s, o = n.v, a = [], s = 1 / e; e--; ) a.push(new t({ h: r, s: i, v: o })), (o = (o + s) % 1);
        return a;
      }),
      (t.prototype.splitcomplement = function () {
        var e = this.toHsl(),
          n = e.h;
        return [this, new t({ h: (n + 72) % 360, s: e.s, l: e.l }), new t({ h: (n + 216) % 360, s: e.s, l: e.l })];
      }),
      (t.prototype.onBackground = function (e) {
        var n = this.toRgb(),
          r = new t(e).toRgb(),
          i = n.a + r.a * (1 - n.a);
        return new t({ r: (n.r * n.a + r.r * r.a * (1 - n.a)) / i, g: (n.g * n.a + r.g * r.a * (1 - n.a)) / i, b: (n.b * n.a + r.b * r.a * (1 - n.a)) / i, a: i });
      }),
      (t.prototype.triad = function () {
        return this.polyad(3);
      }),
      (t.prototype.tetrad = function () {
        return this.polyad(4);
      }),
      (t.prototype.polyad = function (e) {
        for (var n = this.toHsl(), r = n.h, i = [this], o = 360 / e, a = 1; a < e; a++) i.push(new t({ h: (r + a * o) % 360, s: n.s, l: n.l }));
        return i;
      }),
      (t.prototype.equals = function (e) {
        return this.toRgbString() === new t(e).toRgbString();
      }),
      t
    );
  })(),
  cu = 2,
  wg = 0.16,
  qb = 0.05,
  Yb = 0.05,
  Xb = 0.15,
  I6 = 5,
  D6 = 4,
  Qb = [
    { index: 7, opacity: 0.15 },
    { index: 6, opacity: 0.25 },
    { index: 5, opacity: 0.3 },
    { index: 5, opacity: 0.45 },
    { index: 5, opacity: 0.65 },
    { index: 5, opacity: 0.85 },
    { index: 4, opacity: 0.9 },
    { index: 3, opacity: 0.95 },
    { index: 2, opacity: 0.97 },
    { index: 1, opacity: 0.98 },
  ];
function Cg(t) {
  var e = t.r,
    n = t.g,
    r = t.b,
    i = d0(e, n, r);
  return { h: i.h * 360, s: i.s, v: i.v };
}
function du(t) {
  var e = t.r,
    n = t.g,
    r = t.b;
  return '#'.concat(f0(e, n, r, !1));
}
function Zb(t, e, n) {
  var r = n / 100,
    i = { r: (e.r - t.r) * r + t.r, g: (e.g - t.g) * r + t.g, b: (e.b - t.b) * r + t.b };
  return i;
}
function Rg(t, e, n) {
  var r;
  return (
    Math.round(t.h) >= 60 && Math.round(t.h) <= 240 ? (r = n ? Math.round(t.h) - cu * e : Math.round(t.h) + cu * e) : (r = n ? Math.round(t.h) + cu * e : Math.round(t.h) - cu * e),
    r < 0 ? (r += 360) : r >= 360 && (r -= 360),
    r
  );
}
function Ag(t, e, n) {
  if (t.h === 0 && t.s === 0) return t.s;
  var r;
  return n ? (r = t.s - wg * e) : e === D6 ? (r = t.s + wg) : (r = t.s + qb * e), r > 1 && (r = 1), n && e === I6 && r > 0.1 && (r = 0.1), r < 0.06 && (r = 0.06), Number(r.toFixed(2));
}
function Lg(t, e, n) {
  var r;
  return n ? (r = t.v + Yb * e) : (r = t.v - Xb * e), r > 1 && (r = 1), Number(r.toFixed(2));
}
function Fi(t) {
  for (var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, n = [], r = ha(t), i = I6; i > 0; i -= 1) {
    var o = Cg(r),
      a = du(ha({ h: Rg(o, i, !0), s: Ag(o, i, !0), v: Lg(o, i, !0) }));
    n.push(a);
  }
  n.push(du(r));
  for (var s = 1; s <= D6; s += 1) {
    var l = Cg(r),
      u = du(ha({ h: Rg(l, s), s: Ag(l, s), v: Lg(l, s) }));
    n.push(u);
  }
  return e.theme === 'dark'
    ? Qb.map(function (c) {
        var d = c.index,
          f = c.opacity,
          h = du(Zb(ha(e.backgroundColor || '#141414'), ha(n[d]), f * 100));
        return h;
      })
    : n;
}
var hf = {
    red: '#F5222D',
    volcano: '#FA541C',
    orange: '#FA8C16',
    gold: '#FAAD14',
    yellow: '#FADB14',
    lime: '#A0D911',
    green: '#52C41A',
    cyan: '#13C2C2',
    blue: '#1677FF',
    geekblue: '#2F54EB',
    purple: '#722ED1',
    magenta: '#EB2F96',
    grey: '#666666',
  },
  ju = {},
  mf = {};
Object.keys(hf).forEach(function (t) {
  (ju[t] = Fi(hf[t])), (ju[t].primary = ju[t][5]), (mf[t] = Fi(hf[t], { theme: 'dark', backgroundColor: '#141414' })), (mf[t].primary = mf[t][5]);
});
var Jb = ju.blue;
const e7 = (t) => {
    const { controlHeight: e } = t;
    return { controlHeightSM: e * 0.75, controlHeightXS: e * 0.5, controlHeightLG: e * 1.25 };
  },
  P6 = e7;
function t7(t) {
  const { sizeUnit: e, sizeStep: n } = t;
  return { sizeXXL: e * (n + 8), sizeXL: e * (n + 4), sizeLG: e * (n + 2), sizeMD: e * (n + 1), sizeMS: e * n, size: e * n, sizeSM: e * (n - 1), sizeXS: e * (n - 2), sizeXXS: e * (n - 3) };
}
const fp = {
    blue: '#1677ff',
    purple: '#722ED1',
    cyan: '#13C2C2',
    green: '#52C41A',
    magenta: '#EB2F96',
    pink: '#eb2f96',
    red: '#F5222D',
    orange: '#FA8C16',
    yellow: '#FADB14',
    volcano: '#FA541C',
    geekblue: '#2F54EB',
    gold: '#FAAD14',
    lime: '#A0D911',
  },
  n7 = Object.assign(Object.assign({}, fp), {
    colorPrimary: '#1677ff',
    colorSuccess: '#52c41a',
    colorWarning: '#faad14',
    colorError: '#ff4d4f',
    colorInfo: '#1677ff',
    colorTextBase: '',
    colorBgBase: '',
    fontFamily: `-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,
    fontFamilyCode: "'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",
    fontSize: 14,
    lineWidth: 1,
    lineType: 'solid',
    motionUnit: 0.1,
    motionBase: 0,
    motionEaseOutCirc: 'cubic-bezier(0.08, 0.82, 0.17, 1)',
    motionEaseInOutCirc: 'cubic-bezier(0.78, 0.14, 0.15, 0.86)',
    motionEaseOut: 'cubic-bezier(0.215, 0.61, 0.355, 1)',
    motionEaseInOut: 'cubic-bezier(0.645, 0.045, 0.355, 1)',
    motionEaseOutBack: 'cubic-bezier(0.12, 0.4, 0.29, 1.46)',
    motionEaseInBack: 'cubic-bezier(0.71, -0.46, 0.88, 0.6)',
    motionEaseInQuint: 'cubic-bezier(0.755, 0.05, 0.855, 0.06)',
    motionEaseOutQuint: 'cubic-bezier(0.23, 1, 0.32, 1)',
    borderRadius: 6,
    sizeUnit: 4,
    sizeStep: 4,
    sizePopupArrow: 16,
    controlHeight: 32,
    zIndexBase: 0,
    zIndexPopupBase: 1e3,
    opacityImage: 1,
    wireframe: !1,
    motion: !0,
  }),
  Ml = n7;
function O6(t, e) {
  let { generateColorPalettes: n, generateNeutralColorPalettes: r } = e;
  const { colorSuccess: i, colorWarning: o, colorError: a, colorInfo: s, colorPrimary: l, colorBgBase: u, colorTextBase: c } = t,
    d = n(l),
    f = n(i),
    h = n(o),
    m = n(a),
    g = n(s),
    b = r(u, c);
  return Object.assign(Object.assign({}, b), {
    colorPrimaryBg: d[1],
    colorPrimaryBgHover: d[2],
    colorPrimaryBorder: d[3],
    colorPrimaryBorderHover: d[4],
    colorPrimaryHover: d[5],
    colorPrimary: d[6],
    colorPrimaryActive: d[7],
    colorPrimaryTextHover: d[8],
    colorPrimaryText: d[9],
    colorPrimaryTextActive: d[10],
    colorSuccessBg: f[1],
    colorSuccessBgHover: f[2],
    colorSuccessBorder: f[3],
    colorSuccessBorderHover: f[4],
    colorSuccessHover: f[4],
    colorSuccess: f[6],
    colorSuccessActive: f[7],
    colorSuccessTextHover: f[8],
    colorSuccessText: f[9],
    colorSuccessTextActive: f[10],
    colorErrorBg: m[1],
    colorErrorBgHover: m[2],
    colorErrorBorder: m[3],
    colorErrorBorderHover: m[4],
    colorErrorHover: m[5],
    colorError: m[6],
    colorErrorActive: m[7],
    colorErrorTextHover: m[8],
    colorErrorText: m[9],
    colorErrorTextActive: m[10],
    colorWarningBg: h[1],
    colorWarningBgHover: h[2],
    colorWarningBorder: h[3],
    colorWarningBorderHover: h[4],
    colorWarningHover: h[4],
    colorWarning: h[6],
    colorWarningActive: h[7],
    colorWarningTextHover: h[8],
    colorWarningText: h[9],
    colorWarningTextActive: h[10],
    colorInfoBg: g[1],
    colorInfoBgHover: g[2],
    colorInfoBorder: g[3],
    colorInfoBorderHover: g[4],
    colorInfoHover: g[4],
    colorInfo: g[6],
    colorInfoActive: g[7],
    colorInfoTextHover: g[8],
    colorInfoText: g[9],
    colorInfoTextActive: g[10],
    colorBgMask: new Rn('#000').setAlpha(0.45).toRgbString(),
    colorWhite: '#fff',
  });
}
const r7 = (t) => {
    let e = t,
      n = t,
      r = t,
      i = t;
    return (
      t < 6 && t >= 5 ? (e = t + 1) : t < 16 && t >= 6 ? (e = t + 2) : t >= 16 && (e = 16),
      t < 7 && t >= 5 ? (n = 4) : t < 8 && t >= 7 ? (n = 5) : t < 14 && t >= 8 ? (n = 6) : t < 16 && t >= 14 ? (n = 7) : t >= 16 && (n = 8),
      t < 6 && t >= 2 ? (r = 1) : t >= 6 && (r = 2),
      t > 4 && t < 8 ? (i = 4) : t >= 8 && (i = 6),
      { borderRadius: t > 16 ? 16 : t, borderRadiusXS: r, borderRadiusSM: n, borderRadiusLG: e, borderRadiusOuter: i }
    );
  },
  i7 = r7;
function o7(t) {
  const { motionUnit: e, motionBase: n, borderRadius: r, lineWidth: i } = t;
  return Object.assign(
    { motionDurationFast: `${(n + e).toFixed(1)}s`, motionDurationMid: `${(n + e * 2).toFixed(1)}s`, motionDurationSlow: `${(n + e * 3).toFixed(1)}s`, lineWidthBold: i + 1 },
    i7(r),
  );
}
const Si = (t, e) => new Rn(t).setAlpha(e).toRgbString(),
  bs = (t, e) => new Rn(t).darken(e).toHexString(),
  a7 = (t) => {
    const e = Fi(t);
    return { 1: e[0], 2: e[1], 3: e[2], 4: e[3], 5: e[4], 6: e[5], 7: e[6], 8: e[4], 9: e[5], 10: e[6] };
  },
  s7 = (t, e) => {
    const n = t || '#fff',
      r = e || '#000';
    return {
      colorBgBase: n,
      colorTextBase: r,
      colorText: Si(r, 0.88),
      colorTextSecondary: Si(r, 0.65),
      colorTextTertiary: Si(r, 0.45),
      colorTextQuaternary: Si(r, 0.25),
      colorFill: Si(r, 0.15),
      colorFillSecondary: Si(r, 0.06),
      colorFillTertiary: Si(r, 0.04),
      colorFillQuaternary: Si(r, 0.02),
      colorBgLayout: bs(n, 4),
      colorBgContainer: bs(n, 0),
      colorBgElevated: bs(n, 0),
      colorBgSpotlight: Si(r, 0.85),
      colorBorder: bs(n, 15),
      colorBorderSecondary: bs(n, 6),
    };
  };
function l7(t) {
  const e = new Array(10).fill(null).map((n, r) => {
    const i = r - 1,
      o = t * Math.pow(2.71828, i / 5),
      a = r > 1 ? Math.floor(o) : Math.ceil(o);
    return Math.floor(a / 2) * 2;
  });
  return (
    (e[1] = t),
    e.map((n) => {
      const r = n + 8;
      return { size: n, lineHeight: r / n };
    })
  );
}
const u7 = (t) => {
    const e = l7(t),
      n = e.map((i) => i.size),
      r = e.map((i) => i.lineHeight);
    return {
      fontSizeSM: n[0],
      fontSize: n[1],
      fontSizeLG: n[2],
      fontSizeXL: n[3],
      fontSizeHeading1: n[6],
      fontSizeHeading2: n[5],
      fontSizeHeading3: n[4],
      fontSizeHeading4: n[3],
      fontSizeHeading5: n[2],
      lineHeight: r[1],
      lineHeightLG: r[2],
      lineHeightSM: r[0],
      lineHeightHeading1: r[6],
      lineHeightHeading2: r[5],
      lineHeightHeading3: r[4],
      lineHeightHeading4: r[3],
      lineHeightHeading5: r[2],
    };
  },
  k6 = u7;
function Fl(t) {
  const e = Object.keys(fp)
    .map((n) => {
      const r = Fi(t[n]);
      return new Array(10).fill(1).reduce((i, o, a) => ((i[`${n}-${a + 1}`] = r[a]), (i[`${n}${a + 1}`] = r[a]), i), {});
    })
    .reduce((n, r) => ((n = Object.assign(Object.assign({}, n), r)), n), {});
  return Object.assign(
    Object.assign(
      Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, t), e), O6(t, { generateColorPalettes: a7, generateNeutralColorPalettes: s7 })), k6(t.fontSize)), t7(t)),
      P6(t),
    ),
    o7(t),
  );
}
function pf(t) {
  return t >= 0 && t <= 255;
}
function fu(t, e) {
  const { r: n, g: r, b: i, a: o } = new Rn(t).toRgb();
  if (o < 1) return t;
  const { r: a, g: s, b: l } = new Rn(e).toRgb();
  for (let u = 0.01; u <= 1; u += 0.01) {
    const c = Math.round((n - a * (1 - u)) / u),
      d = Math.round((r - s * (1 - u)) / u),
      f = Math.round((i - l * (1 - u)) / u);
    if (pf(c) && pf(d) && pf(f)) return new Rn({ r: c, g: d, b: f, a: Math.round(u * 100) / 100 }).toRgbString();
  }
  return new Rn({ r: n, g: r, b: i, a: 1 }).toRgbString();
}
var c7 =
  (globalThis && globalThis.__rest) ||
  function (t, e) {
    var n = {};
    for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);
    if (t != null && typeof Object.getOwnPropertySymbols == 'function')
      for (var i = 0, r = Object.getOwnPropertySymbols(t); i < r.length; i++) e.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[i]) && (n[r[i]] = t[r[i]]);
    return n;
  };
function M6(t) {
  const { override: e } = t,
    n = c7(t, ['override']),
    r = Object.assign({}, e);
  Object.keys(Ml).forEach((f) => {
    delete r[f];
  });
  const i = Object.assign(Object.assign({}, n), r),
    o = 480,
    a = 576,
    s = 768,
    l = 992,
    u = 1200,
    c = 1600;
  if (i.motion === !1) {
    const f = '0s';
    (i.motionDurationFast = f), (i.motionDurationMid = f), (i.motionDurationSlow = f);
  }
  return Object.assign(
    Object.assign(Object.assign({}, i), {
      colorLink: i.colorInfoText,
      colorLinkHover: i.colorInfoHover,
      colorLinkActive: i.colorInfoActive,
      colorFillContent: i.colorFillSecondary,
      colorFillContentHover: i.colorFill,
      colorFillAlter: i.colorFillQuaternary,
      colorBgContainerDisabled: i.colorFillTertiary,
      colorBorderBg: i.colorBgContainer,
      colorSplit: fu(i.colorBorderSecondary, i.colorBgContainer),
      colorTextPlaceholder: i.colorTextQuaternary,
      colorTextDisabled: i.colorTextQuaternary,
      colorTextHeading: i.colorText,
      colorTextLabel: i.colorTextSecondary,
      colorTextDescription: i.colorTextTertiary,
      colorTextLightSolid: i.colorWhite,
      colorHighlight: i.colorError,
      colorBgTextHover: i.colorFillSecondary,
      colorBgTextActive: i.colorFill,
      colorIcon: i.colorTextTertiary,
      colorIconHover: i.colorText,
      colorErrorOutline: fu(i.colorErrorBg, i.colorBgContainer),
      colorWarningOutline: fu(i.colorWarningBg, i.colorBgContainer),
      fontSizeIcon: i.fontSizeSM,
      lineWidthFocus: i.lineWidth * 4,
      lineWidth: i.lineWidth,
      controlOutlineWidth: i.lineWidth * 2,
      controlInteractiveSize: i.controlHeight / 2,
      controlItemBgHover: i.colorFillTertiary,
      controlItemBgActive: i.colorPrimaryBg,
      controlItemBgActiveHover: i.colorPrimaryBgHover,
      controlItemBgActiveDisabled: i.colorFill,
      controlTmpOutline: i.colorFillQuaternary,
      controlOutline: fu(i.colorPrimaryBg, i.colorBgContainer),
      lineType: i.lineType,
      borderRadius: i.borderRadius,
      borderRadiusXS: i.borderRadiusXS,
      borderRadiusSM: i.borderRadiusSM,
      borderRadiusLG: i.borderRadiusLG,
      fontWeightStrong: 600,
      opacityLoading: 0.65,
      linkDecoration: 'none',
      linkHoverDecoration: 'none',
      linkFocusDecoration: 'none',
      controlPaddingHorizontal: 12,
      controlPaddingHorizontalSM: 8,
      paddingXXS: i.sizeXXS,
      paddingXS: i.sizeXS,
      paddingSM: i.sizeSM,
      padding: i.size,
      paddingMD: i.sizeMD,
      paddingLG: i.sizeLG,
      paddingXL: i.sizeXL,
      paddingContentHorizontalLG: i.sizeLG,
      paddingContentVerticalLG: i.sizeMS,
      paddingContentHorizontal: i.sizeMS,
      paddingContentVertical: i.sizeSM,
      paddingContentHorizontalSM: i.size,
      paddingContentVerticalSM: i.sizeXS,
      marginXXS: i.sizeXXS,
      marginXS: i.sizeXS,
      marginSM: i.sizeSM,
      margin: i.size,
      marginMD: i.sizeMD,
      marginLG: i.sizeLG,
      marginXL: i.sizeXL,
      marginXXL: i.sizeXXL,
      boxShadow: `
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,
      boxShadowSecondary: `
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,
      boxShadowTertiary: `
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,
      screenXS: o,
      screenXSMin: o,
      screenXSMax: a - 1,
      screenSM: a,
      screenSMMin: a,
      screenSMMax: s - 1,
      screenMD: s,
      screenMDMin: s,
      screenMDMax: l - 1,
      screenLG: l,
      screenLGMin: l,
      screenLGMax: u - 1,
      screenXL: u,
      screenXLMin: u,
      screenXLMax: c - 1,
      screenXXL: c,
      screenXXLMin: c,
      boxShadowPopoverArrow: '2px 2px 5px rgba(0, 0, 0, 0.05)',
      boxShadowCard: `
      0 1px 2px -2px ${new Rn('rgba(0, 0, 0, 0.16)').toRgbString()},
      0 3px 6px 0 ${new Rn('rgba(0, 0, 0, 0.12)').toRgbString()},
      0 5px 12px 4px ${new Rn('rgba(0, 0, 0, 0.09)').toRgbString()}
    `,
      boxShadowDrawerRight: `
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,
      boxShadowDrawerLeft: `
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,
      boxShadowDrawerUp: `
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,
      boxShadowDrawerDown: `
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,
      boxShadowTabsOverflowLeft: 'inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)',
      boxShadowTabsOverflowRight: 'inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)',
      boxShadowTabsOverflowTop: 'inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)',
      boxShadowTabsOverflowBottom: 'inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)',
    }),
    r,
  );
}
function si(t) {
  var e = v.useRef();
  e.current = t;
  var n = v.useCallback(function () {
    for (var r, i = arguments.length, o = new Array(i), a = 0; a < i; a++) o[a] = arguments[a];
    return (r = e.current) === null || r === void 0 ? void 0 : r.call.apply(r, [e].concat(o));
  }, []);
  return n;
}
var Ig = Sr() ? v.useLayoutEffect : v.useEffect,
  gn = function (e, n) {
    var r = v.useRef(!0);
    Ig(function () {
      return e(r.current);
    }, n),
      Ig(function () {
        return (
          (r.current = !1),
          function () {
            r.current = !0;
          }
        );
      }, []);
  },
  Dg = function (e, n) {
    gn(function (r) {
      if (!r) return e();
    }, n);
  };
function Ua(t) {
  var e = v.useRef(!1),
    n = v.useState(t),
    r = ve(n, 2),
    i = r[0],
    o = r[1];
  v.useEffect(function () {
    return (
      (e.current = !1),
      function () {
        e.current = !0;
      }
    );
  }, []);
  function a(s, l) {
    (l && e.current) || o(s);
  }
  return [i, a];
}
function gf(t) {
  return t !== void 0;
}
function Ni(t, e) {
  var n = e || {},
    r = n.defaultValue,
    i = n.value,
    o = n.onChange,
    a = n.postState,
    s = Ua(function () {
      return gf(i) ? i : gf(r) ? (typeof r == 'function' ? r() : r) : typeof t == 'function' ? t() : t;
    }),
    l = ve(s, 2),
    u = l[0],
    c = l[1],
    d = i !== void 0 ? i : u,
    f = a ? a(d) : d,
    h = si(o),
    m = Ua([d]),
    g = ve(m, 2),
    b = g[0],
    _ = g[1];
  Dg(
    function () {
      var T = b[0];
      u !== T && h(u, T);
    },
    [b],
  ),
    Dg(
      function () {
        gf(i) || c(i);
      },
      [i],
    );
  var y = si(function (T, w) {
    c(T, w), _([d], w);
  });
  return [f, y];
}
const F6 = 'anticon',
  d7 = (t, e) => e || (t ? `ant-${t}` : 'ant'),
  On = v.createContext({ getPrefixCls: d7, iconPrefixCls: F6 }),
  f7 = (t, e, n, r, i) => {
    const o = t / 2,
      a = 0,
      s = o,
      l = (n * 1) / Math.sqrt(2),
      u = o - n * (1 - 1 / Math.sqrt(2)),
      c = o - e * (1 / Math.sqrt(2)),
      d = n * (Math.sqrt(2) - 1) + e * (1 / Math.sqrt(2)),
      f = 2 * o - c,
      h = d,
      m = 2 * o - l,
      g = u,
      b = 2 * o - a,
      _ = s,
      y = o * Math.sqrt(2) + n * (Math.sqrt(2) - 2),
      T = n * (Math.sqrt(2) - 1);
    return {
      pointerEvents: 'none',
      width: t,
      height: t,
      overflow: 'hidden',
      '&::before': {
        position: 'absolute',
        bottom: 0,
        insetInlineStart: 0,
        width: t,
        height: t / 2,
        background: r,
        clipPath: {
          _multi_value_: !0,
          value: [
            `polygon(${T}px 100%, 50% ${T}px, ${2 * o - T}px 100%, ${T}px 100%)`,
            `path('M ${a} ${s} A ${n} ${n} 0 0 0 ${l} ${u} L ${c} ${d} A ${e} ${e} 0 0 1 ${f} ${h} L ${m} ${g} A ${n} ${n} 0 0 0 ${b} ${_} Z')`,
          ],
        },
        content: '""',
      },
      '&::after': {
        content: '""',
        position: 'absolute',
        width: y,
        height: y,
        bottom: 0,
        insetInline: 0,
        margin: 'auto',
        borderRadius: { _skip_check_: !0, value: `0 0 ${e}px 0` },
        transform: 'translateY(50%) rotate(-135deg)',
        boxShadow: i,
        zIndex: 0,
        background: 'transparent',
      },
    };
  },
  m0 = { overflow: 'hidden', whiteSpace: 'nowrap', textOverflow: 'ellipsis' },
  Wo = (t) => ({ boxSizing: 'border-box', margin: 0, padding: 0, color: t.colorText, fontSize: t.fontSize, lineHeight: t.lineHeight, listStyle: 'none', fontFamily: t.fontFamily }),
  hp = () => ({
    display: 'inline-flex',
    alignItems: 'center',
    color: 'inherit',
    fontStyle: 'normal',
    lineHeight: 0,
    textAlign: 'center',
    textTransform: 'none',
    verticalAlign: '-0.125em',
    textRendering: 'optimizeLegibility',
    '-webkit-font-smoothing': 'antialiased',
    '-moz-osx-font-smoothing': 'grayscale',
    '> *': { lineHeight: 1 },
    svg: { display: 'inline-block' },
  }),
  h7 = () => ({ '&::before': { display: 'table', content: '""' }, '&::after': { display: 'table', clear: 'both', content: '""' } }),
  m7 = (t) => ({
    a: {
      color: t.colorLink,
      textDecoration: t.linkDecoration,
      backgroundColor: 'transparent',
      outline: 'none',
      cursor: 'pointer',
      transition: `color ${t.motionDurationSlow}`,
      '-webkit-text-decoration-skip': 'objects',
      '&:hover': { color: t.colorLinkHover },
      '&:active': { color: t.colorLinkActive },
      '&:active,\n  &:hover': { textDecoration: t.linkHoverDecoration, outline: 0 },
      '&:focus': { textDecoration: t.linkFocusDecoration, outline: 0 },
      '&[disabled]': { color: t.colorTextDisabled, cursor: 'not-allowed' },
    },
  }),
  p7 = (t, e) => {
    const { fontFamily: n, fontSize: r } = t,
      i = `[class^="${e}"], [class*=" ${e}"]`;
    return {
      [i]: {
        fontFamily: n,
        fontSize: r,
        boxSizing: 'border-box',
        '&::before, &::after': { boxSizing: 'border-box' },
        [i]: { boxSizing: 'border-box', '&::before, &::after': { boxSizing: 'border-box' } },
      },
    };
  },
  g7 = (t) => ({ outline: `${t.lineWidthFocus}px solid ${t.colorPrimaryBorder}`, outlineOffset: 1, transition: 'outline-offset 0s, outline 0s' }),
  v7 = (t) => ({ '&:focus-visible': Object.assign({}, g7(t)) });
function Ko(t, e, n, r) {
  return (i) => {
    const [o, a, s] = qo(),
      { getPrefixCls: l, iconPrefixCls: u, csp: c } = v.useContext(On),
      d = l(),
      f = { theme: o, token: a, hashId: s, nonce: () => (c == null ? void 0 : c.nonce) };
    return (
      c0(Object.assign(Object.assign({}, f), { path: ['Shared', d] }), () => [{ '&': m7(a) }]),
      [
        c0(Object.assign(Object.assign({}, f), { path: [t, i, u] }), () => {
          const { token: h, flush: m } = _7(a),
            g = Object.assign({}, a[t]);
          if (r != null && r.deprecatedTokens) {
            const { deprecatedTokens: I } = r;
            I.forEach((O) => {
              let [x, L] = O;
              var D;
              ((g != null && g[x]) || (g != null && g[L])) && (((D = g[L]) !== null && D !== void 0) || (g[L] = g == null ? void 0 : g[x]));
            });
          }
          const b = typeof n == 'function' ? n(Tn(h, g ?? {})) : n,
            _ = Object.assign(Object.assign({}, b), g),
            y = `.${i}`,
            T = Tn(h, { componentCls: y, prefixCls: i, iconCls: `.${u}`, antCls: `.${d}` }, _),
            w = e(T, { hashId: s, prefixCls: i, rootPrefixCls: d, iconPrefixCls: u, overrideComponentToken: g });
          return m(t, _), [(r == null ? void 0 : r.resetStyle) === !1 ? null : p7(a, i), w];
        }),
        s,
      ]
    );
  };
}
const N6 = typeof CSSINJS_STATISTIC < 'u';
let p0 = !0;
function Tn() {
  for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++) e[n] = arguments[n];
  if (!N6) return Object.assign.apply(Object, [{}].concat(e));
  p0 = !1;
  const r = {};
  return (
    e.forEach((i) => {
      Object.keys(i).forEach((a) => {
        Object.defineProperty(r, a, { configurable: !0, enumerable: !0, get: () => i[a] });
      });
    }),
    (p0 = !0),
    r
  );
}
function y7() {}
function _7(t) {
  let e,
    n = t,
    r = y7;
  return (
    N6 &&
      ((e = new Set()),
      (n = new Proxy(t, {
        get(i, o) {
          return p0 && e.add(o), i[o];
        },
      })),
      (r = (i, o) => {
        Array.from(e);
      })),
    { token: n, keys: e, flush: r }
  );
}
function S7(t, e) {
  return Rc.reduce((n, r) => {
    const i = t[`${r}1`],
      o = t[`${r}3`],
      a = t[`${r}6`],
      s = t[`${r}7`];
    return Object.assign(Object.assign({}, n), e(r, { lightColor: i, lightBorderColor: o, darkColor: a, textColor: s }));
  }, {});
}
const E7 = Cc(Fl),
  Ac = { token: Ml, hashed: !0 },
  $6 = Ie.createContext(Ac);
function qo() {
  const { token: t, hashed: e, theme: n, components: r } = Ie.useContext($6),
    i = `${Fb}-${e || ''}`,
    o = n || E7,
    [a, s] = XE(o, [Ml, t], { salt: i, override: Object.assign({ override: t }, r), formatToken: M6 });
  return [o, a, e ? s : ''];
}
const b7 = `-ant-${Date.now()}-${Math.random()}`;
function x7(t, e) {
  const n = {},
    r = (a, s) => {
      let l = a.clone();
      return (l = (s == null ? void 0 : s(l)) || l), l.toRgbString();
    },
    i = (a, s) => {
      const l = new Rn(a),
        u = Fi(l.toRgbString());
      (n[`${s}-color`] = r(l)),
        (n[`${s}-color-disabled`] = u[1]),
        (n[`${s}-color-hover`] = u[4]),
        (n[`${s}-color-active`] = u[6]),
        (n[`${s}-color-outline`] = l.clone().setAlpha(0.2).toRgbString()),
        (n[`${s}-color-deprecated-bg`] = u[0]),
        (n[`${s}-color-deprecated-border`] = u[2]);
    };
  if (e.primaryColor) {
    i(e.primaryColor, 'primary');
    const a = new Rn(e.primaryColor),
      s = Fi(a.toRgbString());
    s.forEach((u, c) => {
      n[`primary-${c + 1}`] = u;
    }),
      (n['primary-color-deprecated-l-35'] = r(a, (u) => u.lighten(35))),
      (n['primary-color-deprecated-l-20'] = r(a, (u) => u.lighten(20))),
      (n['primary-color-deprecated-t-20'] = r(a, (u) => u.tint(20))),
      (n['primary-color-deprecated-t-50'] = r(a, (u) => u.tint(50))),
      (n['primary-color-deprecated-f-12'] = r(a, (u) => u.setAlpha(u.getAlpha() * 0.12)));
    const l = new Rn(s[0]);
    (n['primary-color-active-deprecated-f-30'] = r(l, (u) => u.setAlpha(u.getAlpha() * 0.3))), (n['primary-color-active-deprecated-d-02'] = r(l, (u) => u.darken(2)));
  }
  return (
    e.successColor && i(e.successColor, 'success'),
    e.warningColor && i(e.warningColor, 'warning'),
    e.errorColor && i(e.errorColor, 'error'),
    e.infoColor && i(e.infoColor, 'info'),
    `
  :root {
    ${Object.keys(n).map((a) => `--${t}-${a}: ${n[a]};`).join(`
`)}
  }
  `.trim()
  );
}
function T7(t, e) {
  const n = x7(t, e);
  Sr() && Za(n, `${b7}-dynamic-theme`);
}
const g0 = v.createContext(!1),
  w7 = (t) => {
    let { children: e, disabled: n } = t;
    const r = v.useContext(g0);
    return v.createElement(g0.Provider, { value: n ?? r }, e);
  },
  as = g0,
  C7 = (t) => {
    const e = Ie.useContext(xd);
    return Ie.useMemo(() => (t ? (typeof t == 'string' ? t ?? e : t instanceof Function ? t(e) : e) : e), [t, e]);
  },
  ss = C7,
  B6 = v.createContext(void 0),
  R7 = (t) => {
    let { children: e, size: n } = t;
    const r = ss(n);
    return v.createElement(B6.Provider, { value: r }, e);
  },
  xd = B6;
function A7() {
  const t = v.useContext(as),
    e = v.useContext(xd);
  return { componentDisabled: t, componentSize: e };
}
function L7(t, e) {
  const n = t || {},
    r = n.inherit === !1 || !e ? Ac : e;
  return yd(
    () => {
      if (!t) return e;
      const o = Object.assign({}, r.components);
      return (
        Object.keys(t.components || {}).forEach((a) => {
          o[a] = Object.assign(Object.assign({}, o[a]), t.components[a]);
        }),
        Object.assign(Object.assign(Object.assign({}, r), n), { token: Object.assign(Object.assign({}, r.token), n.token), components: o })
      );
    },
    [n, r],
    (o, a) =>
      o.some((s, l) => {
        const u = a[l];
        return !u6(s, u, !0);
      }),
  );
}
var I7 = ['children'],
  U6 = v.createContext({});
function D7(t) {
  var e = t.children,
    n = Zt(t, I7);
  return v.createElement(U6.Provider, { value: n }, e);
}
var P7 = (function (t) {
    Dl(n, t);
    var e = Pl(n);
    function n() {
      return $r(this, n), e.apply(this, arguments);
    }
    return (
      Br(n, [
        {
          key: 'render',
          value: function () {
            return this.props.children;
          },
        },
      ]),
      n
    );
  })(v.Component),
  xo = 'none',
  hu = 'appear',
  mu = 'enter',
  pu = 'leave',
  Pg = 'none',
  Kr = 'prepare',
  La = 'start',
  Ia = 'active',
  mp = 'end',
  z6 = 'prepared';
function Og(t, e) {
  var n = {};
  return (
    (n[t.toLowerCase()] = e.toLowerCase()),
    (n['Webkit'.concat(t)] = 'webkit'.concat(e)),
    (n['Moz'.concat(t)] = 'moz'.concat(e)),
    (n['ms'.concat(t)] = 'MS'.concat(e)),
    (n['O'.concat(t)] = 'o'.concat(e.toLowerCase())),
    n
  );
}
function O7(t, e) {
  var n = { animationend: Og('Animation', 'AnimationEnd'), transitionend: Og('Transition', 'TransitionEnd') };
  return t && ('AnimationEvent' in e || delete n.animationend.animation, 'TransitionEvent' in e || delete n.transitionend.transition), n;
}
var k7 = O7(Sr(), typeof window < 'u' ? window : {}),
  V6 = {};
if (Sr()) {
  var M7 = document.createElement('div');
  V6 = M7.style;
}
var gu = {};
function H6(t) {
  if (gu[t]) return gu[t];
  var e = k7[t];
  if (e)
    for (var n = Object.keys(e), r = n.length, i = 0; i < r; i += 1) {
      var o = n[i];
      if (Object.prototype.hasOwnProperty.call(e, o) && o in V6) return (gu[t] = e[o]), gu[t];
    }
  return '';
}
var j6 = H6('animationend'),
  G6 = H6('transitionend'),
  W6 = !!(j6 && G6),
  kg = j6 || 'animationend',
  Mg = G6 || 'transitionend';
function Fg(t, e) {
  if (!t) return null;
  if (wt(t) === 'object') {
    var n = e.replace(/-\w/g, function (r) {
      return r[1].toUpperCase();
    });
    return t[n];
  }
  return ''.concat(t, '-').concat(e);
}
const F7 = function (t) {
  var e = v.useRef(),
    n = v.useRef(t);
  n.current = t;
  var r = v.useCallback(function (a) {
    n.current(a);
  }, []);
  function i(a) {
    a && (a.removeEventListener(Mg, r), a.removeEventListener(kg, r));
  }
  function o(a) {
    e.current && e.current !== a && i(e.current), a && a !== e.current && (a.addEventListener(Mg, r), a.addEventListener(kg, r), (e.current = a));
  }
  return (
    v.useEffect(function () {
      return function () {
        i(e.current);
      };
    }, []),
    [o, i]
  );
};
var K6 = Sr() ? v.useLayoutEffect : v.useEffect;
const N7 = function () {
  var t = v.useRef(null);
  function e() {
    xn.cancel(t.current);
  }
  function n(r) {
    var i = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 2;
    e();
    var o = xn(function () {
      i <= 1
        ? r({
            isCanceled: function () {
              return o !== t.current;
            },
          })
        : n(r, i - 1);
    });
    t.current = o;
  }
  return (
    v.useEffect(function () {
      return function () {
        e();
      };
    }, []),
    [n, e]
  );
};
var $7 = [Kr, La, Ia, mp],
  B7 = [Kr, z6],
  q6 = !1,
  U7 = !0;
function Y6(t) {
  return t === Ia || t === mp;
}
const z7 = function (t, e, n) {
  var r = Ua(Pg),
    i = ve(r, 2),
    o = i[0],
    a = i[1],
    s = N7(),
    l = ve(s, 2),
    u = l[0],
    c = l[1];
  function d() {
    a(Kr, !0);
  }
  var f = e ? B7 : $7;
  return (
    K6(
      function () {
        if (o !== Pg && o !== mp) {
          var h = f.indexOf(o),
            m = f[h + 1],
            g = n(o);
          g === q6
            ? a(m, !0)
            : m &&
              u(function (b) {
                function _() {
                  b.isCanceled() || a(m, !0);
                }
                g === !0 ? _() : Promise.resolve(g).then(_);
              });
        }
      },
      [t, o],
    ),
    v.useEffect(function () {
      return function () {
        c();
      };
    }, []),
    [d, o]
  );
};
function V7(t, e, n, r) {
  var i = r.motionEnter,
    o = i === void 0 ? !0 : i,
    a = r.motionAppear,
    s = a === void 0 ? !0 : a,
    l = r.motionLeave,
    u = l === void 0 ? !0 : l,
    c = r.motionDeadline,
    d = r.motionLeaveImmediately,
    f = r.onAppearPrepare,
    h = r.onEnterPrepare,
    m = r.onLeavePrepare,
    g = r.onAppearStart,
    b = r.onEnterStart,
    _ = r.onLeaveStart,
    y = r.onAppearActive,
    T = r.onEnterActive,
    w = r.onLeaveActive,
    I = r.onAppearEnd,
    O = r.onEnterEnd,
    x = r.onLeaveEnd,
    L = r.onVisibleChanged,
    D = Ua(),
    C = ve(D, 2),
    G = C[0],
    M = C[1],
    B = Ua(xo),
    z = ve(B, 2),
    H = z[0],
    q = z[1],
    F = Ua(null),
    A = ve(F, 2),
    k = A[0],
    U = A[1],
    X = v.useRef(!1),
    Q = v.useRef(null);
  function W() {
    return n();
  }
  var Y = v.useRef(!1);
  function ne() {
    q(xo, !0), U(null, !0);
  }
  function te(Ne) {
    var we = W();
    if (!(Ne && !Ne.deadline && Ne.target !== we)) {
      var Fe = Y.current,
        ft;
      H === hu && Fe ? (ft = I == null ? void 0 : I(we, Ne)) : H === mu && Fe ? (ft = O == null ? void 0 : O(we, Ne)) : H === pu && Fe && (ft = x == null ? void 0 : x(we, Ne)),
        H !== xo && Fe && ft !== !1 && ne();
    }
  }
  var K = F7(te),
    ee = ve(K, 1),
    oe = ee[0],
    de = function (we) {
      var Fe, ft, yt;
      switch (we) {
        case hu:
          return (Fe = {}), De(Fe, Kr, f), De(Fe, La, g), De(Fe, Ia, y), Fe;
        case mu:
          return (ft = {}), De(ft, Kr, h), De(ft, La, b), De(ft, Ia, T), ft;
        case pu:
          return (yt = {}), De(yt, Kr, m), De(yt, La, _), De(yt, Ia, w), yt;
        default:
          return {};
      }
    },
    me = v.useMemo(
      function () {
        return de(H);
      },
      [H],
    ),
    pe = z7(H, !t, function (Ne) {
      if (Ne === Kr) {
        var we = me[Kr];
        return we ? we(W()) : q6;
      }
      if (Me in me) {
        var Fe;
        U(((Fe = me[Me]) === null || Fe === void 0 ? void 0 : Fe.call(me, W(), null)) || null);
      }
      return (
        Me === Ia &&
          (oe(W()),
          c > 0 &&
            (clearTimeout(Q.current),
            (Q.current = setTimeout(function () {
              te({ deadline: !0 });
            }, c)))),
        Me === z6 && ne(),
        U7
      );
    }),
    ge = ve(pe, 2),
    Le = ge[0],
    Me = ge[1],
    ze = Y6(Me);
  (Y.current = ze),
    K6(
      function () {
        M(e);
        var Ne = X.current;
        X.current = !0;
        var we;
        !Ne && e && s && (we = hu), Ne && e && o && (we = mu), ((Ne && !e && u) || (!Ne && d && !e && u)) && (we = pu);
        var Fe = de(we);
        we && (t || Fe[Kr]) ? (q(we), Le()) : q(xo);
      },
      [e],
    ),
    v.useEffect(
      function () {
        ((H === hu && !s) || (H === mu && !o) || (H === pu && !u)) && q(xo);
      },
      [s, o, u],
    ),
    v.useEffect(function () {
      return function () {
        (X.current = !1), clearTimeout(Q.current);
      };
    }, []);
  var Ge = v.useRef(!1);
  v.useEffect(
    function () {
      G && (Ge.current = !0), G !== void 0 && H === xo && ((Ge.current || G) && (L == null || L(G)), (Ge.current = !0));
    },
    [G, H],
  );
  var Te = k;
  return me[Kr] && Me === La && (Te = ce({ transition: 'none' }, Te)), [H, Me, Te, G ?? e];
}
function H7(t) {
  var e = t;
  wt(t) === 'object' && (e = t.transitionSupport);
  function n(i, o) {
    return !!(i.motionName && e && o !== !1);
  }
  var r = v.forwardRef(function (i, o) {
    var a = i.visible,
      s = a === void 0 ? !0 : a,
      l = i.removeOnLeave,
      u = l === void 0 ? !0 : l,
      c = i.forceRender,
      d = i.children,
      f = i.motionName,
      h = i.leavedClassName,
      m = i.eventProps,
      g = v.useContext(U6),
      b = g.motion,
      _ = n(i, b),
      y = v.useRef(),
      T = v.useRef();
    function w() {
      try {
        return y.current instanceof HTMLElement ? y.current : Ec(T.current);
      } catch {
        return null;
      }
    }
    var I = V7(_, s, w, i),
      O = ve(I, 4),
      x = O[0],
      L = O[1],
      D = O[2],
      C = O[3],
      G = v.useRef(C);
    C && (G.current = !0);
    var M = v.useCallback(
        function (U) {
          (y.current = U), tp(o, U);
        },
        [o],
      ),
      B,
      z = ce(ce({}, m), {}, { visible: s });
    if (!d) B = null;
    else if (x === xo)
      C ? (B = d(ce({}, z), M)) : !u && G.current && h ? (B = d(ce(ce({}, z), {}, { className: h }), M)) : c || (!u && !h) ? (B = d(ce(ce({}, z), {}, { style: { display: 'none' } }), M)) : (B = null);
    else {
      var H, q;
      L === Kr ? (q = 'prepare') : Y6(L) ? (q = 'active') : L === La && (q = 'start');
      var F = Fg(f, ''.concat(x, '-').concat(q));
      B = d(ce(ce({}, z), {}, { className: $e(Fg(f, x), ((H = {}), De(H, F, F && q), De(H, f, typeof f == 'string'), H)), style: D }), M);
    }
    if (v.isValidElement(B) && Ol(B)) {
      var A = B,
        k = A.ref;
      k || (B = v.cloneElement(B, { ref: M }));
    }
    return v.createElement(P7, { ref: T }, B);
  });
  return (r.displayName = 'CSSMotion'), r;
}
const Nl = H7(W6);
var v0 = 'add',
  y0 = 'keep',
  _0 = 'remove',
  vf = 'removed';
function j7(t) {
  var e;
  return t && wt(t) === 'object' && 'key' in t ? (e = t) : (e = { key: t }), ce(ce({}, e), {}, { key: String(e.key) });
}
function S0() {
  var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
  return t.map(j7);
}
function G7() {
  var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [],
    e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [],
    n = [],
    r = 0,
    i = e.length,
    o = S0(t),
    a = S0(e);
  o.forEach(function (u) {
    for (var c = !1, d = r; d < i; d += 1) {
      var f = a[d];
      if (f.key === u.key) {
        r < d &&
          ((n = n.concat(
            a.slice(r, d).map(function (h) {
              return ce(ce({}, h), {}, { status: v0 });
            }),
          )),
          (r = d)),
          n.push(ce(ce({}, f), {}, { status: y0 })),
          (r += 1),
          (c = !0);
        break;
      }
    }
    c || n.push(ce(ce({}, u), {}, { status: _0 }));
  }),
    r < i &&
      (n = n.concat(
        a.slice(r).map(function (u) {
          return ce(ce({}, u), {}, { status: v0 });
        }),
      ));
  var s = {};
  n.forEach(function (u) {
    var c = u.key;
    s[c] = (s[c] || 0) + 1;
  });
  var l = Object.keys(s).filter(function (u) {
    return s[u] > 1;
  });
  return (
    l.forEach(function (u) {
      (n = n.filter(function (c) {
        var d = c.key,
          f = c.status;
        return d !== u || f !== _0;
      })),
        n.forEach(function (c) {
          c.key === u && (c.status = y0);
        });
    }),
    n
  );
}
var W7 = ['component', 'children', 'onVisibleChanged', 'onAllRemoved'],
  K7 = ['status'],
  q7 = [
    'eventProps',
    'visible',
    'children',
    'motionName',
    'motionAppear',
    'motionEnter',
    'motionLeave',
    'motionLeaveImmediately',
    'motionDeadline',
    'removeOnLeave',
    'leavedClassName',
    'onAppearStart',
    'onAppearActive',
    'onAppearEnd',
    'onEnterStart',
    'onEnterActive',
    'onEnterEnd',
    'onLeaveStart',
    'onLeaveActive',
    'onLeaveEnd',
  ];
function Y7(t) {
  var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : Nl,
    n = (function (r) {
      Dl(o, r);
      var i = Pl(o);
      function o() {
        var a;
        $r(this, o);
        for (var s = arguments.length, l = new Array(s), u = 0; u < s; u++) l[u] = arguments[u];
        return (
          (a = i.call.apply(i, [this].concat(l))),
          De(_c(a), 'state', { keyEntities: [] }),
          De(_c(a), 'removeKey', function (c) {
            var d = a.state.keyEntities,
              f = d.map(function (h) {
                return h.key !== c ? h : ce(ce({}, h), {}, { status: vf });
              });
            return (
              a.setState({ keyEntities: f }),
              f.filter(function (h) {
                var m = h.status;
                return m !== vf;
              }).length
            );
          }),
          a
        );
      }
      return (
        Br(
          o,
          [
            {
              key: 'render',
              value: function () {
                var s = this,
                  l = this.state.keyEntities,
                  u = this.props,
                  c = u.component,
                  d = u.children,
                  f = u.onVisibleChanged,
                  h = u.onAllRemoved,
                  m = Zt(u, W7),
                  g = c || v.Fragment,
                  b = {};
                return (
                  q7.forEach(function (_) {
                    (b[_] = m[_]), delete m[_];
                  }),
                  delete m.keys,
                  v.createElement(
                    g,
                    m,
                    l.map(function (_) {
                      var y = _.status,
                        T = Zt(_, K7),
                        w = y === v0 || y === y0;
                      return v.createElement(
                        e,
                        pt({}, b, {
                          key: T.key,
                          visible: w,
                          eventProps: T,
                          onVisibleChanged: function (O) {
                            if ((f == null || f(O, { key: T.key }), !O)) {
                              var x = s.removeKey(T.key);
                              x === 0 && h && h();
                            }
                          },
                        }),
                        d,
                      );
                    }),
                  )
                );
              },
            },
          ],
          [
            {
              key: 'getDerivedStateFromProps',
              value: function (s, l) {
                var u = s.keys,
                  c = l.keyEntities,
                  d = S0(u),
                  f = G7(c, d);
                return {
                  keyEntities: f.filter(function (h) {
                    var m = c.find(function (g) {
                      var b = g.key;
                      return h.key === b;
                    });
                    return !(m && m.status === vf && h.status === _0);
                  }),
                };
              },
            },
          ],
        ),
        o
      );
    })(v.Component);
  return De(n, 'defaultProps', { component: 'div' }), n;
}
Y7(W6);
function X7(t) {
  const { children: e } = t,
    [, n] = qo(),
    { motion: r } = n,
    i = v.useRef(!1);
  return (i.current = i.current || r === !1), i.current ? v.createElement(D7, { motion: r }, e) : e;
}
const Q7 = (t, e) => {
    const [n, r] = qo();
    return c0({ theme: n, token: r, hashId: '', path: ['ant-design-icons', t], nonce: () => (e == null ? void 0 : e.nonce) }, () => [
      { [`.${t}`]: Object.assign(Object.assign({}, hp()), { [`.${t} .${t}-icon`]: { display: 'block' } }) },
    ]);
  },
  Z7 = Q7;
var J7 =
  (globalThis && globalThis.__rest) ||
  function (t, e) {
    var n = {};
    for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);
    if (t != null && typeof Object.getOwnPropertySymbols == 'function')
      for (var i = 0, r = Object.getOwnPropertySymbols(t); i < r.length; i++) e.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[i]) && (n[r[i]] = t[r[i]]);
    return n;
  };
const e9 = ['getTargetContainer', 'getPopupContainer', 'renderEmpty', 'pageHeader', 'input', 'pagination', 'form', 'select', 'button'],
  t9 = 'ant';
let X6;
function n9() {
  return X6 || t9;
}
function r9(t) {
  return Object.keys(t).some((e) => e.endsWith('Color'));
}
const i9 = (t) => {
    let { prefixCls: e, iconPrefixCls: n, theme: r } = t;
    e !== void 0 && (X6 = e), r && r9(r) && T7(n9(), r);
  },
  o9 = (t) => {
    const {
        children: e,
        csp: n,
        autoInsertSpaceInButton: r,
        form: i,
        locale: o,
        componentSize: a,
        direction: s,
        space: l,
        virtual: u,
        dropdownMatchSelectWidth: c,
        popupMatchSelectWidth: d,
        popupOverflow: f,
        legacyLocale: h,
        parentContext: m,
        iconPrefixCls: g,
        theme: b,
        componentDisabled: _,
      } = t,
      y = v.useCallback(
        (H, q) => {
          const { prefixCls: F } = t;
          if (q) return q;
          const A = F || m.getPrefixCls('');
          return H ? `${A}-${H}` : A;
        },
        [m.getPrefixCls, t.prefixCls],
      ),
      T = g || m.iconPrefixCls || F6,
      w = T !== m.iconPrefixCls,
      I = n || m.csp,
      O = Z7(T, I),
      x = L7(b, m.theme),
      L = { csp: I, autoInsertSpaceInButton: r, locale: o || h, direction: s, space: l, virtual: u, popupMatchSelectWidth: d ?? c, popupOverflow: f, getPrefixCls: y, iconPrefixCls: T, theme: x },
      D = Object.assign({}, m);
    Object.keys(L).forEach((H) => {
      L[H] !== void 0 && (D[H] = L[H]);
    }),
      e9.forEach((H) => {
        const q = t[H];
        q && (D[H] = q);
      });
    const C = yd(
        () => D,
        D,
        (H, q) => {
          const F = Object.keys(H),
            A = Object.keys(q);
          return F.length !== A.length || F.some((k) => H[k] !== q[k]);
        },
      ),
      G = v.useMemo(() => ({ prefixCls: T, csp: I }), [T, I]);
    let M = w ? O(e) : e;
    const B = v.useMemo(() => {
      var H, q, F;
      return Aa(
        ((H = _l.Form) === null || H === void 0 ? void 0 : H.defaultValidateMessages) || {},
        ((F = (q = C.locale) === null || q === void 0 ? void 0 : q.Form) === null || F === void 0 ? void 0 : F.defaultValidateMessages) || {},
        (i == null ? void 0 : i.validateMessages) || {},
      );
    }, [C, i == null ? void 0 : i.validateMessages]);
    Object.keys(B).length > 0 && (M = v.createElement(Tb.Provider, { value: B }, e)),
      o && (M = v.createElement(Mb, { locale: o, _ANT_MARK__: Ob }, M)),
      (T || I) && (M = v.createElement(cp.Provider, { value: G }, M)),
      a && (M = v.createElement(R7, { size: a }, M)),
      (M = v.createElement(X7, null, M));
    const z = v.useMemo(() => {
      const H = x || {},
        { algorithm: q, token: F } = H,
        A = J7(H, ['algorithm', 'token']),
        k = q && (!Array.isArray(q) || q.length > 0) ? Cc(q) : void 0;
      return Object.assign(Object.assign({}, A), { theme: k, token: Object.assign(Object.assign({}, Ml), F) });
    }, [x]);
    return b && (M = v.createElement($6.Provider, { value: z }, M)), _ !== void 0 && (M = v.createElement(w7, { disabled: _ }, M)), v.createElement(On.Provider, { value: C }, M);
  },
  ls = (t) => {
    const e = v.useContext(On),
      n = v.useContext(dp);
    return v.createElement(o9, Object.assign({ parentContext: e, legacyLocale: n }, t));
  };
ls.ConfigContext = On;
ls.SizeContext = xd;
ls.config = i9;
ls.useConfig = A7;
Object.defineProperty(ls, 'SizeContext', { get: () => xd });
const a9 = ls;
function Q6(t) {
  var e;
  return t == null || (e = t.getRootNode) === null || e === void 0 ? void 0 : e.call(t);
}
function s9(t) {
  return Q6(t) !== (t == null ? void 0 : t.ownerDocument);
}
function Lc(t) {
  return s9(t) ? Q6(t) : null;
}
function l9(t, e) {
  ur(t, '[@ant-design/icons] '.concat(e));
}
function Ng(t) {
  return wt(t) === 'object' && typeof t.name == 'string' && typeof t.theme == 'string' && (wt(t.icon) === 'object' || typeof t.icon == 'function');
}
function $g() {
  var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
  return Object.keys(t).reduce(function (e, n) {
    var r = t[n];
    switch (n) {
      case 'class':
        (e.className = r), delete e.class;
        break;
      default:
        e[n] = r;
    }
    return e;
  }, {});
}
function E0(t, e, n) {
  return n
    ? Ie.createElement(
        t.tag,
        ce(ce({ key: e }, $g(t.attrs)), n),
        (t.children || []).map(function (r, i) {
          return E0(r, ''.concat(e, '-').concat(t.tag, '-').concat(i));
        }),
      )
    : Ie.createElement(
        t.tag,
        ce({ key: e }, $g(t.attrs)),
        (t.children || []).map(function (r, i) {
          return E0(r, ''.concat(e, '-').concat(t.tag, '-').concat(i));
        }),
      );
}
function Z6(t) {
  return Fi(t)[0];
}
function J6(t) {
  return t ? (Array.isArray(t) ? t : [t]) : [];
}
var u9 = `
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,
  c9 = function (e) {
    var n = v.useContext(cp),
      r = n.csp,
      i = n.prefixCls,
      o = u9;
    i && (o = o.replace(/anticon/g, i)),
      v.useEffect(function () {
        var a = e.current,
          s = Lc(a);
        Za(o, '@ant-design-icons', { prepend: !0, csp: r, attachTo: s });
      }, []);
  },
  d9 = ['icon', 'className', 'onClick', 'style', 'primaryColor', 'secondaryColor'],
  Gs = { primaryColor: '#333', secondaryColor: '#E6E6E6', calculated: !1 };
function f9(t) {
  var e = t.primaryColor,
    n = t.secondaryColor;
  (Gs.primaryColor = e), (Gs.secondaryColor = n || Z6(e)), (Gs.calculated = !!n);
}
function h9() {
  return ce({}, Gs);
}
var Td = function (e) {
  var n = e.icon,
    r = e.className,
    i = e.onClick,
    o = e.style,
    a = e.primaryColor,
    s = e.secondaryColor,
    l = Zt(e, d9),
    u = v.useRef(),
    c = Gs;
  if ((a && (c = { primaryColor: a, secondaryColor: s || Z6(a) }), c9(u), l9(Ng(n), 'icon should be icon definiton, but got '.concat(n)), !Ng(n))) return null;
  var d = n;
  return (
    d && typeof d.icon == 'function' && (d = ce(ce({}, d), {}, { icon: d.icon(c.primaryColor, c.secondaryColor) })),
    E0(d.icon, 'svg-'.concat(d.name), ce(ce({ className: r, onClick: i, style: o, 'data-icon': d.name, width: '1em', height: '1em', fill: 'currentColor', 'aria-hidden': 'true' }, l), {}, { ref: u }))
  );
};
Td.displayName = 'IconReact';
Td.getTwoToneColors = h9;
Td.setTwoToneColors = f9;
const pp = Td;
function e4(t) {
  var e = J6(t),
    n = ve(e, 2),
    r = n[0],
    i = n[1];
  return pp.setTwoToneColors({ primaryColor: r, secondaryColor: i });
}
function m9() {
  var t = pp.getTwoToneColors();
  return t.calculated ? [t.primaryColor, t.secondaryColor] : t.primaryColor;
}
var p9 = ['className', 'icon', 'spin', 'rotate', 'tabIndex', 'onClick', 'twoToneColor'];
e4(Jb.primary);
var wd = v.forwardRef(function (t, e) {
  var n,
    r = t.className,
    i = t.icon,
    o = t.spin,
    a = t.rotate,
    s = t.tabIndex,
    l = t.onClick,
    u = t.twoToneColor,
    c = Zt(t, p9),
    d = v.useContext(cp),
    f = d.prefixCls,
    h = f === void 0 ? 'anticon' : f,
    m = d.rootClassName,
    g = $e(m, h, ((n = {}), De(n, ''.concat(h, '-').concat(i.name), !!i.name), De(n, ''.concat(h, '-spin'), !!o || i.name === 'loading'), n), r),
    b = s;
  b === void 0 && l && (b = -1);
  var _ = a ? { msTransform: 'rotate('.concat(a, 'deg)'), transform: 'rotate('.concat(a, 'deg)') } : void 0,
    y = J6(u),
    T = ve(y, 2),
    w = T[0],
    I = T[1];
  return v.createElement(
    'span',
    pt({ role: 'img', 'aria-label': i.name }, c, { ref: e, tabIndex: b, onClick: l, className: g }),
    v.createElement(pp, { icon: i, primaryColor: w, secondaryColor: I, style: _ }),
  );
});
wd.displayName = 'AntdIcon';
wd.getTwoToneColor = m9;
wd.setTwoToneColor = e4;
const po = wd;
var g9 = {
  icon: {
    tag: 'svg',
    attrs: { viewBox: '64 64 896 896', focusable: 'false' },
    children: [
      {
        tag: 'path',
        attrs: {
          d: 'M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z',
        },
      },
    ],
  },
  name: 'close-circle',
  theme: 'filled',
};
const v9 = g9;
var y9 = function (e, n) {
  return v.createElement(po, pt({}, e, { ref: n, icon: v9 }));
};
const gp = v.forwardRef(y9);
var _9 = {
  icon: {
    tag: 'svg',
    attrs: { viewBox: '64 64 896 896', focusable: 'false' },
    children: [
      {
        tag: 'path',
        attrs: {
          d: 'M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z',
        },
      },
    ],
  },
  name: 'close',
  theme: 'outlined',
};
const S9 = _9;
var E9 = function (e, n) {
  return v.createElement(po, pt({}, e, { ref: n, icon: S9 }));
};
const b9 = v.forwardRef(E9);
var x9 = `accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,
  T9 = `onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,
  w9 = ''
    .concat(x9, ' ')
    .concat(T9)
    .split(/[\s\n]+/),
  C9 = 'aria-',
  R9 = 'data-';
function Bg(t, e) {
  return t.indexOf(e) === 0;
}
function Ic(t) {
  var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1,
    n;
  e === !1 ? (n = { aria: !0, data: !0, attr: !0 }) : e === !0 ? (n = { aria: !0 }) : (n = ce({}, e));
  var r = {};
  return (
    Object.keys(t).forEach(function (i) {
      ((n.aria && (i === 'role' || Bg(i, C9))) || (n.data && Bg(i, R9)) || (n.attr && w9.includes(i))) && (r[i] = t[i]);
    }),
    r
  );
}
const { isValidElement: vp } = z2;
function t4(t) {
  return t && vp(t) && t.type === v.Fragment;
}
function A9(t, e, n) {
  return vp(t) ? v.cloneElement(t, typeof n == 'function' ? n(t.props || {}) : n) : e;
}
function es(t, e) {
  return A9(t, t, e);
}
var Ee = {
    MAC_ENTER: 3,
    BACKSPACE: 8,
    TAB: 9,
    NUM_CENTER: 12,
    ENTER: 13,
    SHIFT: 16,
    CTRL: 17,
    ALT: 18,
    PAUSE: 19,
    CAPS_LOCK: 20,
    ESC: 27,
    SPACE: 32,
    PAGE_UP: 33,
    PAGE_DOWN: 34,
    END: 35,
    HOME: 36,
    LEFT: 37,
    UP: 38,
    RIGHT: 39,
    DOWN: 40,
    PRINT_SCREEN: 44,
    INSERT: 45,
    DELETE: 46,
    ZERO: 48,
    ONE: 49,
    TWO: 50,
    THREE: 51,
    FOUR: 52,
    FIVE: 53,
    SIX: 54,
    SEVEN: 55,
    EIGHT: 56,
    NINE: 57,
    QUESTION_MARK: 63,
    A: 65,
    B: 66,
    C: 67,
    D: 68,
    E: 69,
    F: 70,
    G: 71,
    H: 72,
    I: 73,
    J: 74,
    K: 75,
    L: 76,
    M: 77,
    N: 78,
    O: 79,
    P: 80,
    Q: 81,
    R: 82,
    S: 83,
    T: 84,
    U: 85,
    V: 86,
    W: 87,
    X: 88,
    Y: 89,
    Z: 90,
    META: 91,
    WIN_KEY_RIGHT: 92,
    CONTEXT_MENU: 93,
    NUM_ZERO: 96,
    NUM_ONE: 97,
    NUM_TWO: 98,
    NUM_THREE: 99,
    NUM_FOUR: 100,
    NUM_FIVE: 101,
    NUM_SIX: 102,
    NUM_SEVEN: 103,
    NUM_EIGHT: 104,
    NUM_NINE: 105,
    NUM_MULTIPLY: 106,
    NUM_PLUS: 107,
    NUM_MINUS: 109,
    NUM_PERIOD: 110,
    NUM_DIVISION: 111,
    F1: 112,
    F2: 113,
    F3: 114,
    F4: 115,
    F5: 116,
    F6: 117,
    F7: 118,
    F8: 119,
    F9: 120,
    F10: 121,
    F11: 122,
    F12: 123,
    NUMLOCK: 144,
    SEMICOLON: 186,
    DASH: 189,
    EQUALS: 187,
    COMMA: 188,
    PERIOD: 190,
    SLASH: 191,
    APOSTROPHE: 192,
    SINGLE_QUOTE: 222,
    OPEN_SQUARE_BRACKET: 219,
    BACKSLASH: 220,
    CLOSE_SQUARE_BRACKET: 221,
    WIN_KEY: 224,
    MAC_FF_META: 224,
    WIN_IME: 229,
    isTextModifyingKeyEvent: function (e) {
      var n = e.keyCode;
      if ((e.altKey && !e.ctrlKey) || e.metaKey || (n >= Ee.F1 && n <= Ee.F12)) return !1;
      switch (n) {
        case Ee.ALT:
        case Ee.CAPS_LOCK:
        case Ee.CONTEXT_MENU:
        case Ee.CTRL:
        case Ee.DOWN:
        case Ee.END:
        case Ee.ESC:
        case Ee.HOME:
        case Ee.INSERT:
        case Ee.LEFT:
        case Ee.MAC_FF_META:
        case Ee.META:
        case Ee.NUMLOCK:
        case Ee.NUM_CENTER:
        case Ee.PAGE_DOWN:
        case Ee.PAGE_UP:
        case Ee.PAUSE:
        case Ee.PRINT_SCREEN:
        case Ee.RIGHT:
        case Ee.SHIFT:
        case Ee.UP:
        case Ee.WIN_KEY:
        case Ee.WIN_KEY_RIGHT:
          return !1;
        default:
          return !0;
      }
    },
    isCharacterKey: function (e) {
      if ((e >= Ee.ZERO && e <= Ee.NINE) || (e >= Ee.NUM_ZERO && e <= Ee.NUM_MULTIPLY) || (e >= Ee.A && e <= Ee.Z) || (window.navigator.userAgent.indexOf('WebKit') !== -1 && e === 0)) return !0;
      switch (e) {
        case Ee.SPACE:
        case Ee.QUESTION_MARK:
        case Ee.NUM_PLUS:
        case Ee.NUM_MINUS:
        case Ee.NUM_PERIOD:
        case Ee.NUM_DIVISION:
        case Ee.SEMICOLON:
        case Ee.DASH:
        case Ee.EQUALS:
        case Ee.COMMA:
        case Ee.PERIOD:
        case Ee.SLASH:
        case Ee.APOSTROPHE:
        case Ee.SINGLE_QUOTE:
        case Ee.OPEN_SQUARE_BRACKET:
        case Ee.BACKSLASH:
        case Ee.CLOSE_SQUARE_BRACKET:
          return !0;
        default:
          return !1;
      }
    },
  },
  L9 = {
    icon: {
      tag: 'svg',
      attrs: { viewBox: '0 0 1024 1024', focusable: 'false' },
      children: [
        {
          tag: 'path',
          attrs: {
            d: 'M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z',
          },
        },
      ],
    },
    name: 'loading',
    theme: 'outlined',
  };
const I9 = L9;
var D9 = function (e, n) {
  return v.createElement(po, pt({}, e, { ref: n, icon: I9 }));
};
const n4 = v.forwardRef(D9);
function Er() {
  Er = function () {
    return t;
  };
  var t = {},
    e = Object.prototype,
    n = e.hasOwnProperty,
    r =
      Object.defineProperty ||
      function (M, B, z) {
        M[B] = z.value;
      },
    i = typeof Symbol == 'function' ? Symbol : {},
    o = i.iterator || '@@iterator',
    a = i.asyncIterator || '@@asyncIterator',
    s = i.toStringTag || '@@toStringTag';
  function l(M, B, z) {
    return Object.defineProperty(M, B, { value: z, enumerable: !0, configurable: !0, writable: !0 }), M[B];
  }
  try {
    l({}, '');
  } catch {
    l = function (z, H, q) {
      return (z[H] = q);
    };
  }
  function u(M, B, z, H) {
    var q = B && B.prototype instanceof f ? B : f,
      F = Object.create(q.prototype),
      A = new D(H || []);
    return r(F, '_invoke', { value: I(M, z, A) }), F;
  }
  function c(M, B, z) {
    try {
      return { type: 'normal', arg: M.call(B, z) };
    } catch (H) {
      return { type: 'throw', arg: H };
    }
  }
  t.wrap = u;
  var d = {};
  function f() {}
  function h() {}
  function m() {}
  var g = {};
  l(g, o, function () {
    return this;
  });
  var b = Object.getPrototypeOf,
    _ = b && b(b(C([])));
  _ && _ !== e && n.call(_, o) && (g = _);
  var y = (m.prototype = f.prototype = Object.create(g));
  function T(M) {
    ['next', 'throw', 'return'].forEach(function (B) {
      l(M, B, function (z) {
        return this._invoke(B, z);
      });
    });
  }
  function w(M, B) {
    function z(q, F, A, k) {
      var U = c(M[q], M, F);
      if (U.type !== 'throw') {
        var X = U.arg,
          Q = X.value;
        return Q && wt(Q) == 'object' && n.call(Q, '__await')
          ? B.resolve(Q.__await).then(
              function (W) {
                z('next', W, A, k);
              },
              function (W) {
                z('throw', W, A, k);
              },
            )
          : B.resolve(Q).then(
              function (W) {
                (X.value = W), A(X);
              },
              function (W) {
                return z('throw', W, A, k);
              },
            );
      }
      k(U.arg);
    }
    var H;
    r(this, '_invoke', {
      value: function (F, A) {
        function k() {
          return new B(function (U, X) {
            z(F, A, U, X);
          });
        }
        return (H = H ? H.then(k, k) : k());
      },
    });
  }
  function I(M, B, z) {
    var H = 'suspendedStart';
    return function (q, F) {
      if (H === 'executing') throw new Error('Generator is already running');
      if (H === 'completed') {
        if (q === 'throw') throw F;
        return G();
      }
      for (z.method = q, z.arg = F; ; ) {
        var A = z.delegate;
        if (A) {
          var k = O(A, z);
          if (k) {
            if (k === d) continue;
            return k;
          }
        }
        if (z.method === 'next') z.sent = z._sent = z.arg;
        else if (z.method === 'throw') {
          if (H === 'suspendedStart') throw ((H = 'completed'), z.arg);
          z.dispatchException(z.arg);
        } else z.method === 'return' && z.abrupt('return', z.arg);
        H = 'executing';
        var U = c(M, B, z);
        if (U.type === 'normal') {
          if (((H = z.done ? 'completed' : 'suspendedYield'), U.arg === d)) continue;
          return { value: U.arg, done: z.done };
        }
        U.type === 'throw' && ((H = 'completed'), (z.method = 'throw'), (z.arg = U.arg));
      }
    };
  }
  function O(M, B) {
    var z = B.method,
      H = M.iterator[z];
    if (H === void 0)
      return (
        (B.delegate = null),
        (z === 'throw' && M.iterator.return && ((B.method = 'return'), (B.arg = void 0), O(M, B), B.method === 'throw')) ||
          (z !== 'return' && ((B.method = 'throw'), (B.arg = new TypeError("The iterator does not provide a '" + z + "' method")))),
        d
      );
    var q = c(H, M.iterator, B.arg);
    if (q.type === 'throw') return (B.method = 'throw'), (B.arg = q.arg), (B.delegate = null), d;
    var F = q.arg;
    return F
      ? F.done
        ? ((B[M.resultName] = F.value), (B.next = M.nextLoc), B.method !== 'return' && ((B.method = 'next'), (B.arg = void 0)), (B.delegate = null), d)
        : F
      : ((B.method = 'throw'), (B.arg = new TypeError('iterator result is not an object')), (B.delegate = null), d);
  }
  function x(M) {
    var B = { tryLoc: M[0] };
    1 in M && (B.catchLoc = M[1]), 2 in M && ((B.finallyLoc = M[2]), (B.afterLoc = M[3])), this.tryEntries.push(B);
  }
  function L(M) {
    var B = M.completion || {};
    (B.type = 'normal'), delete B.arg, (M.completion = B);
  }
  function D(M) {
    (this.tryEntries = [{ tryLoc: 'root' }]), M.forEach(x, this), this.reset(!0);
  }
  function C(M) {
    if (M) {
      var B = M[o];
      if (B) return B.call(M);
      if (typeof M.next == 'function') return M;
      if (!isNaN(M.length)) {
        var z = -1,
          H = function q() {
            for (; ++z < M.length; ) if (n.call(M, z)) return (q.value = M[z]), (q.done = !1), q;
            return (q.value = void 0), (q.done = !0), q;
          };
        return (H.next = H);
      }
    }
    return { next: G };
  }
  function G() {
    return { value: void 0, done: !0 };
  }
  return (
    (h.prototype = m),
    r(y, 'constructor', { value: m, configurable: !0 }),
    r(m, 'constructor', { value: h, configurable: !0 }),
    (h.displayName = l(m, s, 'GeneratorFunction')),
    (t.isGeneratorFunction = function (M) {
      var B = typeof M == 'function' && M.constructor;
      return !!B && (B === h || (B.displayName || B.name) === 'GeneratorFunction');
    }),
    (t.mark = function (M) {
      return Object.setPrototypeOf ? Object.setPrototypeOf(M, m) : ((M.__proto__ = m), l(M, s, 'GeneratorFunction')), (M.prototype = Object.create(y)), M;
    }),
    (t.awrap = function (M) {
      return { __await: M };
    }),
    T(w.prototype),
    l(w.prototype, a, function () {
      return this;
    }),
    (t.AsyncIterator = w),
    (t.async = function (M, B, z, H, q) {
      q === void 0 && (q = Promise);
      var F = new w(u(M, B, z, H), q);
      return t.isGeneratorFunction(B)
        ? F
        : F.next().then(function (A) {
            return A.done ? A.value : F.next();
          });
    }),
    T(y),
    l(y, s, 'Generator'),
    l(y, o, function () {
      return this;
    }),
    l(y, 'toString', function () {
      return '[object Generator]';
    }),
    (t.keys = function (M) {
      var B = Object(M),
        z = [];
      for (var H in B) z.push(H);
      return (
        z.reverse(),
        function q() {
          for (; z.length; ) {
            var F = z.pop();
            if (F in B) return (q.value = F), (q.done = !1), q;
          }
          return (q.done = !0), q;
        }
      );
    }),
    (t.values = C),
    (D.prototype = {
      constructor: D,
      reset: function (B) {
        if (
          ((this.prev = 0), (this.next = 0), (this.sent = this._sent = void 0), (this.done = !1), (this.delegate = null), (this.method = 'next'), (this.arg = void 0), this.tryEntries.forEach(L), !B)
        )
          for (var z in this) z.charAt(0) === 't' && n.call(this, z) && !isNaN(+z.slice(1)) && (this[z] = void 0);
      },
      stop: function () {
        this.done = !0;
        var B = this.tryEntries[0].completion;
        if (B.type === 'throw') throw B.arg;
        return this.rval;
      },
      dispatchException: function (B) {
        if (this.done) throw B;
        var z = this;
        function H(X, Q) {
          return (A.type = 'throw'), (A.arg = B), (z.next = X), Q && ((z.method = 'next'), (z.arg = void 0)), !!Q;
        }
        for (var q = this.tryEntries.length - 1; q >= 0; --q) {
          var F = this.tryEntries[q],
            A = F.completion;
          if (F.tryLoc === 'root') return H('end');
          if (F.tryLoc <= this.prev) {
            var k = n.call(F, 'catchLoc'),
              U = n.call(F, 'finallyLoc');
            if (k && U) {
              if (this.prev < F.catchLoc) return H(F.catchLoc, !0);
              if (this.prev < F.finallyLoc) return H(F.finallyLoc);
            } else if (k) {
              if (this.prev < F.catchLoc) return H(F.catchLoc, !0);
            } else {
              if (!U) throw new Error('try statement without catch or finally');
              if (this.prev < F.finallyLoc) return H(F.finallyLoc);
            }
          }
        }
      },
      abrupt: function (B, z) {
        for (var H = this.tryEntries.length - 1; H >= 0; --H) {
          var q = this.tryEntries[H];
          if (q.tryLoc <= this.prev && n.call(q, 'finallyLoc') && this.prev < q.finallyLoc) {
            var F = q;
            break;
          }
        }
        F && (B === 'break' || B === 'continue') && F.tryLoc <= z && z <= F.finallyLoc && (F = null);
        var A = F ? F.completion : {};
        return (A.type = B), (A.arg = z), F ? ((this.method = 'next'), (this.next = F.finallyLoc), d) : this.complete(A);
      },
      complete: function (B, z) {
        if (B.type === 'throw') throw B.arg;
        return (
          B.type === 'break' || B.type === 'continue'
            ? (this.next = B.arg)
            : B.type === 'return'
            ? ((this.rval = this.arg = B.arg), (this.method = 'return'), (this.next = 'end'))
            : B.type === 'normal' && z && (this.next = z),
          d
        );
      },
      finish: function (B) {
        for (var z = this.tryEntries.length - 1; z >= 0; --z) {
          var H = this.tryEntries[z];
          if (H.finallyLoc === B) return this.complete(H.completion, H.afterLoc), L(H), d;
        }
      },
      catch: function (B) {
        for (var z = this.tryEntries.length - 1; z >= 0; --z) {
          var H = this.tryEntries[z];
          if (H.tryLoc === B) {
            var q = H.completion;
            if (q.type === 'throw') {
              var F = q.arg;
              L(H);
            }
            return F;
          }
        }
        throw new Error('illegal catch attempt');
      },
      delegateYield: function (B, z, H) {
        return (this.delegate = { iterator: C(B), resultName: z, nextLoc: H }), this.method === 'next' && (this.arg = void 0), d;
      },
    }),
    t
  );
}
function Ug(t, e, n, r, i, o, a) {
  try {
    var s = t[o](a),
      l = s.value;
  } catch (u) {
    n(u);
    return;
  }
  s.done ? e(l) : Promise.resolve(l).then(r, i);
}
function us(t) {
  return function () {
    var e = this,
      n = arguments;
    return new Promise(function (r, i) {
      var o = t.apply(e, n);
      function a(l) {
        Ug(o, r, i, a, s, 'next', l);
      }
      function s(l) {
        Ug(o, r, i, a, s, 'throw', l);
      }
      a(void 0);
    });
  };
}
var $l = ce({}, HS),
  P9 = $l.version,
  O9 = $l.render,
  k9 = $l.unmountComponentAtNode,
  Cd;
try {
  var M9 = Number((P9 || '').split('.')[0]);
  M9 >= 18 && (Cd = $l.createRoot);
} catch {}
function zg(t) {
  var e = $l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;
  e && wt(e) === 'object' && (e.usingClientEntryPoint = t);
}
var Dc = '__rc_react_root__';
function F9(t, e) {
  zg(!0);
  var n = e[Dc] || Cd(e);
  zg(!1), n.render(t), (e[Dc] = n);
}
function N9(t, e) {
  O9(t, e);
}
function $9(t, e) {
  if (Cd) {
    F9(t, e);
    return;
  }
  N9(t, e);
}
function B9(t) {
  return b0.apply(this, arguments);
}
function b0() {
  return (
    (b0 = us(
      Er().mark(function t(e) {
        return Er().wrap(function (r) {
          for (;;)
            switch ((r.prev = r.next)) {
              case 0:
                return r.abrupt(
                  'return',
                  Promise.resolve().then(function () {
                    var i;
                    (i = e[Dc]) === null || i === void 0 || i.unmount(), delete e[Dc];
                  }),
                );
              case 1:
              case 'end':
                return r.stop();
            }
        }, t);
      }),
    )),
    b0.apply(this, arguments)
  );
}
function U9(t) {
  k9(t);
}
function z9(t) {
  return x0.apply(this, arguments);
}
function x0() {
  return (
    (x0 = us(
      Er().mark(function t(e) {
        return Er().wrap(function (r) {
          for (;;)
            switch ((r.prev = r.next)) {
              case 0:
                if (Cd === void 0) {
                  r.next = 2;
                  break;
                }
                return r.abrupt('return', B9(e));
              case 2:
                U9(e);
              case 3:
              case 'end':
                return r.stop();
            }
        }, t);
      }),
    )),
    x0.apply(this, arguments)
  );
}
const r4 = function (t) {
    if (!t) return !1;
    if (t instanceof Element) {
      if (t.offsetParent) return !0;
      if (t.getBBox) {
        var e = t.getBBox(),
          n = e.width,
          r = e.height;
        if (n || r) return !0;
      }
      if (t.getBoundingClientRect) {
        var i = t.getBoundingClientRect(),
          o = i.width,
          a = i.height;
        if (o || a) return !0;
      }
    }
    return !1;
  },
  V9 = (t) => {
    const { componentCls: e, colorPrimary: n } = t;
    return {
      [e]: {
        position: 'absolute',
        background: 'transparent',
        pointerEvents: 'none',
        boxSizing: 'border-box',
        color: `var(--wave-color, ${n})`,
        boxShadow: '0 0 0 0 currentcolor',
        opacity: 0.2,
        '&.wave-motion-appear': {
          transition: [`box-shadow 0.4s ${t.motionEaseOutCirc}`, `opacity 2s ${t.motionEaseOutCirc}`].join(','),
          '&-active': { boxShadow: '0 0 0 6px currentcolor', opacity: 0 },
        },
      },
    };
  },
  H9 = Ko('Wave', (t) => [V9(t)]);
function j9(t) {
  const e = (t || '').match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);
  return e && e[1] && e[2] && e[3] ? !(e[1] === e[2] && e[2] === e[3]) : !0;
}
function yf(t) {
  return t && t !== '#fff' && t !== '#ffffff' && t !== 'rgb(255, 255, 255)' && t !== 'rgba(255, 255, 255, 1)' && j9(t) && !/rgba\((?:\d*, ){3}0\)/.test(t) && t !== 'transparent';
}
function G9(t) {
  const { borderTopColor: e, borderColor: n, backgroundColor: r } = getComputedStyle(t);
  return yf(e) ? e : yf(n) ? n : yf(r) ? r : null;
}
function _f(t) {
  return Number.isNaN(t) ? 0 : t;
}
const W9 = (t) => {
  const { className: e, target: n } = t,
    r = v.useRef(null),
    [i, o] = v.useState(null),
    [a, s] = v.useState([]),
    [l, u] = v.useState(0),
    [c, d] = v.useState(0),
    [f, h] = v.useState(0),
    [m, g] = v.useState(0),
    [b, _] = v.useState(!1),
    y = { left: l, top: c, width: f, height: m, borderRadius: a.map((w) => `${w}px`).join(' ') };
  i && (y['--wave-color'] = i);
  function T() {
    const w = getComputedStyle(n);
    o(G9(n));
    const I = w.position === 'static',
      { borderLeftWidth: O, borderTopWidth: x } = w;
    u(I ? n.offsetLeft : _f(-parseFloat(O))), d(I ? n.offsetTop : _f(-parseFloat(x))), h(n.offsetWidth), g(n.offsetHeight);
    const { borderTopLeftRadius: L, borderTopRightRadius: D, borderBottomLeftRadius: C, borderBottomRightRadius: G } = w;
    s([L, D, G, C].map((M) => _f(parseFloat(M))));
  }
  return (
    v.useEffect(() => {
      if (n) {
        const w = xn(() => {
          T(), _(!0);
        });
        let I;
        return (
          typeof ResizeObserver < 'u' && ((I = new ResizeObserver(T)), I.observe(n)),
          () => {
            xn.cancel(w), I == null || I.disconnect();
          }
        );
      }
    }, []),
    b
      ? v.createElement(
          Nl,
          {
            visible: !0,
            motionAppear: !0,
            motionName: 'wave-motion',
            motionDeadline: 5e3,
            onAppearEnd: (w, I) => {
              var O;
              if (I.deadline || I.propertyName === 'opacity') {
                const x = (O = r.current) === null || O === void 0 ? void 0 : O.parentElement;
                z9(x).then(() => {
                  x == null || x.remove();
                });
              }
              return !1;
            },
          },
          (w) => {
            let { className: I } = w;
            return v.createElement('div', { ref: r, className: $e(e, I), style: y });
          },
        )
      : null
  );
};
function K9(t, e) {
  const n = document.createElement('div');
  (n.style.position = 'absolute'),
    (n.style.left = '0px'),
    (n.style.top = '0px'),
    t == null || t.insertBefore(n, t == null ? void 0 : t.firstChild),
    $9(v.createElement(W9, { target: t, className: e }), n);
}
function q9(t, e) {
  function n() {
    const r = t.current;
    K9(r, e);
  }
  return n;
}
const Y9 = (t) => {
    const { children: e, disabled: n } = t,
      { getPrefixCls: r } = v.useContext(On),
      i = v.useRef(null),
      o = r('wave'),
      [, a] = H9(o),
      s = q9(i, $e(o, a));
    if (
      (Ie.useEffect(() => {
        const u = i.current;
        if (!u || u.nodeType !== 1 || n) return;
        const c = (d) => {
          d.target.tagName === 'INPUT' || !r4(d.target) || !u.getAttribute || u.getAttribute('disabled') || u.disabled || u.className.includes('disabled') || u.className.includes('-leave') || s();
        };
        return (
          u.addEventListener('click', c, !0),
          () => {
            u.removeEventListener('click', c, !0);
          }
        );
      }, [n]),
      !Ie.isValidElement(e))
    )
      return e ?? null;
    const l = Ol(e) ? pi(e.ref, i) : i;
    return es(e, { ref: l });
  },
  X9 = Y9;
globalThis && globalThis.__rest;
const i4 = v.createContext(null),
  Rd = (t, e) => {
    const n = v.useContext(i4),
      r = v.useMemo(() => {
        if (!n) return '';
        const { compactDirection: i, isFirstItem: o, isLastItem: a } = n,
          s = i === 'vertical' ? '-vertical-' : '-';
        return $e({ [`${t}-compact${s}item`]: !0, [`${t}-compact${s}first-item`]: o, [`${t}-compact${s}last-item`]: a, [`${t}-compact${s}item-rtl`]: e === 'rtl' });
      }, [t, e, n]);
    return { compactSize: n == null ? void 0 : n.compactSize, compactDirection: n == null ? void 0 : n.compactDirection, compactItemClassnames: r };
  },
  T0 = (t) => {
    let { children: e } = t;
    return v.createElement(i4.Provider, { value: null }, e);
  },
  Q9 = v.forwardRef((t, e) => {
    const { className: n, style: r, children: i, prefixCls: o } = t,
      a = $e(`${o}-icon`, n);
    return Ie.createElement('span', { ref: e, className: a, style: r }, i);
  }),
  o4 = Q9,
  Vg = v.forwardRef((t, e) => {
    let { prefixCls: n, className: r, style: i, iconClassName: o } = t;
    const a = $e(`${n}-loading-icon`, r);
    return Ie.createElement(o4, { prefixCls: n, className: a, style: i, ref: e }, Ie.createElement(n4, { className: o }));
  }),
  Sf = () => ({ width: 0, opacity: 0, transform: 'scale(0)' }),
  Ef = (t) => ({ width: t.scrollWidth, opacity: 1, transform: 'scale(1)' }),
  Z9 = (t) => {
    let { prefixCls: e, loading: n, existIcon: r, className: i, style: o } = t;
    const a = !!n;
    return r
      ? Ie.createElement(Vg, { prefixCls: e, className: i, style: o })
      : Ie.createElement(
          Nl,
          { visible: a, motionName: `${e}-loading-icon-motion`, removeOnLeave: !0, onAppearStart: Sf, onAppearActive: Ef, onEnterStart: Sf, onEnterActive: Ef, onLeaveStart: Ef, onLeaveActive: Sf },
          (s, l) => {
            let { className: u, style: c } = s;
            return Ie.createElement(Vg, { prefixCls: e, className: i, style: Object.assign(Object.assign({}, o), c), ref: l, iconClassName: u });
          },
        );
  },
  J9 = Z9;
var ex =
  (globalThis && globalThis.__rest) ||
  function (t, e) {
    var n = {};
    for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);
    if (t != null && typeof Object.getOwnPropertySymbols == 'function')
      for (var i = 0, r = Object.getOwnPropertySymbols(t); i < r.length; i++) e.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[i]) && (n[r[i]] = t[r[i]]);
    return n;
  };
const a4 = v.createContext(void 0),
  tx = (t) => {
    const { getPrefixCls: e, direction: n } = v.useContext(On),
      { prefixCls: r, size: i, className: o } = t,
      a = ex(t, ['prefixCls', 'size', 'className']),
      s = e('btn-group', r),
      [, , l] = qo();
    let u = '';
    switch (i) {
      case 'large':
        u = 'lg';
        break;
      case 'small':
        u = 'sm';
        break;
    }
    const c = $e(s, { [`${s}-${u}`]: u, [`${s}-rtl`]: n === 'rtl' }, o, l);
    return v.createElement(a4.Provider, { value: i }, v.createElement('div', Object.assign({}, a, { className: c })));
  },
  nx = tx,
  Hg = /^[\u4e00-\u9fa5]{2}$/,
  w0 = Hg.test.bind(Hg);
function rx(t) {
  return typeof t == 'string';
}
function bf(t) {
  return t === 'text' || t === 'link';
}
function ix(t, e) {
  if (t == null) return;
  const n = e ? ' ' : '';
  return typeof t != 'string' && typeof t != 'number' && rx(t.type) && w0(t.props.children)
    ? es(t, { children: t.props.children.split('').join(n) })
    : typeof t == 'string'
    ? w0(t)
      ? Ie.createElement('span', null, t.split('').join(n))
      : Ie.createElement('span', null, t)
    : t4(t)
    ? Ie.createElement('span', null, t)
    : t;
}
function ox(t, e) {
  let n = !1;
  const r = [];
  return (
    Ie.Children.forEach(t, (i) => {
      const o = typeof i,
        a = o === 'string' || o === 'number';
      if (n && a) {
        const s = r.length - 1,
          l = r[s];
        r[s] = `${l}${i}`;
      } else r.push(i);
      n = a;
    }),
    Ie.Children.map(r, (i) => ix(i, e))
  );
}
function ax(t, e, n) {
  const { focusElCls: r, focus: i, borderElCls: o } = n,
    a = o ? '> *' : '',
    s = ['hover', i ? 'focus' : null, 'active']
      .filter(Boolean)
      .map((l) => `&:${l} ${a}`)
      .join(',');
  return {
    [`&-item:not(${e}-last-item)`]: { marginInlineEnd: -t.lineWidth },
    '&-item': Object.assign(Object.assign({ [s]: { zIndex: 2 } }, r ? { [`&${r}`]: { zIndex: 2 } } : {}), { [`&[disabled] ${a}`]: { zIndex: 0 } }),
  };
}
function sx(t, e, n) {
  const { borderElCls: r } = n,
    i = r ? `> ${r}` : '';
  return {
    [`&-item:not(${e}-first-item):not(${e}-last-item) ${i}`]: { borderRadius: 0 },
    [`&-item:not(${e}-last-item)${e}-first-item`]: { [`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]: { borderStartEndRadius: 0, borderEndEndRadius: 0 } },
    [`&-item:not(${e}-first-item)${e}-last-item`]: { [`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]: { borderStartStartRadius: 0, borderEndStartRadius: 0 } },
  };
}
function yp(t) {
  let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : { focus: !0 };
  const { componentCls: n } = t,
    r = `${n}-compact`;
  return { [r]: Object.assign(Object.assign({}, ax(t, r, e)), sx(n, r, e)) };
}
function lx(t, e) {
  return { [`&-item:not(${e}-last-item)`]: { marginBottom: -t.lineWidth }, '&-item': { '&:hover,&:focus,&:active': { zIndex: 2 }, '&[disabled]': { zIndex: 0 } } };
}
function ux(t, e) {
  return {
    [`&-item:not(${e}-first-item):not(${e}-last-item)`]: { borderRadius: 0 },
    [`&-item${e}-first-item:not(${e}-last-item)`]: { [`&, &${t}-sm, &${t}-lg`]: { borderEndEndRadius: 0, borderEndStartRadius: 0 } },
    [`&-item${e}-last-item:not(${e}-first-item)`]: { [`&, &${t}-sm, &${t}-lg`]: { borderStartStartRadius: 0, borderStartEndRadius: 0 } },
  };
}
function cx(t) {
  const e = `${t.componentCls}-compact-vertical`;
  return { [e]: Object.assign(Object.assign({}, lx(t, e)), ux(t.componentCls, e)) };
}
const jg = (t, e) => ({
    [`> span, > ${t}`]: {
      '&:not(:last-child)': { [`&, & > ${t}`]: { '&:not(:disabled)': { borderInlineEndColor: e } } },
      '&:not(:first-child)': { [`&, & > ${t}`]: { '&:not(:disabled)': { borderInlineStartColor: e } } },
    },
  }),
  dx = (t) => {
    const { componentCls: e, fontSize: n, lineWidth: r, colorPrimaryHover: i, colorErrorHover: o } = t;
    return {
      [`${e}-group`]: [
        {
          position: 'relative',
          display: 'inline-flex',
          [`> span, > ${e}`]: {
            '&:not(:last-child)': { [`&, & > ${e}`]: { borderStartEndRadius: 0, borderEndEndRadius: 0 } },
            '&:not(:first-child)': { marginInlineStart: -r, [`&, & > ${e}`]: { borderStartStartRadius: 0, borderEndStartRadius: 0 } },
          },
          [e]: { position: 'relative', zIndex: 1, '&:hover,\n          &:focus,\n          &:active': { zIndex: 2 }, '&[disabled]': { zIndex: 0 } },
          [`${e}-icon-only`]: { fontSize: n },
        },
        jg(`${e}-primary`, i),
        jg(`${e}-danger`, o),
      ],
    };
  },
  fx = dx,
  hx = (t) => {
    const { componentCls: e, iconCls: n, buttonFontWeight: r } = t;
    return {
      [e]: {
        outline: 'none',
        position: 'relative',
        display: 'inline-block',
        fontWeight: r,
        whiteSpace: 'nowrap',
        textAlign: 'center',
        backgroundImage: 'none',
        backgroundColor: 'transparent',
        border: `${t.lineWidth}px ${t.lineType} transparent`,
        cursor: 'pointer',
        transition: `all ${t.motionDurationMid} ${t.motionEaseInOut}`,
        userSelect: 'none',
        touchAction: 'manipulation',
        lineHeight: t.lineHeight,
        color: t.colorText,
        '&:disabled > *': { pointerEvents: 'none' },
        '> span': { display: 'inline-block' },
        [`${e}-icon`]: { lineHeight: 0 },
        [`> ${n} + span, > span + ${n}`]: { marginInlineStart: t.marginXS },
        [`&:not(${e}-icon-only) > ${e}-icon`]: { [`&${e}-loading-icon, &:not(:last-child)`]: { marginInlineEnd: t.marginXS } },
        '> a': { color: 'currentColor' },
        '&:not(:disabled)': Object.assign({}, v7(t)),
        [`&-icon-only${e}-compact-item`]: { flex: 'none' },
        [`&-compact-item${e}-primary`]: {
          [`&:not([disabled]) + ${e}-compact-item${e}-primary:not([disabled])`]: {
            position: 'relative',
            '&:before': {
              position: 'absolute',
              top: -t.lineWidth,
              insetInlineStart: -t.lineWidth,
              display: 'inline-block',
              width: t.lineWidth,
              height: `calc(100% + ${t.lineWidth * 2}px)`,
              backgroundColor: t.colorPrimaryHover,
              content: '""',
            },
          },
        },
        '&-compact-vertical-item': {
          [`&${e}-primary`]: {
            [`&:not([disabled]) + ${e}-compact-vertical-item${e}-primary:not([disabled])`]: {
              position: 'relative',
              '&:before': {
                position: 'absolute',
                top: -t.lineWidth,
                insetInlineStart: -t.lineWidth,
                display: 'inline-block',
                width: `calc(100% + ${t.lineWidth * 2}px)`,
                height: t.lineWidth,
                backgroundColor: t.colorPrimaryHover,
                content: '""',
              },
            },
          },
        },
      },
    };
  },
  $i = (t, e, n) => ({ [`&:not(:disabled):not(${t}-disabled)`]: { '&:hover': e, '&:active': n } }),
  mx = (t) => ({ minWidth: t.controlHeight, paddingInlineStart: 0, paddingInlineEnd: 0, borderRadius: '50%' }),
  px = (t) => ({ borderRadius: t.controlHeight, paddingInlineStart: t.controlHeight / 2, paddingInlineEnd: t.controlHeight / 2 }),
  gx = (t) => ({ cursor: 'not-allowed', borderColor: t.colorBorder, color: t.colorTextDisabled, backgroundColor: t.colorBgContainerDisabled, boxShadow: 'none' }),
  Pc = (t, e, n, r, i, o, a) => ({
    [`&${t}-background-ghost`]: Object.assign(
      Object.assign(
        { color: e || void 0, backgroundColor: 'transparent', borderColor: n || void 0, boxShadow: 'none' },
        $i(t, Object.assign({ backgroundColor: 'transparent' }, o), Object.assign({ backgroundColor: 'transparent' }, a)),
      ),
      { '&:disabled': { cursor: 'not-allowed', color: r || void 0, borderColor: i || void 0 } },
    ),
  }),
  _p = (t) => ({ [`&:disabled, &${t.componentCls}-disabled`]: Object.assign({}, gx(t)) }),
  s4 = (t) => Object.assign({}, _p(t)),
  Oc = (t) => ({ [`&:disabled, &${t.componentCls}-disabled`]: { cursor: 'not-allowed', color: t.colorTextDisabled } }),
  l4 = (t) =>
    Object.assign(
      Object.assign(
        Object.assign(
          Object.assign(Object.assign({}, s4(t)), { backgroundColor: t.colorBgContainer, borderColor: t.colorBorder, boxShadow: `0 ${t.controlOutlineWidth}px 0 ${t.controlTmpOutline}` }),
          $i(t.componentCls, { color: t.colorPrimaryHover, borderColor: t.colorPrimaryHover }, { color: t.colorPrimaryActive, borderColor: t.colorPrimaryActive }),
        ),
        Pc(t.componentCls, t.colorBgContainer, t.colorBgContainer, t.colorTextDisabled, t.colorBorder),
      ),
      {
        [`&${t.componentCls}-dangerous`]: Object.assign(
          Object.assign(
            Object.assign(
              { color: t.colorError, borderColor: t.colorError },
              $i(t.componentCls, { color: t.colorErrorHover, borderColor: t.colorErrorBorderHover }, { color: t.colorErrorActive, borderColor: t.colorErrorActive }),
            ),
            Pc(t.componentCls, t.colorError, t.colorError, t.colorTextDisabled, t.colorBorder),
          ),
          _p(t),
        ),
      },
    ),
  vx = (t) =>
    Object.assign(
      Object.assign(
        Object.assign(
          Object.assign(Object.assign({}, s4(t)), { color: t.colorTextLightSolid, backgroundColor: t.colorPrimary, boxShadow: `0 ${t.controlOutlineWidth}px 0 ${t.controlOutline}` }),
          $i(t.componentCls, { color: t.colorTextLightSolid, backgroundColor: t.colorPrimaryHover }, { color: t.colorTextLightSolid, backgroundColor: t.colorPrimaryActive }),
        ),
        Pc(
          t.componentCls,
          t.colorPrimary,
          t.colorPrimary,
          t.colorTextDisabled,
          t.colorBorder,
          { color: t.colorPrimaryHover, borderColor: t.colorPrimaryHover },
          { color: t.colorPrimaryActive, borderColor: t.colorPrimaryActive },
        ),
      ),
      {
        [`&${t.componentCls}-dangerous`]: Object.assign(
          Object.assign(
            Object.assign(
              { backgroundColor: t.colorError, boxShadow: `0 ${t.controlOutlineWidth}px 0 ${t.colorErrorOutline}` },
              $i(t.componentCls, { backgroundColor: t.colorErrorHover }, { backgroundColor: t.colorErrorActive }),
            ),
            Pc(
              t.componentCls,
              t.colorError,
              t.colorError,
              t.colorTextDisabled,
              t.colorBorder,
              { color: t.colorErrorHover, borderColor: t.colorErrorHover },
              { color: t.colorErrorActive, borderColor: t.colorErrorActive },
            ),
          ),
          _p(t),
        ),
      },
    ),
  yx = (t) => Object.assign(Object.assign({}, l4(t)), { borderStyle: 'dashed' }),
  _x = (t) =>
    Object.assign(Object.assign(Object.assign({ color: t.colorLink }, $i(t.componentCls, { color: t.colorLinkHover }, { color: t.colorLinkActive })), Oc(t)), {
      [`&${t.componentCls}-dangerous`]: Object.assign(Object.assign({ color: t.colorError }, $i(t.componentCls, { color: t.colorErrorHover }, { color: t.colorErrorActive })), Oc(t)),
    }),
  Sx = (t) =>
    Object.assign(
      Object.assign(Object.assign({}, $i(t.componentCls, { color: t.colorText, backgroundColor: t.colorBgTextHover }, { color: t.colorText, backgroundColor: t.colorBgTextActive })), Oc(t)),
      {
        [`&${t.componentCls}-dangerous`]: Object.assign(
          Object.assign({ color: t.colorError }, Oc(t)),
          $i(t.componentCls, { color: t.colorErrorHover, backgroundColor: t.colorErrorBg }, { color: t.colorErrorHover, backgroundColor: t.colorErrorBg }),
        ),
      },
    ),
  Ex = (t) => {
    const { componentCls: e } = t;
    return { [`${e}-default`]: l4(t), [`${e}-primary`]: vx(t), [`${e}-dashed`]: yx(t), [`${e}-link`]: _x(t), [`${e}-text`]: Sx(t) };
  },
  Sp = function (t) {
    let e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : '';
    const { componentCls: n, controlHeight: r, fontSize: i, lineHeight: o, lineWidth: a, borderRadius: s, buttonPaddingHorizontal: l, iconCls: u } = t,
      c = Math.max(0, (r - i * o) / 2 - a),
      d = l - a,
      f = `${n}-icon-only`;
    return [
      {
        [`${n}${e}`]: {
          fontSize: i,
          height: r,
          padding: `${c}px ${d}px`,
          borderRadius: s,
          [`&${f}`]: { width: r, paddingInlineStart: 0, paddingInlineEnd: 0, [`&${n}-round`]: { width: 'auto' }, [u]: { fontSize: t.buttonIconOnlyFontSize } },
          [`&${n}-loading`]: { opacity: t.opacityLoading, cursor: 'default' },
          [`${n}-loading-icon`]: { transition: `width ${t.motionDurationSlow} ${t.motionEaseInOut}, opacity ${t.motionDurationSlow} ${t.motionEaseInOut}` },
        },
      },
      { [`${n}${n}-circle${e}`]: mx(t) },
      { [`${n}${n}-round${e}`]: px(t) },
    ];
  },
  bx = (t) => Sp(t),
  xx = (t) => {
    const e = Tn(t, { controlHeight: t.controlHeightSM, padding: t.paddingXS, buttonPaddingHorizontal: 8, borderRadius: t.borderRadiusSM, buttonIconOnlyFontSize: t.fontSizeLG - 2 });
    return Sp(e, `${t.componentCls}-sm`);
  },
  Tx = (t) => {
    const e = Tn(t, { controlHeight: t.controlHeightLG, fontSize: t.fontSizeLG, borderRadius: t.borderRadiusLG, buttonIconOnlyFontSize: t.fontSizeLG + 2 });
    return Sp(e, `${t.componentCls}-lg`);
  },
  wx = (t) => {
    const { componentCls: e } = t;
    return { [e]: { [`&${e}-block`]: { width: '100%' } } };
  },
  Cx = Ko('Button', (t) => {
    const { controlTmpOutline: e, paddingContentHorizontal: n } = t,
      r = Tn(t, { colorOutlineDefault: e, buttonPaddingHorizontal: n, buttonIconOnlyFontSize: t.fontSizeLG, buttonFontWeight: 400 });
    return [hx(r), xx(r), bx(r), Tx(r), wx(r), Ex(r), fx(r), yp(t), cx(t)];
  });
var Rx =
  (globalThis && globalThis.__rest) ||
  function (t, e) {
    var n = {};
    for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);
    if (t != null && typeof Object.getOwnPropertySymbols == 'function')
      for (var i = 0, r = Object.getOwnPropertySymbols(t); i < r.length; i++) e.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[i]) && (n[r[i]] = t[r[i]]);
    return n;
  };
function Ax(t) {
  if (typeof t == 'object' && t) {
    const e = t == null ? void 0 : t.delay;
    return { loading: !1, delay: !Number.isNaN(e) && typeof e == 'number' ? e : 0 };
  }
  return { loading: !!t, delay: 0 };
}
const Lx = (t, e) => {
    var n, r;
    const {
        loading: i = !1,
        prefixCls: o,
        type: a = 'default',
        danger: s,
        shape: l = 'default',
        size: u,
        styles: c,
        disabled: d,
        className: f,
        rootClassName: h,
        children: m,
        icon: g,
        ghost: b = !1,
        block: _ = !1,
        htmlType: y = 'button',
        classNames: T,
        style: w = {},
      } = t,
      I = Rx(t, [
        'loading',
        'prefixCls',
        'type',
        'danger',
        'shape',
        'size',
        'styles',
        'disabled',
        'className',
        'rootClassName',
        'children',
        'icon',
        'ghost',
        'block',
        'htmlType',
        'classNames',
        'style',
      ]),
      { getPrefixCls: O, autoInsertSpaceInButton: x, direction: L, button: D } = v.useContext(On),
      C = O('btn', o),
      [G, M] = Cx(C),
      B = v.useContext(as),
      z = d ?? B,
      H = v.useContext(a4),
      q = v.useMemo(() => Ax(i), [i]),
      [F, A] = v.useState(q.loading),
      [k, U] = v.useState(!1),
      Q = pi(e, v.createRef()),
      W = v.Children.count(m) === 1 && !g && !bf(a);
    v.useEffect(() => {
      let we = null;
      q.delay > 0
        ? (we = setTimeout(() => {
            (we = null), A(!0);
          }, q.delay))
        : A(q.loading);
      function Fe() {
        we && (clearTimeout(we), (we = null));
      }
      return Fe;
    }, [q]),
      v.useEffect(() => {
        if (!Q || !Q.current || x === !1) return;
        const we = Q.current.textContent;
        W && w0(we) ? k || U(!0) : k && U(!1);
      }, [Q]);
    const Y = (we) => {
        const { onClick: Fe } = t;
        if (F || z) {
          we.preventDefault();
          return;
        }
        Fe == null || Fe(we);
      },
      ne = x !== !1,
      { compactSize: te, compactItemClassnames: K } = Rd(C, L),
      ee = { large: 'lg', small: 'sm', middle: void 0 },
      oe = ss((we) => {
        var Fe, ft;
        return (ft = (Fe = u ?? te) !== null && Fe !== void 0 ? Fe : H) !== null && ft !== void 0 ? ft : we;
      }),
      de = (oe && ee[oe]) || '',
      me = F ? 'loading' : g,
      pe = kl(I, ['navigate']),
      ge = $e(
        C,
        M,
        {
          [`${C}-${l}`]: l !== 'default' && l,
          [`${C}-${a}`]: a,
          [`${C}-${de}`]: de,
          [`${C}-icon-only`]: !m && m !== 0 && !!me,
          [`${C}-background-ghost`]: b && !bf(a),
          [`${C}-loading`]: F,
          [`${C}-two-chinese-chars`]: k && ne && !F,
          [`${C}-block`]: _,
          [`${C}-dangerous`]: !!s,
          [`${C}-rtl`]: L === 'rtl',
        },
        K,
        f,
        h,
        D == null ? void 0 : D.className,
      ),
      Le = Object.assign(Object.assign({}, D == null ? void 0 : D.style), w),
      Me = $e(T == null ? void 0 : T.icon, (n = D == null ? void 0 : D.classNames) === null || n === void 0 ? void 0 : n.icon),
      ze = Object.assign(Object.assign({}, (c == null ? void 0 : c.icon) || {}), ((r = D == null ? void 0 : D.styles) === null || r === void 0 ? void 0 : r.icon) || {}),
      Ge = g && !F ? Ie.createElement(o4, { prefixCls: C, className: Me, style: ze }, g) : Ie.createElement(J9, { existIcon: !!g, prefixCls: C, loading: !!F }),
      Te = m || m === 0 ? ox(m, W && ne) : null;
    if (pe.href !== void 0) return G(Ie.createElement('a', Object.assign({}, pe, { className: $e(ge, { [`${C}-disabled`]: z }), style: Le, onClick: Y, ref: Q }), Ge, Te));
    let Ne = Ie.createElement('button', Object.assign({}, I, { type: y, className: ge, style: Le, onClick: Y, disabled: z, ref: Q }), Ge, Te);
    return bf(a) || (Ne = Ie.createElement(X9, { disabled: !!F }, Ne)), G(Ne);
  },
  Ep = v.forwardRef(Lx);
Ep.Group = nx;
Ep.__ANT_BUTTON = !0;
const C0 = Ep,
  Ix = (t) => (t !== void 0 && (t === 'topLeft' || t === 'topRight') ? 'slide-down' : 'slide-up'),
  u4 = (t, e, n) => (n !== void 0 ? n : `${t}-${e}`);
var c4 = v.createContext(null),
  Gg = [];
function Dx(t, e) {
  var n = v.useState(function () {
      if (!Sr()) return null;
      var m = document.createElement('div');
      return m;
    }),
    r = ve(n, 1),
    i = r[0],
    o = v.useRef(!1),
    a = v.useContext(c4),
    s = v.useState(Gg),
    l = ve(s, 2),
    u = l[0],
    c = l[1],
    d =
      a ||
      (o.current
        ? void 0
        : function (m) {
            c(function (g) {
              var b = [m].concat(Ue(g));
              return b;
            });
          });
  function f() {
    i.parentElement || document.body.appendChild(i), (o.current = !0);
  }
  function h() {
    var m;
    (m = i.parentElement) === null || m === void 0 || m.removeChild(i), (o.current = !1);
  }
  return (
    gn(
      function () {
        return t ? (a ? a(f) : f()) : h(), h;
      },
      [t],
    ),
    gn(
      function () {
        u.length &&
          (u.forEach(function (m) {
            return m();
          }),
          c(Gg));
      },
      [u],
    ),
    [i, d]
  );
}
var xf;
function Px(t) {
  if (typeof document > 'u') return 0;
  if (t || xf === void 0) {
    var e = document.createElement('div');
    (e.style.width = '100%'), (e.style.height = '200px');
    var n = document.createElement('div'),
      r = n.style;
    (r.position = 'absolute'),
      (r.top = '0'),
      (r.left = '0'),
      (r.pointerEvents = 'none'),
      (r.visibility = 'hidden'),
      (r.width = '200px'),
      (r.height = '150px'),
      (r.overflow = 'hidden'),
      n.appendChild(e),
      document.body.appendChild(n);
    var i = e.offsetWidth;
    n.style.overflow = 'scroll';
    var o = e.offsetWidth;
    i === o && (o = n.clientWidth), document.body.removeChild(n), (xf = i - o);
  }
  return xf;
}
function Ox() {
  return document.body.scrollHeight > (window.innerHeight || document.documentElement.clientHeight) && window.innerWidth > document.body.offsetWidth;
}
var kx = 'rc-util-locker-'.concat(Date.now()),
  Wg = 0;
function Mx(t) {
  var e = !!t,
    n = v.useState(function () {
      return (Wg += 1), ''.concat(kx, '_').concat(Wg);
    }),
    r = ve(n, 1),
    i = r[0];
  gn(
    function () {
      if (e) {
        var o = Px(),
          a = Ox();
        Za(
          `
html body {
  overflow-y: hidden;
  `.concat(
            a ? 'width: calc(100% - '.concat(o, 'px);') : '',
            `
}`,
          ),
          i,
        );
      } else Tc(i);
      return function () {
        Tc(i);
      };
    },
    [e, i],
  );
}
var Kg = !1;
function Fx(t) {
  return typeof t == 'boolean' && (Kg = t), Kg;
}
var qg = function (e) {
    return e === !1 ? !1 : !Sr() || !e ? null : typeof e == 'string' ? document.querySelector(e) : typeof e == 'function' ? e() : e;
  },
  d4 = v.forwardRef(function (t, e) {
    var n = t.open,
      r = t.autoLock,
      i = t.getContainer;
    t.debug;
    var o = t.autoDestroy,
      a = o === void 0 ? !0 : o,
      s = t.children,
      l = v.useState(n),
      u = ve(l, 2),
      c = u[0],
      d = u[1],
      f = c || n;
    v.useEffect(
      function () {
        (a || n) && d(n);
      },
      [n, a],
    );
    var h = v.useState(function () {
        return qg(i);
      }),
      m = ve(h, 2),
      g = m[0],
      b = m[1];
    v.useEffect(function () {
      var G = qg(i);
      b(G ?? null);
    });
    var _ = Dx(f && !g),
      y = ve(_, 2),
      T = y[0],
      w = y[1],
      I = g ?? T;
    Mx(r && n && Sr() && (I === T || I === document.body));
    var O = null;
    if (s && Ol(s) && e) {
      var x = s;
      O = x.ref;
    }
    var L = np(O, e);
    if (!f || !Sr() || g === void 0) return null;
    var D = I === !1 || Fx(),
      C = s;
    return e && (C = v.cloneElement(s, { ref: L })), v.createElement(c4.Provider, { value: w }, D ? C : Il.createPortal(C, I));
  });
function Nx() {
  var t = ce({}, z2);
  return t.useId;
}
var Yg = 0;
function $x(t) {
  var e = v.useState('ssr-id'),
    n = ve(e, 2),
    r = n[0],
    i = n[1],
    o = Nx(),
    a = o == null ? void 0 : o();
  return (
    v.useEffect(function () {
      if (!o) {
        var s = Yg;
        (Yg += 1), i('rc_unique_'.concat(s));
      }
    }, []),
    t || a || r
  );
}
var Io = 'RC_FORM_INTERNAL_HOOKS',
  Kt = function () {
    ur(!1, 'Can not find FormContext. Please make sure you wrap Field under Form.');
  },
  ts = v.createContext({
    getFieldValue: Kt,
    getFieldsValue: Kt,
    getFieldError: Kt,
    getFieldWarning: Kt,
    getFieldsError: Kt,
    isFieldsTouched: Kt,
    isFieldTouched: Kt,
    isFieldValidating: Kt,
    isFieldsValidating: Kt,
    resetFields: Kt,
    setFields: Kt,
    setFieldValue: Kt,
    setFieldsValue: Kt,
    validateFields: Kt,
    submit: Kt,
    getInternalHooks: function () {
      return (
        Kt(),
        {
          dispatch: Kt,
          initEntityValue: Kt,
          registerField: Kt,
          useSubscribe: Kt,
          setInitialValues: Kt,
          destroyForm: Kt,
          setCallbacks: Kt,
          registerWatch: Kt,
          getFields: Kt,
          setValidateMessages: Kt,
          setPreserve: Kt,
          getInitialValue: Kt,
        }
      );
    },
  }),
  kc = v.createContext(null);
function R0(t) {
  return t == null ? [] : Array.isArray(t) ? t : [t];
}
function Bx(t) {
  return t && !!t._init;
}
function Do() {
  return (
    (Do = Object.assign
      ? Object.assign.bind()
      : function (t) {
          for (var e = 1; e < arguments.length; e++) {
            var n = arguments[e];
            for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (t[r] = n[r]);
          }
          return t;
        }),
    Do.apply(this, arguments)
  );
}
function Ux(t, e) {
  (t.prototype = Object.create(e.prototype)), (t.prototype.constructor = t), Sl(t, e);
}
function A0(t) {
  return (
    (A0 = Object.setPrototypeOf
      ? Object.getPrototypeOf.bind()
      : function (n) {
          return n.__proto__ || Object.getPrototypeOf(n);
        }),
    A0(t)
  );
}
function Sl(t, e) {
  return (
    (Sl = Object.setPrototypeOf
      ? Object.setPrototypeOf.bind()
      : function (r, i) {
          return (r.__proto__ = i), r;
        }),
    Sl(t, e)
  );
}
function zx() {
  if (typeof Reflect > 'u' || !Reflect.construct || Reflect.construct.sham) return !1;
  if (typeof Proxy == 'function') return !0;
  try {
    return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0;
  } catch {
    return !1;
  }
}
function Gu(t, e, n) {
  return (
    zx()
      ? (Gu = Reflect.construct.bind())
      : (Gu = function (i, o, a) {
          var s = [null];
          s.push.apply(s, o);
          var l = Function.bind.apply(i, s),
            u = new l();
          return a && Sl(u, a.prototype), u;
        }),
    Gu.apply(null, arguments)
  );
}
function Vx(t) {
  return Function.toString.call(t).indexOf('[native code]') !== -1;
}
function L0(t) {
  var e = typeof Map == 'function' ? new Map() : void 0;
  return (
    (L0 = function (r) {
      if (r === null || !Vx(r)) return r;
      if (typeof r != 'function') throw new TypeError('Super expression must either be null or a function');
      if (typeof e < 'u') {
        if (e.has(r)) return e.get(r);
        e.set(r, i);
      }
      function i() {
        return Gu(r, arguments, A0(this).constructor);
      }
      return (i.prototype = Object.create(r.prototype, { constructor: { value: i, enumerable: !1, writable: !0, configurable: !0 } })), Sl(i, r);
    }),
    L0(t)
  );
}
var Hx = /%[sdj%]/g,
  jx = function () {};
typeof process < 'u' && process.env;
function I0(t) {
  if (!t || !t.length) return null;
  var e = {};
  return (
    t.forEach(function (n) {
      var r = n.field;
      (e[r] = e[r] || []), e[r].push(n);
    }),
    e
  );
}
function vr(t) {
  for (var e = arguments.length, n = new Array(e > 1 ? e - 1 : 0), r = 1; r < e; r++) n[r - 1] = arguments[r];
  var i = 0,
    o = n.length;
  if (typeof t == 'function') return t.apply(null, n);
  if (typeof t == 'string') {
    var a = t.replace(Hx, function (s) {
      if (s === '%%') return '%';
      if (i >= o) return s;
      switch (s) {
        case '%s':
          return String(n[i++]);
        case '%d':
          return Number(n[i++]);
        case '%j':
          try {
            return JSON.stringify(n[i++]);
          } catch {
            return '[Circular]';
          }
          break;
        default:
          return s;
      }
    });
    return a;
  }
  return t;
}
function Gx(t) {
  return t === 'string' || t === 'url' || t === 'hex' || t === 'email' || t === 'date' || t === 'pattern';
}
function Dn(t, e) {
  return !!(t == null || (e === 'array' && Array.isArray(t) && !t.length) || (Gx(e) && typeof t == 'string' && !t));
}
function Wx(t, e, n) {
  var r = [],
    i = 0,
    o = t.length;
  function a(s) {
    r.push.apply(r, s || []), i++, i === o && n(r);
  }
  t.forEach(function (s) {
    e(s, a);
  });
}
function Xg(t, e, n) {
  var r = 0,
    i = t.length;
  function o(a) {
    if (a && a.length) {
      n(a);
      return;
    }
    var s = r;
    (r = r + 1), s < i ? e(t[s], o) : n([]);
  }
  o([]);
}
function Kx(t) {
  var e = [];
  return (
    Object.keys(t).forEach(function (n) {
      e.push.apply(e, t[n] || []);
    }),
    e
  );
}
var Qg = (function (t) {
  Ux(e, t);
  function e(n, r) {
    var i;
    return (i = t.call(this, 'Async Validation Error') || this), (i.errors = n), (i.fields = r), i;
  }
  return e;
})(L0(Error));
function qx(t, e, n, r, i) {
  if (e.first) {
    var o = new Promise(function (f, h) {
      var m = function (_) {
          return r(_), _.length ? h(new Qg(_, I0(_))) : f(i);
        },
        g = Kx(t);
      Xg(g, n, m);
    });
    return (
      o.catch(function (f) {
        return f;
      }),
      o
    );
  }
  var a = e.firstFields === !0 ? Object.keys(t) : e.firstFields || [],
    s = Object.keys(t),
    l = s.length,
    u = 0,
    c = [],
    d = new Promise(function (f, h) {
      var m = function (b) {
        if ((c.push.apply(c, b), u++, u === l)) return r(c), c.length ? h(new Qg(c, I0(c))) : f(i);
      };
      s.length || (r(c), f(i)),
        s.forEach(function (g) {
          var b = t[g];
          a.indexOf(g) !== -1 ? Xg(b, n, m) : Wx(b, n, m);
        });
    });
  return (
    d.catch(function (f) {
      return f;
    }),
    d
  );
}
function Yx(t) {
  return !!(t && t.message !== void 0);
}
function Xx(t, e) {
  for (var n = t, r = 0; r < e.length; r++) {
    if (n == null) return n;
    n = n[e[r]];
  }
  return n;
}
function Zg(t, e) {
  return function (n) {
    var r;
    return (
      t.fullFields ? (r = Xx(e, t.fullFields)) : (r = e[n.field || t.fullField]),
      Yx(n) ? ((n.field = n.field || t.fullField), (n.fieldValue = r), n) : { message: typeof n == 'function' ? n() : n, fieldValue: r, field: n.field || t.fullField }
    );
  };
}
function Jg(t, e) {
  if (e) {
    for (var n in e)
      if (e.hasOwnProperty(n)) {
        var r = e[n];
        typeof r == 'object' && typeof t[n] == 'object' ? (t[n] = Do({}, t[n], r)) : (t[n] = r);
      }
  }
  return t;
}
var f4 = function (e, n, r, i, o, a) {
    e.required && (!r.hasOwnProperty(e.field) || Dn(n, a || e.type)) && i.push(vr(o.messages.required, e.fullField));
  },
  Qx = function (e, n, r, i, o) {
    (/^\s+$/.test(n) || n === '') && i.push(vr(o.messages.whitespace, e.fullField));
  },
  vu,
  Zx = function () {
    if (vu) return vu;
    var t = '[a-fA-F\\d:]',
      e = function (w) {
        return w && w.includeBoundaries ? '(?:(?<=\\s|^)(?=' + t + ')|(?<=' + t + ')(?=\\s|$))' : '';
      },
      n = '(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}',
      r = '[a-fA-F\\d]{1,4}',
      i = (
        `
(?:
(?:` +
        r +
        ':){7}(?:' +
        r +
        `|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:` +
        r +
        ':){6}(?:' +
        n +
        '|:' +
        r +
        `|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:` +
        r +
        ':){5}(?::' +
        n +
        '|(?::' +
        r +
        `){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:` +
        r +
        ':){4}(?:(?::' +
        r +
        '){0,1}:' +
        n +
        '|(?::' +
        r +
        `){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:` +
        r +
        ':){3}(?:(?::' +
        r +
        '){0,2}:' +
        n +
        '|(?::' +
        r +
        `){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:` +
        r +
        ':){2}(?:(?::' +
        r +
        '){0,3}:' +
        n +
        '|(?::' +
        r +
        `){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:` +
        r +
        ':){1}(?:(?::' +
        r +
        '){0,4}:' +
        n +
        '|(?::' +
        r +
        `){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::` +
        r +
        '){0,5}:' +
        n +
        '|(?::' +
        r +
        `){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`
      )
        .replace(/\s*\/\/.*$/gm, '')
        .replace(/\n/g, '')
        .trim(),
      o = new RegExp('(?:^' + n + '$)|(?:^' + i + '$)'),
      a = new RegExp('^' + n + '$'),
      s = new RegExp('^' + i + '$'),
      l = function (w) {
        return w && w.exact ? o : new RegExp('(?:' + e(w) + n + e(w) + ')|(?:' + e(w) + i + e(w) + ')', 'g');
      };
    (l.v4 = function (T) {
      return T && T.exact ? a : new RegExp('' + e(T) + n + e(T), 'g');
    }),
      (l.v6 = function (T) {
        return T && T.exact ? s : new RegExp('' + e(T) + i + e(T), 'g');
      });
    var u = '(?:(?:[a-z]+:)?//)',
      c = '(?:\\S+(?::\\S*)?@)?',
      d = l.v4().source,
      f = l.v6().source,
      h = '(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)',
      m = '(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*',
      g = '(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))',
      b = '(?::\\d{2,5})?',
      _ = '(?:[/?#][^\\s"]*)?',
      y = '(?:' + u + '|www\\.)' + c + '(?:localhost|' + d + '|' + f + '|' + h + m + g + ')' + b + _;
    return (vu = new RegExp('(?:^' + y + '$)', 'i')), vu;
  },
  ev = {
    email:
      /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,
    hex: /^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,
  },
  Os = {
    integer: function (e) {
      return Os.number(e) && parseInt(e, 10) === e;
    },
    float: function (e) {
      return Os.number(e) && !Os.integer(e);
    },
    array: function (e) {
      return Array.isArray(e);
    },
    regexp: function (e) {
      if (e instanceof RegExp) return !0;
      try {
        return !!new RegExp(e);
      } catch {
        return !1;
      }
    },
    date: function (e) {
      return typeof e.getTime == 'function' && typeof e.getMonth == 'function' && typeof e.getYear == 'function' && !isNaN(e.getTime());
    },
    number: function (e) {
      return isNaN(e) ? !1 : typeof e == 'number';
    },
    object: function (e) {
      return typeof e == 'object' && !Os.array(e);
    },
    method: function (e) {
      return typeof e == 'function';
    },
    email: function (e) {
      return typeof e == 'string' && e.length <= 320 && !!e.match(ev.email);
    },
    url: function (e) {
      return typeof e == 'string' && e.length <= 2048 && !!e.match(Zx());
    },
    hex: function (e) {
      return typeof e == 'string' && !!e.match(ev.hex);
    },
  },
  Jx = function (e, n, r, i, o) {
    if (e.required && n === void 0) {
      f4(e, n, r, i, o);
      return;
    }
    var a = ['integer', 'float', 'array', 'regexp', 'object', 'method', 'email', 'number', 'date', 'url', 'hex'],
      s = e.type;
    a.indexOf(s) > -1 ? Os[s](n) || i.push(vr(o.messages.types[s], e.fullField, e.type)) : s && typeof n !== e.type && i.push(vr(o.messages.types[s], e.fullField, e.type));
  },
  eT = function (e, n, r, i, o) {
    var a = typeof e.len == 'number',
      s = typeof e.min == 'number',
      l = typeof e.max == 'number',
      u = /[\uD800-\uDBFF][\uDC00-\uDFFF]/g,
      c = n,
      d = null,
      f = typeof n == 'number',
      h = typeof n == 'string',
      m = Array.isArray(n);
    if ((f ? (d = 'number') : h ? (d = 'string') : m && (d = 'array'), !d)) return !1;
    m && (c = n.length),
      h && (c = n.replace(u, '_').length),
      a
        ? c !== e.len && i.push(vr(o.messages[d].len, e.fullField, e.len))
        : s && !l && c < e.min
        ? i.push(vr(o.messages[d].min, e.fullField, e.min))
        : l && !s && c > e.max
        ? i.push(vr(o.messages[d].max, e.fullField, e.max))
        : s && l && (c < e.min || c > e.max) && i.push(vr(o.messages[d].range, e.fullField, e.min, e.max));
  },
  ea = 'enum',
  tT = function (e, n, r, i, o) {
    (e[ea] = Array.isArray(e[ea]) ? e[ea] : []), e[ea].indexOf(n) === -1 && i.push(vr(o.messages[ea], e.fullField, e[ea].join(', ')));
  },
  nT = function (e, n, r, i, o) {
    if (e.pattern) {
      if (e.pattern instanceof RegExp) (e.pattern.lastIndex = 0), e.pattern.test(n) || i.push(vr(o.messages.pattern.mismatch, e.fullField, n, e.pattern));
      else if (typeof e.pattern == 'string') {
        var a = new RegExp(e.pattern);
        a.test(n) || i.push(vr(o.messages.pattern.mismatch, e.fullField, n, e.pattern));
      }
    }
  },
  Tt = { required: f4, whitespace: Qx, type: Jx, range: eT, enum: tT, pattern: nT },
  rT = function (e, n, r, i, o) {
    var a = [],
      s = e.required || (!e.required && i.hasOwnProperty(e.field));
    if (s) {
      if (Dn(n, 'string') && !e.required) return r();
      Tt.required(e, n, i, a, o, 'string'), Dn(n, 'string') || (Tt.type(e, n, i, a, o), Tt.range(e, n, i, a, o), Tt.pattern(e, n, i, a, o), e.whitespace === !0 && Tt.whitespace(e, n, i, a, o));
    }
    r(a);
  },
  iT = function (e, n, r, i, o) {
    var a = [],
      s = e.required || (!e.required && i.hasOwnProperty(e.field));
    if (s) {
      if (Dn(n) && !e.required) return r();
      Tt.required(e, n, i, a, o), n !== void 0 && Tt.type(e, n, i, a, o);
    }
    r(a);
  },
  oT = function (e, n, r, i, o) {
    var a = [],
      s = e.required || (!e.required && i.hasOwnProperty(e.field));
    if (s) {
      if ((n === '' && (n = void 0), Dn(n) && !e.required)) return r();
      Tt.required(e, n, i, a, o), n !== void 0 && (Tt.type(e, n, i, a, o), Tt.range(e, n, i, a, o));
    }
    r(a);
  },
  aT = function (e, n, r, i, o) {
    var a = [],
      s = e.required || (!e.required && i.hasOwnProperty(e.field));
    if (s) {
      if (Dn(n) && !e.required) return r();
      Tt.required(e, n, i, a, o), n !== void 0 && Tt.type(e, n, i, a, o);
    }
    r(a);
  },
  sT = function (e, n, r, i, o) {
    var a = [],
      s = e.required || (!e.required && i.hasOwnProperty(e.field));
    if (s) {
      if (Dn(n) && !e.required) return r();
      Tt.required(e, n, i, a, o), Dn(n) || Tt.type(e, n, i, a, o);
    }
    r(a);
  },
  lT = function (e, n, r, i, o) {
    var a = [],
      s = e.required || (!e.required && i.hasOwnProperty(e.field));
    if (s) {
      if (Dn(n) && !e.required) return r();
      Tt.required(e, n, i, a, o), n !== void 0 && (Tt.type(e, n, i, a, o), Tt.range(e, n, i, a, o));
    }
    r(a);
  },
  uT = function (e, n, r, i, o) {
    var a = [],
      s = e.required || (!e.required && i.hasOwnProperty(e.field));
    if (s) {
      if (Dn(n) && !e.required) return r();
      Tt.required(e, n, i, a, o), n !== void 0 && (Tt.type(e, n, i, a, o), Tt.range(e, n, i, a, o));
    }
    r(a);
  },
  cT = function (e, n, r, i, o) {
    var a = [],
      s = e.required || (!e.required && i.hasOwnProperty(e.field));
    if (s) {
      if (n == null && !e.required) return r();
      Tt.required(e, n, i, a, o, 'array'), n != null && (Tt.type(e, n, i, a, o), Tt.range(e, n, i, a, o));
    }
    r(a);
  },
  dT = function (e, n, r, i, o) {
    var a = [],
      s = e.required || (!e.required && i.hasOwnProperty(e.field));
    if (s) {
      if (Dn(n) && !e.required) return r();
      Tt.required(e, n, i, a, o), n !== void 0 && Tt.type(e, n, i, a, o);
    }
    r(a);
  },
  fT = 'enum',
  hT = function (e, n, r, i, o) {
    var a = [],
      s = e.required || (!e.required && i.hasOwnProperty(e.field));
    if (s) {
      if (Dn(n) && !e.required) return r();
      Tt.required(e, n, i, a, o), n !== void 0 && Tt[fT](e, n, i, a, o);
    }
    r(a);
  },
  mT = function (e, n, r, i, o) {
    var a = [],
      s = e.required || (!e.required && i.hasOwnProperty(e.field));
    if (s) {
      if (Dn(n, 'string') && !e.required) return r();
      Tt.required(e, n, i, a, o), Dn(n, 'string') || Tt.pattern(e, n, i, a, o);
    }
    r(a);
  },
  pT = function (e, n, r, i, o) {
    var a = [],
      s = e.required || (!e.required && i.hasOwnProperty(e.field));
    if (s) {
      if (Dn(n, 'date') && !e.required) return r();
      if ((Tt.required(e, n, i, a, o), !Dn(n, 'date'))) {
        var l;
        n instanceof Date ? (l = n) : (l = new Date(n)), Tt.type(e, l, i, a, o), l && Tt.range(e, l.getTime(), i, a, o);
      }
    }
    r(a);
  },
  gT = function (e, n, r, i, o) {
    var a = [],
      s = Array.isArray(n) ? 'array' : typeof n;
    Tt.required(e, n, i, a, o, s), r(a);
  },
  Tf = function (e, n, r, i, o) {
    var a = e.type,
      s = [],
      l = e.required || (!e.required && i.hasOwnProperty(e.field));
    if (l) {
      if (Dn(n, a) && !e.required) return r();
      Tt.required(e, n, i, s, o, a), Dn(n, a) || Tt.type(e, n, i, s, o);
    }
    r(s);
  },
  vT = function (e, n, r, i, o) {
    var a = [],
      s = e.required || (!e.required && i.hasOwnProperty(e.field));
    if (s) {
      if (Dn(n) && !e.required) return r();
      Tt.required(e, n, i, a, o);
    }
    r(a);
  },
  Ws = {
    string: rT,
    method: iT,
    number: oT,
    boolean: aT,
    regexp: sT,
    integer: lT,
    float: uT,
    array: cT,
    object: dT,
    enum: hT,
    pattern: mT,
    date: pT,
    url: Tf,
    hex: Tf,
    email: Tf,
    required: gT,
    any: vT,
  };
function D0() {
  return {
    default: 'Validation error on field %s',
    required: '%s is required',
    enum: '%s must be one of %s',
    whitespace: '%s cannot be empty',
    date: { format: '%s date %s is invalid for format %s', parse: '%s date could not be parsed, %s is invalid ', invalid: '%s date %s is invalid' },
    types: {
      string: '%s is not a %s',
      method: '%s is not a %s (function)',
      array: '%s is not an %s',
      object: '%s is not an %s',
      number: '%s is not a %s',
      date: '%s is not a %s',
      boolean: '%s is not a %s',
      integer: '%s is not an %s',
      float: '%s is not a %s',
      regexp: '%s is not a valid %s',
      email: '%s is not a valid %s',
      url: '%s is not a valid %s',
      hex: '%s is not a valid %s',
    },
    string: { len: '%s must be exactly %s characters', min: '%s must be at least %s characters', max: '%s cannot be longer than %s characters', range: '%s must be between %s and %s characters' },
    number: { len: '%s must equal %s', min: '%s cannot be less than %s', max: '%s cannot be greater than %s', range: '%s must be between %s and %s' },
    array: { len: '%s must be exactly %s in length', min: '%s cannot be less than %s in length', max: '%s cannot be greater than %s in length', range: '%s must be between %s and %s in length' },
    pattern: { mismatch: '%s value %s does not match pattern %s' },
    clone: function () {
      var e = JSON.parse(JSON.stringify(this));
      return (e.clone = this.clone), e;
    },
  };
}
var P0 = D0(),
  Bl = (function () {
    function t(n) {
      (this.rules = null), (this._messages = P0), this.define(n);
    }
    var e = t.prototype;
    return (
      (e.define = function (r) {
        var i = this;
        if (!r) throw new Error('Cannot configure a schema with no rules');
        if (typeof r != 'object' || Array.isArray(r)) throw new Error('Rules must be an object');
        (this.rules = {}),
          Object.keys(r).forEach(function (o) {
            var a = r[o];
            i.rules[o] = Array.isArray(a) ? a : [a];
          });
      }),
      (e.messages = function (r) {
        return r && (this._messages = Jg(D0(), r)), this._messages;
      }),
      (e.validate = function (r, i, o) {
        var a = this;
        i === void 0 && (i = {}), o === void 0 && (o = function () {});
        var s = r,
          l = i,
          u = o;
        if ((typeof l == 'function' && ((u = l), (l = {})), !this.rules || Object.keys(this.rules).length === 0)) return u && u(null, s), Promise.resolve(s);
        function c(g) {
          var b = [],
            _ = {};
          function y(w) {
            if (Array.isArray(w)) {
              var I;
              b = (I = b).concat.apply(I, w);
            } else b.push(w);
          }
          for (var T = 0; T < g.length; T++) y(g[T]);
          b.length ? ((_ = I0(b)), u(b, _)) : u(null, s);
        }
        if (l.messages) {
          var d = this.messages();
          d === P0 && (d = D0()), Jg(d, l.messages), (l.messages = d);
        } else l.messages = this.messages();
        var f = {},
          h = l.keys || Object.keys(this.rules);
        h.forEach(function (g) {
          var b = a.rules[g],
            _ = s[g];
          b.forEach(function (y) {
            var T = y;
            typeof T.transform == 'function' && (s === r && (s = Do({}, s)), (_ = s[g] = T.transform(_))),
              typeof T == 'function' ? (T = { validator: T }) : (T = Do({}, T)),
              (T.validator = a.getValidationMethod(T)),
              T.validator && ((T.field = g), (T.fullField = T.fullField || g), (T.type = a.getType(T)), (f[g] = f[g] || []), f[g].push({ rule: T, value: _, source: s, field: g }));
          });
        });
        var m = {};
        return qx(
          f,
          l,
          function (g, b) {
            var _ = g.rule,
              y = (_.type === 'object' || _.type === 'array') && (typeof _.fields == 'object' || typeof _.defaultField == 'object');
            (y = y && (_.required || (!_.required && g.value))), (_.field = g.field);
            function T(O, x) {
              return Do({}, x, { fullField: _.fullField + '.' + O, fullFields: _.fullFields ? [].concat(_.fullFields, [O]) : [O] });
            }
            function w(O) {
              O === void 0 && (O = []);
              var x = Array.isArray(O) ? O : [O];
              !l.suppressWarning && x.length && t.warning('async-validator:', x), x.length && _.message !== void 0 && (x = [].concat(_.message));
              var L = x.map(Zg(_, s));
              if (l.first && L.length) return (m[_.field] = 1), b(L);
              if (!y) b(L);
              else {
                if (_.required && !g.value) return _.message !== void 0 ? (L = [].concat(_.message).map(Zg(_, s))) : l.error && (L = [l.error(_, vr(l.messages.required, _.field))]), b(L);
                var D = {};
                _.defaultField &&
                  Object.keys(g.value).map(function (M) {
                    D[M] = _.defaultField;
                  }),
                  (D = Do({}, D, g.rule.fields));
                var C = {};
                Object.keys(D).forEach(function (M) {
                  var B = D[M],
                    z = Array.isArray(B) ? B : [B];
                  C[M] = z.map(T.bind(null, M));
                });
                var G = new t(C);
                G.messages(l.messages),
                  g.rule.options && ((g.rule.options.messages = l.messages), (g.rule.options.error = l.error)),
                  G.validate(g.value, g.rule.options || l, function (M) {
                    var B = [];
                    L && L.length && B.push.apply(B, L), M && M.length && B.push.apply(B, M), b(B.length ? B : null);
                  });
              }
            }
            var I;
            if (_.asyncValidator) I = _.asyncValidator(_, g.value, w, g.source, l);
            else if (_.validator) {
              try {
                I = _.validator(_, g.value, w, g.source, l);
              } catch (O) {
                console.error == null || console.error(O),
                  l.suppressValidatorError ||
                    setTimeout(function () {
                      throw O;
                    }, 0),
                  w(O.message);
              }
              I === !0
                ? w()
                : I === !1
                ? w(typeof _.message == 'function' ? _.message(_.fullField || _.field) : _.message || (_.fullField || _.field) + ' fails')
                : I instanceof Array
                ? w(I)
                : I instanceof Error && w(I.message);
            }
            I &&
              I.then &&
              I.then(
                function () {
                  return w();
                },
                function (O) {
                  return w(O);
                },
              );
          },
          function (g) {
            c(g);
          },
          s,
        );
      }),
      (e.getType = function (r) {
        if ((r.type === void 0 && r.pattern instanceof RegExp && (r.type = 'pattern'), typeof r.validator != 'function' && r.type && !Ws.hasOwnProperty(r.type)))
          throw new Error(vr('Unknown rule type %s', r.type));
        return r.type || 'string';
      }),
      (e.getValidationMethod = function (r) {
        if (typeof r.validator == 'function') return r.validator;
        var i = Object.keys(r),
          o = i.indexOf('message');
        return o !== -1 && i.splice(o, 1), i.length === 1 && i[0] === 'required' ? Ws.required : Ws[this.getType(r)] || void 0;
      }),
      t
    );
  })();
Bl.register = function (e, n) {
  if (typeof n != 'function') throw new Error('Cannot register a validator by type, validator is not a function');
  Ws[e] = n;
};
Bl.warning = jx;
Bl.messages = P0;
Bl.validators = Ws;
var fr = "'${name}' is not a valid ${type}",
  h4 = {
    default: "Validation error on field '${name}'",
    required: "'${name}' is required",
    enum: "'${name}' must be one of [${enum}]",
    whitespace: "'${name}' cannot be empty",
    date: { format: "'${name}' is invalid for format date", parse: "'${name}' could not be parsed as date", invalid: "'${name}' is invalid date" },
    types: { string: fr, method: fr, array: fr, object: fr, number: fr, date: fr, boolean: fr, integer: fr, float: fr, regexp: fr, email: fr, url: fr, hex: fr },
    string: {
      len: "'${name}' must be exactly ${len} characters",
      min: "'${name}' must be at least ${min} characters",
      max: "'${name}' cannot be longer than ${max} characters",
      range: "'${name}' must be between ${min} and ${max} characters",
    },
    number: { len: "'${name}' must equal ${len}", min: "'${name}' cannot be less than ${min}", max: "'${name}' cannot be greater than ${max}", range: "'${name}' must be between ${min} and ${max}" },
    array: {
      len: "'${name}' must be exactly ${len} in length",
      min: "'${name}' cannot be less than ${min} in length",
      max: "'${name}' cannot be greater than ${max} in length",
      range: "'${name}' must be between ${min} and ${max} in length",
    },
    pattern: { mismatch: "'${name}' does not match pattern ${pattern}" },
  },
  tv = Bl;
function yT(t, e) {
  return t.replace(/\$\{\w+\}/g, function (n) {
    var r = n.slice(2, -1);
    return e[r];
  });
}
var nv = 'CODE_LOGIC_ERROR';
function O0(t, e, n, r, i) {
  return k0.apply(this, arguments);
}
function k0() {
  return (
    (k0 = us(
      Er().mark(function t(e, n, r, i, o) {
        var a, s, l, u, c, d, f, h, m;
        return Er().wrap(
          function (b) {
            for (;;)
              switch ((b.prev = b.next)) {
                case 0:
                  return (
                    (a = ce({}, r)),
                    delete a.ruleIndex,
                    (tv.warning = function () {}),
                    a.validator &&
                      ((s = a.validator),
                      (a.validator = function () {
                        try {
                          return s.apply(void 0, arguments);
                        } catch (_) {
                          return console.error(_), Promise.reject(nv);
                        }
                      })),
                    (l = null),
                    a && a.type === 'array' && a.defaultField && ((l = a.defaultField), delete a.defaultField),
                    (u = new tv(De({}, e, [a]))),
                    (c = Aa(h4, i.validateMessages)),
                    u.messages(c),
                    (d = []),
                    (b.prev = 10),
                    (b.next = 13),
                    Promise.resolve(u.validate(De({}, e, n), ce({}, i)))
                  );
                case 13:
                  b.next = 18;
                  break;
                case 15:
                  (b.prev = 15),
                    (b.t0 = b.catch(10)),
                    b.t0.errors &&
                      (d = b.t0.errors.map(function (_, y) {
                        var T = _.message,
                          w = T === nv ? c.default : T;
                        return v.isValidElement(w) ? v.cloneElement(w, { key: 'error_'.concat(y) }) : w;
                      }));
                case 18:
                  if (!(!d.length && l)) {
                    b.next = 23;
                    break;
                  }
                  return (
                    (b.next = 21),
                    Promise.all(
                      n.map(function (_, y) {
                        return O0(''.concat(e, '.').concat(y), _, l, i, o);
                      }),
                    )
                  );
                case 21:
                  return (
                    (f = b.sent),
                    b.abrupt(
                      'return',
                      f.reduce(function (_, y) {
                        return [].concat(Ue(_), Ue(y));
                      }, []),
                    )
                  );
                case 23:
                  return (
                    (h = ce(ce({}, r), {}, { name: e, enum: (r.enum || []).join(', ') }, o)),
                    (m = d.map(function (_) {
                      return typeof _ == 'string' ? yT(_, h) : _;
                    })),
                    b.abrupt('return', m)
                  );
                case 26:
                case 'end':
                  return b.stop();
              }
          },
          t,
          null,
          [[10, 15]],
        );
      }),
    )),
    k0.apply(this, arguments)
  );
}
function _T(t, e, n, r, i, o) {
  var a = t.join('.'),
    s = n
      .map(function (c, d) {
        var f = c.validator,
          h = ce(ce({}, c), {}, { ruleIndex: d });
        return (
          f &&
            (h.validator = function (m, g, b) {
              var _ = !1,
                y = function () {
                  for (var I = arguments.length, O = new Array(I), x = 0; x < I; x++) O[x] = arguments[x];
                  Promise.resolve().then(function () {
                    ur(!_, 'Your validator function has already return a promise. `callback` will be ignored.'), _ || b.apply(void 0, O);
                  });
                },
                T = f(m, g, y);
              (_ = T && typeof T.then == 'function' && typeof T.catch == 'function'),
                ur(_, '`callback` is deprecated. Please return a promise instead.'),
                _ &&
                  T.then(function () {
                    b();
                  }).catch(function (w) {
                    b(w || ' ');
                  });
            }),
          h
        );
      })
      .sort(function (c, d) {
        var f = c.warningOnly,
          h = c.ruleIndex,
          m = d.warningOnly,
          g = d.ruleIndex;
        return !!f == !!m ? h - g : f ? 1 : -1;
      }),
    l;
  if (i === !0)
    l = new Promise(
      (function () {
        var c = us(
          Er().mark(function d(f, h) {
            var m, g, b;
            return Er().wrap(function (y) {
              for (;;)
                switch ((y.prev = y.next)) {
                  case 0:
                    m = 0;
                  case 1:
                    if (!(m < s.length)) {
                      y.next = 12;
                      break;
                    }
                    return (g = s[m]), (y.next = 5), O0(a, e, g, r, o);
                  case 5:
                    if (((b = y.sent), !b.length)) {
                      y.next = 9;
                      break;
                    }
                    return h([{ errors: b, rule: g }]), y.abrupt('return');
                  case 9:
                    (m += 1), (y.next = 1);
                    break;
                  case 12:
                    f([]);
                  case 13:
                  case 'end':
                    return y.stop();
                }
            }, d);
          }),
        );
        return function (d, f) {
          return c.apply(this, arguments);
        };
      })(),
    );
  else {
    var u = s.map(function (c) {
      return O0(a, e, c, r, o).then(function (d) {
        return { errors: d, rule: c };
      });
    });
    l = (i ? ET(u) : ST(u)).then(function (c) {
      return Promise.reject(c);
    });
  }
  return (
    l.catch(function (c) {
      return c;
    }),
    l
  );
}
function ST(t) {
  return M0.apply(this, arguments);
}
function M0() {
  return (
    (M0 = us(
      Er().mark(function t(e) {
        return Er().wrap(function (r) {
          for (;;)
            switch ((r.prev = r.next)) {
              case 0:
                return r.abrupt(
                  'return',
                  Promise.all(e).then(function (i) {
                    var o,
                      a = (o = []).concat.apply(o, Ue(i));
                    return a;
                  }),
                );
              case 1:
              case 'end':
                return r.stop();
            }
        }, t);
      }),
    )),
    M0.apply(this, arguments)
  );
}
function ET(t) {
  return F0.apply(this, arguments);
}
function F0() {
  return (
    (F0 = us(
      Er().mark(function t(e) {
        var n;
        return Er().wrap(function (i) {
          for (;;)
            switch ((i.prev = i.next)) {
              case 0:
                return (
                  (n = 0),
                  i.abrupt(
                    'return',
                    new Promise(function (o) {
                      e.forEach(function (a) {
                        a.then(function (s) {
                          s.errors.length && o([s]), (n += 1), n === e.length && o([]);
                        });
                      });
                    }),
                  )
                );
              case 2:
              case 'end':
                return i.stop();
            }
        }, t);
      }),
    )),
    F0.apply(this, arguments)
  );
}
function En(t) {
  return R0(t);
}
function rv(t, e) {
  var n = {};
  return (
    e.forEach(function (r) {
      var i = Qr(t, r);
      n = Wr(n, r, i);
    }),
    n
  );
}
function Ks(t, e) {
  return (
    t &&
    t.some(function (n) {
      return m4(n, e);
    })
  );
}
function m4(t, e) {
  return !t || !e || t.length !== e.length
    ? !1
    : t.every(function (n, r) {
        return e[r] === n;
      });
}
function bT(t, e) {
  if (t === e) return !0;
  if ((!t && e) || (t && !e) || !t || !e || wt(t) !== 'object' || wt(e) !== 'object') return !1;
  var n = Object.keys(t),
    r = Object.keys(e),
    i = new Set([].concat(n, r));
  return Ue(i).every(function (o) {
    var a = t[o],
      s = e[o];
    return typeof a == 'function' && typeof s == 'function' ? !0 : a === s;
  });
}
function xT(t) {
  var e = arguments.length <= 1 ? void 0 : arguments[1];
  return e && e.target && wt(e.target) === 'object' && t in e.target ? e.target[t] : e;
}
function iv(t, e, n) {
  var r = t.length;
  if (e < 0 || e >= r || n < 0 || n >= r) return t;
  var i = t[e],
    o = e - n;
  return o > 0 ? [].concat(Ue(t.slice(0, n)), [i], Ue(t.slice(n, e)), Ue(t.slice(e + 1, r))) : o < 0 ? [].concat(Ue(t.slice(0, e)), Ue(t.slice(e + 1, n + 1)), [i], Ue(t.slice(n + 1, r))) : t;
}
var TT = ['name'],
  wr = [];
function ov(t, e, n, r, i, o) {
  return typeof t == 'function' ? t(e, n, 'source' in o ? { source: o.source } : {}) : r !== i;
}
var bp = (function (t) {
  Dl(n, t);
  var e = Pl(n);
  function n(r) {
    var i;
    if (
      ($r(this, n),
      (i = e.call(this, r)),
      (i.state = { resetCount: 0 }),
      (i.cancelRegisterFunc = null),
      (i.mounted = !1),
      (i.touched = !1),
      (i.dirty = !1),
      (i.validatePromise = void 0),
      (i.prevValidating = void 0),
      (i.errors = wr),
      (i.warnings = wr),
      (i.cancelRegister = function () {
        var l = i.props,
          u = l.preserve,
          c = l.isListField,
          d = l.name;
        i.cancelRegisterFunc && i.cancelRegisterFunc(c, u, En(d)), (i.cancelRegisterFunc = null);
      }),
      (i.getNamePath = function () {
        var l = i.props,
          u = l.name,
          c = l.fieldContext,
          d = c.prefixName,
          f = d === void 0 ? [] : d;
        return u !== void 0 ? [].concat(Ue(f), Ue(u)) : [];
      }),
      (i.getRules = function () {
        var l = i.props,
          u = l.rules,
          c = u === void 0 ? [] : u,
          d = l.fieldContext;
        return c.map(function (f) {
          return typeof f == 'function' ? f(d) : f;
        });
      }),
      (i.refresh = function () {
        i.mounted &&
          i.setState(function (l) {
            var u = l.resetCount;
            return { resetCount: u + 1 };
          });
      }),
      (i.triggerMetaEvent = function (l) {
        var u = i.props.onMetaChange;
        u == null || u(ce(ce({}, i.getMeta()), {}, { destroy: l }));
      }),
      (i.onStoreChange = function (l, u, c) {
        var d = i.props,
          f = d.shouldUpdate,
          h = d.dependencies,
          m = h === void 0 ? [] : h,
          g = d.onReset,
          b = c.store,
          _ = i.getNamePath(),
          y = i.getValue(l),
          T = i.getValue(b),
          w = u && Ks(u, _);
        switch (
          (c.type === 'valueUpdate' && c.source === 'external' && y !== T && ((i.touched = !0), (i.dirty = !0), (i.validatePromise = null), (i.errors = wr), (i.warnings = wr), i.triggerMetaEvent()),
          c.type)
        ) {
          case 'reset':
            if (!u || w) {
              (i.touched = !1), (i.dirty = !1), (i.validatePromise = void 0), (i.errors = wr), (i.warnings = wr), i.triggerMetaEvent(), g == null || g(), i.refresh();
              return;
            }
            break;
          case 'remove': {
            if (f) {
              i.reRender();
              return;
            }
            break;
          }
          case 'setField': {
            if (w) {
              var I = c.data;
              'touched' in I && (i.touched = I.touched),
                'validating' in I && !('originRCField' in I) && (i.validatePromise = I.validating ? Promise.resolve([]) : null),
                'errors' in I && (i.errors = I.errors || wr),
                'warnings' in I && (i.warnings = I.warnings || wr),
                (i.dirty = !0),
                i.triggerMetaEvent(),
                i.reRender();
              return;
            }
            if (f && !_.length && ov(f, l, b, y, T, c)) {
              i.reRender();
              return;
            }
            break;
          }
          case 'dependenciesUpdate': {
            var O = m.map(En);
            if (
              O.some(function (x) {
                return Ks(c.relatedFields, x);
              })
            ) {
              i.reRender();
              return;
            }
            break;
          }
          default:
            if (w || ((!m.length || _.length || f) && ov(f, l, b, y, T, c))) {
              i.reRender();
              return;
            }
            break;
        }
        f === !0 && i.reRender();
      }),
      (i.validateRules = function (l) {
        var u = i.getNamePath(),
          c = i.getValue(),
          d = l || {},
          f = d.triggerName,
          h = d.validateOnly,
          m = h === void 0 ? !1 : h,
          g = Promise.resolve().then(function () {
            if (!i.mounted) return [];
            var b = i.props,
              _ = b.validateFirst,
              y = _ === void 0 ? !1 : _,
              T = b.messageVariables,
              w = i.getRules();
            f &&
              (w = w
                .filter(function (O) {
                  return O;
                })
                .filter(function (O) {
                  var x = O.validateTrigger;
                  if (!x) return !0;
                  var L = R0(x);
                  return L.includes(f);
                }));
            var I = _T(u, c, w, l, y, T);
            return (
              I.catch(function (O) {
                return O;
              }).then(function () {
                var O = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : wr;
                if (i.validatePromise === g) {
                  var x;
                  i.validatePromise = null;
                  var L = [],
                    D = [];
                  (x = O.forEach) === null ||
                    x === void 0 ||
                    x.call(O, function (C) {
                      var G = C.rule.warningOnly,
                        M = C.errors,
                        B = M === void 0 ? wr : M;
                      G ? D.push.apply(D, Ue(B)) : L.push.apply(L, Ue(B));
                    }),
                    (i.errors = L),
                    (i.warnings = D),
                    i.triggerMetaEvent(),
                    i.reRender();
                }
              }),
              I
            );
          });
        return m || ((i.validatePromise = g), (i.dirty = !0), (i.errors = wr), (i.warnings = wr), i.triggerMetaEvent(), i.reRender()), g;
      }),
      (i.isFieldValidating = function () {
        return !!i.validatePromise;
      }),
      (i.isFieldTouched = function () {
        return i.touched;
      }),
      (i.isFieldDirty = function () {
        if (i.dirty || i.props.initialValue !== void 0) return !0;
        var l = i.props.fieldContext,
          u = l.getInternalHooks(Io),
          c = u.getInitialValue;
        return c(i.getNamePath()) !== void 0;
      }),
      (i.getErrors = function () {
        return i.errors;
      }),
      (i.getWarnings = function () {
        return i.warnings;
      }),
      (i.isListField = function () {
        return i.props.isListField;
      }),
      (i.isList = function () {
        return i.props.isList;
      }),
      (i.isPreserve = function () {
        return i.props.preserve;
      }),
      (i.getMeta = function () {
        i.prevValidating = i.isFieldValidating();
        var l = { touched: i.isFieldTouched(), validating: i.prevValidating, errors: i.errors, warnings: i.warnings, name: i.getNamePath(), validated: i.validatePromise === null };
        return l;
      }),
      (i.getOnlyChild = function (l) {
        if (typeof l == 'function') {
          var u = i.getMeta();
          return ce(ce({}, i.getOnlyChild(l(i.getControlled(), u, i.props.fieldContext))), {}, { isFunction: !0 });
        }
        var c = gl(l);
        return c.length !== 1 || !v.isValidElement(c[0]) ? { child: c, isFunction: !1 } : { child: c[0], isFunction: !1 };
      }),
      (i.getValue = function (l) {
        var u = i.props.fieldContext.getFieldsValue,
          c = i.getNamePath();
        return Qr(l || u(!0), c);
      }),
      (i.getControlled = function () {
        var l = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {},
          u = i.props,
          c = u.trigger,
          d = u.validateTrigger,
          f = u.getValueFromEvent,
          h = u.normalize,
          m = u.valuePropName,
          g = u.getValueProps,
          b = u.fieldContext,
          _ = d !== void 0 ? d : b.validateTrigger,
          y = i.getNamePath(),
          T = b.getInternalHooks,
          w = b.getFieldsValue,
          I = T(Io),
          O = I.dispatch,
          x = i.getValue(),
          L =
            g ||
            function (M) {
              return De({}, m, M);
            },
          D = l[c],
          C = ce(ce({}, l), L(x));
        C[c] = function () {
          (i.touched = !0), (i.dirty = !0), i.triggerMetaEvent();
          for (var M, B = arguments.length, z = new Array(B), H = 0; H < B; H++) z[H] = arguments[H];
          f ? (M = f.apply(void 0, z)) : (M = xT.apply(void 0, [m].concat(z))), h && (M = h(M, x, w(!0))), O({ type: 'updateValue', namePath: y, value: M }), D && D.apply(void 0, z);
        };
        var G = R0(_ || []);
        return (
          G.forEach(function (M) {
            var B = C[M];
            C[M] = function () {
              B && B.apply(void 0, arguments);
              var z = i.props.rules;
              z && z.length && O({ type: 'validateField', namePath: y, triggerName: M });
            };
          }),
          C
        );
      }),
      r.fieldContext)
    ) {
      var o = r.fieldContext.getInternalHooks,
        a = o(Io),
        s = a.initEntityValue;
      s(_c(i));
    }
    return i;
  }
  return (
    Br(n, [
      {
        key: 'componentDidMount',
        value: function () {
          var i = this.props,
            o = i.shouldUpdate,
            a = i.fieldContext;
          if (((this.mounted = !0), a)) {
            var s = a.getInternalHooks,
              l = s(Io),
              u = l.registerField;
            this.cancelRegisterFunc = u(this);
          }
          o === !0 && this.reRender();
        },
      },
      {
        key: 'componentWillUnmount',
        value: function () {
          this.cancelRegister(), this.triggerMetaEvent(!0), (this.mounted = !1);
        },
      },
      {
        key: 'reRender',
        value: function () {
          this.mounted && this.forceUpdate();
        },
      },
      {
        key: 'render',
        value: function () {
          var i = this.state.resetCount,
            o = this.props.children,
            a = this.getOnlyChild(o),
            s = a.child,
            l = a.isFunction,
            u;
          return (
            l ? (u = s) : v.isValidElement(s) ? (u = v.cloneElement(s, this.getControlled(s.props))) : (ur(!s, '`children` of Field is not validate ReactElement.'), (u = s)),
            v.createElement(v.Fragment, { key: i }, u)
          );
        },
      },
    ]),
    n
  );
})(v.Component);
bp.contextType = ts;
bp.defaultProps = { trigger: 'onChange', valuePropName: 'value' };
function p4(t) {
  var e = t.name,
    n = Zt(t, TT),
    r = v.useContext(ts),
    i = v.useContext(kc),
    o = e !== void 0 ? En(e) : void 0,
    a = 'keep';
  return n.isListField || (a = '_'.concat((o || []).join('_'))), v.createElement(bp, pt({ key: a, name: o, isListField: !!i }, n, { fieldContext: r }));
}
var wT = function (e) {
  var n = e.name,
    r = e.initialValue,
    i = e.children,
    o = e.rules,
    a = e.validateTrigger,
    s = e.isListField,
    l = v.useContext(ts),
    u = v.useContext(kc),
    c = v.useRef({ keys: [], id: 0 }),
    d = c.current,
    f = v.useMemo(
      function () {
        var b = En(l.prefixName) || [];
        return [].concat(Ue(b), Ue(En(n)));
      },
      [l.prefixName, n],
    ),
    h = v.useMemo(
      function () {
        return ce(ce({}, l), {}, { prefixName: f });
      },
      [l, f],
    ),
    m = v.useMemo(
      function () {
        return {
          getKey: function (_) {
            var y = f.length,
              T = _[y];
            return [d.keys[T], _.slice(y + 1)];
          },
        };
      },
      [f],
    );
  if (typeof i != 'function') return ur(!1, 'Form.List only accepts function as children.'), null;
  var g = function (_, y, T) {
    var w = T.source;
    return w === 'internal' ? !1 : _ !== y;
  };
  return v.createElement(
    kc.Provider,
    { value: m },
    v.createElement(
      ts.Provider,
      { value: h },
      v.createElement(p4, { name: [], shouldUpdate: g, rules: o, validateTrigger: a, initialValue: r, isList: !0, isListField: s ?? !!u }, function (b, _) {
        var y = b.value,
          T = y === void 0 ? [] : y,
          w = b.onChange,
          I = l.getFieldValue,
          O = function () {
            var C = I(f || []);
            return C || [];
          },
          x = {
            add: function (C, G) {
              var M = O();
              G >= 0 && G <= M.length
                ? ((d.keys = [].concat(Ue(d.keys.slice(0, G)), [d.id], Ue(d.keys.slice(G)))), w([].concat(Ue(M.slice(0, G)), [C], Ue(M.slice(G)))))
                : ((d.keys = [].concat(Ue(d.keys), [d.id])), w([].concat(Ue(M), [C]))),
                (d.id += 1);
            },
            remove: function (C) {
              var G = O(),
                M = new Set(Array.isArray(C) ? C : [C]);
              M.size <= 0 ||
                ((d.keys = d.keys.filter(function (B, z) {
                  return !M.has(z);
                })),
                w(
                  G.filter(function (B, z) {
                    return !M.has(z);
                  }),
                ));
            },
            move: function (C, G) {
              if (C !== G) {
                var M = O();
                C < 0 || C >= M.length || G < 0 || G >= M.length || ((d.keys = iv(d.keys, C, G)), w(iv(M, C, G)));
              }
            },
          },
          L = T || [];
        return (
          Array.isArray(L) || (L = []),
          i(
            L.map(function (D, C) {
              var G = d.keys[C];
              return G === void 0 && ((d.keys[C] = d.id), (G = d.keys[C]), (d.id += 1)), { name: C, key: G, isListField: !0 };
            }),
            x,
            _,
          )
        );
      }),
    ),
  );
};
function CT(t) {
  var e = !1,
    n = t.length,
    r = [];
  return t.length
    ? new Promise(function (i, o) {
        t.forEach(function (a, s) {
          a.catch(function (l) {
            return (e = !0), l;
          }).then(function (l) {
            (n -= 1), (r[s] = l), !(n > 0) && (e && o(r), i(r));
          });
        });
      })
    : Promise.resolve([]);
}
var g4 = '__@field_split__';
function wf(t) {
  return t
    .map(function (e) {
      return ''.concat(wt(e), ':').concat(e);
    })
    .join(g4);
}
var ta = (function () {
    function t() {
      $r(this, t), (this.kvs = new Map());
    }
    return (
      Br(t, [
        {
          key: 'set',
          value: function (n, r) {
            this.kvs.set(wf(n), r);
          },
        },
        {
          key: 'get',
          value: function (n) {
            return this.kvs.get(wf(n));
          },
        },
        {
          key: 'update',
          value: function (n, r) {
            var i = this.get(n),
              o = r(i);
            o ? this.set(n, o) : this.delete(n);
          },
        },
        {
          key: 'delete',
          value: function (n) {
            this.kvs.delete(wf(n));
          },
        },
        {
          key: 'map',
          value: function (n) {
            return Ue(this.kvs.entries()).map(function (r) {
              var i = ve(r, 2),
                o = i[0],
                a = i[1],
                s = o.split(g4);
              return n({
                key: s.map(function (l) {
                  var u = l.match(/^([^:]*):(.*)$/),
                    c = ve(u, 3),
                    d = c[1],
                    f = c[2];
                  return d === 'number' ? Number(f) : f;
                }),
                value: a,
              });
            });
          },
        },
        {
          key: 'toJSON',
          value: function () {
            var n = {};
            return (
              this.map(function (r) {
                var i = r.key,
                  o = r.value;
                return (n[i.join('.')] = o), null;
              }),
              n
            );
          },
        },
      ]),
      t
    );
  })(),
  RT = ['name'],
  AT = Br(function t(e) {
    var n = this;
    $r(this, t),
      (this.formHooked = !1),
      (this.forceRootUpdate = void 0),
      (this.subscribable = !0),
      (this.store = {}),
      (this.fieldEntities = []),
      (this.initialValues = {}),
      (this.callbacks = {}),
      (this.validateMessages = null),
      (this.preserve = null),
      (this.lastValidatePromise = null),
      (this.getForm = function () {
        return {
          getFieldValue: n.getFieldValue,
          getFieldsValue: n.getFieldsValue,
          getFieldError: n.getFieldError,
          getFieldWarning: n.getFieldWarning,
          getFieldsError: n.getFieldsError,
          isFieldsTouched: n.isFieldsTouched,
          isFieldTouched: n.isFieldTouched,
          isFieldValidating: n.isFieldValidating,
          isFieldsValidating: n.isFieldsValidating,
          resetFields: n.resetFields,
          setFields: n.setFields,
          setFieldValue: n.setFieldValue,
          setFieldsValue: n.setFieldsValue,
          validateFields: n.validateFields,
          submit: n.submit,
          _init: !0,
          getInternalHooks: n.getInternalHooks,
        };
      }),
      (this.getInternalHooks = function (r) {
        return r === Io
          ? ((n.formHooked = !0),
            {
              dispatch: n.dispatch,
              initEntityValue: n.initEntityValue,
              registerField: n.registerField,
              useSubscribe: n.useSubscribe,
              setInitialValues: n.setInitialValues,
              destroyForm: n.destroyForm,
              setCallbacks: n.setCallbacks,
              setValidateMessages: n.setValidateMessages,
              getFields: n.getFields,
              setPreserve: n.setPreserve,
              getInitialValue: n.getInitialValue,
              registerWatch: n.registerWatch,
            })
          : (ur(!1, '`getInternalHooks` is internal usage. Should not call directly.'), null);
      }),
      (this.useSubscribe = function (r) {
        n.subscribable = r;
      }),
      (this.prevWithoutPreserves = null),
      (this.setInitialValues = function (r, i) {
        if (((n.initialValues = r || {}), i)) {
          var o,
            a = Aa(r, n.store);
          (o = n.prevWithoutPreserves) === null ||
            o === void 0 ||
            o.map(function (s) {
              var l = s.key;
              a = Wr(a, l, Qr(r, l));
            }),
            (n.prevWithoutPreserves = null),
            n.updateStore(a);
        }
      }),
      (this.destroyForm = function () {
        var r = new ta();
        n.getFieldEntities(!0).forEach(function (i) {
          n.isMergedPreserve(i.isPreserve()) || r.set(i.getNamePath(), !0);
        }),
          (n.prevWithoutPreserves = r);
      }),
      (this.getInitialValue = function (r) {
        var i = Qr(n.initialValues, r);
        return r.length ? Aa(i) : i;
      }),
      (this.setCallbacks = function (r) {
        n.callbacks = r;
      }),
      (this.setValidateMessages = function (r) {
        n.validateMessages = r;
      }),
      (this.setPreserve = function (r) {
        n.preserve = r;
      }),
      (this.watchList = []),
      (this.registerWatch = function (r) {
        return (
          n.watchList.push(r),
          function () {
            n.watchList = n.watchList.filter(function (i) {
              return i !== r;
            });
          }
        );
      }),
      (this.notifyWatch = function () {
        var r = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
        if (n.watchList.length) {
          var i = n.getFieldsValue(),
            o = n.getFieldsValue(!0);
          n.watchList.forEach(function (a) {
            a(i, o, r);
          });
        }
      }),
      (this.timeoutId = null),
      (this.warningUnhooked = function () {}),
      (this.updateStore = function (r) {
        n.store = r;
      }),
      (this.getFieldEntities = function () {
        var r = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !1;
        return r
          ? n.fieldEntities.filter(function (i) {
              return i.getNamePath().length;
            })
          : n.fieldEntities;
      }),
      (this.getFieldsMap = function () {
        var r = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : !1,
          i = new ta();
        return (
          n.getFieldEntities(r).forEach(function (o) {
            var a = o.getNamePath();
            i.set(a, o);
          }),
          i
        );
      }),
      (this.getFieldEntitiesForNamePathList = function (r) {
        if (!r) return n.getFieldEntities(!0);
        var i = n.getFieldsMap(!0);
        return r.map(function (o) {
          var a = En(o);
          return i.get(a) || { INVALIDATE_NAME_PATH: En(o) };
        });
      }),
      (this.getFieldsValue = function (r, i) {
        if ((n.warningUnhooked(), r === !0 && !i)) return n.store;
        var o = n.getFieldEntitiesForNamePathList(Array.isArray(r) ? r : null),
          a = [];
        return (
          o.forEach(function (s) {
            var l,
              u = 'INVALIDATE_NAME_PATH' in s ? s.INVALIDATE_NAME_PATH : s.getNamePath();
            if (!(!r && !((l = s.isListField) === null || l === void 0) && l.call(s)))
              if (!i) a.push(u);
              else {
                var c = 'getMeta' in s ? s.getMeta() : null;
                i(c) && a.push(u);
              }
          }),
          rv(n.store, a.map(En))
        );
      }),
      (this.getFieldValue = function (r) {
        n.warningUnhooked();
        var i = En(r);
        return Qr(n.store, i);
      }),
      (this.getFieldsError = function (r) {
        n.warningUnhooked();
        var i = n.getFieldEntitiesForNamePathList(r);
        return i.map(function (o, a) {
          return o && !('INVALIDATE_NAME_PATH' in o) ? { name: o.getNamePath(), errors: o.getErrors(), warnings: o.getWarnings() } : { name: En(r[a]), errors: [], warnings: [] };
        });
      }),
      (this.getFieldError = function (r) {
        n.warningUnhooked();
        var i = En(r),
          o = n.getFieldsError([i])[0];
        return o.errors;
      }),
      (this.getFieldWarning = function (r) {
        n.warningUnhooked();
        var i = En(r),
          o = n.getFieldsError([i])[0];
        return o.warnings;
      }),
      (this.isFieldsTouched = function () {
        n.warningUnhooked();
        for (var r = arguments.length, i = new Array(r), o = 0; o < r; o++) i[o] = arguments[o];
        var a = i[0],
          s = i[1],
          l,
          u = !1;
        i.length === 0 ? (l = null) : i.length === 1 ? (Array.isArray(a) ? ((l = a.map(En)), (u = !1)) : ((l = null), (u = a))) : ((l = a.map(En)), (u = s));
        var c = n.getFieldEntities(!0),
          d = function (b) {
            return b.isFieldTouched();
          };
        if (!l) return u ? c.every(d) : c.some(d);
        var f = new ta();
        l.forEach(function (g) {
          f.set(g, []);
        }),
          c.forEach(function (g) {
            var b = g.getNamePath();
            l.forEach(function (_) {
              _.every(function (y, T) {
                return b[T] === y;
              }) &&
                f.update(_, function (y) {
                  return [].concat(Ue(y), [g]);
                });
            });
          });
        var h = function (b) {
            return b.some(d);
          },
          m = f.map(function (g) {
            var b = g.value;
            return b;
          });
        return u ? m.every(h) : m.some(h);
      }),
      (this.isFieldTouched = function (r) {
        return n.warningUnhooked(), n.isFieldsTouched([r]);
      }),
      (this.isFieldsValidating = function (r) {
        n.warningUnhooked();
        var i = n.getFieldEntities();
        if (!r)
          return i.some(function (a) {
            return a.isFieldValidating();
          });
        var o = r.map(En);
        return i.some(function (a) {
          var s = a.getNamePath();
          return Ks(o, s) && a.isFieldValidating();
        });
      }),
      (this.isFieldValidating = function (r) {
        return n.warningUnhooked(), n.isFieldsValidating([r]);
      }),
      (this.resetWithFieldInitialValue = function () {
        var r = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {},
          i = new ta(),
          o = n.getFieldEntities(!0);
        o.forEach(function (l) {
          var u = l.props.initialValue,
            c = l.getNamePath();
          if (u !== void 0) {
            var d = i.get(c) || new Set();
            d.add({ entity: l, value: u }), i.set(c, d);
          }
        });
        var a = function (u) {
            u.forEach(function (c) {
              var d = c.props.initialValue;
              if (d !== void 0) {
                var f = c.getNamePath(),
                  h = n.getInitialValue(f);
                if (h !== void 0) ur(!1, "Form already set 'initialValues' with path '".concat(f.join('.'), "'. Field can not overwrite it."));
                else {
                  var m = i.get(f);
                  if (m && m.size > 1) ur(!1, "Multiple Field with path '".concat(f.join('.'), "' set 'initialValue'. Can not decide which one to pick."));
                  else if (m) {
                    var g = n.getFieldValue(f);
                    (!r.skipExist || g === void 0) && n.updateStore(Wr(n.store, f, Ue(m)[0].value));
                  }
                }
              }
            });
          },
          s;
        r.entities
          ? (s = r.entities)
          : r.namePathList
          ? ((s = []),
            r.namePathList.forEach(function (l) {
              var u = i.get(l);
              if (u) {
                var c;
                (c = s).push.apply(
                  c,
                  Ue(
                    Ue(u).map(function (d) {
                      return d.entity;
                    }),
                  ),
                );
              }
            }))
          : (s = o),
          a(s);
      }),
      (this.resetFields = function (r) {
        n.warningUnhooked();
        var i = n.store;
        if (!r) {
          n.updateStore(Aa(n.initialValues)), n.resetWithFieldInitialValue(), n.notifyObservers(i, null, { type: 'reset' }), n.notifyWatch();
          return;
        }
        var o = r.map(En);
        o.forEach(function (a) {
          var s = n.getInitialValue(a);
          n.updateStore(Wr(n.store, a, s));
        }),
          n.resetWithFieldInitialValue({ namePathList: o }),
          n.notifyObservers(i, o, { type: 'reset' }),
          n.notifyWatch(o);
      }),
      (this.setFields = function (r) {
        n.warningUnhooked();
        var i = n.store,
          o = [];
        r.forEach(function (a) {
          var s = a.name,
            l = Zt(a, RT),
            u = En(s);
          o.push(u), 'value' in l && n.updateStore(Wr(n.store, u, l.value)), n.notifyObservers(i, [u], { type: 'setField', data: a });
        }),
          n.notifyWatch(o);
      }),
      (this.getFields = function () {
        var r = n.getFieldEntities(!0),
          i = r.map(function (o) {
            var a = o.getNamePath(),
              s = o.getMeta(),
              l = ce(ce({}, s), {}, { name: a, value: n.getFieldValue(a) });
            return Object.defineProperty(l, 'originRCField', { value: !0 }), l;
          });
        return i;
      }),
      (this.initEntityValue = function (r) {
        var i = r.props.initialValue;
        if (i !== void 0) {
          var o = r.getNamePath(),
            a = Qr(n.store, o);
          a === void 0 && n.updateStore(Wr(n.store, o, i));
        }
      }),
      (this.isMergedPreserve = function (r) {
        var i = r !== void 0 ? r : n.preserve;
        return i ?? !0;
      }),
      (this.registerField = function (r) {
        n.fieldEntities.push(r);
        var i = r.getNamePath();
        if ((n.notifyWatch([i]), r.props.initialValue !== void 0)) {
          var o = n.store;
          n.resetWithFieldInitialValue({ entities: [r], skipExist: !0 }), n.notifyObservers(o, [r.getNamePath()], { type: 'valueUpdate', source: 'internal' });
        }
        return function (a, s) {
          var l = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : [];
          if (
            ((n.fieldEntities = n.fieldEntities.filter(function (d) {
              return d !== r;
            })),
            !n.isMergedPreserve(s) && (!a || l.length > 1))
          ) {
            var u = a ? void 0 : n.getInitialValue(i);
            if (
              i.length &&
              n.getFieldValue(i) !== u &&
              n.fieldEntities.every(function (d) {
                return !m4(d.getNamePath(), i);
              })
            ) {
              var c = n.store;
              n.updateStore(Wr(c, i, u, !0)), n.notifyObservers(c, [i], { type: 'remove' }), n.triggerDependenciesUpdate(c, i);
            }
          }
          n.notifyWatch([i]);
        };
      }),
      (this.dispatch = function (r) {
        switch (r.type) {
          case 'updateValue': {
            var i = r.namePath,
              o = r.value;
            n.updateValue(i, o);
            break;
          }
          case 'validateField': {
            var a = r.namePath,
              s = r.triggerName;
            n.validateFields([a], { triggerName: s });
            break;
          }
        }
      }),
      (this.notifyObservers = function (r, i, o) {
        if (n.subscribable) {
          var a = ce(ce({}, o), {}, { store: n.getFieldsValue(!0) });
          n.getFieldEntities().forEach(function (s) {
            var l = s.onStoreChange;
            l(r, i, a);
          });
        } else n.forceRootUpdate();
      }),
      (this.triggerDependenciesUpdate = function (r, i) {
        var o = n.getDependencyChildrenFields(i);
        return o.length && n.validateFields(o), n.notifyObservers(r, o, { type: 'dependenciesUpdate', relatedFields: [i].concat(Ue(o)) }), o;
      }),
      (this.updateValue = function (r, i) {
        var o = En(r),
          a = n.store;
        n.updateStore(Wr(n.store, o, i)), n.notifyObservers(a, [o], { type: 'valueUpdate', source: 'internal' }), n.notifyWatch([o]);
        var s = n.triggerDependenciesUpdate(a, o),
          l = n.callbacks.onValuesChange;
        if (l) {
          var u = rv(n.store, [o]);
          l(u, n.getFieldsValue());
        }
        n.triggerOnFieldsChange([o].concat(Ue(s)));
      }),
      (this.setFieldsValue = function (r) {
        n.warningUnhooked();
        var i = n.store;
        if (r) {
          var o = Aa(n.store, r);
          n.updateStore(o);
        }
        n.notifyObservers(i, null, { type: 'valueUpdate', source: 'external' }), n.notifyWatch();
      }),
      (this.setFieldValue = function (r, i) {
        n.setFields([{ name: r, value: i }]);
      }),
      (this.getDependencyChildrenFields = function (r) {
        var i = new Set(),
          o = [],
          a = new ta();
        n.getFieldEntities().forEach(function (l) {
          var u = l.props.dependencies;
          (u || []).forEach(function (c) {
            var d = En(c);
            a.update(d, function () {
              var f = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : new Set();
              return f.add(l), f;
            });
          });
        });
        var s = function l(u) {
          var c = a.get(u) || new Set();
          c.forEach(function (d) {
            if (!i.has(d)) {
              i.add(d);
              var f = d.getNamePath();
              d.isFieldDirty() && f.length && (o.push(f), l(f));
            }
          });
        };
        return s(r), o;
      }),
      (this.triggerOnFieldsChange = function (r, i) {
        var o = n.callbacks.onFieldsChange;
        if (o) {
          var a = n.getFields();
          if (i) {
            var s = new ta();
            i.forEach(function (u) {
              var c = u.name,
                d = u.errors;
              s.set(c, d);
            }),
              a.forEach(function (u) {
                u.errors = s.get(u.name) || u.errors;
              });
          }
          var l = a.filter(function (u) {
            var c = u.name;
            return Ks(r, c);
          });
          l.length && o(l, a);
        }
      }),
      (this.validateFields = function (r, i) {
        n.warningUnhooked();
        var o, a;
        Array.isArray(r) || typeof r == 'string' || typeof i == 'string' ? ((o = r), (a = i)) : (a = r);
        var s = !!o,
          l = s ? o.map(En) : [],
          u = [],
          c = String(Date.now()),
          d = new Set();
        n.getFieldEntities(!0).forEach(function (g) {
          var b;
          if ((s || l.push(g.getNamePath()), !((b = a) === null || b === void 0) && b.recursive && s)) {
            var _ = g.getNamePath();
            _.every(function (w, I) {
              return o[I] === w || o[I] === void 0;
            }) && l.push(_);
          }
          if (!(!g.props.rules || !g.props.rules.length)) {
            var y = g.getNamePath();
            if ((d.add(y.join(c)), !s || Ks(l, y))) {
              var T = g.validateRules(ce({ validateMessages: ce(ce({}, h4), n.validateMessages) }, a));
              u.push(
                T.then(function () {
                  return { name: y, errors: [], warnings: [] };
                }).catch(function (w) {
                  var I,
                    O = [],
                    x = [];
                  return (
                    (I = w.forEach) === null ||
                      I === void 0 ||
                      I.call(w, function (L) {
                        var D = L.rule.warningOnly,
                          C = L.errors;
                        D ? x.push.apply(x, Ue(C)) : O.push.apply(O, Ue(C));
                      }),
                    O.length ? Promise.reject({ name: y, errors: O, warnings: x }) : { name: y, errors: O, warnings: x }
                  );
                }),
              );
            }
          }
        });
        var f = CT(u);
        (n.lastValidatePromise = f),
          f
            .catch(function (g) {
              return g;
            })
            .then(function (g) {
              var b = g.map(function (_) {
                var y = _.name;
                return y;
              });
              n.notifyObservers(n.store, b, { type: 'validateFinish' }), n.triggerOnFieldsChange(b, g);
            });
        var h = f
          .then(function () {
            return n.lastValidatePromise === f ? Promise.resolve(n.getFieldsValue(l)) : Promise.reject([]);
          })
          .catch(function (g) {
            var b = g.filter(function (_) {
              return _ && _.errors.length;
            });
            return Promise.reject({ values: n.getFieldsValue(l), errorFields: b, outOfDate: n.lastValidatePromise !== f });
          });
        h.catch(function (g) {
          return g;
        });
        var m = l.filter(function (g) {
          return d.has(g.join(c));
        });
        return n.triggerOnFieldsChange(m), h;
      }),
      (this.submit = function () {
        n.warningUnhooked(),
          n
            .validateFields()
            .then(function (r) {
              var i = n.callbacks.onFinish;
              if (i)
                try {
                  i(r);
                } catch (o) {
                  console.error(o);
                }
            })
            .catch(function (r) {
              var i = n.callbacks.onFinishFailed;
              i && i(r);
            });
      }),
      (this.forceRootUpdate = e);
  });
function v4(t) {
  var e = v.useRef(),
    n = v.useState({}),
    r = ve(n, 2),
    i = r[1];
  if (!e.current)
    if (t) e.current = t;
    else {
      var o = function () {
          i({});
        },
        a = new AT(o);
      e.current = a.getForm();
    }
  return [e.current];
}
var N0 = v.createContext({ triggerFormChange: function () {}, triggerFormFinish: function () {}, registerForm: function () {}, unregisterForm: function () {} }),
  LT = function (e) {
    var n = e.validateMessages,
      r = e.onFormChange,
      i = e.onFormFinish,
      o = e.children,
      a = v.useContext(N0),
      s = v.useRef({});
    return v.createElement(
      N0.Provider,
      {
        value: ce(
          ce({}, a),
          {},
          {
            validateMessages: ce(ce({}, a.validateMessages), n),
            triggerFormChange: function (u, c) {
              r && r(u, { changedFields: c, forms: s.current }), a.triggerFormChange(u, c);
            },
            triggerFormFinish: function (u, c) {
              i && i(u, { values: c, forms: s.current }), a.triggerFormFinish(u, c);
            },
            registerForm: function (u, c) {
              u && (s.current = ce(ce({}, s.current), {}, De({}, u, c))), a.registerForm(u, c);
            },
            unregisterForm: function (u) {
              var c = ce({}, s.current);
              delete c[u], (s.current = c), a.unregisterForm(u);
            },
          },
        ),
      },
      o,
    );
  },
  IT = ['name', 'initialValues', 'fields', 'form', 'preserve', 'children', 'component', 'validateMessages', 'validateTrigger', 'onValuesChange', 'onFieldsChange', 'onFinish', 'onFinishFailed'],
  DT = function (e, n) {
    var r = e.name,
      i = e.initialValues,
      o = e.fields,
      a = e.form,
      s = e.preserve,
      l = e.children,
      u = e.component,
      c = u === void 0 ? 'form' : u,
      d = e.validateMessages,
      f = e.validateTrigger,
      h = f === void 0 ? 'onChange' : f,
      m = e.onValuesChange,
      g = e.onFieldsChange,
      b = e.onFinish,
      _ = e.onFinishFailed,
      y = Zt(e, IT),
      T = v.useContext(N0),
      w = v4(a),
      I = ve(w, 1),
      O = I[0],
      x = O.getInternalHooks(Io),
      L = x.useSubscribe,
      D = x.setInitialValues,
      C = x.setCallbacks,
      G = x.setValidateMessages,
      M = x.setPreserve,
      B = x.destroyForm;
    v.useImperativeHandle(n, function () {
      return O;
    }),
      v.useEffect(
        function () {
          return (
            T.registerForm(r, O),
            function () {
              T.unregisterForm(r);
            }
          );
        },
        [T, O, r],
      ),
      G(ce(ce({}, T.validateMessages), d)),
      C({
        onValuesChange: m,
        onFieldsChange: function (Q) {
          if ((T.triggerFormChange(r, Q), g)) {
            for (var W = arguments.length, Y = new Array(W > 1 ? W - 1 : 0), ne = 1; ne < W; ne++) Y[ne - 1] = arguments[ne];
            g.apply(void 0, [Q].concat(Y));
          }
        },
        onFinish: function (Q) {
          T.triggerFormFinish(r, Q), b && b(Q);
        },
        onFinishFailed: _,
      }),
      M(s);
    var z = v.useRef(null);
    D(i, !z.current),
      z.current || (z.current = !0),
      v.useEffect(function () {
        return B;
      }, []);
    var H,
      q = typeof l == 'function';
    if (q) {
      var F = O.getFieldsValue(!0);
      H = l(F, O);
    } else H = l;
    L(!q);
    var A = v.useRef();
    v.useEffect(
      function () {
        bT(A.current || [], o || []) || O.setFields(o || []), (A.current = o);
      },
      [o, O],
    );
    var k = v.useMemo(
        function () {
          return ce(ce({}, O), {}, { validateTrigger: h });
        },
        [O, h],
      ),
      U = v.createElement(kc.Provider, { value: null }, v.createElement(ts.Provider, { value: k }, H));
    return c === !1
      ? U
      : v.createElement(
          c,
          pt({}, y, {
            onSubmit: function (Q) {
              Q.preventDefault(), Q.stopPropagation(), O.submit();
            },
            onReset: function (Q) {
              var W;
              Q.preventDefault(), O.resetFields(), (W = y.onReset) === null || W === void 0 || W.call(y, Q);
            },
          }),
          U,
        );
  };
function av(t) {
  try {
    return JSON.stringify(t);
  } catch {
    return Math.random();
  }
}
function PT() {
  for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++) e[n] = arguments[n];
  var r = e[0],
    i = r === void 0 ? [] : r,
    o = e[1],
    a = o === void 0 ? {} : o,
    s = Bx(a) ? { form: a } : a,
    l = s.form,
    u = v.useState(),
    c = ve(u, 2),
    d = c[0],
    f = c[1],
    h = v.useMemo(
      function () {
        return av(d);
      },
      [d],
    ),
    m = v.useRef(h);
  m.current = h;
  var g = v.useContext(ts),
    b = l || g,
    _ = b && b._init,
    y = En(i),
    T = v.useRef(y);
  return (
    (T.current = y),
    v.useEffect(
      function () {
        if (_) {
          var w = b.getFieldsValue,
            I = b.getInternalHooks,
            O = I(Io),
            x = O.registerWatch,
            L = x(function (C, G) {
              var M = Qr(s.preserve ? G : C, T.current),
                B = av(M);
              m.current !== B && ((m.current = B), f(M));
            }),
            D = Qr(s.preserve ? w(!0) : w(), T.current);
          return f(D), L;
        }
      },
      [_],
    ),
    d
  );
}
var OT = v.forwardRef(DT),
  Ul = OT;
Ul.FormProvider = LT;
Ul.Field = p4;
Ul.List = wT;
Ul.useForm = v4;
Ul.useWatch = PT;
const zo = v.createContext({}),
  sv = (t) => {
    let { children: e, status: n, override: r } = t;
    const i = v.useContext(zo),
      o = v.useMemo(() => {
        const a = Object.assign({}, i);
        return r && delete a.isFormItemInput, n && (delete a.status, delete a.hasFeedback, delete a.feedbackIcon), a;
      }, [n, r, i]);
    return v.createElement(zo.Provider, { value: o }, e);
  },
  kT = (t) => ({ animationDuration: t, animationFillMode: 'both' }),
  MT = (t) => ({ animationDuration: t, animationFillMode: 'both' }),
  xp = function (t, e, n, r) {
    const o = (arguments.length > 4 && arguments[4] !== void 0 ? arguments[4] : !1) ? '&' : '';
    return {
      [`
      ${o}${t}-enter,
      ${o}${t}-appear
    `]: Object.assign(Object.assign({}, kT(r)), { animationPlayState: 'paused' }),
      [`${o}${t}-leave`]: Object.assign(Object.assign({}, MT(r)), { animationPlayState: 'paused' }),
      [`
      ${o}${t}-enter${t}-enter-active,
      ${o}${t}-appear${t}-appear-active
    `]: { animationName: e, animationPlayState: 'running' },
      [`${o}${t}-leave${t}-leave-active`]: { animationName: n, animationPlayState: 'running', pointerEvents: 'none' },
    };
  },
  FT = new Yt('antMoveDownIn', {
    '0%': { transform: 'translate3d(0, 100%, 0)', transformOrigin: '0 0', opacity: 0 },
    '100%': { transform: 'translate3d(0, 0, 0)', transformOrigin: '0 0', opacity: 1 },
  }),
  NT = new Yt('antMoveDownOut', {
    '0%': { transform: 'translate3d(0, 0, 0)', transformOrigin: '0 0', opacity: 1 },
    '100%': { transform: 'translate3d(0, 100%, 0)', transformOrigin: '0 0', opacity: 0 },
  }),
  $T = new Yt('antMoveLeftIn', {
    '0%': { transform: 'translate3d(-100%, 0, 0)', transformOrigin: '0 0', opacity: 0 },
    '100%': { transform: 'translate3d(0, 0, 0)', transformOrigin: '0 0', opacity: 1 },
  }),
  BT = new Yt('antMoveLeftOut', {
    '0%': { transform: 'translate3d(0, 0, 0)', transformOrigin: '0 0', opacity: 1 },
    '100%': { transform: 'translate3d(-100%, 0, 0)', transformOrigin: '0 0', opacity: 0 },
  }),
  UT = new Yt('antMoveRightIn', {
    '0%': { transform: 'translate3d(100%, 0, 0)', transformOrigin: '0 0', opacity: 0 },
    '100%': { transform: 'translate3d(0, 0, 0)', transformOrigin: '0 0', opacity: 1 },
  }),
  zT = new Yt('antMoveRightOut', {
    '0%': { transform: 'translate3d(0, 0, 0)', transformOrigin: '0 0', opacity: 1 },
    '100%': { transform: 'translate3d(100%, 0, 0)', transformOrigin: '0 0', opacity: 0 },
  }),
  VT = new Yt('antMoveUpIn', {
    '0%': { transform: 'translate3d(0, -100%, 0)', transformOrigin: '0 0', opacity: 0 },
    '100%': { transform: 'translate3d(0, 0, 0)', transformOrigin: '0 0', opacity: 1 },
  }),
  HT = new Yt('antMoveUpOut', {
    '0%': { transform: 'translate3d(0, 0, 0)', transformOrigin: '0 0', opacity: 1 },
    '100%': { transform: 'translate3d(0, -100%, 0)', transformOrigin: '0 0', opacity: 0 },
  }),
  jT = {
    'move-up': { inKeyframes: VT, outKeyframes: HT },
    'move-down': { inKeyframes: FT, outKeyframes: NT },
    'move-left': { inKeyframes: $T, outKeyframes: BT },
    'move-right': { inKeyframes: UT, outKeyframes: zT },
  },
  lv = (t, e) => {
    const { antCls: n } = t,
      r = `${n}-${e}`,
      { inKeyframes: i, outKeyframes: o } = jT[e];
    return [
      xp(r, i, o, t.motionDurationMid),
      {
        [`
        ${r}-enter,
        ${r}-appear
      `]: { opacity: 0, animationTimingFunction: t.motionEaseOutCirc },
        [`${r}-leave`]: { animationTimingFunction: t.motionEaseInOutCirc },
      },
    ];
  },
  y4 = new Yt('antSlideUpIn', { '0%': { transform: 'scaleY(0.8)', transformOrigin: '0% 0%', opacity: 0 }, '100%': { transform: 'scaleY(1)', transformOrigin: '0% 0%', opacity: 1 } }),
  _4 = new Yt('antSlideUpOut', { '0%': { transform: 'scaleY(1)', transformOrigin: '0% 0%', opacity: 1 }, '100%': { transform: 'scaleY(0.8)', transformOrigin: '0% 0%', opacity: 0 } }),
  S4 = new Yt('antSlideDownIn', { '0%': { transform: 'scaleY(0.8)', transformOrigin: '100% 100%', opacity: 0 }, '100%': { transform: 'scaleY(1)', transformOrigin: '100% 100%', opacity: 1 } }),
  E4 = new Yt('antSlideDownOut', { '0%': { transform: 'scaleY(1)', transformOrigin: '100% 100%', opacity: 1 }, '100%': { transform: 'scaleY(0.8)', transformOrigin: '100% 100%', opacity: 0 } }),
  GT = new Yt('antSlideLeftIn', { '0%': { transform: 'scaleX(0.8)', transformOrigin: '0% 0%', opacity: 0 }, '100%': { transform: 'scaleX(1)', transformOrigin: '0% 0%', opacity: 1 } }),
  WT = new Yt('antSlideLeftOut', { '0%': { transform: 'scaleX(1)', transformOrigin: '0% 0%', opacity: 1 }, '100%': { transform: 'scaleX(0.8)', transformOrigin: '0% 0%', opacity: 0 } }),
  KT = new Yt('antSlideRightIn', { '0%': { transform: 'scaleX(0.8)', transformOrigin: '100% 0%', opacity: 0 }, '100%': { transform: 'scaleX(1)', transformOrigin: '100% 0%', opacity: 1 } }),
  qT = new Yt('antSlideRightOut', { '0%': { transform: 'scaleX(1)', transformOrigin: '100% 0%', opacity: 1 }, '100%': { transform: 'scaleX(0.8)', transformOrigin: '100% 0%', opacity: 0 } }),
  YT = {
    'slide-up': { inKeyframes: y4, outKeyframes: _4 },
    'slide-down': { inKeyframes: S4, outKeyframes: E4 },
    'slide-left': { inKeyframes: GT, outKeyframes: WT },
    'slide-right': { inKeyframes: KT, outKeyframes: qT },
  },
  uv = (t, e) => {
    const { antCls: n } = t,
      r = `${n}-${e}`,
      { inKeyframes: i, outKeyframes: o } = YT[e];
    return [
      xp(r, i, o, t.motionDurationMid),
      {
        [`
      ${r}-enter,
      ${r}-appear
    `]: { transform: 'scale(0)', transformOrigin: '0% 0%', opacity: 0, animationTimingFunction: t.motionEaseOutQuint, '&-prepare': { transform: 'scale(1)' } },
        [`${r}-leave`]: { animationTimingFunction: t.motionEaseInQuint },
      },
    ];
  },
  XT = new Yt('antZoomIn', { '0%': { transform: 'scale(0.2)', opacity: 0 }, '100%': { transform: 'scale(1)', opacity: 1 } }),
  QT = new Yt('antZoomOut', { '0%': { transform: 'scale(1)' }, '100%': { transform: 'scale(0.2)', opacity: 0 } }),
  cv = new Yt('antZoomBigIn', { '0%': { transform: 'scale(0.8)', opacity: 0 }, '100%': { transform: 'scale(1)', opacity: 1 } }),
  dv = new Yt('antZoomBigOut', { '0%': { transform: 'scale(1)' }, '100%': { transform: 'scale(0.8)', opacity: 0 } }),
  ZT = new Yt('antZoomUpIn', { '0%': { transform: 'scale(0.8)', transformOrigin: '50% 0%', opacity: 0 }, '100%': { transform: 'scale(1)', transformOrigin: '50% 0%' } }),
  JT = new Yt('antZoomUpOut', { '0%': { transform: 'scale(1)', transformOrigin: '50% 0%' }, '100%': { transform: 'scale(0.8)', transformOrigin: '50% 0%', opacity: 0 } }),
  ew = new Yt('antZoomLeftIn', { '0%': { transform: 'scale(0.8)', transformOrigin: '0% 50%', opacity: 0 }, '100%': { transform: 'scale(1)', transformOrigin: '0% 50%' } }),
  tw = new Yt('antZoomLeftOut', { '0%': { transform: 'scale(1)', transformOrigin: '0% 50%' }, '100%': { transform: 'scale(0.8)', transformOrigin: '0% 50%', opacity: 0 } }),
  nw = new Yt('antZoomRightIn', { '0%': { transform: 'scale(0.8)', transformOrigin: '100% 50%', opacity: 0 }, '100%': { transform: 'scale(1)', transformOrigin: '100% 50%' } }),
  rw = new Yt('antZoomRightOut', { '0%': { transform: 'scale(1)', transformOrigin: '100% 50%' }, '100%': { transform: 'scale(0.8)', transformOrigin: '100% 50%', opacity: 0 } }),
  iw = new Yt('antZoomDownIn', { '0%': { transform: 'scale(0.8)', transformOrigin: '50% 100%', opacity: 0 }, '100%': { transform: 'scale(1)', transformOrigin: '50% 100%' } }),
  ow = new Yt('antZoomDownOut', { '0%': { transform: 'scale(1)', transformOrigin: '50% 100%' }, '100%': { transform: 'scale(0.8)', transformOrigin: '50% 100%', opacity: 0 } }),
  aw = {
    zoom: { inKeyframes: XT, outKeyframes: QT },
    'zoom-big': { inKeyframes: cv, outKeyframes: dv },
    'zoom-big-fast': { inKeyframes: cv, outKeyframes: dv },
    'zoom-left': { inKeyframes: ew, outKeyframes: tw },
    'zoom-right': { inKeyframes: nw, outKeyframes: rw },
    'zoom-up': { inKeyframes: ZT, outKeyframes: JT },
    'zoom-down': { inKeyframes: iw, outKeyframes: ow },
  },
  sw = (t, e) => {
    const { antCls: n } = t,
      r = `${n}-${e}`,
      { inKeyframes: i, outKeyframes: o } = aw[e];
    return [
      xp(r, i, o, e === 'zoom-big-fast' ? t.motionDurationFast : t.motionDurationMid),
      {
        [`
        ${r}-enter,
        ${r}-appear
      `]: { transform: 'scale(0)', opacity: 0, animationTimingFunction: t.motionEaseOutCirc, '&-prepare': { transform: 'none' } },
        [`${r}-leave`]: { animationTimingFunction: t.motionEaseInOutCirc },
      },
    ];
  };
function lw(t, e, n, r) {
  return function (o) {
    const { prefixCls: a, style: s } = o,
      l = v.useRef(null),
      [u, c] = v.useState(0),
      [d, f] = v.useState(0),
      [h, m] = Ni(!1, { value: o.open }),
      { getPrefixCls: g } = v.useContext(On),
      b = g(e || 'select', a);
    v.useEffect(() => {
      if ((m(!0), typeof ResizeObserver < 'u')) {
        const y = new ResizeObserver((w) => {
            const I = w[0].target;
            c(I.offsetHeight + 8), f(I.offsetWidth);
          }),
          T = setInterval(() => {
            var w;
            const I = n ? `.${n(b)}` : `.${b}-dropdown`,
              O = (w = l.current) === null || w === void 0 ? void 0 : w.querySelector(I);
            O && (clearInterval(T), y.observe(O));
          }, 10);
        return () => {
          clearInterval(T), y.disconnect();
        };
      }
    }, []);
    let _ = Object.assign(Object.assign({}, o), { style: Object.assign(Object.assign({}, s), { margin: 0 }), open: h, visible: h, getPopupContainer: () => l.current });
    return (
      r && (_ = r(_)),
      v.createElement(
        a9,
        { theme: { token: { motion: !1 } } },
        v.createElement('div', { ref: l, style: { paddingBottom: u, position: 'relative', minWidth: d } }, v.createElement(t, Object.assign({}, _))),
      )
    );
  };
}
const b4 = function () {
  if (typeof navigator > 'u' || typeof window > 'u') return !1;
  var t = navigator.userAgent || navigator.vendor || window.opera;
  return (
    /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(
      t,
    ) ||
    /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(
      t == null ? void 0 : t.substr(0, 4),
    )
  );
};
var x4 = v.createContext(null);
function uw() {
  return v.useContext(x4);
}
function cw() {
  var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 10,
    e = v.useState(!1),
    n = ve(e, 2),
    r = n[0],
    i = n[1],
    o = v.useRef(null),
    a = function () {
      window.clearTimeout(o.current);
    };
  v.useEffect(function () {
    return a;
  }, []);
  var s = function (u, c) {
    a(),
      (o.current = window.setTimeout(function () {
        i(u), c && c();
      }, t));
  };
  return [r, s, a];
}
function T4() {
  var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 250,
    e = v.useRef(null),
    n = v.useRef(null);
  v.useEffect(function () {
    return function () {
      window.clearTimeout(n.current);
    };
  }, []);
  function r(i) {
    (i || e.current === null) && (e.current = i),
      window.clearTimeout(n.current),
      (n.current = window.setTimeout(function () {
        e.current = null;
      }, t));
  }
  return [
    function () {
      return e.current;
    },
    r,
  ];
}
function dw(t, e, n, r) {
  var i = v.useRef(null);
  (i.current = { open: e, triggerOpen: n, customizedTrigger: r }),
    v.useEffect(function () {
      function o(a) {
        var s;
        if (!((s = i.current) !== null && s !== void 0 && s.customizedTrigger)) {
          var l = a.target;
          l.shadowRoot && a.composed && (l = a.composedPath()[0] || l),
            i.current.open &&
              t()
                .filter(function (u) {
                  return u;
                })
                .every(function (u) {
                  return !u.contains(l) && u !== l;
                }) &&
              i.current.triggerOpen(!1);
        }
      }
      return (
        window.addEventListener('mousedown', o),
        function () {
          return window.removeEventListener('mousedown', o);
        }
      );
    }, []);
}
var fw = ['prefixCls', 'invalidate', 'item', 'renderItem', 'responsive', 'responsiveDisabled', 'registerSize', 'itemKey', 'className', 'style', 'children', 'display', 'order', 'component'],
  na = void 0;
function hw(t, e) {
  var n = t.prefixCls,
    r = t.invalidate,
    i = t.item,
    o = t.renderItem,
    a = t.responsive,
    s = t.responsiveDisabled,
    l = t.registerSize,
    u = t.itemKey,
    c = t.className,
    d = t.style,
    f = t.children,
    h = t.display,
    m = t.order,
    g = t.component,
    b = g === void 0 ? 'div' : g,
    _ = Zt(t, fw),
    y = a && !h;
  function T(L) {
    l(u, L);
  }
  v.useEffect(function () {
    return function () {
      T(null);
    };
  }, []);
  var w = o && i !== na ? o(i) : f,
    I;
  r || (I = { opacity: y ? 0 : 1, height: y ? 0 : na, overflowY: y ? 'hidden' : na, order: a ? m : na, pointerEvents: y ? 'none' : na, position: y ? 'absolute' : na });
  var O = {};
  y && (O['aria-hidden'] = !0);
  var x = v.createElement(b, pt({ className: $e(!r && n, c), style: ce(ce({}, I), d) }, O, _, { ref: e }), w);
  return (
    a &&
      (x = v.createElement(
        Go,
        {
          onResize: function (D) {
            var C = D.offsetWidth;
            T(C);
          },
          disabled: s,
        },
        x,
      )),
    x
  );
}
var qs = v.forwardRef(hw);
qs.displayName = 'Item';
function mw(t) {
  if (typeof MessageChannel > 'u') xn(t);
  else {
    var e = new MessageChannel();
    (e.port1.onmessage = function () {
      return t();
    }),
      e.port2.postMessage(void 0);
  }
}
function pw() {
  var t = v.useRef(null),
    e = function (r) {
      t.current ||
        ((t.current = []),
        mw(function () {
          Il.unstable_batchedUpdates(function () {
            t.current.forEach(function (i) {
              i();
            }),
              (t.current = null);
          });
        })),
        t.current.push(r);
    };
  return e;
}
function xs(t, e) {
  var n = v.useState(e),
    r = ve(n, 2),
    i = r[0],
    o = r[1],
    a = si(function (s) {
      t(function () {
        o(s);
      });
    });
  return [i, a];
}
var gw = ['component'],
  vw = ['className'],
  yw = ['className'],
  _w = function (e, n) {
    var r = v.useContext(Mc);
    if (!r) {
      var i = e.component,
        o = i === void 0 ? 'div' : i,
        a = Zt(e, gw);
      return v.createElement(o, pt({}, a, { ref: n }));
    }
    var s = r.className,
      l = Zt(r, vw),
      u = e.className,
      c = Zt(e, yw);
    return v.createElement(Mc.Provider, { value: null }, v.createElement(qs, pt({ ref: n, className: $e(s, u) }, l, c)));
  },
  w4 = v.forwardRef(_w);
w4.displayName = 'RawItem';
var Sw = [
    'prefixCls',
    'data',
    'renderItem',
    'renderRawItem',
    'itemKey',
    'itemWidth',
    'ssr',
    'style',
    'className',
    'maxCount',
    'renderRest',
    'renderRawRest',
    'suffix',
    'component',
    'itemComponent',
    'onVisibleChange',
  ],
  Mc = v.createContext(null),
  C4 = 'responsive',
  R4 = 'invalidate';
function Ew(t) {
  return '+ '.concat(t.length, ' ...');
}
function bw(t, e) {
  var n = t.prefixCls,
    r = n === void 0 ? 'rc-overflow' : n,
    i = t.data,
    o = i === void 0 ? [] : i,
    a = t.renderItem,
    s = t.renderRawItem,
    l = t.itemKey,
    u = t.itemWidth,
    c = u === void 0 ? 10 : u,
    d = t.ssr,
    f = t.style,
    h = t.className,
    m = t.maxCount,
    g = t.renderRest,
    b = t.renderRawRest,
    _ = t.suffix,
    y = t.component,
    T = y === void 0 ? 'div' : y,
    w = t.itemComponent,
    I = t.onVisibleChange,
    O = Zt(t, Sw),
    x = d === 'full',
    L = pw(),
    D = xs(L, null),
    C = ve(D, 2),
    G = C[0],
    M = C[1],
    B = G || 0,
    z = xs(L, new Map()),
    H = ve(z, 2),
    q = H[0],
    F = H[1],
    A = xs(L, 0),
    k = ve(A, 2),
    U = k[0],
    X = k[1],
    Q = xs(L, 0),
    W = ve(Q, 2),
    Y = W[0],
    ne = W[1],
    te = xs(L, 0),
    K = ve(te, 2),
    ee = K[0],
    oe = K[1],
    de = v.useState(null),
    me = ve(de, 2),
    pe = me[0],
    ge = me[1],
    Le = v.useState(null),
    Me = ve(Le, 2),
    ze = Me[0],
    Ge = Me[1],
    Te = v.useMemo(
      function () {
        return ze === null && x ? Number.MAX_SAFE_INTEGER : ze || 0;
      },
      [ze, G],
    ),
    Ne = v.useState(!1),
    we = ve(Ne, 2),
    Fe = we[0],
    ft = we[1],
    yt = ''.concat(r, '-item'),
    je = Math.max(U, Y),
    tt = m === C4,
    Rt = o.length && tt,
    jt = m === R4,
    $t = Rt || (typeof m == 'number' && o.length > m),
    kt = v.useMemo(
      function () {
        var Xe = o;
        return Rt ? (G === null && x ? (Xe = o) : (Xe = o.slice(0, Math.min(o.length, B / c)))) : typeof m == 'number' && (Xe = o.slice(0, m)), Xe;
      },
      [o, c, G, m, Rt],
    ),
    _t = v.useMemo(
      function () {
        return Rt ? o.slice(Te + 1) : o.slice(kt.length);
      },
      [o, kt, Rt, Te],
    ),
    St = v.useCallback(
      function (Xe, Ce) {
        var Se;
        return typeof l == 'function' ? l(Xe) : (Se = l && (Xe == null ? void 0 : Xe[l])) !== null && Se !== void 0 ? Se : Ce;
      },
      [l],
    ),
    Mt = v.useCallback(
      a ||
        function (Xe) {
          return Xe;
        },
      [a],
    );
  function Bt(Xe, Ce, Se) {
    (ze === Xe && (Ce === void 0 || Ce === pe)) || (Ge(Xe), Se || (ft(Xe < o.length - 1), I == null || I(Xe)), Ce !== void 0 && ge(Ce));
  }
  function Ye(Xe, Ce) {
    M(Ce.clientWidth);
  }
  function it(Xe, Ce) {
    F(function (Se) {
      var ke = new Map(Se);
      return Ce === null ? ke.delete(Xe) : ke.set(Xe, Ce), ke;
    });
  }
  function vt(Xe, Ce) {
    ne(Ce), X(Y);
  }
  function ct(Xe, Ce) {
    oe(Ce);
  }
  function At(Xe) {
    return q.get(St(kt[Xe], Xe));
  }
  gn(
    function () {
      if (B && typeof je == 'number' && kt) {
        var Xe = ee,
          Ce = kt.length,
          Se = Ce - 1;
        if (!Ce) {
          Bt(0, null);
          return;
        }
        for (var ke = 0; ke < Ce; ke += 1) {
          var Ve = At(ke);
          if ((x && (Ve = Ve || 0), Ve === void 0)) {
            Bt(ke - 1, void 0, !0);
            break;
          }
          if (((Xe += Ve), (Se === 0 && Xe <= B) || (ke === Se - 1 && Xe + At(Se) <= B))) {
            Bt(Se, null);
            break;
          } else if (Xe + je > B) {
            Bt(ke - 1, Xe - Ve - ee + Y);
            break;
          }
        }
        _ && At(0) + ee > B && ge(null);
      }
    },
    [B, q, Y, ee, St, kt],
  );
  var Xt = Fe && !!_t.length,
    un = {};
  pe !== null && Rt && (un = { position: 'absolute', left: pe, top: 0 });
  var yn = { prefixCls: yt, responsive: Rt, component: w, invalidate: jt },
    _n = s
      ? function (Xe, Ce) {
          var Se = St(Xe, Ce);
          return v.createElement(Mc.Provider, { key: Se, value: ce(ce({}, yn), {}, { order: Ce, item: Xe, itemKey: Se, registerSize: it, display: Ce <= Te }) }, s(Xe, Ce));
        }
      : function (Xe, Ce) {
          var Se = St(Xe, Ce);
          return v.createElement(qs, pt({}, yn, { order: Ce, key: Se, item: Xe, renderItem: Mt, itemKey: Se, registerSize: it, display: Ce <= Te }));
        },
    bt,
    tn = { order: Xt ? Te : Number.MAX_SAFE_INTEGER, className: ''.concat(yt, '-rest'), registerSize: vt, display: Xt };
  if (b) b && (bt = v.createElement(Mc.Provider, { value: ce(ce({}, yn), tn) }, b(_t)));
  else {
    var kn = g || Ew;
    bt = v.createElement(qs, pt({}, yn, tn), typeof kn == 'function' ? kn(_t) : kn);
  }
  var Mn = v.createElement(
    T,
    pt({ className: $e(!jt && r, h), style: f, ref: e }, O),
    kt.map(_n),
    $t ? bt : null,
    _ && v.createElement(qs, pt({}, yn, { responsive: tt, responsiveDisabled: !Rt, order: Te, className: ''.concat(yt, '-suffix'), registerSize: ct, display: !0, style: un }), _),
  );
  return tt && (Mn = v.createElement(Go, { onResize: Ye, disabled: !Rt }, Mn)), Mn;
}
var zl = v.forwardRef(bw);
zl.displayName = 'Overflow';
zl.Item = w4;
zl.RESPONSIVE = C4;
zl.INVALIDATE = R4;
var Fc = function (e) {
    var n = e.className,
      r = e.customizeIcon,
      i = e.customizeIconProps,
      o = e.onMouseDown,
      a = e.onClick,
      s = e.children,
      l;
    return (
      typeof r == 'function' ? (l = r(i)) : (l = r),
      v.createElement(
        'span',
        {
          className: n,
          onMouseDown: function (c) {
            c.preventDefault(), o && o(c);
          },
          style: { userSelect: 'none', WebkitUserSelect: 'none' },
          unselectable: 'on',
          onClick: a,
          'aria-hidden': !0,
        },
        l !== void 0
          ? l
          : v.createElement(
              'span',
              {
                className: $e(
                  n.split(/\s+/).map(function (u) {
                    return ''.concat(u, '-icon');
                  }),
                ),
              },
              s,
            ),
      )
    );
  },
  xw = function (e, n) {
    var r,
      i,
      o = e.prefixCls,
      a = e.id,
      s = e.inputElement,
      l = e.disabled,
      u = e.tabIndex,
      c = e.autoFocus,
      d = e.autoComplete,
      f = e.editable,
      h = e.activeDescendantId,
      m = e.value,
      g = e.maxLength,
      b = e.onKeyDown,
      _ = e.onMouseDown,
      y = e.onChange,
      T = e.onPaste,
      w = e.onCompositionStart,
      I = e.onCompositionEnd,
      O = e.open,
      x = e.attrs,
      L = s || v.createElement('input', null),
      D = L,
      C = D.ref,
      G = D.props,
      M = G.onKeyDown,
      B = G.onChange,
      z = G.onMouseDown,
      H = G.onCompositionStart,
      q = G.onCompositionEnd,
      F = G.style;
    return (
      'maxLength' in L.props,
      (L = v.cloneElement(
        L,
        ce(
          ce(
            ce({ type: 'search' }, G),
            {},
            {
              id: a,
              ref: pi(n, C),
              disabled: l,
              tabIndex: u,
              autoComplete: d || 'off',
              autoFocus: c,
              className: $e(''.concat(o, '-selection-search-input'), (r = L) === null || r === void 0 || (i = r.props) === null || i === void 0 ? void 0 : i.className),
              role: 'combobox',
              'aria-expanded': O,
              'aria-haspopup': 'listbox',
              'aria-owns': ''.concat(a, '_list'),
              'aria-autocomplete': 'list',
              'aria-controls': ''.concat(a, '_list'),
              'aria-activedescendant': h,
            },
            x,
          ),
          {},
          {
            value: f ? m : '',
            maxLength: g,
            readOnly: !f,
            unselectable: f ? null : 'on',
            style: ce(ce({}, F), {}, { opacity: f ? null : 0 }),
            onKeyDown: function (k) {
              b(k), M && M(k);
            },
            onMouseDown: function (k) {
              _(k), z && z(k);
            },
            onChange: function (k) {
              y(k), B && B(k);
            },
            onCompositionStart: function (k) {
              w(k), H && H(k);
            },
            onCompositionEnd: function (k) {
              I(k), q && q(k);
            },
            onPaste: T,
          },
        ),
      )),
      L
    );
  },
  Tp = v.forwardRef(xw);
Tp.displayName = 'Input';
function A4(t) {
  return Array.isArray(t) ? t : t !== void 0 ? [t] : [];
}
var Tw = typeof window < 'u' && window.document && window.document.documentElement,
  ww = Tw;
function Cw(t) {
  return t != null;
}
function fv(t) {
  return ['string', 'number'].includes(wt(t));
}
function L4(t) {
  var e = void 0;
  return t && (fv(t.title) ? (e = t.title.toString()) : fv(t.label) && (e = t.label.toString())), e;
}
function Rw(t, e) {
  ww ? v.useLayoutEffect(t, e) : v.useEffect(t, e);
}
function Aw(t) {
  var e;
  return (e = t.key) !== null && e !== void 0 ? e : t.value;
}
var hv = function (e) {
    e.preventDefault(), e.stopPropagation();
  },
  Lw = function (e) {
    var n = e.id,
      r = e.prefixCls,
      i = e.values,
      o = e.open,
      a = e.searchValue,
      s = e.autoClearSearchValue,
      l = e.inputRef,
      u = e.placeholder,
      c = e.disabled,
      d = e.mode,
      f = e.showSearch,
      h = e.autoFocus,
      m = e.autoComplete,
      g = e.activeDescendantId,
      b = e.tabIndex,
      _ = e.removeIcon,
      y = e.maxTagCount,
      T = e.maxTagTextLength,
      w = e.maxTagPlaceholder,
      I =
        w === void 0
          ? function (ge) {
              return '+ '.concat(ge.length, ' ...');
            }
          : w,
      O = e.tagRender,
      x = e.onToggleOpen,
      L = e.onRemove,
      D = e.onInputChange,
      C = e.onInputPaste,
      G = e.onInputKeyDown,
      M = e.onInputMouseDown,
      B = e.onInputCompositionStart,
      z = e.onInputCompositionEnd,
      H = v.useRef(null),
      q = v.useState(0),
      F = ve(q, 2),
      A = F[0],
      k = F[1],
      U = v.useState(!1),
      X = ve(U, 2),
      Q = X[0],
      W = X[1],
      Y = ''.concat(r, '-selection'),
      ne = o || (d === 'multiple' && s === !1) || d === 'tags' ? a : '',
      te = d === 'tags' || (d === 'multiple' && s === !1) || (f && (o || Q));
    Rw(
      function () {
        k(H.current.scrollWidth);
      },
      [ne],
    );
    function K(ge, Le, Me, ze, Ge) {
      return v.createElement(
        'span',
        { className: $e(''.concat(Y, '-item'), De({}, ''.concat(Y, '-item-disabled'), Me)), title: L4(ge) },
        v.createElement('span', { className: ''.concat(Y, '-item-content') }, Le),
        ze && v.createElement(Fc, { className: ''.concat(Y, '-item-remove'), onMouseDown: hv, onClick: Ge, customizeIcon: _ }, '×'),
      );
    }
    function ee(ge, Le, Me, ze, Ge) {
      var Te = function (we) {
        hv(we), x(!o);
      };
      return v.createElement('span', { onMouseDown: Te }, O({ label: Le, value: ge, disabled: Me, closable: ze, onClose: Ge }));
    }
    function oe(ge) {
      var Le = ge.disabled,
        Me = ge.label,
        ze = ge.value,
        Ge = !c && !Le,
        Te = Me;
      if (typeof T == 'number' && (typeof Me == 'string' || typeof Me == 'number')) {
        var Ne = String(Te);
        Ne.length > T && (Te = ''.concat(Ne.slice(0, T), '...'));
      }
      var we = function (ft) {
        ft && ft.stopPropagation(), L(ge);
      };
      return typeof O == 'function' ? ee(ze, Te, Le, Ge, we) : K(ge, Te, Le, Ge, we);
    }
    function de(ge) {
      var Le = typeof I == 'function' ? I(ge) : I;
      return K({ title: Le }, Le, !1);
    }
    var me = v.createElement(
        'div',
        {
          className: ''.concat(Y, '-search'),
          style: { width: A },
          onFocus: function () {
            W(!0);
          },
          onBlur: function () {
            W(!1);
          },
        },
        v.createElement(Tp, {
          ref: l,
          open: o,
          prefixCls: r,
          id: n,
          inputElement: null,
          disabled: c,
          autoFocus: h,
          autoComplete: m,
          editable: te,
          activeDescendantId: g,
          value: ne,
          onKeyDown: G,
          onMouseDown: M,
          onChange: D,
          onPaste: C,
          onCompositionStart: B,
          onCompositionEnd: z,
          tabIndex: b,
          attrs: Ic(e, !0),
        }),
        v.createElement('span', { ref: H, className: ''.concat(Y, '-search-mirror'), 'aria-hidden': !0 }, ne, ' '),
      ),
      pe = v.createElement(zl, { prefixCls: ''.concat(Y, '-overflow'), data: i, renderItem: oe, renderRest: de, suffix: me, itemKey: Aw, maxCount: y });
    return v.createElement(v.Fragment, null, pe, !i.length && !ne && v.createElement('span', { className: ''.concat(Y, '-placeholder') }, u));
  },
  Iw = function (e) {
    var n = e.inputElement,
      r = e.prefixCls,
      i = e.id,
      o = e.inputRef,
      a = e.disabled,
      s = e.autoFocus,
      l = e.autoComplete,
      u = e.activeDescendantId,
      c = e.mode,
      d = e.open,
      f = e.values,
      h = e.placeholder,
      m = e.tabIndex,
      g = e.showSearch,
      b = e.searchValue,
      _ = e.activeValue,
      y = e.maxLength,
      T = e.onInputKeyDown,
      w = e.onInputMouseDown,
      I = e.onInputChange,
      O = e.onInputPaste,
      x = e.onInputCompositionStart,
      L = e.onInputCompositionEnd,
      D = e.title,
      C = v.useState(!1),
      G = ve(C, 2),
      M = G[0],
      B = G[1],
      z = c === 'combobox',
      H = z || g,
      q = f[0],
      F = b || '';
    z && _ && !M && (F = _),
      v.useEffect(
        function () {
          z && B(!1);
        },
        [z, _],
      );
    var A = c !== 'combobox' && !d && !g ? !1 : !!F,
      k = D === void 0 ? L4(q) : D,
      U = function () {
        if (q) return null;
        var Q = A ? { visibility: 'hidden' } : void 0;
        return v.createElement('span', { className: ''.concat(r, '-selection-placeholder'), style: Q }, h);
      };
    return v.createElement(
      v.Fragment,
      null,
      v.createElement(
        'span',
        { className: ''.concat(r, '-selection-search') },
        v.createElement(Tp, {
          ref: o,
          prefixCls: r,
          id: i,
          open: d,
          inputElement: n,
          disabled: a,
          autoFocus: s,
          autoComplete: l,
          editable: H,
          activeDescendantId: u,
          value: F,
          onKeyDown: T,
          onMouseDown: w,
          onChange: function (Q) {
            B(!0), I(Q);
          },
          onPaste: O,
          onCompositionStart: x,
          onCompositionEnd: L,
          tabIndex: m,
          attrs: Ic(e, !0),
          maxLength: z ? y : void 0,
        }),
      ),
      !z && q ? v.createElement('span', { className: ''.concat(r, '-selection-item'), title: k, style: A ? { visibility: 'hidden' } : void 0 }, q.label) : null,
      U(),
    );
  };
function Dw(t) {
  return ![
    Ee.ESC,
    Ee.SHIFT,
    Ee.BACKSPACE,
    Ee.TAB,
    Ee.WIN_KEY,
    Ee.ALT,
    Ee.META,
    Ee.WIN_KEY_RIGHT,
    Ee.CTRL,
    Ee.SEMICOLON,
    Ee.EQUALS,
    Ee.CAPS_LOCK,
    Ee.CONTEXT_MENU,
    Ee.F1,
    Ee.F2,
    Ee.F3,
    Ee.F4,
    Ee.F5,
    Ee.F6,
    Ee.F7,
    Ee.F8,
    Ee.F9,
    Ee.F10,
    Ee.F11,
    Ee.F12,
  ].includes(t);
}
var Pw = function (e, n) {
    var r = v.useRef(null),
      i = v.useRef(!1),
      o = e.prefixCls,
      a = e.open,
      s = e.mode,
      l = e.showSearch,
      u = e.tokenWithEnter,
      c = e.autoClearSearchValue,
      d = e.onSearch,
      f = e.onSearchSubmit,
      h = e.onToggleOpen,
      m = e.onInputKeyDown,
      g = e.domRef;
    v.useImperativeHandle(n, function () {
      return {
        focus: function () {
          r.current.focus();
        },
        blur: function () {
          r.current.blur();
        },
      };
    });
    var b = T4(0),
      _ = ve(b, 2),
      y = _[0],
      T = _[1],
      w = function (F) {
        var A = F.which;
        (A === Ee.UP || A === Ee.DOWN) && F.preventDefault(), m && m(F), A === Ee.ENTER && s === 'tags' && !i.current && !a && (f == null || f(F.target.value)), Dw(A) && h(!0);
      },
      I = function () {
        T(!0);
      },
      O = v.useRef(null),
      x = function (F) {
        d(F, !0, i.current) !== !1 && h(!0);
      },
      L = function () {
        i.current = !0;
      },
      D = function (F) {
        (i.current = !1), s !== 'combobox' && x(F.target.value);
      },
      C = function (F) {
        var A = F.target.value;
        if (u && O.current && /[\r\n]/.test(O.current)) {
          var k = O.current
            .replace(/[\r\n]+$/, '')
            .replace(/\r\n/g, ' ')
            .replace(/[\r\n]/g, ' ');
          A = A.replace(k, O.current);
        }
        (O.current = null), x(A);
      },
      G = function (F) {
        var A = F.clipboardData,
          k = A.getData('text');
        O.current = k;
      },
      M = function (F) {
        var A = F.target;
        if (A !== r.current) {
          var k = document.body.style.msTouchAction !== void 0;
          k
            ? setTimeout(function () {
                r.current.focus();
              })
            : r.current.focus();
        }
      },
      B = function (F) {
        var A = y();
        F.target !== r.current && !A && s !== 'combobox' && F.preventDefault(), ((s !== 'combobox' && (!l || !A)) || !a) && (a && c !== !1 && d('', !0, !1), h());
      },
      z = { inputRef: r, onInputKeyDown: w, onInputMouseDown: I, onInputChange: C, onInputPaste: G, onInputCompositionStart: L, onInputCompositionEnd: D },
      H = s === 'multiple' || s === 'tags' ? v.createElement(Lw, pt({}, e, z)) : v.createElement(Iw, pt({}, e, z));
    return v.createElement('div', { ref: g, className: ''.concat(o, '-selector'), onClick: M, onMouseDown: B }, H);
  },
  I4 = v.forwardRef(Pw);
I4.displayName = 'Selector';
var mv = v.createContext(null);
function pv(t) {
  return t ? (Array.isArray(t) ? t : [t]) : [];
}
function Ow(t, e, n, r) {
  return v.useMemo(
    function () {
      var i = pv(n ?? e),
        o = pv(r ?? e),
        a = new Set(i),
        s = new Set(o);
      return t && (a.has('hover') && (a.delete('hover'), a.add('click')), s.has('hover') && (s.delete('hover'), s.add('click'))), [a, s];
    },
    [t, e, n, r],
  );
}
function kw() {
  var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [],
    e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [],
    n = arguments.length > 2 ? arguments[2] : void 0;
  return n ? t[0] === e[0] : t[0] === e[0] && t[1] === e[1];
}
function Mw(t, e, n, r) {
  for (var i = n.points, o = Object.keys(t), a = 0; a < o.length; a += 1) {
    var s,
      l = o[a];
    if (kw((s = t[l]) === null || s === void 0 ? void 0 : s.points, i, r)) return ''.concat(e, '-placement-').concat(l);
  }
  return '';
}
function gv(t, e, n, r) {
  return e || (n ? { motionName: ''.concat(t, '-').concat(n) } : r ? { motionName: r } : null);
}
function Vl(t) {
  return t.ownerDocument.defaultView;
}
function $0(t) {
  for (var e = [], n = t == null ? void 0 : t.parentElement, r = ['hidden', 'scroll', 'clip', 'auto']; n; ) {
    var i = Vl(n).getComputedStyle(n),
      o = i.overflowX,
      a = i.overflowY,
      s = i.overflow;
    [o, a, s].some(function (l) {
      return r.includes(l);
    }) && e.push(n),
      (n = n.parentElement);
  }
  return e;
}
function El(t) {
  var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;
  return Number.isNaN(t) ? e : t;
}
function Ts(t) {
  return El(parseFloat(t), 0);
}
function vv(t, e) {
  var n = ce({}, t);
  return (
    (e || []).forEach(function (r) {
      if (!(r instanceof HTMLBodyElement)) {
        var i = Vl(r).getComputedStyle(r),
          o = i.overflow,
          a = i.overflowClipMargin,
          s = i.borderTopWidth,
          l = i.borderBottomWidth,
          u = i.borderLeftWidth,
          c = i.borderRightWidth,
          d = r.getBoundingClientRect(),
          f = r.offsetHeight,
          h = r.clientHeight,
          m = r.offsetWidth,
          g = r.clientWidth,
          b = Ts(s),
          _ = Ts(l),
          y = Ts(u),
          T = Ts(c),
          w = El(Math.round((d.width / m) * 1e3) / 1e3),
          I = El(Math.round((d.height / f) * 1e3) / 1e3),
          O = (m - g - y - T) * w,
          x = (f - h - b - _) * I,
          L = b * I,
          D = _ * I,
          C = y * w,
          G = T * w,
          M = 0,
          B = 0;
        if (o === 'clip') {
          var z = Ts(a);
          (M = z * w), (B = z * I);
        }
        var H = d.x + C - M,
          q = d.y + L - B,
          F = H + d.width + 2 * M - C - G - O,
          A = q + d.height + 2 * B - L - D - x;
        (n.left = Math.max(n.left, H)), (n.top = Math.max(n.top, q)), (n.right = Math.min(n.right, F)), (n.bottom = Math.min(n.bottom, A));
      }
    }),
    n
  );
}
function yv(t) {
  var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0,
    n = ''.concat(e),
    r = n.match(/^(.*)\%$/);
  return r ? t * (parseFloat(r[1]) / 100) : parseFloat(n);
}
function _v(t, e) {
  var n = e || [],
    r = ve(n, 2),
    i = r[0],
    o = r[1];
  return [yv(t.width, i), yv(t.height, o)];
}
function Sv() {
  var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : '';
  return [t[0], t[1]];
}
function ra(t, e) {
  var n = e[0],
    r = e[1],
    i,
    o;
  return n === 't' ? (o = t.y) : n === 'b' ? (o = t.y + t.height) : (o = t.y + t.height / 2), r === 'l' ? (i = t.x) : r === 'r' ? (i = t.x + t.width) : (i = t.x + t.width / 2), { x: i, y: o };
}
function zi(t, e) {
  var n = { t: 'b', b: 't', l: 'r', r: 'l' };
  return t
    .map(function (r, i) {
      return i === e ? n[r] || 'c' : r;
    })
    .join('');
}
function Fw(t, e, n, r, i, o, a) {
  var s = v.useState({ ready: !1, offsetX: 0, offsetY: 0, arrowX: 0, arrowY: 0, scaleX: 1, scaleY: 1, align: i[r] || {} }),
    l = ve(s, 2),
    u = l[0],
    c = l[1],
    d = v.useRef(0),
    f = v.useMemo(
      function () {
        return e ? $0(e) : [];
      },
      [e],
    ),
    h = v.useRef({}),
    m = function () {
      h.current = {};
    };
  t || m();
  var g = si(function () {
      if (e && n && t) {
        let ht = function (It, ut) {
            var nn = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : ge,
              Sn = C.x + It,
              An = C.y + ut,
              ni = Sn + Q,
              go = An + X,
              vo = Math.max(Sn, nn.left),
              vi = Math.max(An, nn.top),
              yi = Math.min(ni, nn.right),
              Xo = Math.min(go, nn.bottom);
            return Math.max(0, (yi - vo) * (Xo - vi));
          },
          Nt = function () {
            (ke = C.y + ct), (Ve = ke + X), (Ke = C.x + vt), (xt = Ke + Q);
          };
        var Ft = ht,
          zt = Nt,
          y = e,
          T = y.style.left,
          w = y.style.top,
          I = y.ownerDocument,
          O = Vl(y),
          x = ce(ce({}, i[r]), o);
        (y.style.left = '0'), (y.style.top = '0');
        var L;
        if (Array.isArray(n)) L = { x: n[0], y: n[1], width: 0, height: 0 };
        else {
          var D = n.getBoundingClientRect();
          L = { x: D.x, y: D.y, width: D.width, height: D.height };
        }
        var C = y.getBoundingClientRect(),
          G = O.getComputedStyle(y),
          M = G.width,
          B = G.height,
          z = I.documentElement,
          H = z.clientWidth,
          q = z.clientHeight,
          F = z.scrollWidth,
          A = z.scrollHeight,
          k = z.scrollTop,
          U = z.scrollLeft,
          X = C.height,
          Q = C.width,
          W = L.height,
          Y = L.width,
          ne = { left: 0, top: 0, right: H, bottom: q },
          te = { left: -U, top: -k, right: F - U, bottom: A - k },
          K = x.htmlRegion,
          ee = 'visible',
          oe = 'visibleFirst';
        K !== 'scroll' && K !== oe && (K = ee);
        var de = K === oe,
          me = vv(te, f),
          pe = vv(ne, f),
          ge = K === ee ? pe : me,
          Le = de ? pe : ge;
        (y.style.left = T), (y.style.top = w);
        var Me = El(Math.round((Q / parseFloat(M)) * 1e3) / 1e3),
          ze = El(Math.round((X / parseFloat(B)) * 1e3) / 1e3);
        if (Me === 0 || ze === 0 || (Sc(n) && !r4(n))) return;
        var Ge = x.offset,
          Te = x.targetOffset,
          Ne = _v(C, Ge),
          we = ve(Ne, 2),
          Fe = we[0],
          ft = we[1],
          yt = _v(L, Te),
          je = ve(yt, 2),
          tt = je[0],
          Rt = je[1];
        (L.x -= tt), (L.y -= Rt);
        var jt = x.points || [],
          $t = ve(jt, 2),
          kt = $t[0],
          _t = $t[1],
          St = Sv(_t),
          Mt = Sv(kt),
          Bt = ra(L, St),
          Ye = ra(C, Mt),
          it = ce({}, x),
          vt = Bt.x - Ye.x + Fe,
          ct = Bt.y - Ye.y + ft,
          At = ht(vt, ct),
          Xt = ht(vt, ct, pe),
          un = ra(L, ['t', 'l']),
          yn = ra(C, ['t', 'l']),
          _n = ra(L, ['b', 'r']),
          bt = ra(C, ['b', 'r']),
          tn = x.overflow || {},
          kn = tn.adjustX,
          Mn = tn.adjustY,
          Xe = tn.shiftX,
          Ce = tn.shiftY,
          Se = function (ut) {
            return typeof ut == 'boolean' ? ut : ut >= 0;
          },
          ke,
          Ve,
          Ke,
          xt;
        Nt();
        var R = Se(Mn),
          S = Mt[0] === St[0];
        if (R && Mt[0] === 't' && (Ve > Le.bottom || h.current.bt)) {
          var E = ct;
          S ? (E -= X - W) : (E = un.y - bt.y - ft);
          var p = ht(vt, E),
            P = ht(vt, E, pe);
          p > At || (p === At && (!de || P >= Xt)) ? ((h.current.bt = !0), (ct = E), (it.points = [zi(Mt, 0), zi(St, 0)])) : (h.current.bt = !1);
        }
        if (R && Mt[0] === 'b' && (ke < Le.top || h.current.tb)) {
          var N = ct;
          S ? (N += X - W) : (N = _n.y - yn.y - ft);
          var $ = ht(vt, N),
            j = ht(vt, N, pe);
          $ > At || ($ === At && (!de || j >= Xt)) ? ((h.current.tb = !0), (ct = N), (it.points = [zi(Mt, 0), zi(St, 0)])) : (h.current.tb = !1);
        }
        var Z = Se(kn),
          J = Mt[1] === St[1];
        if (Z && Mt[1] === 'l' && (xt > Le.right || h.current.rl)) {
          var re = vt;
          J ? (re -= Q - Y) : (re = un.x - bt.x - Fe);
          var se = ht(re, ct),
            ie = ht(re, ct, pe);
          se > At || (se === At && (!de || ie >= Xt)) ? ((h.current.rl = !0), (vt = re), (it.points = [zi(Mt, 1), zi(St, 1)])) : (h.current.rl = !1);
        }
        if (Z && Mt[1] === 'r' && (Ke < Le.left || h.current.lr)) {
          var ae = vt;
          J ? (ae += Q - Y) : (ae = _n.x - yn.x - Fe);
          var fe = ht(ae, ct),
            xe = ht(ae, ct, pe);
          fe > At || (fe === At && (!de || xe >= Xt)) ? ((h.current.lr = !0), (vt = ae), (it.points = [zi(Mt, 1), zi(St, 1)])) : (h.current.lr = !1);
        }
        Nt();
        var ye = Xe === !0 ? 0 : Xe;
        typeof ye == 'number' &&
          (Ke < ge.left && ((vt -= Ke - ge.left), L.x + Y < ge.left + ye && (vt += L.x - ge.left + Y - ye)),
          xt > ge.right && ((vt -= xt - ge.right), L.x > ge.right - ye && (vt += L.x - ge.right + ye)));
        var Oe = Ce === !0 ? 0 : Ce;
        typeof Oe == 'number' &&
          (ke < ge.top && ((ct -= ke - ge.top), L.y + W < ge.top + Oe && (ct += L.y - ge.top + W - Oe)),
          Ve > ge.bottom && ((ct -= Ve - ge.bottom), L.y > ge.bottom - Oe && (ct += L.y - ge.bottom + Oe)));
        var Pe = C.x + vt,
          Re = Pe + Q,
          et = C.y + ct,
          gt = et + X,
          Ae = L.x,
          We = Ae + Y,
          ot = L.y,
          Qe = ot + W,
          nt = Math.max(Pe, Ae),
          Lt = Math.min(Re, We),
          Qt = (nt + Lt) / 2,
          st = Qt - Pe,
          Et = Math.max(et, ot),
          Ut = Math.min(gt, Qe),
          qe = (Et + Ut) / 2,
          Ze = qe - et;
        a == null || a(e, it), c({ ready: !0, offsetX: vt / Me, offsetY: ct / ze, arrowX: st / Me, arrowY: Ze / ze, scaleX: Me, scaleY: ze, align: it });
      }
    }),
    b = function () {
      d.current += 1;
      var T = d.current;
      Promise.resolve().then(function () {
        d.current === T && g();
      });
    },
    _ = function () {
      c(function (T) {
        return ce(ce({}, T), {}, { ready: !1 });
      });
    };
  return (
    gn(_, [r]),
    gn(
      function () {
        t || _();
      },
      [t],
    ),
    [u.ready, u.offsetX, u.offsetY, u.arrowX, u.arrowY, u.scaleX, u.scaleY, u.align, b]
  );
}
function Nw(t, e, n, r) {
  gn(
    function () {
      if (t && e && n) {
        let d = function () {
          r();
        };
        var c = d,
          i = e,
          o = n,
          a = $0(i),
          s = $0(o),
          l = Vl(o),
          u = new Set([l].concat(Ue(a), Ue(s)));
        return (
          u.forEach(function (f) {
            f.addEventListener('scroll', d, { passive: !0 });
          }),
          l.addEventListener('resize', d, { passive: !0 }),
          r(),
          function () {
            u.forEach(function (f) {
              f.removeEventListener('scroll', d), l.removeEventListener('resize', d);
            });
          }
        );
      }
    },
    [t, e, n],
  );
}
function $w(t, e, n, r, i, o, a, s) {
  var l = v.useRef(t),
    u = v.useRef(!1);
  l.current !== t && ((u.current = !0), (l.current = t)),
    v.useEffect(
      function () {
        var c = xn(function () {
          u.current = !1;
        });
        return function () {
          xn.cancel(c);
        };
      },
      [t],
    ),
    v.useEffect(
      function () {
        if (e && r && (!i || o)) {
          var c = !1,
            d = function (b) {
              var _ = b.target;
              c = a(_);
            },
            f = function (b) {
              var _ = b.target;
              !u.current && l.current && !c && !a(_) && s(!1);
            },
            h = Vl(r);
          h.addEventListener('mousedown', d), h.addEventListener('click', f);
          var m = Lc(n);
          return (
            m && (m.addEventListener('mousedown', d), m.addEventListener('click', f)),
            function () {
              h.removeEventListener('mousedown', d), h.removeEventListener('click', f), m && (m.removeEventListener('mousedown', d), m.removeEventListener('click', f));
            }
          );
        }
      },
      [e, n, r, i, o],
    );
}
function Bw(t) {
  var e = t.prefixCls,
    n = t.align,
    r = t.arrow,
    i = t.arrowPos,
    o = r || {},
    a = o.className,
    s = o.content,
    l = i.x,
    u = l === void 0 ? 0 : l,
    c = i.y,
    d = c === void 0 ? 0 : c,
    f = v.useRef();
  if (!n || !n.points) return null;
  var h = { position: 'absolute' };
  if (n.autoArrow !== !1) {
    var m = n.points[0],
      g = n.points[1],
      b = m[0],
      _ = m[1],
      y = g[0],
      T = g[1];
    b === y || !['t', 'b'].includes(b) ? (h.top = d) : b === 't' ? (h.top = 0) : (h.bottom = 0), _ === T || !['l', 'r'].includes(_) ? (h.left = u) : _ === 'l' ? (h.left = 0) : (h.right = 0);
  }
  return v.createElement('div', { ref: f, className: $e(''.concat(e, '-arrow'), a), style: h }, s);
}
function Uw(t) {
  var e = t.prefixCls,
    n = t.open,
    r = t.zIndex,
    i = t.mask,
    o = t.motion;
  return i
    ? v.createElement(Nl, pt({}, o, { motionAppear: !0, visible: n, removeOnLeave: !0 }), function (a) {
        var s = a.className;
        return v.createElement('div', { style: { zIndex: r }, className: $e(''.concat(e, '-mask'), s) });
      })
    : null;
}
var zw = v.memo(
    function (t) {
      var e = t.children;
      return e;
    },
    function (t, e) {
      return e.cache;
    },
  ),
  Vw = v.forwardRef(function (t, e) {
    var n = t.popup,
      r = t.className,
      i = t.prefixCls,
      o = t.style,
      a = t.target,
      s = t.onVisibleChanged,
      l = t.open,
      u = t.keepDom,
      c = t.onClick,
      d = t.mask,
      f = t.arrow,
      h = t.arrowPos,
      m = t.align,
      g = t.motion,
      b = t.maskMotion,
      _ = t.forceRender,
      y = t.getPopupContainer,
      T = t.autoDestroy,
      w = t.portal,
      I = t.zIndex,
      O = t.onMouseEnter,
      x = t.onMouseLeave,
      L = t.ready,
      D = t.offsetX,
      C = t.offsetY,
      G = t.onAlign,
      M = t.onPrepare,
      B = t.stretch,
      z = t.targetWidth,
      H = t.targetHeight,
      q = typeof n == 'function' ? n() : n,
      F = l || u,
      A = (y == null ? void 0 : y.length) > 0,
      k = v.useState(!y || !A),
      U = ve(k, 2),
      X = U[0],
      Q = U[1];
    if (
      (gn(
        function () {
          !X && A && a && Q(!0);
        },
        [X, A, a],
      ),
      !X)
    )
      return null;
    var W = L || !l ? { left: D, top: C } : { left: '-1000vw', top: '-1000vh' },
      Y = {};
    return (
      B && (B.includes('height') && H ? (Y.height = H) : B.includes('minHeight') && H && (Y.minHeight = H), B.includes('width') && z ? (Y.width = z) : B.includes('minWidth') && z && (Y.minWidth = z)),
      l || (Y.pointerEvents = 'none'),
      v.createElement(
        w,
        {
          open: _ || F,
          getContainer:
            y &&
            function () {
              return y(a);
            },
          autoDestroy: T,
        },
        v.createElement(Uw, { prefixCls: i, open: l, zIndex: I, mask: d, motion: b }),
        v.createElement(Go, { onResize: G, disabled: !l }, function (ne) {
          return v.createElement(
            Nl,
            pt({ motionAppear: !0, motionEnter: !0, motionLeave: !0, removeOnLeave: !1, forceRender: _, leavedClassName: ''.concat(i, '-hidden') }, g, {
              onAppearPrepare: M,
              onEnterPrepare: M,
              visible: l,
              onVisibleChanged: function (K) {
                var ee;
                g == null || (ee = g.onVisibleChanged) === null || ee === void 0 || ee.call(g, K), s(K);
              },
            }),
            function (te, K) {
              var ee = te.className,
                oe = te.style,
                de = $e(i, ee, r);
              return v.createElement(
                'div',
                {
                  ref: pi(ne, e, K),
                  className: de,
                  style: ce(ce(ce(ce({ '--arrow-x': ''.concat(h.x || 0, 'px'), '--arrow-y': ''.concat(h.y || 0, 'px') }, W), Y), oe), {}, { boxSizing: 'border-box', zIndex: I }, o),
                  onMouseEnter: O,
                  onMouseLeave: x,
                  onClick: c,
                },
                f && v.createElement(Bw, { prefixCls: i, arrow: f, arrowPos: h, align: m }),
                v.createElement(zw, { cache: !l }, q),
              );
            },
          );
        }),
      )
    );
  }),
  Hw = v.forwardRef(function (t, e) {
    var n = t.children,
      r = t.getTriggerDOMNode,
      i = Ol(n),
      o = v.useCallback(
        function (s) {
          tp(e, r ? r(s) : s);
        },
        [r],
      ),
      a = np(o, n.ref);
    return i ? v.cloneElement(n, { ref: a }) : n;
  }),
  jw = [
    'prefixCls',
    'children',
    'action',
    'showAction',
    'hideAction',
    'popupVisible',
    'defaultPopupVisible',
    'onPopupVisibleChange',
    'afterPopupVisibleChange',
    'mouseEnterDelay',
    'mouseLeaveDelay',
    'focusDelay',
    'blurDelay',
    'mask',
    'maskClosable',
    'getPopupContainer',
    'forceRender',
    'autoDestroy',
    'destroyPopupOnHide',
    'popup',
    'popupClassName',
    'popupStyle',
    'popupPlacement',
    'builtinPlacements',
    'popupAlign',
    'zIndex',
    'stretch',
    'getPopupClassNameFromAlign',
    'alignPoint',
    'onPopupClick',
    'onPopupAlign',
    'arrow',
    'popupMotion',
    'maskMotion',
    'popupTransitionName',
    'popupAnimation',
    'maskTransitionName',
    'maskAnimation',
    'className',
    'getTriggerDOMNode',
  ];
function Gw() {
  var t = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : d4,
    e = v.forwardRef(function (n, r) {
      var i = n.prefixCls,
        o = i === void 0 ? 'rc-trigger-popup' : i,
        a = n.children,
        s = n.action,
        l = s === void 0 ? 'hover' : s,
        u = n.showAction,
        c = n.hideAction,
        d = n.popupVisible,
        f = n.defaultPopupVisible,
        h = n.onPopupVisibleChange,
        m = n.afterPopupVisibleChange,
        g = n.mouseEnterDelay,
        b = n.mouseLeaveDelay,
        _ = b === void 0 ? 0.1 : b,
        y = n.focusDelay,
        T = n.blurDelay,
        w = n.mask,
        I = n.maskClosable,
        O = I === void 0 ? !0 : I,
        x = n.getPopupContainer,
        L = n.forceRender,
        D = n.autoDestroy,
        C = n.destroyPopupOnHide,
        G = n.popup,
        M = n.popupClassName,
        B = n.popupStyle,
        z = n.popupPlacement,
        H = n.builtinPlacements,
        q = H === void 0 ? {} : H,
        F = n.popupAlign,
        A = n.zIndex,
        k = n.stretch,
        U = n.getPopupClassNameFromAlign,
        X = n.alignPoint,
        Q = n.onPopupClick,
        W = n.onPopupAlign,
        Y = n.arrow,
        ne = n.popupMotion,
        te = n.maskMotion,
        K = n.popupTransitionName,
        ee = n.popupAnimation,
        oe = n.maskTransitionName,
        de = n.maskAnimation,
        me = n.className,
        pe = n.getTriggerDOMNode,
        ge = Zt(n, jw),
        Le = D || C || !1,
        Me = v.useState(!1),
        ze = ve(Me, 2),
        Ge = ze[0],
        Te = ze[1];
      gn(function () {
        Te(b4());
      }, []);
      var Ne = v.useRef({}),
        we = v.useContext(mv),
        Fe = v.useMemo(
          function () {
            return {
              registerSubPopup: function (mt, Gt) {
                (Ne.current[mt] = Gt), we == null || we.registerSubPopup(mt, Gt);
              },
            };
          },
          [we],
        ),
        ft = $x(),
        yt = v.useState(null),
        je = ve(yt, 2),
        tt = je[0],
        Rt = je[1],
        jt = si(function (Je) {
          Sc(Je) && tt !== Je && Rt(Je), we == null || we.registerSubPopup(ft, Je);
        }),
        $t = v.useState(null),
        kt = ve($t, 2),
        _t = kt[0],
        St = kt[1],
        Mt = si(function (Je) {
          Sc(Je) && _t !== Je && St(Je);
        }),
        Bt = v.Children.only(a),
        Ye = (Bt == null ? void 0 : Bt.props) || {},
        it = {},
        vt = si(function (Je) {
          var mt,
            Gt,
            sn = _t;
          return (
            (sn == null ? void 0 : sn.contains(Je)) ||
            ((mt = Lc(sn)) === null || mt === void 0 ? void 0 : mt.host) === Je ||
            Je === sn ||
            (tt == null ? void 0 : tt.contains(Je)) ||
            ((Gt = Lc(tt)) === null || Gt === void 0 ? void 0 : Gt.host) === Je ||
            Je === tt ||
            Object.values(Ne.current).some(function (Wt) {
              return (Wt == null ? void 0 : Wt.contains(Je)) || Je === Wt;
            })
          );
        }),
        ct = gv(o, ne, ee, K),
        At = gv(o, te, de, oe),
        Xt = v.useState(f || !1),
        un = ve(Xt, 2),
        yn = un[0],
        _n = un[1],
        bt = d ?? yn,
        tn = si(function (Je) {
          d === void 0 && _n(Je);
        });
      gn(
        function () {
          _n(d || !1);
        },
        [d],
      );
      var kn = v.useRef(bt);
      kn.current = bt;
      var Mn = si(function (Je) {
          bt !== Je && (tn(Je), h == null || h(Je));
        }),
        Xe = v.useRef(),
        Ce = function () {
          clearTimeout(Xe.current);
        },
        Se = function (mt) {
          var Gt = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
          Ce(),
            Gt === 0
              ? Mn(mt)
              : (Xe.current = setTimeout(function () {
                  Mn(mt);
                }, Gt * 1e3));
        };
      v.useEffect(function () {
        return Ce;
      }, []);
      var ke = v.useState(!1),
        Ve = ve(ke, 2),
        Ke = Ve[0],
        xt = Ve[1];
      gn(
        function (Je) {
          (!Je || bt) && xt(!0);
        },
        [bt],
      );
      var R = v.useState(null),
        S = ve(R, 2),
        E = S[0],
        p = S[1],
        P = v.useState([0, 0]),
        N = ve(P, 2),
        $ = N[0],
        j = N[1],
        Z = function (mt) {
          j([mt.clientX, mt.clientY]);
        },
        J = Fw(bt, tt, X ? $ : _t, z, q, F, W),
        re = ve(J, 9),
        se = re[0],
        ie = re[1],
        ae = re[2],
        fe = re[3],
        xe = re[4],
        ye = re[5],
        Oe = re[6],
        Pe = re[7],
        Re = re[8],
        et = si(function () {
          Ke || Re();
        });
      Nw(bt, _t, tt, et),
        gn(
          function () {
            et();
          },
          [$, z],
        ),
        gn(
          function () {
            bt && !(q != null && q[z]) && et();
          },
          [JSON.stringify(F)],
        );
      var gt = v.useMemo(
        function () {
          var Je = Mw(q, o, Pe, X);
          return $e(Je, U == null ? void 0 : U(Pe));
        },
        [Pe, U, q, o, X],
      );
      v.useImperativeHandle(r, function () {
        return { forceAlign: et };
      });
      var Ae = function (mt) {
          xt(!1), Re(), m == null || m(mt);
        },
        We = function () {
          return new Promise(function (mt) {
            p(function () {
              return mt;
            });
          });
        };
      gn(
        function () {
          E && (Re(), E(), p(null));
        },
        [E],
      );
      var ot = v.useState(0),
        Qe = ve(ot, 2),
        nt = Qe[0],
        Lt = Qe[1],
        Qt = v.useState(0),
        st = ve(Qt, 2),
        Et = st[0],
        Ut = st[1],
        qe = function (mt, Gt) {
          if ((et(), k)) {
            var sn = Gt.getBoundingClientRect();
            Lt(sn.width), Ut(sn.height);
          }
        },
        Ze = Ow(Ge, l, u, c),
        Ft = ve(Ze, 2),
        zt = Ft[0],
        ht = Ft[1],
        Nt = function (mt, Gt, sn, Wt) {
          it[mt] = function (fs) {
            var yo;
            Wt == null || Wt(fs), Se(Gt, sn);
            for (var _o = arguments.length, hs = new Array(_o > 1 ? _o - 1 : 0), Qo = 1; Qo < _o; Qo++) hs[Qo - 1] = arguments[Qo];
            (yo = Ye[mt]) === null || yo === void 0 || yo.call.apply(yo, [Ye, fs].concat(hs));
          };
        },
        It = zt.has('click'),
        ut = ht.has('click') || ht.has('contextMenu');
      (It || ut) &&
        (it.onClick = function (Je) {
          var mt;
          kn.current && ut ? Se(!1) : !kn.current && It && (Z(Je), Se(!0));
          for (var Gt = arguments.length, sn = new Array(Gt > 1 ? Gt - 1 : 0), Wt = 1; Wt < Gt; Wt++) sn[Wt - 1] = arguments[Wt];
          (mt = Ye.onClick) === null || mt === void 0 || mt.call.apply(mt, [Ye, Je].concat(sn));
        }),
        $w(bt, ut, _t, tt, w, O, vt, Se);
      var nn = zt.has('hover'),
        Sn = ht.has('hover'),
        An,
        ni;
      nn &&
        (Nt('onMouseEnter', !0, g, function (Je) {
          Z(Je);
        }),
        (An = function () {
          Se(!0, g);
        }),
        X &&
          (it.onMouseMove = function (Je) {
            var mt;
            (mt = Ye.onMouseMove) === null || mt === void 0 || mt.call(Ye, Je);
          })),
        Sn &&
          (Nt('onMouseLeave', !1, _),
          (ni = function () {
            Se(!1, _);
          })),
        zt.has('focus') && Nt('onFocus', !0, y),
        ht.has('focus') && Nt('onBlur', !1, T),
        zt.has('contextMenu') &&
          (it.onContextMenu = function (Je) {
            var mt;
            Z(Je), Se(!0), Je.preventDefault();
            for (var Gt = arguments.length, sn = new Array(Gt > 1 ? Gt - 1 : 0), Wt = 1; Wt < Gt; Wt++) sn[Wt - 1] = arguments[Wt];
            (mt = Ye.onContextMenu) === null || mt === void 0 || mt.call.apply(mt, [Ye, Je].concat(sn));
          }),
        me && (it.className = $e(Ye.className, me));
      var go = ce(ce({}, Ye), it),
        vo = {},
        vi = ['onContextMenu', 'onClick', 'onMouseDown', 'onTouchStart', 'onMouseEnter', 'onMouseLeave', 'onFocus', 'onBlur'];
      vi.forEach(function (Je) {
        ge[Je] &&
          (vo[Je] = function () {
            for (var mt, Gt = arguments.length, sn = new Array(Gt), Wt = 0; Wt < Gt; Wt++) sn[Wt] = arguments[Wt];
            (mt = go[Je]) === null || mt === void 0 || mt.call.apply(mt, [go].concat(sn)), ge[Je].apply(ge, sn);
          });
      });
      var yi = v.cloneElement(Bt, ce(ce({}, go), vo)),
        Xo = { x: fe, y: xe },
        ds = Y ? ce({}, Y !== !0 ? Y : {}) : null;
      return v.createElement(
        v.Fragment,
        null,
        v.createElement(Go, { disabled: !bt, ref: Mt, onResize: qe }, v.createElement(Hw, { getTriggerDOMNode: pe }, yi)),
        v.createElement(
          mv.Provider,
          { value: Fe },
          v.createElement(Vw, {
            portal: t,
            ref: jt,
            prefixCls: o,
            popup: G,
            className: $e(M, gt),
            style: B,
            target: _t,
            onMouseEnter: An,
            onMouseLeave: ni,
            zIndex: A,
            open: bt,
            keepDom: Ke,
            onClick: Q,
            mask: w,
            motion: ct,
            maskMotion: At,
            onVisibleChanged: Ae,
            onPrepare: We,
            forceRender: L,
            autoDestroy: Le,
            getPopupContainer: x,
            align: Pe,
            arrow: ds,
            arrowPos: Xo,
            ready: se,
            offsetX: ie,
            offsetY: ae,
            onAlign: et,
            stretch: k,
            targetWidth: nt / ye,
            targetHeight: Et / Oe,
          }),
        ),
      );
    });
  return e;
}
const D4 = Gw(d4);
var Ww = [
    'prefixCls',
    'disabled',
    'visible',
    'children',
    'popupElement',
    'containerWidth',
    'animation',
    'transitionName',
    'dropdownStyle',
    'dropdownClassName',
    'direction',
    'placement',
    'builtinPlacements',
    'dropdownMatchSelectWidth',
    'dropdownRender',
    'dropdownAlign',
    'getPopupContainer',
    'empty',
    'getTriggerDOMNode',
    'onPopupVisibleChange',
    'onPopupMouseEnter',
  ],
  Kw = function (e) {
    var n = e === !0 ? 0 : 1;
    return {
      bottomLeft: { points: ['tl', 'bl'], offset: [0, 4], overflow: { adjustX: n, adjustY: 1 }, htmlRegion: 'scroll' },
      bottomRight: { points: ['tr', 'br'], offset: [0, 4], overflow: { adjustX: n, adjustY: 1 }, htmlRegion: 'scroll' },
      topLeft: { points: ['bl', 'tl'], offset: [0, -4], overflow: { adjustX: n, adjustY: 1 }, htmlRegion: 'scroll' },
      topRight: { points: ['br', 'tr'], offset: [0, -4], overflow: { adjustX: n, adjustY: 1 }, htmlRegion: 'scroll' },
    };
  },
  qw = function (e, n) {
    var r = e.prefixCls;
    e.disabled;
    var i = e.visible,
      o = e.children,
      a = e.popupElement,
      s = e.containerWidth,
      l = e.animation,
      u = e.transitionName,
      c = e.dropdownStyle,
      d = e.dropdownClassName,
      f = e.direction,
      h = f === void 0 ? 'ltr' : f,
      m = e.placement,
      g = e.builtinPlacements,
      b = e.dropdownMatchSelectWidth,
      _ = e.dropdownRender,
      y = e.dropdownAlign,
      T = e.getPopupContainer,
      w = e.empty,
      I = e.getTriggerDOMNode,
      O = e.onPopupVisibleChange,
      x = e.onPopupMouseEnter,
      L = Zt(e, Ww),
      D = ''.concat(r, '-dropdown'),
      C = a;
    _ && (C = _(a));
    var G = v.useMemo(
        function () {
          return g || Kw(b);
        },
        [g, b],
      ),
      M = l ? ''.concat(D, '-').concat(l) : u,
      B = v.useRef(null);
    v.useImperativeHandle(n, function () {
      return {
        getPopupElement: function () {
          return B.current;
        },
      };
    });
    var z = ce({ minWidth: s }, c);
    return (
      typeof b == 'number' ? (z.width = b) : b && (z.width = s),
      v.createElement(
        D4,
        pt({}, L, {
          showAction: O ? ['click'] : [],
          hideAction: O ? ['click'] : [],
          popupPlacement: m || (h === 'rtl' ? 'bottomRight' : 'bottomLeft'),
          builtinPlacements: G,
          prefixCls: D,
          popupTransitionName: M,
          popup: v.createElement('div', { ref: B, onMouseEnter: x }, C),
          popupAlign: y,
          popupVisible: i,
          getPopupContainer: T,
          popupClassName: $e(d, De({}, ''.concat(D, '-empty'), w)),
          popupStyle: z,
          getTriggerDOMNode: I,
          onPopupVisibleChange: O,
        }),
        o,
      )
    );
  },
  P4 = v.forwardRef(qw);
P4.displayName = 'SelectTrigger';
function Ev(t, e) {
  var n = t.key,
    r;
  return 'value' in t && (r = t.value), n ?? (r !== void 0 ? r : 'rc-index-key-'.concat(e));
}
function O4(t, e) {
  var n = t || {},
    r = n.label,
    i = n.value,
    o = n.options,
    a = n.groupLabel,
    s = r || (e ? 'children' : 'label');
  return { label: s, value: i || 'value', options: o || 'options', groupLabel: a || s };
}
function Yw(t) {
  var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {},
    n = e.fieldNames,
    r = e.childrenAsData,
    i = [],
    o = O4(n, !1),
    a = o.label,
    s = o.value,
    l = o.options,
    u = o.groupLabel;
  function c(d, f) {
    d.forEach(function (h) {
      if (f || !(l in h)) {
        var m = h[s];
        i.push({ key: Ev(h, i.length), groupOption: f, data: h, label: h[a], value: m });
      } else {
        var g = h[u];
        g === void 0 && r && (g = h.label), i.push({ key: Ev(h, i.length), group: !0, data: h, label: g }), c(h[l], !0);
      }
    });
  }
  return c(t, !1), i;
}
function B0(t) {
  var e = ce({}, t);
  return (
    'props' in e ||
      Object.defineProperty(e, 'props', {
        get: function () {
          return ur(!1, 'Return type is option instead of Option instance. Please read value directly instead of reading from `props`.'), e;
        },
      }),
    e
  );
}
function Xw(t, e) {
  if (!e || !e.length) return null;
  var n = !1;
  function r(o, a) {
    var s = C6(a),
      l = s[0],
      u = s.slice(1);
    if (!l) return [o];
    var c = o.split(l);
    return (
      (n = n || c.length > 1),
      c
        .reduce(function (d, f) {
          return [].concat(Ue(d), Ue(r(f, u)));
        }, [])
        .filter(function (d) {
          return d;
        })
    );
  }
  var i = r(t, e);
  return n ? i : null;
}
var Qw = [
    'id',
    'prefixCls',
    'className',
    'showSearch',
    'tagRender',
    'direction',
    'omitDomProps',
    'displayValues',
    'onDisplayValuesChange',
    'emptyOptions',
    'notFoundContent',
    'onClear',
    'mode',
    'disabled',
    'loading',
    'getInputElement',
    'getRawInputElement',
    'open',
    'defaultOpen',
    'onDropdownVisibleChange',
    'activeValue',
    'onActiveValueChange',
    'activeDescendantId',
    'searchValue',
    'autoClearSearchValue',
    'onSearch',
    'onSearchSplit',
    'tokenSeparators',
    'allowClear',
    'showArrow',
    'inputIcon',
    'clearIcon',
    'OptionList',
    'animation',
    'transitionName',
    'dropdownStyle',
    'dropdownClassName',
    'dropdownMatchSelectWidth',
    'dropdownRender',
    'dropdownAlign',
    'placement',
    'builtinPlacements',
    'getPopupContainer',
    'showAction',
    'onFocus',
    'onBlur',
    'onKeyUp',
    'onKeyDown',
    'onMouseDown',
  ],
  Zw = ['value', 'onChange', 'removeIcon', 'placeholder', 'autoFocus', 'maxTagCount', 'maxTagTextLength', 'maxTagPlaceholder', 'choiceTransitionName', 'onInputKeyDown', 'onPopupScroll', 'tabIndex'];
function U0(t) {
  return t === 'tags' || t === 'multiple';
}
var Jw = v.forwardRef(function (t, e) {
  var n,
    r,
    i = t.id,
    o = t.prefixCls,
    a = t.className,
    s = t.showSearch,
    l = t.tagRender,
    u = t.direction,
    c = t.omitDomProps,
    d = t.displayValues,
    f = t.onDisplayValuesChange,
    h = t.emptyOptions,
    m = t.notFoundContent,
    g = m === void 0 ? 'Not Found' : m,
    b = t.onClear,
    _ = t.mode,
    y = t.disabled,
    T = t.loading,
    w = t.getInputElement,
    I = t.getRawInputElement,
    O = t.open,
    x = t.defaultOpen,
    L = t.onDropdownVisibleChange,
    D = t.activeValue,
    C = t.onActiveValueChange,
    G = t.activeDescendantId,
    M = t.searchValue,
    B = t.autoClearSearchValue,
    z = t.onSearch,
    H = t.onSearchSplit,
    q = t.tokenSeparators,
    F = t.allowClear,
    A = t.showArrow,
    k = t.inputIcon,
    U = t.clearIcon,
    X = t.OptionList,
    Q = t.animation,
    W = t.transitionName,
    Y = t.dropdownStyle,
    ne = t.dropdownClassName,
    te = t.dropdownMatchSelectWidth,
    K = t.dropdownRender,
    ee = t.dropdownAlign,
    oe = t.placement,
    de = t.builtinPlacements,
    me = t.getPopupContainer,
    pe = t.showAction,
    ge = pe === void 0 ? [] : pe,
    Le = t.onFocus,
    Me = t.onBlur,
    ze = t.onKeyUp,
    Ge = t.onKeyDown,
    Te = t.onMouseDown,
    Ne = Zt(t, Qw),
    we = U0(_),
    Fe = (s !== void 0 ? s : we) || _ === 'combobox',
    ft = ce({}, Ne);
  Zw.forEach(function (qe) {
    delete ft[qe];
  }),
    c == null ||
      c.forEach(function (qe) {
        delete ft[qe];
      });
  var yt = v.useState(!1),
    je = ve(yt, 2),
    tt = je[0],
    Rt = je[1];
  v.useEffect(function () {
    Rt(b4());
  }, []);
  var jt = v.useRef(null),
    $t = v.useRef(null),
    kt = v.useRef(null),
    _t = v.useRef(null),
    St = v.useRef(null),
    Mt = cw(),
    Bt = ve(Mt, 3),
    Ye = Bt[0],
    it = Bt[1],
    vt = Bt[2];
  v.useImperativeHandle(e, function () {
    var qe, Ze;
    return {
      focus: (qe = _t.current) === null || qe === void 0 ? void 0 : qe.focus,
      blur: (Ze = _t.current) === null || Ze === void 0 ? void 0 : Ze.blur,
      scrollTo: function (zt) {
        var ht;
        return (ht = St.current) === null || ht === void 0 ? void 0 : ht.scrollTo(zt);
      },
    };
  });
  var ct = v.useMemo(
      function () {
        var qe;
        if (_ !== 'combobox') return M;
        var Ze = (qe = d[0]) === null || qe === void 0 ? void 0 : qe.value;
        return typeof Ze == 'string' || typeof Ze == 'number' ? String(Ze) : '';
      },
      [M, _, d],
    ),
    At = (_ === 'combobox' && typeof w == 'function' && w()) || null,
    Xt = typeof I == 'function' && I(),
    un = np($t, Xt == null || (n = Xt.props) === null || n === void 0 ? void 0 : n.ref),
    yn = v.useState(!1),
    _n = ve(yn, 2),
    bt = _n[0],
    tn = _n[1];
  gn(function () {
    tn(!0);
  }, []);
  var kn = Ni(!1, { defaultValue: x, value: O }),
    Mn = ve(kn, 2),
    Xe = Mn[0],
    Ce = Mn[1],
    Se = bt ? Xe : !1,
    ke = !g && h;
  (y || (ke && Se && _ === 'combobox')) && (Se = !1);
  var Ve = ke ? !1 : Se,
    Ke = v.useCallback(
      function (qe) {
        var Ze = qe !== void 0 ? qe : !Se;
        y || (Ce(Ze), Se !== Ze && (L == null || L(Ze)));
      },
      [y, Se, Ce, L],
    ),
    xt = v.useMemo(
      function () {
        return (q || []).some(function (qe) {
          return [
            `
`,
            `\r
`,
          ].includes(qe);
        });
      },
      [q],
    ),
    R = function (Ze, Ft, zt) {
      var ht = !0,
        Nt = Ze;
      C == null || C(null);
      var It = zt ? null : Xw(Ze, q);
      return _ !== 'combobox' && It && ((Nt = ''), H == null || H(It), Ke(!1), (ht = !1)), z && ct !== Nt && z(Nt, { source: Ft ? 'typing' : 'effect' }), ht;
    },
    S = function (Ze) {
      !Ze || !Ze.trim() || z(Ze, { source: 'submit' });
    };
  v.useEffect(
    function () {
      !Se && !we && _ !== 'combobox' && R('', !1, !1);
    },
    [Se],
  ),
    v.useEffect(
      function () {
        Xe && y && Ce(!1), y && it(!1);
      },
      [y],
    );
  var E = T4(),
    p = ve(E, 2),
    P = p[0],
    N = p[1],
    $ = function (Ze) {
      var Ft = P(),
        zt = Ze.which;
      if ((zt === Ee.ENTER && (_ !== 'combobox' && Ze.preventDefault(), Se || Ke(!0)), N(!!ct), zt === Ee.BACKSPACE && !Ft && we && !ct && d.length)) {
        for (var ht = Ue(d), Nt = null, It = ht.length - 1; It >= 0; It -= 1) {
          var ut = ht[It];
          if (!ut.disabled) {
            ht.splice(It, 1), (Nt = ut);
            break;
          }
        }
        Nt && f(ht, { type: 'remove', values: [Nt] });
      }
      for (var nn = arguments.length, Sn = new Array(nn > 1 ? nn - 1 : 0), An = 1; An < nn; An++) Sn[An - 1] = arguments[An];
      if (Se && St.current) {
        var ni;
        (ni = St.current).onKeyDown.apply(ni, [Ze].concat(Sn));
      }
      Ge == null || Ge.apply(void 0, [Ze].concat(Sn));
    },
    j = function (Ze) {
      for (var Ft = arguments.length, zt = new Array(Ft > 1 ? Ft - 1 : 0), ht = 1; ht < Ft; ht++) zt[ht - 1] = arguments[ht];
      if (Se && St.current) {
        var Nt;
        (Nt = St.current).onKeyUp.apply(Nt, [Ze].concat(zt));
      }
      ze == null || ze.apply(void 0, [Ze].concat(zt));
    },
    Z = function (Ze) {
      var Ft = d.filter(function (zt) {
        return zt !== Ze;
      });
      f(Ft, { type: 'remove', values: [Ze] });
    },
    J = v.useRef(!1),
    re = function () {
      it(!0), y || (Le && !J.current && Le.apply(void 0, arguments), ge.includes('focus') && Ke(!0)), (J.current = !0);
    },
    se = function () {
      it(!1, function () {
        (J.current = !1), Ke(!1);
      }),
        !y && (ct && (_ === 'tags' ? z(ct, { source: 'submit' }) : _ === 'multiple' && z('', { source: 'blur' })), Me && Me.apply(void 0, arguments));
    },
    ie = [];
  v.useEffect(function () {
    return function () {
      ie.forEach(function (qe) {
        return clearTimeout(qe);
      }),
        ie.splice(0, ie.length);
    };
  }, []);
  var ae = function (Ze) {
      var Ft,
        zt = Ze.target,
        ht = (Ft = kt.current) === null || Ft === void 0 ? void 0 : Ft.getPopupElement();
      if (ht && ht.contains(zt)) {
        var Nt = setTimeout(function () {
          var Sn = ie.indexOf(Nt);
          if ((Sn !== -1 && ie.splice(Sn, 1), vt(), !tt && !ht.contains(document.activeElement))) {
            var An;
            (An = _t.current) === null || An === void 0 || An.focus();
          }
        });
        ie.push(Nt);
      }
      for (var It = arguments.length, ut = new Array(It > 1 ? It - 1 : 0), nn = 1; nn < It; nn++) ut[nn - 1] = arguments[nn];
      Te == null || Te.apply(void 0, [Ze].concat(ut));
    },
    fe = v.useState(null),
    xe = ve(fe, 2),
    ye = xe[0],
    Oe = xe[1],
    Pe = v.useState({}),
    Re = ve(Pe, 2),
    et = Re[1];
  function gt() {
    et({});
  }
  gn(
    function () {
      if (Ve) {
        var qe,
          Ze = Math.ceil((qe = jt.current) === null || qe === void 0 ? void 0 : qe.offsetWidth);
        ye !== Ze && !Number.isNaN(Ze) && Oe(Ze);
      }
    },
    [Ve],
  );
  var Ae;
  Xt &&
    (Ae = function (Ze) {
      Ke(Ze);
    }),
    dw(
      function () {
        var qe;
        return [jt.current, (qe = kt.current) === null || qe === void 0 ? void 0 : qe.getPopupElement()];
      },
      Ve,
      Ke,
      !!Xt,
    );
  var We = v.useMemo(
      function () {
        return ce(ce({}, t), {}, { notFoundContent: g, open: Se, triggerOpen: Ve, id: i, showSearch: Fe, multiple: we, toggleOpen: Ke });
      },
      [t, g, Ve, Se, i, Fe, we, Ke],
    ),
    ot = A !== void 0 ? A : T || (!we && _ !== 'combobox'),
    Qe;
  ot &&
    (Qe = v.createElement(Fc, {
      className: $e(''.concat(o, '-arrow'), De({}, ''.concat(o, '-arrow-loading'), T)),
      customizeIcon: k,
      customizeIconProps: { loading: T, searchValue: ct, open: Se, focused: Ye, showSearch: Fe },
    }));
  var nt,
    Lt = function () {
      var Ze;
      b == null || b(), (Ze = _t.current) === null || Ze === void 0 || Ze.focus(), f([], { type: 'clear', values: d }), R('', !1, !1);
    };
  !y && F && (d.length || ct) && !(_ === 'combobox' && ct === '') && (nt = v.createElement(Fc, { className: ''.concat(o, '-clear'), onMouseDown: Lt, customizeIcon: U }, '×'));
  var Qt = v.createElement(X, { ref: St }),
    st = $e(
      o,
      a,
      ((r = {}),
      De(r, ''.concat(o, '-focused'), Ye),
      De(r, ''.concat(o, '-multiple'), we),
      De(r, ''.concat(o, '-single'), !we),
      De(r, ''.concat(o, '-allow-clear'), F),
      De(r, ''.concat(o, '-show-arrow'), ot),
      De(r, ''.concat(o, '-disabled'), y),
      De(r, ''.concat(o, '-loading'), T),
      De(r, ''.concat(o, '-open'), Se),
      De(r, ''.concat(o, '-customize-input'), At),
      De(r, ''.concat(o, '-show-search'), Fe),
      r),
    ),
    Et = v.createElement(
      P4,
      {
        ref: kt,
        disabled: y,
        prefixCls: o,
        visible: Ve,
        popupElement: Qt,
        containerWidth: ye,
        animation: Q,
        transitionName: W,
        dropdownStyle: Y,
        dropdownClassName: ne,
        direction: u,
        dropdownMatchSelectWidth: te,
        dropdownRender: K,
        dropdownAlign: ee,
        placement: oe,
        builtinPlacements: de,
        getPopupContainer: me,
        empty: h,
        getTriggerDOMNode: function () {
          return $t.current;
        },
        onPopupVisibleChange: Ae,
        onPopupMouseEnter: gt,
      },
      Xt
        ? v.cloneElement(Xt, { ref: un })
        : v.createElement(
            I4,
            pt({}, t, {
              domRef: $t,
              prefixCls: o,
              inputElement: At,
              ref: _t,
              id: i,
              showSearch: Fe,
              autoClearSearchValue: B,
              mode: _,
              activeDescendantId: G,
              tagRender: l,
              values: d,
              open: Se,
              onToggleOpen: Ke,
              activeValue: D,
              searchValue: ct,
              onSearch: R,
              onSearchSubmit: S,
              onRemove: Z,
              tokenWithEnter: xt,
            }),
          ),
    ),
    Ut;
  return (
    Xt
      ? (Ut = Et)
      : (Ut = v.createElement(
          'div',
          pt({ className: st }, ft, { ref: jt, onMouseDown: ae, onKeyDown: $, onKeyUp: j, onFocus: re, onBlur: se }),
          Ye &&
            !Se &&
            v.createElement(
              'span',
              { style: { width: 0, height: 0, position: 'absolute', overflow: 'hidden', opacity: 0 }, 'aria-live': 'polite' },
              ''.concat(
                d
                  .map(function (qe) {
                    var Ze = qe.label,
                      Ft = qe.value;
                    return ['number', 'string'].includes(wt(Ze)) ? Ze : Ft;
                  })
                  .join(', '),
              ),
            ),
          Et,
          Qe,
          nt,
        )),
    v.createElement(x4.Provider, { value: We }, Ut)
  );
});
const eC = function (t, e) {
  var n = v.useRef({ values: new Map(), options: new Map() }),
    r = v.useMemo(
      function () {
        var o = n.current,
          a = o.values,
          s = o.options,
          l = t.map(function (d) {
            if (d.label === void 0) {
              var f;
              return ce(ce({}, d), {}, { label: (f = a.get(d.value)) === null || f === void 0 ? void 0 : f.label });
            }
            return d;
          }),
          u = new Map(),
          c = new Map();
        return (
          l.forEach(function (d) {
            u.set(d.value, d), c.set(d.value, e.get(d.value) || s.get(d.value));
          }),
          (n.current.values = u),
          (n.current.options = c),
          l
        );
      },
      [t, e],
    ),
    i = v.useCallback(
      function (o) {
        return e.get(o) || n.current.options.get(o);
      },
      [e],
    );
  return [r, i];
};
function Cf(t, e) {
  return A4(t).join('').toUpperCase().includes(e);
}
const tC = function (t, e, n, r, i) {
  return v.useMemo(
    function () {
      if (!n || r === !1) return t;
      var o = e.options,
        a = e.label,
        s = e.value,
        l = [],
        u = typeof r == 'function',
        c = n.toUpperCase(),
        d = u
          ? r
          : function (h, m) {
              return i ? Cf(m[i], c) : m[o] ? Cf(m[a !== 'children' ? a : 'label'], c) : Cf(m[s], c);
            },
        f = u
          ? function (h) {
              return B0(h);
            }
          : function (h) {
              return h;
            };
      return (
        t.forEach(function (h) {
          if (h[o]) {
            var m = d(n, f(h));
            if (m) l.push(h);
            else {
              var g = h[o].filter(function (b) {
                return d(n, f(b));
              });
              g.length && l.push(ce(ce({}, h), {}, De({}, o, g)));
            }
            return;
          }
          d(n, f(h)) && l.push(h);
        }),
        l
      );
    },
    [t, r, i, n, e],
  );
};
var bv = 0,
  nC = Sr();
function rC() {
  var t;
  return nC ? ((t = bv), (bv += 1)) : (t = 'TEST_OR_SSR'), t;
}
function iC(t) {
  var e = v.useState(),
    n = ve(e, 2),
    r = n[0],
    i = n[1];
  return (
    v.useEffect(function () {
      i('rc_select_'.concat(rC()));
    }, []),
    t || r
  );
}
var oC = ['children', 'value'],
  aC = ['children'];
function sC(t) {
  var e = t,
    n = e.key,
    r = e.props,
    i = r.children,
    o = r.value,
    a = Zt(r, oC);
  return ce({ key: n, value: o !== void 0 ? o : n, children: i }, a);
}
function k4(t) {
  var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1;
  return gl(t)
    .map(function (n, r) {
      if (!v.isValidElement(n) || !n.type) return null;
      var i = n,
        o = i.type.isSelectOptGroup,
        a = i.key,
        s = i.props,
        l = s.children,
        u = Zt(s, aC);
      return e || !o ? sC(n) : ce(ce({ key: '__RC_SELECT_GRP__'.concat(a === null ? r : a, '__'), label: a }, u), {}, { options: k4(l) });
    })
    .filter(function (n) {
      return n;
    });
}
function lC(t, e, n, r, i) {
  return v.useMemo(
    function () {
      var o = t,
        a = !t;
      a && (o = k4(e));
      var s = new Map(),
        l = new Map(),
        u = function (f, h, m) {
          m && typeof m == 'string' && f.set(h[m], h);
        };
      function c(d) {
        for (var f = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1, h = 0; h < d.length; h += 1) {
          var m = d[h];
          !m[n.options] || f ? (s.set(m[n.value], m), u(l, m, n.label), u(l, m, r), u(l, m, i)) : c(m[n.options], !0);
        }
      }
      return c(o), { options: o, valueOptions: s, labelOptions: l };
    },
    [t, e, n, r, i],
  );
}
function xv(t) {
  var e = v.useRef();
  e.current = t;
  var n = v.useCallback(function () {
    return e.current.apply(e, arguments);
  }, []);
  return n;
}
var wp = function () {
  return null;
};
wp.isSelectOptGroup = !0;
var Cp = function () {
  return null;
};
Cp.isSelectOption = !0;
var M4 = v.forwardRef(function (t, e) {
  var n = t.height,
    r = t.offset,
    i = t.children,
    o = t.prefixCls,
    a = t.onInnerResize,
    s = t.innerProps,
    l = {},
    u = { display: 'flex', flexDirection: 'column' };
  return (
    r !== void 0 &&
      ((l = { height: n, position: 'relative', overflow: 'hidden' }), (u = ce(ce({}, u), {}, { transform: 'translateY('.concat(r, 'px)'), position: 'absolute', left: 0, right: 0, top: 0 }))),
    v.createElement(
      'div',
      { style: l },
      v.createElement(
        Go,
        {
          onResize: function (d) {
            var f = d.offsetHeight;
            f && a && a();
          },
        },
        v.createElement('div', pt({ style: u, className: $e(De({}, ''.concat(o, '-holder-inner'), o)), ref: e }, s), i),
      ),
    )
  );
});
M4.displayName = 'Filler';
var uC = 20;
function Tv(t) {
  return 'touches' in t ? t.touches[0].pageY : t.pageY;
}
var cC = (function (t) {
  Dl(n, t);
  var e = Pl(n);
  function n() {
    var r;
    $r(this, n);
    for (var i = arguments.length, o = new Array(i), a = 0; a < i; a++) o[a] = arguments[a];
    return (
      (r = e.call.apply(e, [this].concat(o))),
      (r.moveRaf = null),
      (r.scrollbarRef = v.createRef()),
      (r.thumbRef = v.createRef()),
      (r.visibleTimeout = null),
      (r.state = { dragging: !1, pageY: null, startTop: null, visible: !1 }),
      (r.delayHidden = function () {
        clearTimeout(r.visibleTimeout),
          r.setState({ visible: !0 }),
          (r.visibleTimeout = setTimeout(function () {
            r.setState({ visible: !1 });
          }, 2e3));
      }),
      (r.onScrollbarTouchStart = function (s) {
        s.preventDefault();
      }),
      (r.onContainerMouseDown = function (s) {
        s.stopPropagation(), s.preventDefault();
      }),
      (r.patchEvents = function () {
        window.addEventListener('mousemove', r.onMouseMove),
          window.addEventListener('mouseup', r.onMouseUp),
          r.thumbRef.current.addEventListener('touchmove', r.onMouseMove),
          r.thumbRef.current.addEventListener('touchend', r.onMouseUp);
      }),
      (r.removeEvents = function () {
        var s;
        window.removeEventListener('mousemove', r.onMouseMove),
          window.removeEventListener('mouseup', r.onMouseUp),
          (s = r.scrollbarRef.current) === null || s === void 0 || s.removeEventListener('touchstart', r.onScrollbarTouchStart),
          r.thumbRef.current &&
            (r.thumbRef.current.removeEventListener('touchstart', r.onMouseDown),
            r.thumbRef.current.removeEventListener('touchmove', r.onMouseMove),
            r.thumbRef.current.removeEventListener('touchend', r.onMouseUp)),
          xn.cancel(r.moveRaf);
      }),
      (r.onMouseDown = function (s) {
        var l = r.props.onStartMove;
        r.setState({ dragging: !0, pageY: Tv(s), startTop: r.getTop() }), l(), r.patchEvents(), s.stopPropagation(), s.preventDefault();
      }),
      (r.onMouseMove = function (s) {
        var l = r.state,
          u = l.dragging,
          c = l.pageY,
          d = l.startTop,
          f = r.props.onScroll;
        if ((xn.cancel(r.moveRaf), u)) {
          var h = Tv(s) - c,
            m = d + h,
            g = r.getEnableScrollRange(),
            b = r.getEnableHeightRange(),
            _ = b ? m / b : 0,
            y = Math.ceil(_ * g);
          r.moveRaf = xn(function () {
            f(y);
          });
        }
      }),
      (r.onMouseUp = function () {
        var s = r.props.onStopMove;
        r.setState({ dragging: !1 }), s(), r.removeEvents();
      }),
      (r.getSpinHeight = function () {
        var s = r.props,
          l = s.height,
          u = s.count,
          c = (l / u) * 10;
        return (c = Math.max(c, uC)), (c = Math.min(c, l / 2)), Math.floor(c);
      }),
      (r.getEnableScrollRange = function () {
        var s = r.props,
          l = s.scrollHeight,
          u = s.height;
        return l - u || 0;
      }),
      (r.getEnableHeightRange = function () {
        var s = r.props.height,
          l = r.getSpinHeight();
        return s - l || 0;
      }),
      (r.getTop = function () {
        var s = r.props.scrollTop,
          l = r.getEnableScrollRange(),
          u = r.getEnableHeightRange();
        if (s === 0 || l === 0) return 0;
        var c = s / l;
        return c * u;
      }),
      (r.showScroll = function () {
        var s = r.props,
          l = s.height,
          u = s.scrollHeight;
        return u > l;
      }),
      r
    );
  }
  return (
    Br(n, [
      {
        key: 'componentDidMount',
        value: function () {
          this.scrollbarRef.current.addEventListener('touchstart', this.onScrollbarTouchStart), this.thumbRef.current.addEventListener('touchstart', this.onMouseDown);
        },
      },
      {
        key: 'componentDidUpdate',
        value: function (i) {
          i.scrollTop !== this.props.scrollTop && this.delayHidden();
        },
      },
      {
        key: 'componentWillUnmount',
        value: function () {
          this.removeEvents(), clearTimeout(this.visibleTimeout);
        },
      },
      {
        key: 'render',
        value: function () {
          var i = this.state,
            o = i.dragging,
            a = i.visible,
            s = this.props,
            l = s.prefixCls,
            u = s.direction,
            c = this.getSpinHeight(),
            d = this.getTop(),
            f = this.showScroll(),
            h = f && a,
            m = u === 'rtl' ? { left: 0 } : { right: 0 };
          return v.createElement(
            'div',
            {
              ref: this.scrollbarRef,
              className: $e(''.concat(l, '-scrollbar'), De({}, ''.concat(l, '-scrollbar-show'), f)),
              style: ce(ce({ width: 8, top: 0, bottom: 0 }, m), {}, { position: 'absolute', display: h ? null : 'none' }),
              onMouseDown: this.onContainerMouseDown,
              onMouseMove: this.delayHidden,
            },
            v.createElement('div', {
              ref: this.thumbRef,
              className: $e(''.concat(l, '-scrollbar-thumb'), De({}, ''.concat(l, '-scrollbar-thumb-moving'), o)),
              style: { width: '100%', height: c, top: d, left: 0, position: 'absolute', background: 'rgba(0, 0, 0, 0.5)', borderRadius: 99, cursor: 'pointer', userSelect: 'none' },
              onMouseDown: this.onMouseDown,
            }),
          );
        },
      },
    ]),
    n
  );
})(v.Component);
function dC(t) {
  var e = t.children,
    n = t.setRef,
    r = v.useCallback(function (i) {
      n(i);
    }, []);
  return v.cloneElement(e, { ref: r });
}
function fC(t, e, n, r, i, o) {
  var a = o.getKey;
  return t.slice(e, n + 1).map(function (s, l) {
    var u = e + l,
      c = i(s, u, {}),
      d = a(s);
    return v.createElement(
      dC,
      {
        key: d,
        setRef: function (h) {
          return r(s, h);
        },
      },
      c,
    );
  });
}
var hC = (function () {
  function t() {
    $r(this, t), (this.maps = void 0), (this.maps = Object.create(null));
  }
  return (
    Br(t, [
      {
        key: 'set',
        value: function (n, r) {
          this.maps[n] = r;
        },
      },
      {
        key: 'get',
        value: function (n) {
          return this.maps[n];
        },
      },
    ]),
    t
  );
})();
function mC(t, e, n) {
  var r = v.useState(0),
    i = ve(r, 2),
    o = i[0],
    a = i[1],
    s = v.useRef(new Map()),
    l = v.useRef(new hC()),
    u = v.useRef();
  function c() {
    xn.cancel(u.current);
  }
  function d() {
    c(),
      (u.current = xn(function () {
        s.current.forEach(function (h, m) {
          if (h && h.offsetParent) {
            var g = Ec(h),
              b = g.offsetHeight;
            l.current.get(m) !== b && l.current.set(m, g.offsetHeight);
          }
        }),
          a(function (h) {
            return h + 1;
          });
      }));
  }
  function f(h, m) {
    var g = t(h),
      b = s.current.get(g);
    m ? (s.current.set(g, m), d()) : s.current.delete(g), !b != !m && (m ? e == null || e(h) : n == null || n(h));
  }
  return (
    v.useEffect(function () {
      return c;
    }, []),
    [f, d, l.current, o]
  );
}
function pC(t, e, n, r, i, o, a, s) {
  var l = v.useRef();
  return function (u) {
    if (u == null) {
      s();
      return;
    }
    if ((xn.cancel(l.current), typeof u == 'number')) a(u);
    else if (u && wt(u) === 'object') {
      var c,
        d = u.align;
      'index' in u
        ? (c = u.index)
        : (c = e.findIndex(function (g) {
            return i(g) === u.key;
          }));
      var f = u.offset,
        h = f === void 0 ? 0 : f,
        m = function g(b, _) {
          if (!(b < 0 || !t.current)) {
            var y = t.current.clientHeight,
              T = !1,
              w = _;
            if (y) {
              for (var I = _ || d, O = 0, x = 0, L = 0, D = Math.min(e.length, c), C = 0; C <= D; C += 1) {
                var G = i(e[C]);
                x = O;
                var M = n.get(G);
                (L = x + (M === void 0 ? r : M)), (O = L), C === c && M === void 0 && (T = !0);
              }
              var B = null;
              switch (I) {
                case 'top':
                  B = x - h;
                  break;
                case 'bottom':
                  B = L - y + h;
                  break;
                default: {
                  var z = t.current.scrollTop,
                    H = z + y;
                  x < z ? (w = 'top') : L > H && (w = 'bottom');
                }
              }
              B !== null && B !== t.current.scrollTop && a(B);
            }
            l.current = xn(function () {
              T && o(), g(b - 1, w);
            }, 2);
          }
        };
      m(3);
    }
  };
}
function gC(t, e, n) {
  var r = t.length,
    i = e.length,
    o,
    a;
  if (r === 0 && i === 0) return null;
  r < i ? ((o = t), (a = e)) : ((o = e), (a = t));
  var s = { __EMPTY_ITEM__: !0 };
  function l(m) {
    return m !== void 0 ? n(m) : s;
  }
  for (var u = null, c = Math.abs(r - i) !== 1, d = 0; d < a.length; d += 1) {
    var f = l(o[d]),
      h = l(a[d]);
    if (f !== h) {
      (u = d), (c = c || f !== l(a[d + 1]));
      break;
    }
  }
  return u === null ? null : { index: u, multiple: c };
}
function vC(t, e, n) {
  var r = v.useState(t),
    i = ve(r, 2),
    o = i[0],
    a = i[1],
    s = v.useState(null),
    l = ve(s, 2),
    u = l[0],
    c = l[1];
  return (
    v.useEffect(
      function () {
        var d = gC(o || [], t || [], e);
        (d == null ? void 0 : d.index) !== void 0 && (n == null || n(d.index), c(t[d.index])), a(t);
      },
      [t],
    ),
    [u]
  );
}
var yC = (typeof navigator > 'u' ? 'undefined' : wt(navigator)) === 'object' && /Firefox/i.test(navigator.userAgent);
const F4 = function (t, e) {
  var n = v.useRef(!1),
    r = v.useRef(null);
  function i() {
    clearTimeout(r.current),
      (n.current = !0),
      (r.current = setTimeout(function () {
        n.current = !1;
      }, 50));
  }
  var o = v.useRef({ top: t, bottom: e });
  return (
    (o.current.top = t),
    (o.current.bottom = e),
    function (a) {
      var s = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1,
        l = (a < 0 && o.current.top) || (a > 0 && o.current.bottom);
      return s && l ? (clearTimeout(r.current), (n.current = !1)) : (!l || n.current) && i(), !n.current && l;
    }
  );
};
function _C(t, e, n, r) {
  var i = v.useRef(0),
    o = v.useRef(null),
    a = v.useRef(null),
    s = v.useRef(!1),
    l = F4(e, n);
  function u(d) {
    if (t) {
      xn.cancel(o.current);
      var f = d.deltaY;
      (i.current += f),
        (a.current = f),
        !l(f) &&
          (yC || d.preventDefault(),
          (o.current = xn(function () {
            var h = s.current ? 10 : 1;
            r(i.current * h), (i.current = 0);
          })));
    }
  }
  function c(d) {
    t && (s.current = d.detail === a.current);
  }
  return [u, c];
}
var SC = 14 / 15;
function EC(t, e, n) {
  var r = v.useRef(!1),
    i = v.useRef(0),
    o = v.useRef(null),
    a = v.useRef(null),
    s,
    l = function (f) {
      if (r.current) {
        var h = Math.ceil(f.touches[0].pageY),
          m = i.current - h;
        (i.current = h),
          n(m) && f.preventDefault(),
          clearInterval(a.current),
          (a.current = setInterval(function () {
            (m *= SC), (!n(m, !0) || Math.abs(m) <= 0.1) && clearInterval(a.current);
          }, 16));
      }
    },
    u = function () {
      (r.current = !1), s();
    },
    c = function (f) {
      s(),
        f.touches.length === 1 &&
          !r.current &&
          ((r.current = !0), (i.current = Math.ceil(f.touches[0].pageY)), (o.current = f.target), o.current.addEventListener('touchmove', l), o.current.addEventListener('touchend', u));
    };
  (s = function () {
    o.current && (o.current.removeEventListener('touchmove', l), o.current.removeEventListener('touchend', u));
  }),
    gn(
      function () {
        return (
          t && e.current.addEventListener('touchstart', c),
          function () {
            var d;
            (d = e.current) === null || d === void 0 || d.removeEventListener('touchstart', c), s(), clearInterval(a.current);
          }
        );
      },
      [t],
    );
}
var bC = ['prefixCls', 'className', 'height', 'itemHeight', 'fullHeight', 'style', 'data', 'children', 'itemKey', 'virtual', 'direction', 'component', 'onScroll', 'onVisibleChange', 'innerProps'],
  xC = [],
  TC = { overflowY: 'auto', overflowAnchor: 'none' };
function wC(t, e) {
  var n = t.prefixCls,
    r = n === void 0 ? 'rc-virtual-list' : n,
    i = t.className,
    o = t.height,
    a = t.itemHeight,
    s = t.fullHeight,
    l = s === void 0 ? !0 : s,
    u = t.style,
    c = t.data,
    d = t.children,
    f = t.itemKey,
    h = t.virtual,
    m = t.direction,
    g = t.component,
    b = g === void 0 ? 'div' : g,
    _ = t.onScroll,
    y = t.onVisibleChange,
    T = t.innerProps,
    w = Zt(t, bC),
    I = !!(h !== !1 && o && a),
    O = I && c && a * c.length > o,
    x = v.useState(0),
    L = ve(x, 2),
    D = L[0],
    C = L[1],
    G = v.useState(!1),
    M = ve(G, 2),
    B = M[0],
    z = M[1],
    H = $e(r, De({}, ''.concat(r, '-rtl'), m === 'rtl'), i),
    q = c || xC,
    F = v.useRef(),
    A = v.useRef(),
    k = v.useRef(),
    U = v.useCallback(
      function (Ye) {
        return typeof f == 'function' ? f(Ye) : Ye == null ? void 0 : Ye[f];
      },
      [f],
    ),
    X = { getKey: U };
  function Q(Ye) {
    C(function (it) {
      var vt;
      typeof Ye == 'function' ? (vt = Ye(it)) : (vt = Ye);
      var ct = Fe(vt);
      return (F.current.scrollTop = ct), ct;
    });
  }
  var W = v.useRef({ start: 0, end: q.length }),
    Y = v.useRef(),
    ne = vC(q, U),
    te = ve(ne, 1),
    K = te[0];
  Y.current = K;
  var ee = mC(U, null, null),
    oe = ve(ee, 4),
    de = oe[0],
    me = oe[1],
    pe = oe[2],
    ge = oe[3],
    Le = v.useMemo(
      function () {
        if (!I) return { scrollHeight: void 0, start: 0, end: q.length - 1, offset: void 0 };
        if (!O) {
          var Ye;
          return { scrollHeight: ((Ye = A.current) === null || Ye === void 0 ? void 0 : Ye.offsetHeight) || 0, start: 0, end: q.length - 1, offset: void 0 };
        }
        for (var it = 0, vt, ct, At, Xt = q.length, un = 0; un < Xt; un += 1) {
          var yn = q[un],
            _n = U(yn),
            bt = pe.get(_n),
            tn = it + (bt === void 0 ? a : bt);
          tn >= D && vt === void 0 && ((vt = un), (ct = it)), tn > D + o && At === void 0 && (At = un), (it = tn);
        }
        return (
          vt === void 0 && ((vt = 0), (ct = 0), (At = Math.ceil(o / a))), At === void 0 && (At = q.length - 1), (At = Math.min(At + 1, q.length)), { scrollHeight: it, start: vt, end: At, offset: ct }
        );
      },
      [O, I, D, q, ge, o],
    ),
    Me = Le.scrollHeight,
    ze = Le.start,
    Ge = Le.end,
    Te = Le.offset;
  (W.current.start = ze), (W.current.end = Ge);
  var Ne = Me - o,
    we = v.useRef(Ne);
  we.current = Ne;
  function Fe(Ye) {
    var it = Ye;
    return Number.isNaN(we.current) || (it = Math.min(it, we.current)), (it = Math.max(it, 0)), it;
  }
  var ft = D <= 0,
    yt = D >= Ne,
    je = F4(ft, yt);
  function tt(Ye) {
    var it = Ye;
    Q(it);
  }
  function Rt(Ye) {
    var it = Ye.currentTarget.scrollTop;
    it !== D && Q(it), _ == null || _(Ye);
  }
  var jt = _C(I, ft, yt, function (Ye) {
      Q(function (it) {
        var vt = it + Ye;
        return vt;
      });
    }),
    $t = ve(jt, 2),
    kt = $t[0],
    _t = $t[1];
  EC(I, F, function (Ye, it) {
    return je(Ye, it) ? !1 : (kt({ preventDefault: function () {}, deltaY: Ye }), !0);
  }),
    gn(
      function () {
        function Ye(it) {
          I && it.preventDefault();
        }
        return (
          F.current.addEventListener('wheel', kt),
          F.current.addEventListener('DOMMouseScroll', _t),
          F.current.addEventListener('MozMousePixelScroll', Ye),
          function () {
            F.current && (F.current.removeEventListener('wheel', kt), F.current.removeEventListener('DOMMouseScroll', _t), F.current.removeEventListener('MozMousePixelScroll', Ye));
          }
        );
      },
      [I],
    );
  var St = pC(F, q, pe, a, U, me, Q, function () {
    var Ye;
    (Ye = k.current) === null || Ye === void 0 || Ye.delayHidden();
  });
  v.useImperativeHandle(e, function () {
    return { scrollTo: St };
  }),
    gn(
      function () {
        if (y) {
          var Ye = q.slice(ze, Ge + 1);
          y(Ye, q);
        }
      },
      [ze, Ge, q],
    );
  var Mt = fC(q, ze, Ge, de, d, X),
    Bt = null;
  return (
    o && ((Bt = ce(De({}, l ? 'height' : 'maxHeight', o), TC)), I && ((Bt.overflowY = 'hidden'), B && (Bt.pointerEvents = 'none'))),
    v.createElement(
      'div',
      pt({ style: ce(ce({}, u), {}, { position: 'relative' }), className: H }, w),
      v.createElement(
        b,
        { className: ''.concat(r, '-holder'), style: Bt, ref: F, onScroll: Rt },
        v.createElement(M4, { prefixCls: r, height: Me, offset: Te, onInnerResize: me, ref: A, innerProps: T }, Mt),
      ),
      I &&
        v.createElement(cC, {
          ref: k,
          prefixCls: r,
          scrollTop: D,
          height: o,
          scrollHeight: Me,
          count: q.length,
          direction: m,
          onScroll: tt,
          onStartMove: function () {
            z(!0);
          },
          onStopMove: function () {
            z(!1);
          },
        }),
    )
  );
}
var N4 = v.forwardRef(wC);
N4.displayName = 'List';
var $4 = v.createContext(null);
function CC() {
  return /(mac\sos|macintosh)/i.test(navigator.appVersion);
}
var RC = ['disabled', 'title', 'children', 'style', 'className'];
function wv(t) {
  return typeof t == 'string' || typeof t == 'number';
}
var AC = function (e, n) {
    var r = uw(),
      i = r.prefixCls,
      o = r.id,
      a = r.open,
      s = r.multiple,
      l = r.mode,
      u = r.searchValue,
      c = r.toggleOpen,
      d = r.notFoundContent,
      f = r.onPopupScroll,
      h = v.useContext($4),
      m = h.flattenOptions,
      g = h.onActiveValue,
      b = h.defaultActiveFirstOption,
      _ = h.onSelect,
      y = h.menuItemSelectedIcon,
      T = h.rawValues,
      w = h.fieldNames,
      I = h.virtual,
      O = h.direction,
      x = h.listHeight,
      L = h.listItemHeight,
      D = ''.concat(i, '-item'),
      C = yd(
        function () {
          return m;
        },
        [a, m],
        function (K, ee) {
          return ee[0] && K[1] !== ee[1];
        },
      ),
      G = v.useRef(null),
      M = function (ee) {
        ee.preventDefault();
      },
      B = function (ee) {
        G.current && G.current.scrollTo(typeof ee == 'number' ? { index: ee } : ee);
      },
      z = function (ee) {
        for (var oe = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1, de = C.length, me = 0; me < de; me += 1) {
          var pe = (ee + me * oe + de) % de,
            ge = C[pe],
            Le = ge.group,
            Me = ge.data;
          if (!Le && !Me.disabled) return pe;
        }
        return -1;
      },
      H = v.useState(function () {
        return z(0);
      }),
      q = ve(H, 2),
      F = q[0],
      A = q[1],
      k = function (ee) {
        var oe = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1;
        A(ee);
        var de = { source: oe ? 'keyboard' : 'mouse' },
          me = C[ee];
        if (!me) {
          g(null, -1, de);
          return;
        }
        g(me.value, ee, de);
      };
    v.useEffect(
      function () {
        k(b !== !1 ? z(0) : -1);
      },
      [C.length, u],
    );
    var U = v.useCallback(
      function (K) {
        return T.has(K) && l !== 'combobox';
      },
      [l, Ue(T).toString(), T.size],
    );
    v.useEffect(
      function () {
        var K = setTimeout(function () {
          if (!s && a && T.size === 1) {
            var oe = Array.from(T)[0],
              de = C.findIndex(function (me) {
                var pe = me.data;
                return pe.value === oe;
              });
            de !== -1 && (k(de), B(de));
          }
        });
        if (a) {
          var ee;
          (ee = G.current) === null || ee === void 0 || ee.scrollTo(void 0);
        }
        return function () {
          return clearTimeout(K);
        };
      },
      [a, u, m.length],
    );
    var X = function (ee) {
      ee !== void 0 && _(ee, { selected: !T.has(ee) }), s || c(!1);
    };
    if (
      (v.useImperativeHandle(n, function () {
        return {
          onKeyDown: function (ee) {
            var oe = ee.which,
              de = ee.ctrlKey;
            switch (oe) {
              case Ee.N:
              case Ee.P:
              case Ee.UP:
              case Ee.DOWN: {
                var me = 0;
                if ((oe === Ee.UP ? (me = -1) : oe === Ee.DOWN ? (me = 1) : CC() && de && (oe === Ee.N ? (me = 1) : oe === Ee.P && (me = -1)), me !== 0)) {
                  var pe = z(F + me, me);
                  B(pe), k(pe, !0);
                }
                break;
              }
              case Ee.ENTER: {
                var ge = C[F];
                ge && !ge.data.disabled ? X(ge.value) : X(void 0), a && ee.preventDefault();
                break;
              }
              case Ee.ESC:
                c(!1), a && ee.stopPropagation();
            }
          },
          onKeyUp: function () {},
          scrollTo: function (ee) {
            B(ee);
          },
        };
      }),
      C.length === 0)
    )
      return v.createElement('div', { role: 'listbox', id: ''.concat(o, '_list'), className: ''.concat(D, '-empty'), onMouseDown: M }, d);
    var Q = Object.keys(w).map(function (K) {
        return w[K];
      }),
      W = function (ee) {
        return ee.label;
      };
    function Y(K, ee) {
      var oe = K.group;
      return { role: oe ? 'presentation' : 'option', id: ''.concat(o, '_list_').concat(ee) };
    }
    var ne = function (ee) {
        var oe = C[ee];
        if (!oe) return null;
        var de = oe.data || {},
          me = de.value,
          pe = oe.group,
          ge = Ic(de, !0),
          Le = W(oe);
        return oe ? v.createElement('div', pt({ 'aria-label': typeof Le == 'string' && !pe ? Le : null }, ge, { key: ee }, Y(oe, ee), { 'aria-selected': U(me) }), me) : null;
      },
      te = { role: 'listbox', id: ''.concat(o, '_list') };
    return v.createElement(
      v.Fragment,
      null,
      I && v.createElement('div', pt({}, te, { style: { height: 0, width: 0, overflow: 'hidden' } }), ne(F - 1), ne(F), ne(F + 1)),
      v.createElement(
        N4,
        { itemKey: 'key', ref: G, data: C, height: x, itemHeight: L, fullHeight: !1, onMouseDown: M, onScroll: f, virtual: I, direction: O, innerProps: I ? null : te },
        function (K, ee) {
          var oe,
            de = K.group,
            me = K.groupOption,
            pe = K.data,
            ge = K.label,
            Le = K.value,
            Me = pe.key;
          if (de) {
            var ze,
              Ge = (ze = pe.title) !== null && ze !== void 0 ? ze : wv(ge) ? ge.toString() : void 0;
            return v.createElement('div', { className: $e(D, ''.concat(D, '-group')), title: Ge }, ge !== void 0 ? ge : Me);
          }
          var Te = pe.disabled,
            Ne = pe.title;
          pe.children;
          var we = pe.style,
            Fe = pe.className,
            ft = Zt(pe, RC),
            yt = kl(ft, Q),
            je = U(Le),
            tt = ''.concat(D, '-option'),
            Rt = $e(
              D,
              tt,
              Fe,
              ((oe = {}), De(oe, ''.concat(tt, '-grouped'), me), De(oe, ''.concat(tt, '-active'), F === ee && !Te), De(oe, ''.concat(tt, '-disabled'), Te), De(oe, ''.concat(tt, '-selected'), je), oe),
            ),
            jt = W(K),
            $t = !y || typeof y == 'function' || je,
            kt = typeof jt == 'number' ? jt : jt || Le,
            _t = wv(kt) ? kt.toString() : void 0;
          return (
            Ne !== void 0 && (_t = Ne),
            v.createElement(
              'div',
              pt({}, Ic(yt), I ? {} : Y(K, ee), {
                'aria-selected': je,
                className: Rt,
                title: _t,
                onMouseMove: function () {
                  F === ee || Te || k(ee);
                },
                onClick: function () {
                  Te || X(Le);
                },
                style: we,
              }),
              v.createElement('div', { className: ''.concat(tt, '-content') }, kt),
              v.isValidElement(y) || je,
              $t && v.createElement(Fc, { className: ''.concat(D, '-option-state'), customizeIcon: y, customizeIconProps: { isSelected: je } }, je ? '✓' : null),
            )
          );
        },
      ),
    );
  },
  B4 = v.forwardRef(AC);
B4.displayName = 'OptionList';
var LC = [
    'id',
    'mode',
    'prefixCls',
    'backfill',
    'fieldNames',
    'inputValue',
    'searchValue',
    'onSearch',
    'autoClearSearchValue',
    'onSelect',
    'onDeselect',
    'dropdownMatchSelectWidth',
    'filterOption',
    'filterSort',
    'optionFilterProp',
    'optionLabelProp',
    'options',
    'children',
    'defaultActiveFirstOption',
    'menuItemSelectedIcon',
    'virtual',
    'direction',
    'listHeight',
    'listItemHeight',
    'value',
    'defaultValue',
    'labelInValue',
    'onChange',
  ],
  IC = ['inputValue'];
function DC(t) {
  return !t || wt(t) !== 'object';
}
var PC = v.forwardRef(function (t, e) {
    var n = t.id,
      r = t.mode,
      i = t.prefixCls,
      o = i === void 0 ? 'rc-select' : i,
      a = t.backfill,
      s = t.fieldNames,
      l = t.inputValue,
      u = t.searchValue,
      c = t.onSearch,
      d = t.autoClearSearchValue,
      f = d === void 0 ? !0 : d,
      h = t.onSelect,
      m = t.onDeselect,
      g = t.dropdownMatchSelectWidth,
      b = g === void 0 ? !0 : g,
      _ = t.filterOption,
      y = t.filterSort,
      T = t.optionFilterProp,
      w = t.optionLabelProp,
      I = t.options,
      O = t.children,
      x = t.defaultActiveFirstOption,
      L = t.menuItemSelectedIcon,
      D = t.virtual,
      C = t.direction,
      G = t.listHeight,
      M = G === void 0 ? 200 : G,
      B = t.listItemHeight,
      z = B === void 0 ? 20 : B,
      H = t.value,
      q = t.defaultValue,
      F = t.labelInValue,
      A = t.onChange,
      k = Zt(t, LC),
      U = iC(n),
      X = U0(r),
      Q = !!(!I && O),
      W = v.useMemo(
        function () {
          return _ === void 0 && r === 'combobox' ? !1 : _;
        },
        [_, r],
      ),
      Y = v.useMemo(
        function () {
          return O4(s, Q);
        },
        [JSON.stringify(s), Q],
      ),
      ne = Ni('', {
        value: u !== void 0 ? u : l,
        postState: function (Se) {
          return Se || '';
        },
      }),
      te = ve(ne, 2),
      K = te[0],
      ee = te[1],
      oe = lC(I, O, Y, T, w),
      de = oe.valueOptions,
      me = oe.labelOptions,
      pe = oe.options,
      ge = v.useCallback(
        function (Ce) {
          var Se = A4(Ce);
          return Se.map(function (ke) {
            var Ve, Ke, xt, R, S;
            if (DC(ke)) Ve = ke;
            else {
              var E;
              (xt = ke.key), (Ke = ke.label), (Ve = (E = ke.value) !== null && E !== void 0 ? E : xt);
            }
            var p = de.get(Ve);
            if (p) {
              var P;
              Ke === void 0 && (Ke = p == null ? void 0 : p[w || Y.label]),
                xt === void 0 && (xt = (P = p == null ? void 0 : p.key) !== null && P !== void 0 ? P : Ve),
                (R = p == null ? void 0 : p.disabled),
                (S = p == null ? void 0 : p.title);
            }
            return { label: Ke, value: Ve, key: xt, disabled: R, title: S };
          });
        },
        [Y, w, de],
      ),
      Le = Ni(q, { value: H }),
      Me = ve(Le, 2),
      ze = Me[0],
      Ge = Me[1],
      Te = v.useMemo(
        function () {
          var Ce,
            Se = ge(ze);
          return r === 'combobox' && !((Ce = Se[0]) !== null && Ce !== void 0 && Ce.value) ? [] : Se;
        },
        [ze, ge, r],
      ),
      Ne = eC(Te, de),
      we = ve(Ne, 2),
      Fe = we[0],
      ft = we[1],
      yt = v.useMemo(
        function () {
          if (!r && Fe.length === 1) {
            var Ce = Fe[0];
            if (Ce.value === null && (Ce.label === null || Ce.label === void 0)) return [];
          }
          return Fe.map(function (Se) {
            var ke;
            return ce(ce({}, Se), {}, { label: (ke = Se.label) !== null && ke !== void 0 ? ke : Se.value });
          });
        },
        [r, Fe],
      ),
      je = v.useMemo(
        function () {
          return new Set(
            Fe.map(function (Ce) {
              return Ce.value;
            }),
          );
        },
        [Fe],
      );
    v.useEffect(
      function () {
        if (r === 'combobox') {
          var Ce,
            Se = (Ce = Fe[0]) === null || Ce === void 0 ? void 0 : Ce.value;
          ee(Cw(Se) ? String(Se) : '');
        }
      },
      [Fe],
    );
    var tt = xv(function (Ce, Se) {
        var ke,
          Ve = Se ?? Ce;
        return (ke = {}), De(ke, Y.value, Ce), De(ke, Y.label, Ve), ke;
      }),
      Rt = v.useMemo(
        function () {
          if (r !== 'tags') return pe;
          var Ce = Ue(pe),
            Se = function (Ve) {
              return de.has(Ve);
            };
          return (
            Ue(Fe)
              .sort(function (ke, Ve) {
                return ke.value < Ve.value ? -1 : 1;
              })
              .forEach(function (ke) {
                var Ve = ke.value;
                Se(Ve) || Ce.push(tt(Ve, ke.label));
              }),
            Ce
          );
        },
        [tt, pe, de, Fe, r],
      ),
      jt = tC(Rt, Y, K, W, T),
      $t = v.useMemo(
        function () {
          return r !== 'tags' ||
            !K ||
            jt.some(function (Ce) {
              return Ce[T || 'value'] === K;
            })
            ? jt
            : [tt(K)].concat(Ue(jt));
        },
        [tt, T, r, jt, K],
      ),
      kt = v.useMemo(
        function () {
          return y
            ? Ue($t).sort(function (Ce, Se) {
                return y(Ce, Se);
              })
            : $t;
        },
        [$t, y],
      ),
      _t = v.useMemo(
        function () {
          return Yw(kt, { fieldNames: Y, childrenAsData: Q });
        },
        [kt, Y, Q],
      ),
      St = function (Se) {
        var ke = ge(Se);
        if (
          (Ge(ke),
          A &&
            (ke.length !== Fe.length ||
              ke.some(function (xt, R) {
                var S;
                return ((S = Fe[R]) === null || S === void 0 ? void 0 : S.value) !== (xt == null ? void 0 : xt.value);
              })))
        ) {
          var Ve = F
              ? ke
              : ke.map(function (xt) {
                  return xt.value;
                }),
            Ke = ke.map(function (xt) {
              return B0(ft(xt.value));
            });
          A(X ? Ve : Ve[0], X ? Ke : Ke[0]);
        }
      },
      Mt = v.useState(null),
      Bt = ve(Mt, 2),
      Ye = Bt[0],
      it = Bt[1],
      vt = v.useState(0),
      ct = ve(vt, 2),
      At = ct[0],
      Xt = ct[1],
      un = x !== void 0 ? x : r !== 'combobox',
      yn = v.useCallback(
        function (Ce, Se) {
          var ke = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {},
            Ve = ke.source,
            Ke = Ve === void 0 ? 'keyboard' : Ve;
          Xt(Se), a && r === 'combobox' && Ce !== null && Ke === 'keyboard' && it(String(Ce));
        },
        [a, r],
      ),
      _n = function (Se, ke, Ve) {
        var Ke = function () {
          var Z,
            J = ft(Se);
          return [F ? { label: J == null ? void 0 : J[Y.label], value: Se, key: (Z = J == null ? void 0 : J.key) !== null && Z !== void 0 ? Z : Se } : Se, B0(J)];
        };
        if (ke && h) {
          var xt = Ke(),
            R = ve(xt, 2),
            S = R[0],
            E = R[1];
          h(S, E);
        } else if (!ke && m && Ve !== 'clear') {
          var p = Ke(),
            P = ve(p, 2),
            N = P[0],
            $ = P[1];
          m(N, $);
        }
      },
      bt = xv(function (Ce, Se) {
        var ke,
          Ve = X ? Se.selected : !0;
        Ve
          ? (ke = X ? [].concat(Ue(Fe), [Ce]) : [Ce])
          : (ke = Fe.filter(function (Ke) {
              return Ke.value !== Ce;
            })),
          St(ke),
          _n(Ce, Ve),
          r === 'combobox' ? it('') : (!U0 || f) && (ee(''), it(''));
      }),
      tn = function (Se, ke) {
        St(Se);
        var Ve = ke.type,
          Ke = ke.values;
        (Ve === 'remove' || Ve === 'clear') &&
          Ke.forEach(function (xt) {
            _n(xt.value, !1, Ve);
          });
      },
      kn = function (Se, ke) {
        if ((ee(Se), it(null), ke.source === 'submit')) {
          var Ve = (Se || '').trim();
          if (Ve) {
            var Ke = Array.from(new Set([].concat(Ue(je), [Ve])));
            St(Ke), _n(Ve, !0), ee('');
          }
          return;
        }
        ke.source !== 'blur' && (r === 'combobox' && St(Se), c == null || c(Se));
      },
      Mn = function (Se) {
        var ke = Se;
        r !== 'tags' &&
          (ke = Se.map(function (Ke) {
            var xt = me.get(Ke);
            return xt == null ? void 0 : xt.value;
          }).filter(function (Ke) {
            return Ke !== void 0;
          }));
        var Ve = Array.from(new Set([].concat(Ue(je), Ue(ke))));
        St(Ve),
          Ve.forEach(function (Ke) {
            _n(Ke, !0);
          });
      },
      Xe = v.useMemo(
        function () {
          var Ce = D !== !1 && b !== !1;
          return ce(
            ce({}, oe),
            {},
            {
              flattenOptions: _t,
              onActiveValue: yn,
              defaultActiveFirstOption: un,
              onSelect: bt,
              menuItemSelectedIcon: L,
              rawValues: je,
              fieldNames: Y,
              virtual: Ce,
              direction: C,
              listHeight: M,
              listItemHeight: z,
              childrenAsData: Q,
            },
          );
        },
        [oe, _t, yn, un, bt, L, je, Y, D, b, M, z, Q],
      );
    return v.createElement(
      $4.Provider,
      { value: Xe },
      v.createElement(
        Jw,
        pt({}, k, {
          id: U,
          prefixCls: o,
          ref: e,
          omitDomProps: IC,
          mode: r,
          displayValues: yt,
          onDisplayValuesChange: tn,
          direction: C,
          searchValue: K,
          onSearch: kn,
          autoClearSearchValue: f,
          onSearchSplit: Mn,
          dropdownMatchSelectWidth: b,
          OptionList: B4,
          emptyOptions: !_t.length,
          activeValue: Ye,
          activeDescendantId: ''.concat(U, '_list_').concat(At),
        }),
      ),
    );
  }),
  Rp = PC;
Rp.Option = Cp;
Rp.OptGroup = wp;
function za(t, e, n) {
  return $e({
    [`${t}-status-success`]: e === 'success',
    [`${t}-status-warning`]: e === 'warning',
    [`${t}-status-error`]: e === 'error',
    [`${t}-status-validating`]: e === 'validating',
    [`${t}-has-feedback`]: n,
  });
}
const Ap = (t, e) => e || t,
  OC = () => {
    const [, t] = qo(),
      n = new Rn(t.colorBgBase).toHsl().l < 0.5 ? { opacity: 0.65 } : {};
    return v.createElement(
      'svg',
      { style: n, width: '184', height: '152', viewBox: '0 0 184 152', xmlns: 'http://www.w3.org/2000/svg' },
      v.createElement(
        'g',
        { fill: 'none', fillRule: 'evenodd' },
        v.createElement(
          'g',
          { transform: 'translate(24 31.67)' },
          v.createElement('ellipse', { fillOpacity: '.8', fill: '#F5F5F7', cx: '67.797', cy: '106.89', rx: '67.797', ry: '12.668' }),
          v.createElement('path', {
            d: 'M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z',
            fill: '#AEB8C2',
          }),
          v.createElement('path', {
            d: 'M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z',
            fill: 'url(#linearGradient-1)',
            transform: 'translate(13.56)',
          }),
          v.createElement('path', { d: 'M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z', fill: '#F5F5F7' }),
          v.createElement('path', {
            d: 'M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z',
            fill: '#DCE0E6',
          }),
        ),
        v.createElement('path', {
          d: 'M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z',
          fill: '#DCE0E6',
        }),
        v.createElement(
          'g',
          { transform: 'translate(149.65 15.383)', fill: '#FFF' },
          v.createElement('ellipse', { cx: '20.654', cy: '3.167', rx: '2.849', ry: '2.815' }),
          v.createElement('path', { d: 'M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z' }),
        ),
      ),
    );
  },
  kC = OC,
  MC = () => {
    const [, t] = qo(),
      { colorFill: e, colorFillTertiary: n, colorFillQuaternary: r, colorBgContainer: i } = t,
      {
        borderColor: o,
        shadowColor: a,
        contentColor: s,
      } = v.useMemo(
        () => ({ borderColor: new Rn(e).onBackground(i).toHexShortString(), shadowColor: new Rn(n).onBackground(i).toHexShortString(), contentColor: new Rn(r).onBackground(i).toHexShortString() }),
        [e, n, r, i],
      );
    return v.createElement(
      'svg',
      { width: '64', height: '41', viewBox: '0 0 64 41', xmlns: 'http://www.w3.org/2000/svg' },
      v.createElement(
        'g',
        { transform: 'translate(0 1)', fill: 'none', fillRule: 'evenodd' },
        v.createElement('ellipse', { fill: a, cx: '32', cy: '33', rx: '32', ry: '7' }),
        v.createElement(
          'g',
          { fillRule: 'nonzero', stroke: o },
          v.createElement('path', { d: 'M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z' }),
          v.createElement('path', {
            d: 'M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z',
            fill: s,
          }),
        ),
      ),
    );
  },
  FC = MC,
  NC = (t) => {
    const { componentCls: e, margin: n, marginXS: r, marginXL: i, fontSize: o, lineHeight: a } = t;
    return {
      [e]: {
        marginInline: r,
        fontSize: o,
        lineHeight: a,
        textAlign: 'center',
        [`${e}-image`]: { height: t.emptyImgHeight, marginBottom: r, opacity: t.opacityImage, img: { height: '100%' }, svg: { maxWidth: '100%', height: '100%', margin: 'auto' } },
        [`${e}-description`]: { color: t.colorText },
        [`${e}-footer`]: { marginTop: n },
        '&-normal': { marginBlock: i, color: t.colorTextDisabled, [`${e}-description`]: { color: t.colorTextDisabled }, [`${e}-image`]: { height: t.emptyImgHeightMD } },
        '&-small': { marginBlock: r, color: t.colorTextDisabled, [`${e}-image`]: { height: t.emptyImgHeightSM } },
      },
    };
  },
  $C = Ko('Empty', (t) => {
    const { componentCls: e, controlHeightLG: n } = t,
      r = Tn(t, { emptyImgCls: `${e}-img`, emptyImgHeight: n * 2.5, emptyImgHeightMD: n, emptyImgHeightSM: n * 0.875 });
    return [NC(r)];
  });
var BC =
  (globalThis && globalThis.__rest) ||
  function (t, e) {
    var n = {};
    for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);
    if (t != null && typeof Object.getOwnPropertySymbols == 'function')
      for (var i = 0, r = Object.getOwnPropertySymbols(t); i < r.length; i++) e.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[i]) && (n[r[i]] = t[r[i]]);
    return n;
  };
const U4 = v.createElement(kC, null),
  z4 = v.createElement(FC, null),
  Lp = (t) => {
    var { className: e, rootClassName: n, prefixCls: r, image: i = U4, description: o, children: a, imageStyle: s } = t,
      l = BC(t, ['className', 'rootClassName', 'prefixCls', 'image', 'description', 'children', 'imageStyle']);
    const { getPrefixCls: u, direction: c } = v.useContext(On),
      d = u('empty', r),
      [f, h] = $C(d),
      [m] = Pb('Empty'),
      g = typeof o < 'u' ? o : m == null ? void 0 : m.description,
      b = typeof g == 'string' ? g : 'empty';
    let _ = null;
    return (
      typeof i == 'string' ? (_ = v.createElement('img', { alt: b, src: i })) : (_ = i),
      f(
        v.createElement(
          'div',
          Object.assign({ className: $e(h, d, { [`${d}-normal`]: i === z4, [`${d}-rtl`]: c === 'rtl' }, e, n) }, l),
          v.createElement('div', { className: `${d}-image`, style: s }, _),
          g && v.createElement('div', { className: `${d}-description` }, g),
          a && v.createElement('div', { className: `${d}-footer` }, a),
        ),
      )
    );
  };
Lp.PRESENTED_IMAGE_DEFAULT = U4;
Lp.PRESENTED_IMAGE_SIMPLE = z4;
const ws = Lp,
  UC = (t) => {
    const { componentName: e } = t,
      { getPrefixCls: n } = v.useContext(On),
      r = n('empty');
    switch (e) {
      case 'Table':
      case 'List':
        return Ie.createElement(ws, { image: ws.PRESENTED_IMAGE_SIMPLE });
      case 'Select':
      case 'TreeSelect':
      case 'Cascader':
      case 'Transfer':
      case 'Mentions':
        return Ie.createElement(ws, { image: ws.PRESENTED_IMAGE_SIMPLE, className: `${r}-small` });
      default:
        return Ie.createElement(ws, null);
    }
  },
  zC = UC,
  VC = (t) => {
    const { controlPaddingHorizontal: e } = t;
    return {
      position: 'relative',
      display: 'block',
      minHeight: t.controlHeight,
      padding: `${(t.controlHeight - t.fontSize * t.lineHeight) / 2}px ${e}px`,
      color: t.colorText,
      fontWeight: 'normal',
      fontSize: t.fontSize,
      lineHeight: t.lineHeight,
      boxSizing: 'border-box',
    };
  },
  HC = (t) => {
    const { antCls: e, componentCls: n } = t,
      r = `${n}-item`;
    return [
      {
        [`${n}-dropdown`]: Object.assign(Object.assign({}, Wo(t)), {
          position: 'absolute',
          top: -9999,
          zIndex: t.zIndexPopup,
          boxSizing: 'border-box',
          padding: t.paddingXXS,
          overflow: 'hidden',
          fontSize: t.fontSize,
          fontVariant: 'initial',
          backgroundColor: t.colorBgElevated,
          borderRadius: t.borderRadiusLG,
          outline: 'none',
          boxShadow: t.boxShadowSecondary,
          [`
            &${e}-slide-up-enter${e}-slide-up-enter-active${n}-dropdown-placement-bottomLeft,
            &${e}-slide-up-appear${e}-slide-up-appear-active${n}-dropdown-placement-bottomLeft
          `]: { animationName: y4 },
          [`
            &${e}-slide-up-enter${e}-slide-up-enter-active${n}-dropdown-placement-topLeft,
            &${e}-slide-up-appear${e}-slide-up-appear-active${n}-dropdown-placement-topLeft
          `]: { animationName: S4 },
          [`&${e}-slide-up-leave${e}-slide-up-leave-active${n}-dropdown-placement-bottomLeft`]: { animationName: _4 },
          [`&${e}-slide-up-leave${e}-slide-up-leave-active${n}-dropdown-placement-topLeft`]: { animationName: E4 },
          '&-hidden': { display: 'none' },
          [`${r}`]: Object.assign(Object.assign({}, VC(t)), {
            cursor: 'pointer',
            transition: `background ${t.motionDurationSlow} ease`,
            borderRadius: t.borderRadiusSM,
            '&-group': { color: t.colorTextDescription, fontSize: t.fontSizeSM, cursor: 'default' },
            '&-option': {
              display: 'flex',
              '&-content': Object.assign({ flex: 'auto' }, m0),
              '&-state': { flex: 'none', display: 'flex', alignItems: 'center' },
              [`&-active:not(${r}-option-disabled)`]: { backgroundColor: t.controlItemBgHover },
              [`&-selected:not(${r}-option-disabled)`]: {
                color: t.colorText,
                fontWeight: t.fontWeightStrong,
                backgroundColor: t.controlItemBgActive,
                [`${r}-option-state`]: { color: t.colorPrimary },
              },
              '&-disabled': { [`&${r}-option-selected`]: { backgroundColor: t.colorBgContainerDisabled }, color: t.colorTextDisabled, cursor: 'not-allowed' },
              '&-grouped': { paddingInlineStart: t.controlPaddingHorizontal * 2 },
            },
          }),
          '&-rtl': { direction: 'rtl' },
        }),
      },
      uv(t, 'slide-up'),
      uv(t, 'slide-down'),
      lv(t, 'move-up'),
      lv(t, 'move-down'),
    ];
  },
  jC = HC,
  ia = 2,
  V4 = (t) => {
    let { controlHeightSM: e, controlHeight: n, lineWidth: r } = t;
    const i = (n - e) / 2 - r,
      o = Math.ceil(i / 2);
    return [i, o];
  };
function Rf(t, e) {
  const { componentCls: n, iconCls: r } = t,
    i = `${n}-selection-overflow`,
    o = t.controlHeightSM,
    [a] = V4(t),
    s = e ? `${n}-${e}` : '';
  return {
    [`${n}-multiple${s}`]: {
      fontSize: t.fontSize,
      [i]: { position: 'relative', display: 'flex', flex: 'auto', flexWrap: 'wrap', maxWidth: '100%', '&-item': { flex: 'none', alignSelf: 'center', maxWidth: '100%', display: 'inline-flex' } },
      [`${n}-selector`]: {
        display: 'flex',
        flexWrap: 'wrap',
        alignItems: 'center',
        padding: `${a - ia}px ${ia * 2}px`,
        borderRadius: t.borderRadius,
        [`${n}-show-search&`]: { cursor: 'text' },
        [`${n}-disabled&`]: { background: t.colorBgContainerDisabled, cursor: 'not-allowed' },
        '&:after': { display: 'inline-block', width: 0, margin: `${ia}px 0`, lineHeight: `${o}px`, visibility: 'hidden', content: '"\\a0"' },
      },
      [`
        &${n}-show-arrow ${n}-selector,
        &${n}-allow-clear ${n}-selector
      `]: { paddingInlineEnd: t.fontSizeIcon + t.controlPaddingHorizontal },
      [`${n}-selection-item`]: {
        position: 'relative',
        display: 'flex',
        flex: 'none',
        boxSizing: 'border-box',
        maxWidth: '100%',
        height: o,
        marginTop: ia,
        marginBottom: ia,
        lineHeight: `${o - t.lineWidth * 2}px`,
        background: t.colorFillSecondary,
        borderRadius: t.borderRadiusSM,
        cursor: 'default',
        transition: `font-size ${t.motionDurationSlow}, line-height ${t.motionDurationSlow}, height ${t.motionDurationSlow}`,
        userSelect: 'none',
        marginInlineEnd: ia * 2,
        paddingInlineStart: t.paddingXS,
        paddingInlineEnd: t.paddingXS / 2,
        [`${n}-disabled&`]: { color: t.colorTextDisabled, cursor: 'not-allowed' },
        '&-content': { display: 'inline-block', marginInlineEnd: t.paddingXS / 2, overflow: 'hidden', whiteSpace: 'pre', textOverflow: 'ellipsis' },
        '&-remove': Object.assign(Object.assign({}, hp()), {
          display: 'inline-flex',
          alignItems: 'center',
          color: t.colorIcon,
          fontWeight: 'bold',
          fontSize: 10,
          lineHeight: 'inherit',
          cursor: 'pointer',
          [`> ${r}`]: { verticalAlign: '-0.2em' },
          '&:hover': { color: t.colorIconHover },
        }),
      },
      [`${i}-item + ${i}-item`]: { [`${n}-selection-search`]: { marginInlineStart: 0 } },
      [`${n}-selection-search`]: {
        display: 'inline-flex',
        position: 'relative',
        maxWidth: '100%',
        marginInlineStart: t.inputPaddingHorizontalBase - a,
        '\n          &-input,\n          &-mirror\n        ': { height: o, fontFamily: t.fontFamily, lineHeight: `${o}px`, transition: `all ${t.motionDurationSlow}` },
        '&-input': { width: '100%', minWidth: 4.1 },
        '&-mirror': { position: 'absolute', top: 0, insetInlineStart: 0, insetInlineEnd: 'auto', zIndex: 999, whiteSpace: 'pre', visibility: 'hidden' },
      },
      [`${n}-selection-placeholder `]: {
        position: 'absolute',
        top: '50%',
        insetInlineStart: t.inputPaddingHorizontalBase,
        insetInlineEnd: t.inputPaddingHorizontalBase,
        transform: 'translateY(-50%)',
        transition: `all ${t.motionDurationSlow}`,
      },
    },
  };
}
const GC = (t) => {
    const { componentCls: e } = t,
      n = Tn(t, { controlHeight: t.controlHeightSM, controlHeightSM: t.controlHeightXS, borderRadius: t.borderRadiusSM, borderRadiusSM: t.borderRadiusXS }),
      r = Tn(t, { fontSize: t.fontSizeLG, controlHeight: t.controlHeightLG, controlHeightSM: t.controlHeight, borderRadius: t.borderRadiusLG, borderRadiusSM: t.borderRadius }),
      [, i] = V4(t);
    return [
      Rf(t),
      Rf(n, 'sm'),
      { [`${e}-multiple${e}-sm`]: { [`${e}-selection-placeholder`]: { insetInline: t.controlPaddingHorizontalSM - t.lineWidth }, [`${e}-selection-search`]: { marginInlineStart: i } } },
      Rf(r, 'lg'),
    ];
  },
  WC = GC;
function Af(t, e) {
  const { componentCls: n, inputPaddingHorizontalBase: r, borderRadius: i } = t,
    o = t.controlHeight - t.lineWidth * 2,
    a = Math.ceil(t.fontSize * 1.25),
    s = e ? `${n}-${e}` : '';
  return {
    [`${n}-single${s}`]: {
      fontSize: t.fontSize,
      [`${n}-selector`]: Object.assign(Object.assign({}, Wo(t)), {
        display: 'flex',
        borderRadius: i,
        [`${n}-selection-search`]: { position: 'absolute', top: 0, insetInlineStart: r, insetInlineEnd: r, bottom: 0, '&-input': { width: '100%' } },
        [`
          ${n}-selection-item,
          ${n}-selection-placeholder
        `]: { padding: 0, lineHeight: `${o}px`, transition: `all ${t.motionDurationSlow}, visibility 0s`, '@supports (-moz-appearance: meterbar)': { lineHeight: `${o}px` } },
        [`${n}-selection-item`]: { position: 'relative', userSelect: 'none' },
        [`${n}-selection-placeholder`]: { transition: 'none', pointerEvents: 'none' },
        [['&:after', `${n}-selection-item:after`, `${n}-selection-placeholder:after`].join(',')]: { display: 'inline-block', width: 0, visibility: 'hidden', content: '"\\a0"' },
      }),
      [`
        &${n}-show-arrow ${n}-selection-item,
        &${n}-show-arrow ${n}-selection-placeholder
      `]: { paddingInlineEnd: a },
      [`&${n}-open ${n}-selection-item`]: { color: t.colorTextPlaceholder },
      [`&:not(${n}-customize-input)`]: {
        [`${n}-selector`]: { width: '100%', height: t.controlHeight, padding: `0 ${r}px`, [`${n}-selection-search-input`]: { height: o }, '&:after': { lineHeight: `${o}px` } },
      },
      [`&${n}-customize-input`]: {
        [`${n}-selector`]: {
          '&:after': { display: 'none' },
          [`${n}-selection-search`]: { position: 'static', width: '100%' },
          [`${n}-selection-placeholder`]: { position: 'absolute', insetInlineStart: 0, insetInlineEnd: 0, padding: `0 ${r}px`, '&:after': { display: 'none' } },
        },
      },
    },
  };
}
function KC(t) {
  const { componentCls: e } = t,
    n = t.controlPaddingHorizontalSM - t.lineWidth;
  return [
    Af(t),
    Af(Tn(t, { controlHeight: t.controlHeightSM, borderRadius: t.borderRadiusSM }), 'sm'),
    {
      [`${e}-single${e}-sm`]: {
        [`&:not(${e}-customize-input)`]: {
          [`${e}-selection-search`]: { insetInlineStart: n, insetInlineEnd: n },
          [`${e}-selector`]: { padding: `0 ${n}px` },
          [`&${e}-show-arrow ${e}-selection-search`]: { insetInlineEnd: n + t.fontSize * 1.5 },
          [`
            &${e}-show-arrow ${e}-selection-item,
            &${e}-show-arrow ${e}-selection-placeholder
          `]: { paddingInlineEnd: t.fontSize * 1.5 },
        },
      },
    },
    Af(Tn(t, { controlHeight: t.controlHeightLG, fontSize: t.fontSizeLG, borderRadius: t.borderRadiusLG }), 'lg'),
  ];
}
const qC = (t) => {
    const { componentCls: e } = t;
    return {
      position: 'relative',
      backgroundColor: t.colorBgContainer,
      border: `${t.lineWidth}px ${t.lineType} ${t.colorBorder}`,
      transition: `all ${t.motionDurationMid} ${t.motionEaseInOut}`,
      input: { cursor: 'pointer' },
      [`${e}-show-search&`]: { cursor: 'text', input: { cursor: 'auto', color: 'inherit' } },
      [`${e}-disabled&`]: {
        color: t.colorTextDisabled,
        background: t.colorBgContainerDisabled,
        cursor: 'not-allowed',
        [`${e}-multiple&`]: { background: t.colorBgContainerDisabled },
        input: { cursor: 'not-allowed' },
      },
    };
  },
  Lf = function (t, e) {
    let n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : !1;
    const { componentCls: r, borderHoverColor: i, outlineColor: o, antCls: a } = e,
      s = n ? { [`${r}-selector`]: { borderColor: i } } : {};
    return {
      [t]: {
        [`&:not(${r}-disabled):not(${r}-customize-input):not(${a}-pagination-size-changer)`]: Object.assign(Object.assign({}, s), {
          [`${r}-focused& ${r}-selector`]: { borderColor: i, boxShadow: `0 0 0 ${e.controlOutlineWidth}px ${o}`, outline: 0 },
          [`&:hover ${r}-selector`]: { borderColor: i },
        }),
      },
    };
  },
  YC = (t) => {
    const { componentCls: e } = t;
    return {
      [`${e}-selection-search-input`]: {
        margin: 0,
        padding: 0,
        background: 'transparent',
        border: 'none',
        outline: 'none',
        appearance: 'none',
        '&::-webkit-search-cancel-button': { display: 'none', '-webkit-appearance': 'none' },
      },
    };
  },
  XC = (t) => {
    const { componentCls: e, inputPaddingHorizontalBase: n, iconCls: r } = t;
    return {
      [e]: Object.assign(Object.assign({}, Wo(t)), {
        position: 'relative',
        display: 'inline-block',
        cursor: 'pointer',
        [`&:not(${e}-customize-input) ${e}-selector`]: Object.assign(Object.assign({}, qC(t)), YC(t)),
        [`${e}-selection-item`]: Object.assign({ flex: 1, fontWeight: 'normal' }, m0),
        [`${e}-selection-placeholder`]: Object.assign(Object.assign({}, m0), { flex: 1, color: t.colorTextPlaceholder, pointerEvents: 'none' }),
        [`${e}-arrow`]: Object.assign(Object.assign({}, hp()), {
          position: 'absolute',
          top: '50%',
          insetInlineStart: 'auto',
          insetInlineEnd: n,
          height: t.fontSizeIcon,
          marginTop: -t.fontSizeIcon / 2,
          color: t.colorTextQuaternary,
          fontSize: t.fontSizeIcon,
          lineHeight: 1,
          textAlign: 'center',
          pointerEvents: 'none',
          display: 'flex',
          alignItems: 'center',
          [r]: { verticalAlign: 'top', transition: `transform ${t.motionDurationSlow}`, '> svg': { verticalAlign: 'top' }, [`&:not(${e}-suffix)`]: { pointerEvents: 'auto' } },
          [`${e}-disabled &`]: { cursor: 'not-allowed' },
          '> *:not(:last-child)': { marginInlineEnd: 8 },
        }),
        [`${e}-clear`]: {
          position: 'absolute',
          top: '50%',
          insetInlineStart: 'auto',
          insetInlineEnd: n,
          zIndex: 1,
          display: 'inline-block',
          width: t.fontSizeIcon,
          height: t.fontSizeIcon,
          marginTop: -t.fontSizeIcon / 2,
          color: t.colorTextQuaternary,
          fontSize: t.fontSizeIcon,
          fontStyle: 'normal',
          lineHeight: 1,
          textAlign: 'center',
          textTransform: 'none',
          background: t.colorBgContainer,
          cursor: 'pointer',
          opacity: 0,
          transition: `color ${t.motionDurationMid} ease, opacity ${t.motionDurationSlow} ease`,
          textRendering: 'auto',
          '&:before': { display: 'block' },
          '&:hover': { color: t.colorTextTertiary },
        },
        '&:hover': { [`${e}-clear`]: { opacity: 1 } },
      }),
      [`${e}-has-feedback`]: { [`${e}-clear`]: { insetInlineEnd: n + t.fontSize + t.paddingXS } },
    };
  },
  QC = (t) => {
    const { componentCls: e } = t;
    return [
      {
        [e]: {
          [`&-borderless ${e}-selector`]: { backgroundColor: 'transparent !important', borderColor: 'transparent !important', boxShadow: 'none !important' },
          [`&${e}-in-form-item`]: { width: '100%' },
        },
      },
      XC(t),
      KC(t),
      WC(t),
      jC(t),
      { [`${e}-rtl`]: { direction: 'rtl' } },
      Lf(e, Tn(t, { borderHoverColor: t.colorPrimaryHover, outlineColor: t.controlOutline })),
      Lf(`${e}-status-error`, Tn(t, { borderHoverColor: t.colorErrorHover, outlineColor: t.colorErrorOutline }), !0),
      Lf(`${e}-status-warning`, Tn(t, { borderHoverColor: t.colorWarningHover, outlineColor: t.colorWarningOutline }), !0),
      yp(t, { borderElCls: `${e}-selector`, focusElCls: `${e}-focused` }),
    ];
  },
  ZC = Ko(
    'Select',
    (t, e) => {
      let { rootPrefixCls: n } = e;
      const r = Tn(t, { rootPrefixCls: n, inputPaddingHorizontalBase: t.paddingSM - 1 });
      return [QC(r)];
    },
    (t) => ({ zIndexPopup: t.zIndexPopupBase + 50 }),
  ),
  JC = (t) => {
    const n = { overflow: { adjustX: !0, adjustY: !0, shiftY: !0 }, htmlRegion: t === 'scroll' ? 'scroll' : 'visible' };
    return {
      bottomLeft: Object.assign(Object.assign({}, n), { points: ['tl', 'bl'], offset: [0, 4] }),
      bottomRight: Object.assign(Object.assign({}, n), { points: ['tr', 'br'], offset: [0, 4] }),
      topLeft: Object.assign(Object.assign({}, n), { points: ['bl', 'tl'], offset: [0, -4] }),
      topRight: Object.assign(Object.assign({}, n), { points: ['br', 'tr'], offset: [0, -4] }),
    };
  };
function eR(t, e) {
  return t || JC(e);
}
function tR(t) {
  return t ?? !0;
}
var nR = {
  icon: {
    tag: 'svg',
    attrs: { viewBox: '64 64 896 896', focusable: 'false' },
    children: [
      {
        tag: 'path',
        attrs: {
          d: 'M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z',
        },
      },
    ],
  },
  name: 'check',
  theme: 'outlined',
};
const rR = nR;
var iR = function (e, n) {
  return v.createElement(po, pt({}, e, { ref: n, icon: rR }));
};
const oR = v.forwardRef(iR);
var aR = {
  icon: {
    tag: 'svg',
    attrs: { viewBox: '64 64 896 896', focusable: 'false' },
    children: [
      {
        tag: 'path',
        attrs: {
          d: 'M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z',
        },
      },
    ],
  },
  name: 'down',
  theme: 'outlined',
};
const sR = aR;
var lR = function (e, n) {
  return v.createElement(po, pt({}, e, { ref: n, icon: sR }));
};
const uR = v.forwardRef(lR);
var cR = {
  icon: {
    tag: 'svg',
    attrs: { viewBox: '64 64 896 896', focusable: 'false' },
    children: [
      {
        tag: 'path',
        attrs: {
          d: 'M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z',
        },
      },
    ],
  },
  name: 'search',
  theme: 'outlined',
};
const dR = cR;
var fR = function (e, n) {
  return v.createElement(po, pt({}, e, { ref: n, icon: dR }));
};
const H4 = v.forwardRef(fR);
function hR(t) {
  let { suffixIcon: e, clearIcon: n, menuItemSelectedIcon: r, removeIcon: i, loading: o, multiple: a, hasFeedback: s, prefixCls: l, showArrow: u, feedbackIcon: c } = t;
  const d = n ?? v.createElement(gp, null),
    f = (b) => v.createElement(v.Fragment, null, u !== !1 && b, s && c);
  let h = null;
  if (e !== void 0) h = f(e);
  else if (o) h = f(v.createElement(n4, { spin: !0 }));
  else {
    const b = `${l}-suffix`;
    h = (_) => {
      let { open: y, showSearch: T } = _;
      return f(y && T ? v.createElement(H4, { className: b }) : v.createElement(uR, { className: b }));
    };
  }
  let m = null;
  r !== void 0 ? (m = r) : a ? (m = v.createElement(oR, null)) : (m = null);
  let g = null;
  return i !== void 0 ? (g = i) : (g = v.createElement(b9, null)), { clearIcon: d, suffixIcon: h, itemIcon: m, removeIcon: g };
}
var mR =
  (globalThis && globalThis.__rest) ||
  function (t, e) {
    var n = {};
    for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);
    if (t != null && typeof Object.getOwnPropertySymbols == 'function')
      for (var i = 0, r = Object.getOwnPropertySymbols(t); i < r.length; i++) e.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[i]) && (n[r[i]] = t[r[i]]);
    return n;
  };
const j4 = 'SECRET_COMBOBOX_MODE_DO_NOT_USE',
  pR = (t, e) => {
    var n,
      {
        prefixCls: r,
        bordered: i = !0,
        className: o,
        rootClassName: a,
        getPopupContainer: s,
        popupClassName: l,
        dropdownClassName: u,
        listHeight: c = 256,
        placement: d,
        listItemHeight: f = 24,
        size: h,
        disabled: m,
        notFoundContent: g,
        status: b,
        showArrow: _,
        builtinPlacements: y,
        dropdownMatchSelectWidth: T,
        popupMatchSelectWidth: w,
        direction: I,
      } = t,
      O = mR(t, [
        'prefixCls',
        'bordered',
        'className',
        'rootClassName',
        'getPopupContainer',
        'popupClassName',
        'dropdownClassName',
        'listHeight',
        'placement',
        'listItemHeight',
        'size',
        'disabled',
        'notFoundContent',
        'status',
        'showArrow',
        'builtinPlacements',
        'dropdownMatchSelectWidth',
        'popupMatchSelectWidth',
        'direction',
      ]);
    const { getPopupContainer: x, getPrefixCls: L, renderEmpty: D, direction: C, virtual: G, popupMatchSelectWidth: M, popupOverflow: B, select: z } = v.useContext(On),
      H = L('select', r),
      q = L(),
      F = I ?? C,
      { compactSize: A, compactItemClassnames: k } = Rd(H, F),
      [U, X] = ZC(H),
      Q = v.useMemo(() => {
        const { mode: je } = O;
        if (je !== 'combobox') return je === j4 ? 'combobox' : je;
      }, [O.mode]),
      W = Q === 'multiple' || Q === 'tags',
      Y = tR(_),
      ne = (n = w ?? T) !== null && n !== void 0 ? n : M,
      { status: te, hasFeedback: K, isFormItemInput: ee, feedbackIcon: oe } = v.useContext(zo),
      de = Ap(te, b);
    let me;
    g !== void 0 ? (me = g) : Q === 'combobox' ? (me = null) : (me = (D == null ? void 0 : D('Select')) || v.createElement(zC, { componentName: 'Select' }));
    const { suffixIcon: pe, itemIcon: ge, removeIcon: Le, clearIcon: Me } = hR(Object.assign(Object.assign({}, O), { multiple: W, hasFeedback: K, feedbackIcon: oe, showArrow: Y, prefixCls: H })),
      ze = kl(O, ['suffixIcon', 'itemIcon']),
      Ge = $e(l || u, { [`${H}-dropdown-${F}`]: F === 'rtl' }, a, X),
      Te = ss((je) => {
        var tt;
        return (tt = h ?? A) !== null && tt !== void 0 ? tt : je;
      }),
      Ne = v.useContext(as),
      we = m ?? Ne,
      Fe = $e({ [`${H}-lg`]: Te === 'large', [`${H}-sm`]: Te === 'small', [`${H}-rtl`]: F === 'rtl', [`${H}-borderless`]: !i, [`${H}-in-form-item`]: ee }, za(H, de, K), k, o, a, X),
      ft = v.useMemo(() => (d !== void 0 ? d : F === 'rtl' ? 'bottomRight' : 'bottomLeft'), [d, F]),
      yt = eR(y, B);
    return U(
      v.createElement(
        Rp,
        Object.assign({ ref: e, virtual: G, showSearch: z == null ? void 0 : z.showSearch }, ze, {
          dropdownMatchSelectWidth: ne,
          builtinPlacements: yt,
          transitionName: u4(q, Ix(d), O.transitionName),
          listHeight: c,
          listItemHeight: f,
          mode: Q,
          prefixCls: H,
          placement: ft,
          direction: F,
          inputIcon: pe,
          menuItemSelectedIcon: ge,
          removeIcon: Le,
          clearIcon: Me,
          notFoundContent: me,
          className: Fe,
          getPopupContainer: s || x,
          dropdownClassName: Ge,
          showArrow: K || Y,
          disabled: we,
        }),
      ),
    );
  },
  cs = v.forwardRef(pR),
  gR = lw(cs);
cs.SECRET_COMBOBOX_MODE_DO_NOT_USE = j4;
cs.Option = Cp;
cs.OptGroup = wp;
cs._InternalPanelDoNotUseOrYouWillBeFired = gR;
const z0 = cs;
var oa = { shiftX: 64, adjustY: 1 },
  aa = { adjustX: 1, shiftY: !0 },
  Cr = [0, 0],
  vR = {
    left: { points: ['cr', 'cl'], overflow: aa, offset: [-4, 0], targetOffset: Cr },
    right: { points: ['cl', 'cr'], overflow: aa, offset: [4, 0], targetOffset: Cr },
    top: { points: ['bc', 'tc'], overflow: oa, offset: [0, -4], targetOffset: Cr },
    bottom: { points: ['tc', 'bc'], overflow: oa, offset: [0, 4], targetOffset: Cr },
    topLeft: { points: ['bl', 'tl'], overflow: oa, offset: [0, -4], targetOffset: Cr },
    leftTop: { points: ['tr', 'tl'], overflow: aa, offset: [-4, 0], targetOffset: Cr },
    topRight: { points: ['br', 'tr'], overflow: oa, offset: [0, -4], targetOffset: Cr },
    rightTop: { points: ['tl', 'tr'], overflow: aa, offset: [4, 0], targetOffset: Cr },
    bottomRight: { points: ['tr', 'br'], overflow: oa, offset: [0, 4], targetOffset: Cr },
    rightBottom: { points: ['bl', 'br'], overflow: aa, offset: [4, 0], targetOffset: Cr },
    bottomLeft: { points: ['tl', 'bl'], overflow: oa, offset: [0, 4], targetOffset: Cr },
    leftBottom: { points: ['br', 'bl'], overflow: aa, offset: [-4, 0], targetOffset: Cr },
  };
function G4(t) {
  var e = t.children,
    n = t.prefixCls,
    r = t.id,
    i = t.overlayInnerStyle,
    o = t.className,
    a = t.style;
  return v.createElement(
    'div',
    { className: $e(''.concat(n, '-content'), o), style: a },
    v.createElement('div', { className: ''.concat(n, '-inner'), id: r, role: 'tooltip', style: i }, typeof e == 'function' ? e() : e),
  );
}
var yR = [
    'overlayClassName',
    'trigger',
    'mouseEnterDelay',
    'mouseLeaveDelay',
    'overlayStyle',
    'prefixCls',
    'children',
    'onVisibleChange',
    'afterVisibleChange',
    'transitionName',
    'animation',
    'motion',
    'placement',
    'align',
    'destroyTooltipOnHide',
    'defaultVisible',
    'getTooltipContainer',
    'overlayInnerStyle',
    'arrowContent',
    'overlay',
    'id',
    'showArrow',
  ],
  _R = function (e, n) {
    var r = e.overlayClassName,
      i = e.trigger,
      o = i === void 0 ? ['hover'] : i,
      a = e.mouseEnterDelay,
      s = a === void 0 ? 0 : a,
      l = e.mouseLeaveDelay,
      u = l === void 0 ? 0.1 : l,
      c = e.overlayStyle,
      d = e.prefixCls,
      f = d === void 0 ? 'rc-tooltip' : d,
      h = e.children,
      m = e.onVisibleChange,
      g = e.afterVisibleChange,
      b = e.transitionName,
      _ = e.animation,
      y = e.motion,
      T = e.placement,
      w = T === void 0 ? 'right' : T,
      I = e.align,
      O = I === void 0 ? {} : I,
      x = e.destroyTooltipOnHide,
      L = x === void 0 ? !1 : x,
      D = e.defaultVisible,
      C = e.getTooltipContainer,
      G = e.overlayInnerStyle;
    e.arrowContent;
    var M = e.overlay,
      B = e.id,
      z = e.showArrow,
      H = z === void 0 ? !0 : z,
      q = Zt(e, yR),
      F = v.useRef(null);
    v.useImperativeHandle(n, function () {
      return F.current;
    });
    var A = ce({}, q);
    'visible' in e && (A.popupVisible = e.visible);
    var k = function () {
      return v.createElement(G4, { key: 'content', prefixCls: f, id: B, overlayInnerStyle: G }, M);
    };
    return v.createElement(
      D4,
      pt(
        {
          popupClassName: r,
          prefixCls: f,
          popup: k,
          action: o,
          builtinPlacements: vR,
          popupPlacement: w,
          ref: F,
          popupAlign: O,
          getPopupContainer: C,
          onPopupVisibleChange: m,
          afterPopupVisibleChange: g,
          popupTransitionName: b,
          popupAnimation: _,
          popupMotion: y,
          defaultPopupVisible: D,
          autoDestroy: L,
          mouseLeaveDelay: u,
          popupStyle: c,
          mouseEnterDelay: s,
          arrow: H,
        },
        A,
      ),
      h,
    );
  };
const SR = v.forwardRef(_R),
  W4 = 8;
function K4(t) {
  const e = W4,
    { contentRadius: n, limitVerticalRadius: r } = t,
    i = n > 12 ? n + 2 : 12;
  return { dropdownArrowOffset: i, dropdownArrowOffsetVertical: r ? e : i };
}
function yu(t, e) {
  return t ? e : {};
}
function ER(t, e) {
  const { componentCls: n, sizePopupArrow: r, borderRadiusXS: i, borderRadiusOuter: o, boxShadowPopoverArrow: a } = t,
    { colorBg: s, contentRadius: l = t.borderRadiusLG, limitVerticalRadius: u, arrowDistance: c = 0, arrowPlacement: d = { left: !0, right: !0, top: !0, bottom: !0 } } = e,
    { dropdownArrowOffsetVertical: f, dropdownArrowOffset: h } = K4({ contentRadius: l, limitVerticalRadius: u });
  return {
    [n]: Object.assign(
      Object.assign(
        Object.assign(
          Object.assign(
            { [`${n}-arrow`]: [Object.assign(Object.assign({ position: 'absolute', zIndex: 1, display: 'block' }, f7(r, i, o, s, a)), { '&:before': { background: s } })] },
            yu(!!d.top, {
              [[`&-placement-top ${n}-arrow`, `&-placement-topLeft ${n}-arrow`, `&-placement-topRight ${n}-arrow`].join(',')]: { bottom: c, transform: 'translateY(100%) rotate(180deg)' },
              [`&-placement-top ${n}-arrow`]: { left: { _skip_check_: !0, value: '50%' }, transform: 'translateX(-50%) translateY(100%) rotate(180deg)' },
              [`&-placement-topLeft ${n}-arrow`]: { left: { _skip_check_: !0, value: h } },
              [`&-placement-topRight ${n}-arrow`]: { right: { _skip_check_: !0, value: h } },
            }),
          ),
          yu(!!d.bottom, {
            [[`&-placement-bottom ${n}-arrow`, `&-placement-bottomLeft ${n}-arrow`, `&-placement-bottomRight ${n}-arrow`].join(',')]: { top: c, transform: 'translateY(-100%)' },
            [`&-placement-bottom ${n}-arrow`]: { left: { _skip_check_: !0, value: '50%' }, transform: 'translateX(-50%) translateY(-100%)' },
            [`&-placement-bottomLeft ${n}-arrow`]: { left: { _skip_check_: !0, value: h } },
            [`&-placement-bottomRight ${n}-arrow`]: { right: { _skip_check_: !0, value: h } },
          }),
        ),
        yu(!!d.left, {
          [[`&-placement-left ${n}-arrow`, `&-placement-leftTop ${n}-arrow`, `&-placement-leftBottom ${n}-arrow`].join(',')]: {
            right: { _skip_check_: !0, value: c },
            transform: 'translateX(100%) rotate(90deg)',
          },
          [`&-placement-left ${n}-arrow`]: { top: { _skip_check_: !0, value: '50%' }, transform: 'translateY(-50%) translateX(100%) rotate(90deg)' },
          [`&-placement-leftTop ${n}-arrow`]: { top: f },
          [`&-placement-leftBottom ${n}-arrow`]: { bottom: f },
        }),
      ),
      yu(!!d.right, {
        [[`&-placement-right ${n}-arrow`, `&-placement-rightTop ${n}-arrow`, `&-placement-rightBottom ${n}-arrow`].join(',')]: {
          left: { _skip_check_: !0, value: c },
          transform: 'translateX(-100%) rotate(-90deg)',
        },
        [`&-placement-right ${n}-arrow`]: { top: { _skip_check_: !0, value: '50%' }, transform: 'translateY(-50%) translateX(-100%) rotate(-90deg)' },
        [`&-placement-rightTop ${n}-arrow`]: { top: f },
        [`&-placement-rightBottom ${n}-arrow`]: { bottom: f },
      }),
    ),
  };
}
function bR(t, e, n, r) {
  if (r === !1) return { adjustX: !1, adjustY: !1 };
  const i = r && typeof r == 'object' ? r : {},
    o = {};
  switch (t) {
    case 'top':
    case 'bottom':
      o.shiftX = e.dropdownArrowOffset * 2 + n;
      break;
    case 'left':
    case 'right':
      o.shiftY = e.dropdownArrowOffsetVertical * 2 + n;
      break;
  }
  const a = Object.assign(Object.assign({}, o), i);
  return a.shiftX || (a.adjustX = !0), a.shiftY || (a.adjustY = !0), a;
}
const Cv = {
    left: { points: ['cr', 'cl'] },
    right: { points: ['cl', 'cr'] },
    top: { points: ['bc', 'tc'] },
    bottom: { points: ['tc', 'bc'] },
    topLeft: { points: ['bl', 'tl'] },
    leftTop: { points: ['tr', 'tl'] },
    topRight: { points: ['br', 'tr'] },
    rightTop: { points: ['tl', 'tr'] },
    bottomRight: { points: ['tr', 'br'] },
    rightBottom: { points: ['bl', 'br'] },
    bottomLeft: { points: ['tl', 'bl'] },
    leftBottom: { points: ['br', 'bl'] },
  },
  xR = {
    topLeft: { points: ['bl', 'tc'] },
    leftTop: { points: ['tr', 'cl'] },
    topRight: { points: ['br', 'tc'] },
    rightTop: { points: ['tl', 'cr'] },
    bottomRight: { points: ['tr', 'bc'] },
    rightBottom: { points: ['bl', 'cr'] },
    bottomLeft: { points: ['tl', 'bc'] },
    leftBottom: { points: ['br', 'cl'] },
  },
  TR = new Set(['topLeft', 'topRight', 'bottomLeft', 'bottomRight', 'leftTop', 'leftBottom', 'rightTop', 'rightBottom']);
function wR(t) {
  const { arrowWidth: e, autoAdjustOverflow: n, arrowPointAtCenter: r, offset: i, borderRadius: o, visibleFirst: a } = t,
    s = e / 2,
    l = {};
  return (
    Object.keys(Cv).forEach((u) => {
      const c = (r && xR[u]) || Cv[u],
        d = Object.assign(Object.assign({}, c), { offset: [0, 0] });
      switch (((l[u] = d), TR.has(u) && (d.autoArrow = !1), u)) {
        case 'top':
        case 'topLeft':
        case 'topRight':
          d.offset[1] = -s - i;
          break;
        case 'bottom':
        case 'bottomLeft':
        case 'bottomRight':
          d.offset[1] = s + i;
          break;
        case 'left':
        case 'leftTop':
        case 'leftBottom':
          d.offset[0] = -s - i;
          break;
        case 'right':
        case 'rightTop':
        case 'rightBottom':
          d.offset[0] = s + i;
          break;
      }
      const f = K4({ contentRadius: o, limitVerticalRadius: !0 });
      if (r)
        switch (u) {
          case 'topLeft':
          case 'bottomLeft':
            d.offset[0] = -f.dropdownArrowOffset - s;
            break;
          case 'topRight':
          case 'bottomRight':
            d.offset[0] = f.dropdownArrowOffset + s;
            break;
          case 'leftTop':
          case 'rightTop':
            d.offset[1] = -f.dropdownArrowOffset - s;
            break;
          case 'leftBottom':
          case 'rightBottom':
            d.offset[1] = f.dropdownArrowOffset + s;
            break;
        }
      (d.overflow = bR(u, f, e, n)), a && (d.htmlRegion = 'visibleFirst');
    }),
    l
  );
}
const CR = (t) => {
    const e = t != null && t.algorithm ? Cc(t.algorithm) : Cc(Fl),
      n = Object.assign(Object.assign({}, Ml), t == null ? void 0 : t.token);
    return y6(n, { override: t == null ? void 0 : t.token }, e, M6);
  },
  RR = CR;
function AR(t) {
  const { sizeUnit: e, sizeStep: n } = t,
    r = n - 2;
  return { sizeXXL: e * (r + 10), sizeXL: e * (r + 6), sizeLG: e * (r + 2), sizeMD: e * (r + 2), sizeMS: e * (r + 1), size: e * r, sizeSM: e * r, sizeXS: e * (r - 1), sizeXXS: e * (r - 1) };
}
const LR = (t, e) => {
    const n = e ?? Fl(t),
      r = n.fontSizeSM,
      i = n.controlHeight - 4;
    return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, n), AR(e ?? t)), k6(r)), { controlHeight: i }), P6(Object.assign(Object.assign({}, n), { controlHeight: i })));
  },
  IR = LR,
  Vi = (t, e) => new Rn(t).setAlpha(e).toRgbString(),
  sa = (t, e) => new Rn(t).lighten(e).toHexString(),
  DR = (t) => {
    const e = Fi(t, { theme: 'dark' });
    return { 1: e[0], 2: e[1], 3: e[2], 4: e[3], 5: e[6], 6: e[5], 7: e[4], 8: e[6], 9: e[5], 10: e[4] };
  },
  PR = (t, e) => {
    const n = t || '#000',
      r = e || '#fff';
    return {
      colorBgBase: n,
      colorTextBase: r,
      colorText: Vi(r, 0.85),
      colorTextSecondary: Vi(r, 0.65),
      colorTextTertiary: Vi(r, 0.45),
      colorTextQuaternary: Vi(r, 0.25),
      colorFill: Vi(r, 0.18),
      colorFillSecondary: Vi(r, 0.12),
      colorFillTertiary: Vi(r, 0.08),
      colorFillQuaternary: Vi(r, 0.04),
      colorBgElevated: sa(n, 12),
      colorBgContainer: sa(n, 8),
      colorBgLayout: sa(n, 0),
      colorBgSpotlight: sa(n, 26),
      colorBorder: sa(n, 26),
      colorBorderSecondary: sa(n, 19),
    };
  },
  OR = (t, e) => {
    const n = Object.keys(fp)
        .map((i) => {
          const o = Fi(t[i], { theme: 'dark' });
          return new Array(10).fill(1).reduce((a, s, l) => ((a[`${i}-${l + 1}`] = o[l]), (a[`${i}${l + 1}`] = o[l]), a), {});
        })
        .reduce((i, o) => ((i = Object.assign(Object.assign({}, i), o)), i), {}),
      r = e ?? Fl(t);
    return Object.assign(Object.assign(Object.assign({}, r), n), O6(t, { generateColorPalettes: DR, generateNeutralColorPalettes: PR }));
  },
  kR = OR;
function MR() {
  const [t, e, n] = qo();
  return { theme: t, token: e, hashId: n };
}
const FR = { defaultConfig: Ac, defaultSeed: Ac.token, useToken: MR, defaultAlgorithm: Fl, darkAlgorithm: kR, compactAlgorithm: IR, getDesignToken: RR },
  NR = (t) => {
    const {
      componentCls: e,
      tooltipMaxWidth: n,
      tooltipColor: r,
      tooltipBg: i,
      tooltipBorderRadius: o,
      zIndexPopup: a,
      controlHeight: s,
      boxShadowSecondary: l,
      paddingSM: u,
      paddingXS: c,
      tooltipRadiusOuter: d,
    } = t;
    return [
      {
        [e]: Object.assign(
          Object.assign(
            Object.assign(Object.assign({}, Wo(t)), {
              position: 'absolute',
              zIndex: a,
              display: 'block',
              width: 'max-content',
              maxWidth: n,
              visibility: 'visible',
              transformOrigin: 'var(--arrow-x, 50%) var(--arrow-y, 50%)',
              '&-hidden': { display: 'none' },
              '--antd-arrow-background-color': i,
              [`${e}-inner`]: {
                minWidth: s,
                minHeight: s,
                padding: `${u / 2}px ${c}px`,
                color: r,
                textAlign: 'start',
                textDecoration: 'none',
                wordWrap: 'break-word',
                backgroundColor: i,
                borderRadius: o,
                boxShadow: l,
                boxSizing: 'border-box',
              },
              [['&-placement-left', '&-placement-leftTop', '&-placement-leftBottom', '&-placement-right', '&-placement-rightTop', '&-placement-rightBottom'].join(',')]: {
                [`${e}-inner`]: { borderRadius: Math.min(o, W4) },
              },
              [`${e}-content`]: { position: 'relative' },
            }),
            S7(t, (f, h) => {
              let { darkColor: m } = h;
              return { [`&${e}-${f}`]: { [`${e}-inner`]: { backgroundColor: m }, [`${e}-arrow`]: { '--antd-arrow-background-color': m } } };
            }),
          ),
          { '&-rtl': { direction: 'rtl' } },
        ),
      },
      ER(Tn(t, { borderRadiusOuter: d }), { colorBg: 'var(--antd-arrow-background-color)', contentRadius: o, limitVerticalRadius: !0 }),
      { [`${e}-pure`]: { position: 'relative', maxWidth: 'none', margin: t.sizePopupArrow } },
    ];
  },
  q4 = (t, e) =>
    Ko(
      'Tooltip',
      (r) => {
        if (e === !1) return [];
        const { borderRadius: i, colorTextLightSolid: o, colorBgDefault: a, borderRadiusOuter: s } = r,
          l = Tn(r, { tooltipMaxWidth: 250, tooltipColor: o, tooltipBorderRadius: i, tooltipBg: a, tooltipRadiusOuter: s > 4 ? 4 : s });
        return [NR(l), sw(r, 'zoom-big-fast')];
      },
      (r) => {
        let { zIndexPopupBase: i, colorBgSpotlight: o } = r;
        return { zIndexPopup: i + 70, colorBgDefault: o };
      },
      { resetStyle: !1 },
    )(t),
  $R = Rc.map((t) => `${t}-inverse`);
function BR(t) {
  return (arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !0) ? [].concat(Ue($R), Ue(Rc)).includes(t) : Rc.includes(t);
}
function Y4(t, e) {
  const n = BR(e),
    r = $e({ [`${t}-${e}`]: e && n }),
    i = {},
    o = {};
  return e && !n && ((i.background = e), (o['--antd-arrow-background-color'] = e)), { className: r, overlayStyle: i, arrowStyle: o };
}
function UR(t) {
  const { prefixCls: e, className: n, placement: r = 'top', title: i, color: o, overlayInnerStyle: a } = t,
    { getPrefixCls: s } = v.useContext(On),
    l = s('tooltip', e),
    [u, c] = q4(l, !0),
    d = Y4(l, o),
    f = Object.assign(Object.assign({}, a), d.overlayStyle),
    h = d.arrowStyle;
  return u(
    v.createElement(
      'div',
      { className: $e(c, l, `${l}-pure`, `${l}-placement-${r}`, n, d.className), style: h },
      v.createElement('div', { className: `${l}-arrow` }),
      v.createElement(G4, Object.assign({}, t, { className: c, prefixCls: l, overlayInnerStyle: f }), i),
    ),
  );
}
var zR =
  (globalThis && globalThis.__rest) ||
  function (t, e) {
    var n = {};
    for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);
    if (t != null && typeof Object.getOwnPropertySymbols == 'function')
      for (var i = 0, r = Object.getOwnPropertySymbols(t); i < r.length; i++) e.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[i]) && (n[r[i]] = t[r[i]]);
    return n;
  };
const { useToken: VR } = FR,
  HR = (t, e) => {
    const n = {},
      r = Object.assign({}, t);
    return (
      e.forEach((i) => {
        t && i in t && ((n[i] = t[i]), delete r[i]);
      }),
      { picked: n, omitted: r }
    );
  };
function jR(t, e) {
  const n = t.type;
  if (((n.__ANT_BUTTON === !0 || t.type === 'button') && t.props.disabled) || (n.__ANT_SWITCH === !0 && (t.props.disabled || t.props.loading)) || (n.__ANT_RADIO === !0 && t.props.disabled)) {
    const { picked: r, omitted: i } = HR(t.props.style, ['position', 'left', 'right', 'top', 'bottom', 'float', 'display', 'zIndex']),
      o = Object.assign(Object.assign({ display: 'inline-block' }, r), { cursor: 'not-allowed', width: t.props.block ? '100%' : void 0 }),
      a = Object.assign(Object.assign({}, i), { pointerEvents: 'none' }),
      s = es(t, { style: a, className: null });
    return v.createElement('span', { style: o, className: $e(t.props.className, `${e}-disabled-compatible-wrapper`) }, s);
  }
  return t;
}
const X4 = v.forwardRef((t, e) => {
  var n, r;
  const {
      prefixCls: i,
      openClassName: o,
      getTooltipContainer: a,
      overlayClassName: s,
      color: l,
      overlayInnerStyle: u,
      children: c,
      afterOpenChange: d,
      afterVisibleChange: f,
      destroyTooltipOnHide: h,
      arrow: m = !0,
      title: g,
      overlay: b,
      builtinPlacements: _,
      arrowPointAtCenter: y = !1,
      autoAdjustOverflow: T = !0,
    } = t,
    w = !!m,
    { token: I } = VR(),
    { getPopupContainer: O, getPrefixCls: x, direction: L } = v.useContext(On),
    D = v.useRef(null),
    C = () => {
      var Te;
      (Te = D.current) === null || Te === void 0 || Te.forceAlign();
    };
  v.useImperativeHandle(e, () => ({
    forceAlign: C,
    forcePopupAlign: () => {
      C();
    },
  }));
  const [G, M] = Ni(!1, { value: (n = t.open) !== null && n !== void 0 ? n : t.visible, defaultValue: (r = t.defaultOpen) !== null && r !== void 0 ? r : t.defaultVisible }),
    B = !g && !b && g !== 0,
    z = (Te) => {
      var Ne, we;
      M(B ? !1 : Te), B || ((Ne = t.onOpenChange) === null || Ne === void 0 || Ne.call(t, Te), (we = t.onVisibleChange) === null || we === void 0 || we.call(t, Te));
    },
    H = v.useMemo(() => {
      var Te, Ne;
      let we = y;
      return (
        typeof m == 'object' && (we = (Ne = (Te = m.pointAtCenter) !== null && Te !== void 0 ? Te : m.arrowPointAtCenter) !== null && Ne !== void 0 ? Ne : y),
        _ || wR({ arrowPointAtCenter: we, autoAdjustOverflow: T, arrowWidth: w ? I.sizePopupArrow : 0, borderRadius: I.borderRadius, offset: I.marginXXS, visibleFirst: !0 })
      );
    }, [y, m, _, I]),
    q = v.useMemo(() => (g === 0 ? g : b || g || ''), [b, g]),
    F = v.createElement(T0, null, typeof q == 'function' ? q() : q),
    { getPopupContainer: A, placement: k = 'top', mouseEnterDelay: U = 0.1, mouseLeaveDelay: X = 0.1, overlayStyle: Q, rootClassName: W } = t,
    Y = zR(t, ['getPopupContainer', 'placement', 'mouseEnterDelay', 'mouseLeaveDelay', 'overlayStyle', 'rootClassName']),
    ne = x('tooltip', i),
    te = x(),
    K = t['data-popover-inject'];
  let ee = G;
  !('open' in t) && !('visible' in t) && B && (ee = !1);
  const oe = jR(vp(c) && !t4(c) ? c : v.createElement('span', null, c), ne),
    de = oe.props,
    me = !de.className || typeof de.className == 'string' ? $e(de.className, { [o || `${ne}-open`]: !0 }) : de.className,
    [pe, ge] = q4(ne, !K),
    Le = Y4(ne, l),
    Me = Object.assign(Object.assign({}, u), Le.overlayStyle),
    ze = Le.arrowStyle,
    Ge = $e(s, { [`${ne}-rtl`]: L === 'rtl' }, Le.className, W, ge);
  return pe(
    v.createElement(
      SR,
      Object.assign({}, Y, {
        showArrow: w,
        placement: k,
        mouseEnterDelay: U,
        mouseLeaveDelay: X,
        prefixCls: ne,
        overlayClassName: Ge,
        overlayStyle: Object.assign(Object.assign({}, ze), Q),
        getTooltipContainer: A || a || O,
        ref: D,
        builtinPlacements: H,
        overlay: F,
        visible: ee,
        onVisibleChange: z,
        afterVisibleChange: d ?? f,
        overlayInnerStyle: Me,
        arrowContent: v.createElement('span', { className: `${ne}-arrow-content` }),
        motion: { motionName: u4(te, 'zoom-big-fast', t.transitionName), motionDeadline: 1e3 },
        destroyTooltipOnHide: !!h,
      }),
      ee ? es(oe, { className: me }) : oe,
    ),
  );
});
X4._InternalPanelDoNotUseOrYouWillBeFired = UR;
const Q4 = X4;
var GR = { exports: {} };
(function (t, e) {
  (function (n, r) {
    t.exports = r();
  })(y5, function () {
    var n = 1e3,
      r = 6e4,
      i = 36e5,
      o = 'millisecond',
      a = 'second',
      s = 'minute',
      l = 'hour',
      u = 'day',
      c = 'week',
      d = 'month',
      f = 'quarter',
      h = 'year',
      m = 'date',
      g = 'Invalid Date',
      b = /^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,
      _ = /\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,
      y = {
        name: 'en',
        weekdays: 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),
        months: 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),
        ordinal: function (B) {
          var z = ['th', 'st', 'nd', 'rd'],
            H = B % 100;
          return '[' + B + (z[(H - 20) % 10] || z[H] || z[0]) + ']';
        },
      },
      T = function (B, z, H) {
        var q = String(B);
        return !q || q.length >= z ? B : '' + Array(z + 1 - q.length).join(H) + B;
      },
      w = {
        s: T,
        z: function (B) {
          var z = -B.utcOffset(),
            H = Math.abs(z),
            q = Math.floor(H / 60),
            F = H % 60;
          return (z <= 0 ? '+' : '-') + T(q, 2, '0') + ':' + T(F, 2, '0');
        },
        m: function B(z, H) {
          if (z.date() < H.date()) return -B(H, z);
          var q = 12 * (H.year() - z.year()) + (H.month() - z.month()),
            F = z.clone().add(q, d),
            A = H - F < 0,
            k = z.clone().add(q + (A ? -1 : 1), d);
          return +(-(q + (H - F) / (A ? F - k : k - F)) || 0);
        },
        a: function (B) {
          return B < 0 ? Math.ceil(B) || 0 : Math.floor(B);
        },
        p: function (B) {
          return (
            { M: d, y: h, w: c, d: u, D: m, h: l, m: s, s: a, ms: o, Q: f }[B] ||
            String(B || '')
              .toLowerCase()
              .replace(/s$/, '')
          );
        },
        u: function (B) {
          return B === void 0;
        },
      },
      I = 'en',
      O = {};
    O[I] = y;
    var x = function (B) {
        return B instanceof G;
      },
      L = function B(z, H, q) {
        var F;
        if (!z) return I;
        if (typeof z == 'string') {
          var A = z.toLowerCase();
          O[A] && (F = A), H && ((O[A] = H), (F = A));
          var k = z.split('-');
          if (!F && k.length > 1) return B(k[0]);
        } else {
          var U = z.name;
          (O[U] = z), (F = U);
        }
        return !q && F && (I = F), F || (!q && I);
      },
      D = function (B, z) {
        if (x(B)) return B.clone();
        var H = typeof z == 'object' ? z : {};
        return (H.date = B), (H.args = arguments), new G(H);
      },
      C = w;
    (C.l = L),
      (C.i = x),
      (C.w = function (B, z) {
        return D(B, { locale: z.$L, utc: z.$u, x: z.$x, $offset: z.$offset });
      });
    var G = (function () {
        function B(H) {
          (this.$L = L(H.locale, null, !0)), this.parse(H);
        }
        var z = B.prototype;
        return (
          (z.parse = function (H) {
            (this.$d = (function (q) {
              var F = q.date,
                A = q.utc;
              if (F === null) return new Date(NaN);
              if (C.u(F)) return new Date();
              if (F instanceof Date) return new Date(F);
              if (typeof F == 'string' && !/Z$/i.test(F)) {
                var k = F.match(b);
                if (k) {
                  var U = k[2] - 1 || 0,
                    X = (k[7] || '0').substring(0, 3);
                  return A ? new Date(Date.UTC(k[1], U, k[3] || 1, k[4] || 0, k[5] || 0, k[6] || 0, X)) : new Date(k[1], U, k[3] || 1, k[4] || 0, k[5] || 0, k[6] || 0, X);
                }
              }
              return new Date(F);
            })(H)),
              (this.$x = H.x || {}),
              this.init();
          }),
          (z.init = function () {
            var H = this.$d;
            (this.$y = H.getFullYear()),
              (this.$M = H.getMonth()),
              (this.$D = H.getDate()),
              (this.$W = H.getDay()),
              (this.$H = H.getHours()),
              (this.$m = H.getMinutes()),
              (this.$s = H.getSeconds()),
              (this.$ms = H.getMilliseconds());
          }),
          (z.$utils = function () {
            return C;
          }),
          (z.isValid = function () {
            return this.$d.toString() !== g;
          }),
          (z.isSame = function (H, q) {
            var F = D(H);
            return this.startOf(q) <= F && F <= this.endOf(q);
          }),
          (z.isAfter = function (H, q) {
            return D(H) < this.startOf(q);
          }),
          (z.isBefore = function (H, q) {
            return this.endOf(q) < D(H);
          }),
          (z.$g = function (H, q, F) {
            return C.u(H) ? this[q] : this.set(F, H);
          }),
          (z.unix = function () {
            return Math.floor(this.valueOf() / 1e3);
          }),
          (z.valueOf = function () {
            return this.$d.getTime();
          }),
          (z.startOf = function (H, q) {
            var F = this,
              A = !!C.u(q) || q,
              k = C.p(H),
              U = function (ee, oe) {
                var de = C.w(F.$u ? Date.UTC(F.$y, oe, ee) : new Date(F.$y, oe, ee), F);
                return A ? de : de.endOf(u);
              },
              X = function (ee, oe) {
                return C.w(F.toDate()[ee].apply(F.toDate('s'), (A ? [0, 0, 0, 0] : [23, 59, 59, 999]).slice(oe)), F);
              },
              Q = this.$W,
              W = this.$M,
              Y = this.$D,
              ne = 'set' + (this.$u ? 'UTC' : '');
            switch (k) {
              case h:
                return A ? U(1, 0) : U(31, 11);
              case d:
                return A ? U(1, W) : U(0, W + 1);
              case c:
                var te = this.$locale().weekStart || 0,
                  K = (Q < te ? Q + 7 : Q) - te;
                return U(A ? Y - K : Y + (6 - K), W);
              case u:
              case m:
                return X(ne + 'Hours', 0);
              case l:
                return X(ne + 'Minutes', 1);
              case s:
                return X(ne + 'Seconds', 2);
              case a:
                return X(ne + 'Milliseconds', 3);
              default:
                return this.clone();
            }
          }),
          (z.endOf = function (H) {
            return this.startOf(H, !1);
          }),
          (z.$set = function (H, q) {
            var F,
              A = C.p(H),
              k = 'set' + (this.$u ? 'UTC' : ''),
              U = ((F = {}),
              (F[u] = k + 'Date'),
              (F[m] = k + 'Date'),
              (F[d] = k + 'Month'),
              (F[h] = k + 'FullYear'),
              (F[l] = k + 'Hours'),
              (F[s] = k + 'Minutes'),
              (F[a] = k + 'Seconds'),
              (F[o] = k + 'Milliseconds'),
              F)[A],
              X = A === u ? this.$D + (q - this.$W) : q;
            if (A === d || A === h) {
              var Q = this.clone().set(m, 1);
              Q.$d[U](X), Q.init(), (this.$d = Q.set(m, Math.min(this.$D, Q.daysInMonth())).$d);
            } else U && this.$d[U](X);
            return this.init(), this;
          }),
          (z.set = function (H, q) {
            return this.clone().$set(H, q);
          }),
          (z.get = function (H) {
            return this[C.p(H)]();
          }),
          (z.add = function (H, q) {
            var F,
              A = this;
            H = Number(H);
            var k = C.p(q),
              U = function (W) {
                var Y = D(A);
                return C.w(Y.date(Y.date() + Math.round(W * H)), A);
              };
            if (k === d) return this.set(d, this.$M + H);
            if (k === h) return this.set(h, this.$y + H);
            if (k === u) return U(1);
            if (k === c) return U(7);
            var X = ((F = {}), (F[s] = r), (F[l] = i), (F[a] = n), F)[k] || 1,
              Q = this.$d.getTime() + H * X;
            return C.w(Q, this);
          }),
          (z.subtract = function (H, q) {
            return this.add(-1 * H, q);
          }),
          (z.format = function (H) {
            var q = this,
              F = this.$locale();
            if (!this.isValid()) return F.invalidDate || g;
            var A = H || 'YYYY-MM-DDTHH:mm:ssZ',
              k = C.z(this),
              U = this.$H,
              X = this.$m,
              Q = this.$M,
              W = F.weekdays,
              Y = F.months,
              ne = function (oe, de, me, pe) {
                return (oe && (oe[de] || oe(q, A))) || me[de].slice(0, pe);
              },
              te = function (oe) {
                return C.s(U % 12 || 12, oe, '0');
              },
              K =
                F.meridiem ||
                function (oe, de, me) {
                  var pe = oe < 12 ? 'AM' : 'PM';
                  return me ? pe.toLowerCase() : pe;
                },
              ee = {
                YY: String(this.$y).slice(-2),
                YYYY: C.s(this.$y, 4, '0'),
                M: Q + 1,
                MM: C.s(Q + 1, 2, '0'),
                MMM: ne(F.monthsShort, Q, Y, 3),
                MMMM: ne(Y, Q),
                D: this.$D,
                DD: C.s(this.$D, 2, '0'),
                d: String(this.$W),
                dd: ne(F.weekdaysMin, this.$W, W, 2),
                ddd: ne(F.weekdaysShort, this.$W, W, 3),
                dddd: W[this.$W],
                H: String(U),
                HH: C.s(U, 2, '0'),
                h: te(1),
                hh: te(2),
                a: K(U, X, !0),
                A: K(U, X, !1),
                m: String(X),
                mm: C.s(X, 2, '0'),
                s: String(this.$s),
                ss: C.s(this.$s, 2, '0'),
                SSS: C.s(this.$ms, 3, '0'),
                Z: k,
              };
            return A.replace(_, function (oe, de) {
              return de || ee[oe] || k.replace(':', '');
            });
          }),
          (z.utcOffset = function () {
            return 15 * -Math.round(this.$d.getTimezoneOffset() / 15);
          }),
          (z.diff = function (H, q, F) {
            var A,
              k = C.p(q),
              U = D(H),
              X = (U.utcOffset() - this.utcOffset()) * r,
              Q = this - U,
              W = C.m(this, U);
            return (
              (W = ((A = {}), (A[h] = W / 12), (A[d] = W), (A[f] = W / 3), (A[c] = (Q - X) / 6048e5), (A[u] = (Q - X) / 864e5), (A[l] = Q / i), (A[s] = Q / r), (A[a] = Q / n), A)[k] || Q),
              F ? W : C.a(W)
            );
          }),
          (z.daysInMonth = function () {
            return this.endOf(d).$D;
          }),
          (z.$locale = function () {
            return O[this.$L];
          }),
          (z.locale = function (H, q) {
            if (!H) return this.$L;
            var F = this.clone(),
              A = L(H, q, !0);
            return A && (F.$L = A), F;
          }),
          (z.clone = function () {
            return C.w(this.$d, this);
          }),
          (z.toDate = function () {
            return new Date(this.valueOf());
          }),
          (z.toJSON = function () {
            return this.isValid() ? this.toISOString() : null;
          }),
          (z.toISOString = function () {
            return this.$d.toISOString();
          }),
          (z.toString = function () {
            return this.$d.toUTCString();
          }),
          B
        );
      })(),
      M = G.prototype;
    return (
      (D.prototype = M),
      [
        ['$ms', o],
        ['$s', a],
        ['$m', s],
        ['$H', l],
        ['$W', u],
        ['$M', d],
        ['$y', h],
        ['$D', m],
      ].forEach(function (B) {
        M[B[1]] = function (z) {
          return this.$g(z, B[0], B[1]);
        };
      }),
      (D.extend = function (B, z) {
        return B.$i || (B(z, G, D), (B.$i = !0)), D;
      }),
      (D.locale = L),
      (D.isDayjs = x),
      (D.unix = function (B) {
        return D(1e3 * B);
      }),
      (D.en = O[I]),
      (D.Ls = O),
      (D.p = {}),
      D
    );
  });
})(GR);
const WR = (t) => ({ '&::-moz-placeholder': { opacity: 1 }, '&::placeholder': { color: t, userSelect: 'none' }, '&:placeholder-shown': { textOverflow: 'ellipsis' } }),
  Ip = (t) => ({ borderColor: t.inputBorderHoverColor, borderInlineEndWidth: t.lineWidth }),
  V0 = (t) => ({ borderColor: t.inputBorderHoverColor, boxShadow: `0 0 0 ${t.controlOutlineWidth}px ${t.controlOutline}`, borderInlineEndWidth: t.lineWidth, outline: 0 }),
  Z4 = (t) => ({
    color: t.colorTextDisabled,
    backgroundColor: t.colorBgContainerDisabled,
    borderColor: t.colorBorder,
    boxShadow: 'none',
    cursor: 'not-allowed',
    opacity: 1,
    '&:hover': Object.assign({}, Ip(Tn(t, { inputBorderHoverColor: t.colorBorder }))),
  }),
  J4 = (t) => {
    const { inputPaddingVerticalLG: e, fontSizeLG: n, lineHeightLG: r, borderRadiusLG: i, inputPaddingHorizontalLG: o } = t;
    return { padding: `${e}px ${o}px`, fontSize: n, lineHeight: r, borderRadius: i };
  },
  e_ = (t) => ({ padding: `${t.inputPaddingVerticalSM}px ${t.controlPaddingHorizontalSM - 1}px`, borderRadius: t.borderRadiusSM }),
  t_ = (t, e) => {
    const { componentCls: n, colorError: r, colorWarning: i, colorErrorOutline: o, colorWarningOutline: a, colorErrorBorderHover: s, colorWarningBorderHover: l } = t;
    return {
      [`&-status-error:not(${e}-disabled):not(${e}-borderless)${e}`]: {
        borderColor: r,
        '&:hover': { borderColor: s },
        '&:focus, &-focused': Object.assign({}, V0(Tn(t, { inputBorderActiveColor: r, inputBorderHoverColor: r, controlOutline: o }))),
        [`${n}-prefix, ${n}-suffix`]: { color: r },
      },
      [`&-status-warning:not(${e}-disabled):not(${e}-borderless)${e}`]: {
        borderColor: i,
        '&:hover': { borderColor: l },
        '&:focus, &-focused': Object.assign({}, V0(Tn(t, { inputBorderActiveColor: i, inputBorderHoverColor: i, controlOutline: a }))),
        [`${n}-prefix, ${n}-suffix`]: { color: i },
      },
    };
  },
  n_ = (t) =>
    Object.assign(
      Object.assign(
        {
          position: 'relative',
          display: 'inline-block',
          width: '100%',
          minWidth: 0,
          padding: `${t.inputPaddingVertical}px ${t.inputPaddingHorizontal}px`,
          color: t.colorText,
          fontSize: t.fontSize,
          lineHeight: t.lineHeight,
          backgroundColor: t.colorBgContainer,
          backgroundImage: 'none',
          borderWidth: t.lineWidth,
          borderStyle: t.lineType,
          borderColor: t.colorBorder,
          borderRadius: t.borderRadius,
          transition: `all ${t.motionDurationMid}`,
        },
        WR(t.colorTextPlaceholder),
      ),
      {
        '&:hover': Object.assign({}, Ip(t)),
        '&:focus, &-focused': Object.assign({}, V0(t)),
        '&-disabled, &[disabled]': Object.assign({}, Z4(t)),
        '&-borderless': { '&, &:hover, &:focus, &-focused, &-disabled, &[disabled]': { backgroundColor: 'transparent', border: 'none', boxShadow: 'none' } },
        'textarea&': {
          maxWidth: '100%',
          height: 'auto',
          minHeight: t.controlHeight,
          lineHeight: t.lineHeight,
          verticalAlign: 'bottom',
          transition: `all ${t.motionDurationSlow}, height 0s`,
          resize: 'vertical',
        },
        '&-lg': Object.assign({}, J4(t)),
        '&-sm': Object.assign({}, e_(t)),
        '&-rtl': { direction: 'rtl' },
        '&-textarea-rtl': { direction: 'rtl' },
      },
    ),
  KR = (t) => {
    const { componentCls: e, antCls: n } = t;
    return {
      position: 'relative',
      display: 'table',
      width: '100%',
      borderCollapse: 'separate',
      borderSpacing: 0,
      "&[class*='col-']": { paddingInlineEnd: t.paddingXS, '&:last-child': { paddingInlineEnd: 0 } },
      [`&-lg ${e}, &-lg > ${e}-group-addon`]: Object.assign({}, J4(t)),
      [`&-sm ${e}, &-sm > ${e}-group-addon`]: Object.assign({}, e_(t)),
      [`&-lg ${n}-select-single ${n}-select-selector`]: { height: t.controlHeightLG },
      [`&-sm ${n}-select-single ${n}-select-selector`]: { height: t.controlHeightSM },
      [`> ${e}`]: { display: 'table-cell', '&:not(:first-child):not(:last-child)': { borderRadius: 0 } },
      [`${e}-group`]: {
        '&-addon, &-wrap': { display: 'table-cell', width: 1, whiteSpace: 'nowrap', verticalAlign: 'middle', '&:not(:first-child):not(:last-child)': { borderRadius: 0 } },
        '&-wrap > *': { display: 'block !important' },
        '&-addon': {
          position: 'relative',
          padding: `0 ${t.inputPaddingHorizontal}px`,
          color: t.colorText,
          fontWeight: 'normal',
          fontSize: t.fontSize,
          textAlign: 'center',
          backgroundColor: t.colorFillAlter,
          border: `${t.lineWidth}px ${t.lineType} ${t.colorBorder}`,
          borderRadius: t.borderRadius,
          transition: `all ${t.motionDurationSlow}`,
          lineHeight: 1,
          [`${n}-select`]: {
            margin: `-${t.inputPaddingVertical + 1}px -${t.inputPaddingHorizontal}px`,
            [`&${n}-select-single:not(${n}-select-customize-input)`]: {
              [`${n}-select-selector`]: { backgroundColor: 'inherit', border: `${t.lineWidth}px ${t.lineType} transparent`, boxShadow: 'none' },
            },
            '&-open, &-focused': { [`${n}-select-selector`]: { color: t.colorPrimary } },
          },
          [`${n}-cascader-picker`]: { margin: `-9px -${t.inputPaddingHorizontal}px`, backgroundColor: 'transparent', [`${n}-cascader-input`]: { textAlign: 'start', border: 0, boxShadow: 'none' } },
        },
        '&-addon:first-child': { borderInlineEnd: 0 },
        '&-addon:last-child': { borderInlineStart: 0 },
      },
      [`${e}`]: {
        width: '100%',
        marginBottom: 0,
        textAlign: 'inherit',
        '&:focus': { zIndex: 1, borderInlineEndWidth: 1 },
        '&:hover': { zIndex: 1, borderInlineEndWidth: 1, [`${e}-search-with-button &`]: { zIndex: 0 } },
      },
      [`> ${e}:first-child, ${e}-group-addon:first-child`]: {
        borderStartEndRadius: 0,
        borderEndEndRadius: 0,
        [`${n}-select ${n}-select-selector`]: { borderStartEndRadius: 0, borderEndEndRadius: 0 },
      },
      [`> ${e}-affix-wrapper`]: {
        [`&:not(:first-child) ${e}`]: { borderStartStartRadius: 0, borderEndStartRadius: 0 },
        [`&:not(:last-child) ${e}`]: { borderStartEndRadius: 0, borderEndEndRadius: 0 },
      },
      [`> ${e}:last-child, ${e}-group-addon:last-child`]: {
        borderStartStartRadius: 0,
        borderEndStartRadius: 0,
        [`${n}-select ${n}-select-selector`]: { borderStartStartRadius: 0, borderEndStartRadius: 0 },
      },
      [`${e}-affix-wrapper`]: {
        '&:not(:last-child)': { borderStartEndRadius: 0, borderEndEndRadius: 0, [`${e}-search &`]: { borderStartStartRadius: t.borderRadius, borderEndStartRadius: t.borderRadius } },
        [`&:not(:first-child), ${e}-search &:not(:first-child)`]: { borderStartStartRadius: 0, borderEndStartRadius: 0 },
      },
      [`&${e}-group-compact`]: Object.assign(Object.assign({ display: 'block' }, h7()), {
        [`${e}-group-addon, ${e}-group-wrap, > ${e}`]: { '&:not(:first-child):not(:last-child)': { borderInlineEndWidth: t.lineWidth, '&:hover': { zIndex: 1 }, '&:focus': { zIndex: 1 } } },
        '& > *': { display: 'inline-block', float: 'none', verticalAlign: 'top', borderRadius: 0 },
        [`
        & > ${e}-affix-wrapper,
        & > ${e}-number-affix-wrapper,
        & > ${n}-picker-range
      `]: { display: 'inline-flex' },
        '& > *:not(:last-child)': { marginInlineEnd: -t.lineWidth, borderInlineEndWidth: t.lineWidth },
        [`${e}`]: { float: 'none' },
        [`& > ${n}-select > ${n}-select-selector,
      & > ${n}-select-auto-complete ${e},
      & > ${n}-cascader-picker ${e},
      & > ${e}-group-wrapper ${e}`]: { borderInlineEndWidth: t.lineWidth, borderRadius: 0, '&:hover': { zIndex: 1 }, '&:focus': { zIndex: 1 } },
        [`& > ${n}-select-focused`]: { zIndex: 1 },
        [`& > ${n}-select > ${n}-select-arrow`]: { zIndex: 1 },
        [`& > *:first-child,
      & > ${n}-select:first-child > ${n}-select-selector,
      & > ${n}-select-auto-complete:first-child ${e},
      & > ${n}-cascader-picker:first-child ${e}`]: { borderStartStartRadius: t.borderRadius, borderEndStartRadius: t.borderRadius },
        [`& > *:last-child,
      & > ${n}-select:last-child > ${n}-select-selector,
      & > ${n}-cascader-picker:last-child ${e},
      & > ${n}-cascader-picker-focused:last-child ${e}`]: { borderInlineEndWidth: t.lineWidth, borderStartEndRadius: t.borderRadius, borderEndEndRadius: t.borderRadius },
        [`& > ${n}-select-auto-complete ${e}`]: { verticalAlign: 'top' },
        [`${e}-group-wrapper + ${e}-group-wrapper`]: { marginInlineStart: -t.lineWidth, [`${e}-affix-wrapper`]: { borderRadius: 0 } },
        [`${e}-group-wrapper:not(:last-child)`]: {
          [`&${e}-search > ${e}-group`]: {
            [`& > ${e}-group-addon > ${e}-search-button`]: { borderRadius: 0 },
            [`& > ${e}`]: { borderStartStartRadius: t.borderRadius, borderStartEndRadius: 0, borderEndEndRadius: 0, borderEndStartRadius: t.borderRadius },
          },
        },
      }),
    };
  },
  qR = (t) => {
    const { componentCls: e, controlHeightSM: n, lineWidth: r } = t,
      i = 16,
      o = (n - r * 2 - i) / 2;
    return {
      [e]: Object.assign(Object.assign(Object.assign(Object.assign({}, Wo(t)), n_(t)), t_(t, e)), {
        '&[type="color"]': { height: t.controlHeight, [`&${e}-lg`]: { height: t.controlHeightLG }, [`&${e}-sm`]: { height: n, paddingTop: o, paddingBottom: o } },
        '&[type="search"]::-webkit-search-cancel-button, &[type="search"]::-webkit-search-decoration': { '-webkit-appearance': 'none' },
      }),
    };
  },
  YR = (t) => {
    const { componentCls: e } = t;
    return {
      [`${e}-clear-icon`]: {
        margin: 0,
        color: t.colorTextQuaternary,
        fontSize: t.fontSizeIcon,
        verticalAlign: -1,
        cursor: 'pointer',
        transition: `color ${t.motionDurationSlow}`,
        '&:hover': { color: t.colorTextTertiary },
        '&:active': { color: t.colorText },
        '&-hidden': { visibility: 'hidden' },
        '&-has-suffix': { margin: `0 ${t.inputAffixPadding}px` },
      },
    };
  },
  XR = (t) => {
    const { componentCls: e, inputAffixPadding: n, colorTextDescription: r, motionDurationSlow: i, colorIcon: o, colorIconHover: a, iconCls: s } = t;
    return {
      [`${e}-affix-wrapper`]: Object.assign(
        Object.assign(
          Object.assign(
            Object.assign(Object.assign({}, n_(t)), {
              display: 'inline-flex',
              [`&:not(${e}-affix-wrapper-disabled):hover`]: Object.assign(Object.assign({}, Ip(t)), { zIndex: 1, [`${e}-search-with-button &`]: { zIndex: 0 } }),
              '&-focused, &:focus': { zIndex: 1 },
              '&-disabled': { [`${e}[disabled]`]: { background: 'transparent' } },
              [`> input${e}`]: { padding: 0, fontSize: 'inherit', border: 'none', borderRadius: 0, outline: 'none', '&::-ms-reveal': { display: 'none' }, '&:focus': { boxShadow: 'none !important' } },
              '&::before': { display: 'inline-block', width: 0, visibility: 'hidden', content: '"\\a0"' },
              [`${e}`]: {
                '&-prefix, &-suffix': { display: 'flex', flex: 'none', alignItems: 'center', '> *:not(:last-child)': { marginInlineEnd: t.paddingXS } },
                '&-show-count-suffix': { color: r },
                '&-show-count-has-suffix': { marginInlineEnd: t.paddingXXS },
                '&-prefix': { marginInlineEnd: n },
                '&-suffix': { marginInlineStart: n },
              },
            }),
            YR(t),
          ),
          { [`${s}${e}-password-icon`]: { color: o, cursor: 'pointer', transition: `all ${i}`, '&:hover': { color: a } } },
        ),
        t_(t, `${e}-affix-wrapper`),
      ),
    };
  },
  QR = (t) => {
    const { componentCls: e, colorError: n, colorWarning: r, borderRadiusLG: i, borderRadiusSM: o } = t;
    return {
      [`${e}-group`]: Object.assign(Object.assign(Object.assign({}, Wo(t)), KR(t)), {
        '&-rtl': { direction: 'rtl' },
        '&-wrapper': {
          display: 'inline-block',
          width: '100%',
          textAlign: 'start',
          verticalAlign: 'top',
          '&-rtl': { direction: 'rtl' },
          '&-lg': { [`${e}-group-addon`]: { borderRadius: i } },
          '&-sm': { [`${e}-group-addon`]: { borderRadius: o } },
          '&-status-error': { [`${e}-group-addon`]: { color: n, borderColor: n } },
          '&-status-warning': { [`${e}-group-addon`]: { color: r, borderColor: r } },
          '&-disabled': { [`${e}-group-addon`]: Object.assign({}, Z4(t)) },
          [`&:not(${e}-compact-first-item):not(${e}-compact-last-item)${e}-compact-item`]: { [`${e}, ${e}-group-addon`]: { borderRadius: 0 } },
          [`&:not(${e}-compact-last-item)${e}-compact-first-item`]: { [`${e}, ${e}-group-addon`]: { borderStartEndRadius: 0, borderEndEndRadius: 0 } },
          [`&:not(${e}-compact-first-item)${e}-compact-last-item`]: { [`${e}, ${e}-group-addon`]: { borderStartStartRadius: 0, borderEndStartRadius: 0 } },
        },
      }),
    };
  },
  ZR = (t) => {
    const { componentCls: e, antCls: n } = t,
      r = `${e}-search`;
    return {
      [r]: {
        [`${e}`]: { '&:hover, &:focus': { borderColor: t.colorPrimaryHover, [`+ ${e}-group-addon ${r}-button:not(${n}-btn-primary)`]: { borderInlineStartColor: t.colorPrimaryHover } } },
        [`${e}-affix-wrapper`]: { borderRadius: 0 },
        [`${e}-lg`]: { lineHeight: t.lineHeightLG - 2e-4 },
        [`> ${e}-group`]: {
          [`> ${e}-group-addon:last-child`]: {
            insetInlineStart: -1,
            padding: 0,
            border: 0,
            [`${r}-button`]: { paddingTop: 0, paddingBottom: 0, borderStartStartRadius: 0, borderStartEndRadius: t.borderRadius, borderEndEndRadius: t.borderRadius, borderEndStartRadius: 0 },
            [`${r}-button:not(${n}-btn-primary)`]: {
              color: t.colorTextDescription,
              '&:hover': { color: t.colorPrimaryHover },
              '&:active': { color: t.colorPrimaryActive },
              [`&${n}-btn-loading::before`]: { insetInlineStart: 0, insetInlineEnd: 0, insetBlockStart: 0, insetBlockEnd: 0 },
            },
          },
        },
        [`${r}-button`]: { height: t.controlHeight, '&:hover, &:focus': { zIndex: 1 } },
        [`&-large ${r}-button`]: { height: t.controlHeightLG },
        [`&-small ${r}-button`]: { height: t.controlHeightSM },
        '&-rtl': { direction: 'rtl' },
        [`&${e}-compact-item`]: {
          [`&:not(${e}-compact-last-item)`]: { [`${e}-group-addon`]: { [`${e}-search-button`]: { marginInlineEnd: -t.lineWidth, borderRadius: 0 } } },
          [`&:not(${e}-compact-first-item)`]: { [`${e},${e}-affix-wrapper`]: { borderRadius: 0 } },
          [`> ${e}-group-addon ${e}-search-button,
        > ${e},
        ${e}-affix-wrapper`]: { '&:hover,&:focus,&:active': { zIndex: 2 } },
          [`> ${e}-affix-wrapper-focused`]: { zIndex: 2 },
        },
      },
    };
  };
function JR(t) {
  return Tn(t, {
    inputAffixPadding: t.paddingXXS,
    inputPaddingVertical: Math.max(Math.round(((t.controlHeight - t.fontSize * t.lineHeight) / 2) * 10) / 10 - t.lineWidth, 3),
    inputPaddingVerticalLG: Math.ceil(((t.controlHeightLG - t.fontSizeLG * t.lineHeightLG) / 2) * 10) / 10 - t.lineWidth,
    inputPaddingVerticalSM: Math.max(Math.round(((t.controlHeightSM - t.fontSize * t.lineHeight) / 2) * 10) / 10 - t.lineWidth, 0),
    inputPaddingHorizontal: t.paddingSM - t.lineWidth,
    inputPaddingHorizontalSM: t.paddingXS - t.lineWidth,
    inputPaddingHorizontalLG: t.controlPaddingHorizontal - t.lineWidth,
    inputBorderHoverColor: t.colorPrimaryHover,
    inputBorderActiveColor: t.colorPrimaryHover,
  });
}
const eA = (t) => {
    const { componentCls: e, paddingLG: n } = t,
      r = `${e}-textarea`;
    return {
      [r]: {
        position: 'relative',
        '&-show-count': {
          [`> ${e}`]: { height: '100%' },
          [`${e}-data-count`]: { position: 'absolute', bottom: -t.fontSize * t.lineHeight, insetInlineEnd: 0, color: t.colorTextDescription, whiteSpace: 'nowrap', pointerEvents: 'none' },
        },
        '&-allow-clear': { [`> ${e}`]: { paddingInlineEnd: n } },
        [`&-affix-wrapper${r}-has-feedback`]: { [`${e}`]: { paddingInlineEnd: n } },
        [`&-affix-wrapper${e}-affix-wrapper`]: {
          padding: 0,
          [`> textarea${e}`]: { fontSize: 'inherit', border: 'none', outline: 'none', '&:focus': { boxShadow: 'none !important' } },
          [`${e}-suffix`]: {
            margin: 0,
            '> *:not(:last-child)': { marginInline: 0 },
            [`${e}-clear-icon`]: { position: 'absolute', insetInlineEnd: t.paddingXS, insetBlockStart: t.paddingXS },
            [`${r}-suffix`]: {
              position: 'absolute',
              top: 0,
              insetInlineEnd: t.inputPaddingHorizontal,
              bottom: 0,
              zIndex: 1,
              display: 'inline-flex',
              alignItems: 'center',
              margin: 'auto',
              pointerEvents: 'none',
            },
          },
        },
      },
    };
  },
  Dp = Ko('Input', (t) => {
    const e = JR(t);
    return [qR(e), eA(e), XR(e), QR(e), ZR(e), yp(e)];
  }),
  tA = (t) => {
    const { getPrefixCls: e, direction: n } = v.useContext(On),
      { prefixCls: r, className: i = '' } = t,
      o = e('input-group', r),
      a = e('input'),
      [s, l] = Dp(a),
      u = $e(o, { [`${o}-lg`]: t.size === 'large', [`${o}-sm`]: t.size === 'small', [`${o}-compact`]: t.compact, [`${o}-rtl`]: n === 'rtl' }, l, i),
      c = v.useContext(zo),
      d = v.useMemo(() => Object.assign(Object.assign({}, c), { isFormItemInput: !1 }), [c]);
    return s(
      v.createElement(
        'span',
        { className: u, style: t.style, onMouseEnter: t.onMouseEnter, onMouseLeave: t.onMouseLeave, onFocus: t.onFocus, onBlur: t.onBlur },
        v.createElement(zo.Provider, { value: d }, t.children),
      ),
    );
  },
  nA = tA;
function la(t) {
  return !!(t.addonBefore || t.addonAfter);
}
function If(t) {
  return !!(t.prefix || t.suffix || t.allowClear);
}
function Ys(t, e, n, r) {
  if (n) {
    var i = e;
    if (e.type === 'click') {
      var o = t.cloneNode(!0);
      (i = Object.create(e, { target: { value: o }, currentTarget: { value: o } })), (o.value = ''), n(i);
      return;
    }
    if (r !== void 0) {
      (i = Object.create(e, { target: { value: t }, currentTarget: { value: t } })), (t.value = r), n(i);
      return;
    }
    n(i);
  }
}
function rA(t, e) {
  if (t) {
    t.focus(e);
    var n = e || {},
      r = n.cursor;
    if (r) {
      var i = t.value.length;
      switch (r) {
        case 'start':
          t.setSelectionRange(0, 0);
          break;
        case 'end':
          t.setSelectionRange(i, i);
          break;
        default:
          t.setSelectionRange(0, i);
      }
    }
  }
}
function H0(t) {
  return typeof t > 'u' || t === null ? '' : String(t);
}
var r_ = function (e) {
    var n,
      r,
      i = e.inputElement,
      o = e.prefixCls,
      a = e.prefix,
      s = e.suffix,
      l = e.addonBefore,
      u = e.addonAfter,
      c = e.className,
      d = e.style,
      f = e.disabled,
      h = e.readOnly,
      m = e.focused,
      g = e.triggerFocus,
      b = e.allowClear,
      _ = e.value,
      y = e.handleReset,
      T = e.hidden,
      w = e.classes,
      I = e.classNames,
      O = e.dataAttrs,
      x = e.styles,
      L = v.useRef(null),
      D = function (X) {
        var Q;
        (Q = L.current) !== null && Q !== void 0 && Q.contains(X.target) && (g == null || g());
      },
      C = function () {
        var X;
        if (!b) return null;
        var Q = !f && !h && _,
          W = ''.concat(o, '-clear-icon'),
          Y = wt(b) === 'object' && b !== null && b !== void 0 && b.clearIcon ? b.clearIcon : '✖';
        return Ie.createElement(
          'span',
          {
            onClick: y,
            onMouseDown: function (te) {
              return te.preventDefault();
            },
            className: $e(W, ((X = {}), De(X, ''.concat(W, '-hidden'), !Q), De(X, ''.concat(W, '-has-suffix'), !!s), X)),
            role: 'button',
            tabIndex: -1,
          },
          Y,
        );
      },
      G = v.cloneElement(i, {
        value: _,
        hidden: T,
        className: $e((n = i.props) === null || n === void 0 ? void 0 : n.className, !If(e) && !la(e) && c) || null,
        style: ce(ce({}, (r = i.props) === null || r === void 0 ? void 0 : r.style), !If(e) && !la(e) ? d : {}),
      });
    if (If(e)) {
      var M,
        B = ''.concat(o, '-affix-wrapper'),
        z = $e(
          B,
          ((M = {}), De(M, ''.concat(B, '-disabled'), f), De(M, ''.concat(B, '-focused'), m), De(M, ''.concat(B, '-readonly'), h), De(M, ''.concat(B, '-input-with-clear-btn'), s && b && _), M),
          !la(e) && c,
          w == null ? void 0 : w.affixWrapper,
        ),
        H = (s || b) && Ie.createElement('span', { className: $e(''.concat(o, '-suffix'), I == null ? void 0 : I.suffix), style: x == null ? void 0 : x.suffix }, C(), s);
      G = Ie.createElement(
        'span',
        pt({ className: z, style: la(e) ? void 0 : d, hidden: !la(e) && T, onClick: D }, O == null ? void 0 : O.affixWrapper, { ref: L }),
        a && Ie.createElement('span', { className: $e(''.concat(o, '-prefix'), I == null ? void 0 : I.prefix), style: x == null ? void 0 : x.prefix }, a),
        v.cloneElement(i, { value: _, hidden: null }),
        H,
      );
    }
    if (la(e)) {
      var q = ''.concat(o, '-group'),
        F = ''.concat(q, '-addon'),
        A = $e(''.concat(o, '-wrapper'), q, w == null ? void 0 : w.wrapper),
        k = $e(''.concat(o, '-group-wrapper'), c, w == null ? void 0 : w.group);
      return Ie.createElement(
        'span',
        { className: k, style: d, hidden: T },
        Ie.createElement('span', { className: A }, l && Ie.createElement('span', { className: F }, l), v.cloneElement(G, { hidden: null }), u && Ie.createElement('span', { className: F }, u)),
      );
    }
    return G;
  },
  iA = [
    'autoComplete',
    'onChange',
    'onFocus',
    'onBlur',
    'onPressEnter',
    'onKeyDown',
    'prefixCls',
    'disabled',
    'htmlSize',
    'className',
    'maxLength',
    'suffix',
    'showCount',
    'type',
    'classes',
    'classNames',
    'styles',
  ],
  oA = v.forwardRef(function (t, e) {
    var n = t.autoComplete,
      r = t.onChange,
      i = t.onFocus,
      o = t.onBlur,
      a = t.onPressEnter,
      s = t.onKeyDown,
      l = t.prefixCls,
      u = l === void 0 ? 'rc-input' : l,
      c = t.disabled,
      d = t.htmlSize,
      f = t.className,
      h = t.maxLength,
      m = t.suffix,
      g = t.showCount,
      b = t.type,
      _ = b === void 0 ? 'text' : b,
      y = t.classes,
      T = t.classNames,
      w = t.styles,
      I = Zt(t, iA),
      O = Ni(t.defaultValue, { value: t.value }),
      x = ve(O, 2),
      L = x[0],
      D = x[1],
      C = v.useState(!1),
      G = ve(C, 2),
      M = G[0],
      B = G[1],
      z = v.useRef(null),
      H = function (Y) {
        z.current && rA(z.current, Y);
      };
    v.useImperativeHandle(e, function () {
      return {
        focus: H,
        blur: function () {
          var Y;
          (Y = z.current) === null || Y === void 0 || Y.blur();
        },
        setSelectionRange: function (Y, ne, te) {
          var K;
          (K = z.current) === null || K === void 0 || K.setSelectionRange(Y, ne, te);
        },
        select: function () {
          var Y;
          (Y = z.current) === null || Y === void 0 || Y.select();
        },
        input: z.current,
      };
    }),
      v.useEffect(
        function () {
          B(function (W) {
            return W && c ? !1 : W;
          });
        },
        [c],
      );
    var q = function (Y) {
        t.value === void 0 && D(Y.target.value), z.current && Ys(z.current, Y, r);
      },
      F = function (Y) {
        a && Y.key === 'Enter' && a(Y), s == null || s(Y);
      },
      A = function (Y) {
        B(!0), i == null || i(Y);
      },
      k = function (Y) {
        B(!1), o == null || o(Y);
      },
      U = function (Y) {
        D(''), H(), z.current && Ys(z.current, Y, r);
      },
      X = function () {
        var Y = kl(t, ['prefixCls', 'onPressEnter', 'addonBefore', 'addonAfter', 'prefix', 'suffix', 'allowClear', 'defaultValue', 'showCount', 'classes', 'htmlSize', 'styles', 'classNames']);
        return Ie.createElement(
          'input',
          pt({ autoComplete: n }, Y, {
            onChange: q,
            onFocus: A,
            onBlur: k,
            onKeyDown: F,
            className: $e(u, De({}, ''.concat(u, '-disabled'), c), T == null ? void 0 : T.input),
            style: w == null ? void 0 : w.input,
            ref: z,
            size: d,
            type: _,
          }),
        );
      },
      Q = function () {
        var Y = Number(h) > 0;
        if (m || g) {
          var ne = H0(L),
            te = Ue(ne).length,
            K = wt(g) === 'object' ? g.formatter({ value: ne, count: te, maxLength: h }) : ''.concat(te).concat(Y ? ' / '.concat(h) : '');
          return Ie.createElement(
            Ie.Fragment,
            null,
            !!g &&
              Ie.createElement(
                'span',
                { className: $e(''.concat(u, '-show-count-suffix'), De({}, ''.concat(u, '-show-count-has-suffix'), !!m), T == null ? void 0 : T.count), style: ce({}, w == null ? void 0 : w.count) },
                K,
              ),
            m,
          );
        }
        return null;
      };
    return Ie.createElement(
      r_,
      pt({}, I, { prefixCls: u, className: f, inputElement: X(), handleReset: U, value: H0(L), focused: M, triggerFocus: H, suffix: Q(), disabled: c, classes: y, classNames: T, styles: w }),
    );
  });
function i_(t, e) {
  const n = v.useRef([]),
    r = () => {
      n.current.push(
        setTimeout(() => {
          var i, o, a, s;
          !((i = t.current) === null || i === void 0) &&
            i.input &&
            ((o = t.current) === null || o === void 0 ? void 0 : o.input.getAttribute('type')) === 'password' &&
            !((a = t.current) === null || a === void 0) &&
            a.input.hasAttribute('value') &&
            ((s = t.current) === null || s === void 0 || s.input.removeAttribute('value'));
        }),
      );
    };
  return (
    v.useEffect(
      () => (
        e && r(),
        () =>
          n.current.forEach((i) => {
            i && clearTimeout(i);
          })
      ),
      [],
    ),
    r
  );
}
function aA(t) {
  return !!(t.prefix || t.suffix || t.allowClear);
}
var sA =
  (globalThis && globalThis.__rest) ||
  function (t, e) {
    var n = {};
    for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);
    if (t != null && typeof Object.getOwnPropertySymbols == 'function')
      for (var i = 0, r = Object.getOwnPropertySymbols(t); i < r.length; i++) e.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[i]) && (n[r[i]] = t[r[i]]);
    return n;
  };
function lA(t, e) {
  if (!t) return;
  t.focus(e);
  const { cursor: n } = e || {};
  if (n) {
    const r = t.value.length;
    switch (n) {
      case 'start':
        t.setSelectionRange(0, 0);
        break;
      case 'end':
        t.setSelectionRange(r, r);
        break;
      default:
        t.setSelectionRange(0, r);
        break;
    }
  }
}
const uA = v.forwardRef((t, e) => {
    const {
        prefixCls: n,
        bordered: r = !0,
        status: i,
        size: o,
        disabled: a,
        onBlur: s,
        onFocus: l,
        suffix: u,
        allowClear: c,
        addonAfter: d,
        addonBefore: f,
        className: h,
        rootClassName: m,
        onChange: g,
        classNames: b,
      } = t,
      _ = sA(t, [
        'prefixCls',
        'bordered',
        'status',
        'size',
        'disabled',
        'onBlur',
        'onFocus',
        'suffix',
        'allowClear',
        'addonAfter',
        'addonBefore',
        'className',
        'rootClassName',
        'onChange',
        'classNames',
      ]),
      { getPrefixCls: y, direction: T, input: w } = Ie.useContext(On),
      I = y('input', n),
      O = v.useRef(null),
      [x, L] = Dp(I),
      { compactSize: D, compactItemClassnames: C } = Rd(I, T),
      G = ss((te) => {
        var K;
        return (K = o ?? D) !== null && K !== void 0 ? K : te;
      }),
      M = Ie.useContext(as),
      B = a ?? M,
      { status: z, hasFeedback: H, feedbackIcon: q } = v.useContext(zo),
      F = Ap(z, i),
      A = aA(t) || !!H,
      k = v.useRef(A);
    v.useEffect(() => {
      A && k.current, (k.current = A);
    }, [A]);
    const U = i_(O, !0),
      X = (te) => {
        U(), s == null || s(te);
      },
      Q = (te) => {
        U(), l == null || l(te);
      },
      W = (te) => {
        U(), g == null || g(te);
      },
      Y = (H || u) && Ie.createElement(Ie.Fragment, null, u, H && q);
    let ne;
    return (
      typeof c == 'object' && c != null && c.clearIcon ? (ne = c) : c && (ne = { clearIcon: Ie.createElement(gp, null) }),
      x(
        Ie.createElement(
          oA,
          Object.assign({ ref: pi(e, O), prefixCls: I, autoComplete: w == null ? void 0 : w.autoComplete }, _, {
            disabled: B,
            onBlur: X,
            onFocus: Q,
            suffix: Y,
            allowClear: ne,
            className: $e(h, m, C),
            onChange: W,
            addonAfter: d && Ie.createElement(T0, null, Ie.createElement(sv, { override: !0, status: !0 }, d)),
            addonBefore: f && Ie.createElement(T0, null, Ie.createElement(sv, { override: !0, status: !0 }, f)),
            classNames: Object.assign(Object.assign({}, b), {
              input: $e({ [`${I}-sm`]: G === 'small', [`${I}-lg`]: G === 'large', [`${I}-rtl`]: T === 'rtl', [`${I}-borderless`]: !r }, !A && za(I, F), b == null ? void 0 : b.input, L),
            }),
            classes: {
              affixWrapper: $e(
                { [`${I}-affix-wrapper-sm`]: G === 'small', [`${I}-affix-wrapper-lg`]: G === 'large', [`${I}-affix-wrapper-rtl`]: T === 'rtl', [`${I}-affix-wrapper-borderless`]: !r },
                za(`${I}-affix-wrapper`, F, H),
                L,
              ),
              wrapper: $e({ [`${I}-group-rtl`]: T === 'rtl' }, L),
              group: $e(
                { [`${I}-group-wrapper-sm`]: G === 'small', [`${I}-group-wrapper-lg`]: G === 'large', [`${I}-group-wrapper-rtl`]: T === 'rtl', [`${I}-group-wrapper-disabled`]: B },
                za(`${I}-group-wrapper`, F, H),
                L,
              ),
            },
          }),
        ),
      )
    );
  }),
  Pp = uA;
var cA = {
  icon: {
    tag: 'svg',
    attrs: { viewBox: '64 64 896 896', focusable: 'false' },
    children: [
      {
        tag: 'path',
        attrs: {
          d: 'M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z',
        },
      },
      { tag: 'path', attrs: { d: 'M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z' } },
    ],
  },
  name: 'eye-invisible',
  theme: 'outlined',
};
const dA = cA;
var fA = function (e, n) {
  return v.createElement(po, pt({}, e, { ref: n, icon: dA }));
};
const hA = v.forwardRef(fA);
var mA = {
  icon: {
    tag: 'svg',
    attrs: { viewBox: '64 64 896 896', focusable: 'false' },
    children: [
      {
        tag: 'path',
        attrs: {
          d: 'M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z',
        },
      },
    ],
  },
  name: 'eye',
  theme: 'outlined',
};
const pA = mA;
var gA = function (e, n) {
  return v.createElement(po, pt({}, e, { ref: n, icon: pA }));
};
const vA = v.forwardRef(gA);
var yA =
  (globalThis && globalThis.__rest) ||
  function (t, e) {
    var n = {};
    for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);
    if (t != null && typeof Object.getOwnPropertySymbols == 'function')
      for (var i = 0, r = Object.getOwnPropertySymbols(t); i < r.length; i++) e.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[i]) && (n[r[i]] = t[r[i]]);
    return n;
  };
const _A = (t) => (t ? v.createElement(vA, null) : v.createElement(hA, null)),
  SA = { click: 'onClick', hover: 'onMouseOver' },
  EA = v.forwardRef((t, e) => {
    const { visibilityToggle: n = !0 } = t,
      r = typeof n == 'object' && n.visible !== void 0,
      [i, o] = v.useState(() => (r ? n.visible : !1)),
      a = v.useRef(null);
    v.useEffect(() => {
      r && o(n.visible);
    }, [r, n]);
    const s = i_(a),
      l = () => {
        const { disabled: I } = t;
        I ||
          (i && s(),
          o((O) => {
            var x;
            const L = !O;
            return typeof n == 'object' && ((x = n.onVisibleChange) === null || x === void 0 || x.call(n, L)), L;
          }));
      },
      u = (I) => {
        const { action: O = 'click', iconRender: x = _A } = t,
          L = SA[O] || '',
          D = x(i),
          C = {
            [L]: l,
            className: `${I}-icon`,
            key: 'passwordIcon',
            onMouseDown: (G) => {
              G.preventDefault();
            },
            onMouseUp: (G) => {
              G.preventDefault();
            },
          };
        return v.cloneElement(v.isValidElement(D) ? D : v.createElement('span', null, D), C);
      },
      { className: c, prefixCls: d, inputPrefixCls: f, size: h } = t,
      m = yA(t, ['className', 'prefixCls', 'inputPrefixCls', 'size']),
      { getPrefixCls: g } = v.useContext(On),
      b = g('input', f),
      _ = g('input-password', d),
      y = n && u(_),
      T = $e(_, c, { [`${_}-${h}`]: !!h }),
      w = Object.assign(Object.assign({}, kl(m, ['suffix', 'iconRender', 'visibilityToggle'])), { type: i ? 'text' : 'password', className: T, prefixCls: b, suffix: y });
    return h && (w.size = h), v.createElement(Pp, Object.assign({ ref: pi(e, a) }, w));
  }),
  bA = EA;
var xA =
  (globalThis && globalThis.__rest) ||
  function (t, e) {
    var n = {};
    for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);
    if (t != null && typeof Object.getOwnPropertySymbols == 'function')
      for (var i = 0, r = Object.getOwnPropertySymbols(t); i < r.length; i++) e.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[i]) && (n[r[i]] = t[r[i]]);
    return n;
  };
const TA = v.forwardRef((t, e) => {
    const {
        prefixCls: n,
        inputPrefixCls: r,
        className: i,
        size: o,
        suffix: a,
        enterButton: s = !1,
        addonAfter: l,
        loading: u,
        disabled: c,
        onSearch: d,
        onChange: f,
        onCompositionStart: h,
        onCompositionEnd: m,
      } = t,
      g = xA(t, ['prefixCls', 'inputPrefixCls', 'className', 'size', 'suffix', 'enterButton', 'addonAfter', 'loading', 'disabled', 'onSearch', 'onChange', 'onCompositionStart', 'onCompositionEnd']),
      { getPrefixCls: b, direction: _ } = v.useContext(On),
      y = v.useRef(!1),
      T = b('input-search', n),
      w = b('input', r),
      { compactSize: I } = Rd(T, _),
      O = ss((U) => {
        var X;
        return (X = o ?? I) !== null && X !== void 0 ? X : U;
      }),
      x = v.useRef(null),
      L = (U) => {
        U && U.target && U.type === 'click' && d && d(U.target.value, U), f && f(U);
      },
      D = (U) => {
        var X;
        document.activeElement === ((X = x.current) === null || X === void 0 ? void 0 : X.input) && U.preventDefault();
      },
      C = (U) => {
        var X, Q;
        d && d((Q = (X = x.current) === null || X === void 0 ? void 0 : X.input) === null || Q === void 0 ? void 0 : Q.value, U);
      },
      G = (U) => {
        y.current || u || C(U);
      },
      M = typeof s == 'boolean' ? v.createElement(H4, null) : null,
      B = `${T}-button`;
    let z;
    const H = s || {},
      q = H.type && H.type.__ANT_BUTTON === !0;
    q || H.type === 'button'
      ? (z = es(
          H,
          Object.assign(
            {
              onMouseDown: D,
              onClick: (U) => {
                var X, Q;
                (Q = (X = H == null ? void 0 : H.props) === null || X === void 0 ? void 0 : X.onClick) === null || Q === void 0 || Q.call(X, U), C(U);
              },
              key: 'enterButton',
            },
            q ? { className: B, size: O } : {},
          ),
        ))
      : (z = v.createElement(C0, { className: B, type: s ? 'primary' : void 0, size: O, disabled: c, key: 'enterButton', onMouseDown: D, onClick: C, loading: u, icon: M }, s)),
      l && (z = [z, es(l, { key: 'addonAfter' })]);
    const F = $e(T, { [`${T}-rtl`]: _ === 'rtl', [`${T}-${O}`]: !!O, [`${T}-with-button`]: !!s }, i),
      A = (U) => {
        (y.current = !0), h == null || h(U);
      },
      k = (U) => {
        (y.current = !1), m == null || m(U);
      };
    return v.createElement(
      Pp,
      Object.assign({ ref: pi(x, e), onPressEnter: G }, g, { size: O, onCompositionStart: A, onCompositionEnd: k, prefixCls: w, addonAfter: z, suffix: a, onChange: L, className: F, disabled: c }),
    );
  }),
  wA = TA;
var CA = `
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,
  RA = [
    'letter-spacing',
    'line-height',
    'padding-top',
    'padding-bottom',
    'font-family',
    'font-weight',
    'font-size',
    'font-variant',
    'text-rendering',
    'text-transform',
    'width',
    'text-indent',
    'padding-left',
    'padding-right',
    'border-width',
    'box-sizing',
    'word-break',
    'white-space',
  ],
  Df = {},
  Rr;
function AA(t) {
  var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1,
    n = t.getAttribute('id') || t.getAttribute('data-reactid') || t.getAttribute('name');
  if (e && Df[n]) return Df[n];
  var r = window.getComputedStyle(t),
    i = r.getPropertyValue('box-sizing') || r.getPropertyValue('-moz-box-sizing') || r.getPropertyValue('-webkit-box-sizing'),
    o = parseFloat(r.getPropertyValue('padding-bottom')) + parseFloat(r.getPropertyValue('padding-top')),
    a = parseFloat(r.getPropertyValue('border-bottom-width')) + parseFloat(r.getPropertyValue('border-top-width')),
    s = RA.map(function (u) {
      return ''.concat(u, ':').concat(r.getPropertyValue(u));
    }).join(';'),
    l = { sizingStyle: s, paddingSize: o, borderSize: a, boxSizing: i };
  return e && n && (Df[n] = l), l;
}
function LA(t) {
  var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : !1,
    n = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null,
    r = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : null;
  Rr || ((Rr = document.createElement('textarea')), Rr.setAttribute('tab-index', '-1'), Rr.setAttribute('aria-hidden', 'true'), document.body.appendChild(Rr)),
    t.getAttribute('wrap') ? Rr.setAttribute('wrap', t.getAttribute('wrap')) : Rr.removeAttribute('wrap');
  var i = AA(t, e),
    o = i.paddingSize,
    a = i.borderSize,
    s = i.boxSizing,
    l = i.sizingStyle;
  Rr.setAttribute('style', ''.concat(l, ';').concat(CA)), (Rr.value = t.value || t.placeholder || '');
  var u = void 0,
    c = void 0,
    d,
    f = Rr.scrollHeight;
  if ((s === 'border-box' ? (f += a) : s === 'content-box' && (f -= o), n !== null || r !== null)) {
    Rr.value = ' ';
    var h = Rr.scrollHeight - o;
    n !== null && ((u = h * n), s === 'border-box' && (u = u + o + a), (f = Math.max(u, f))),
      r !== null && ((c = h * r), s === 'border-box' && (c = c + o + a), (d = f > c ? '' : 'hidden'), (f = Math.min(c, f)));
  }
  var m = { height: f, overflowY: d, resize: 'none' };
  return u && (m.minHeight = u), c && (m.maxHeight = c), m;
}
var IA = ['prefixCls', 'onPressEnter', 'defaultValue', 'value', 'autoSize', 'onResize', 'className', 'style', 'disabled', 'onChange', 'onInternalAutoSize'],
  Pf = 0,
  Of = 1,
  kf = 2,
  DA = v.forwardRef(function (t, e) {
    var n = t,
      r = n.prefixCls;
    n.onPressEnter;
    var i = n.defaultValue,
      o = n.value,
      a = n.autoSize,
      s = n.onResize,
      l = n.className,
      u = n.style,
      c = n.disabled,
      d = n.onChange;
    n.onInternalAutoSize;
    var f = Zt(n, IA),
      h = Ni(i, {
        value: o,
        postState: function (Y) {
          return Y ?? '';
        },
      }),
      m = ve(h, 2),
      g = m[0],
      b = m[1],
      _ = function (Y) {
        b(Y.target.value), d == null || d(Y);
      },
      y = v.useRef();
    v.useImperativeHandle(e, function () {
      return { textArea: y.current };
    });
    var T = v.useMemo(
        function () {
          return a && wt(a) === 'object' ? [a.minRows, a.maxRows] : [];
        },
        [a],
      ),
      w = ve(T, 2),
      I = w[0],
      O = w[1],
      x = !!a,
      L = function () {
        try {
          if (document.activeElement === y.current) {
            var Y = y.current,
              ne = Y.selectionStart,
              te = Y.selectionEnd,
              K = Y.scrollTop;
            y.current.setSelectionRange(ne, te), (y.current.scrollTop = K);
          }
        } catch {}
      },
      D = v.useState(kf),
      C = ve(D, 2),
      G = C[0],
      M = C[1],
      B = v.useState(),
      z = ve(B, 2),
      H = z[0],
      q = z[1],
      F = function () {
        M(Pf);
      };
    gn(
      function () {
        x && F();
      },
      [o, I, O, x],
    ),
      gn(
        function () {
          if (G === Pf) M(Of);
          else if (G === Of) {
            var W = LA(y.current, !1, I, O);
            M(kf), q(W);
          } else L();
        },
        [G],
      );
    var A = v.useRef(),
      k = function () {
        xn.cancel(A.current);
      },
      U = function (Y) {
        G === kf &&
          (s == null || s(Y),
          a &&
            (k(),
            (A.current = xn(function () {
              F();
            }))));
      };
    v.useEffect(function () {
      return k;
    }, []);
    var X = x ? H : null,
      Q = ce(ce({}, u), X);
    return (
      (G === Pf || G === Of) && ((Q.overflowY = 'hidden'), (Q.overflowX = 'hidden')),
      v.createElement(
        Go,
        { onResize: U, disabled: !(a || s) },
        v.createElement('textarea', pt({}, f, { ref: y, style: Q, className: $e(r, l, De({}, ''.concat(r, '-disabled'), c)), disabled: c, value: g, onChange: _ })),
      )
    );
  }),
  PA = [
    'defaultValue',
    'value',
    'onFocus',
    'onBlur',
    'onChange',
    'allowClear',
    'maxLength',
    'onCompositionStart',
    'onCompositionEnd',
    'suffix',
    'prefixCls',
    'classes',
    'showCount',
    'className',
    'style',
    'disabled',
    'hidden',
    'classNames',
    'styles',
    'onResize',
  ];
function o_(t, e) {
  return Ue(t || '')
    .slice(0, e)
    .join('');
}
function Rv(t, e, n, r) {
  var i = n;
  return t ? (i = o_(n, r)) : Ue(e || '').length < n.length && Ue(n || '').length > r && (i = e), i;
}
var OA = Ie.forwardRef(function (t, e) {
    var n,
      r = t.defaultValue,
      i = t.value,
      o = t.onFocus,
      a = t.onBlur,
      s = t.onChange,
      l = t.allowClear,
      u = t.maxLength,
      c = t.onCompositionStart,
      d = t.onCompositionEnd,
      f = t.suffix,
      h = t.prefixCls,
      m = h === void 0 ? 'rc-textarea' : h,
      g = t.classes,
      b = t.showCount,
      _ = t.className,
      y = t.style,
      T = t.disabled,
      w = t.hidden,
      I = t.classNames,
      O = t.styles,
      x = t.onResize,
      L = Zt(t, PA),
      D = Ni(r, { value: i, defaultValue: r }),
      C = ve(D, 2),
      G = C[0],
      M = C[1],
      B = v.useRef(null),
      z = Ie.useState(!1),
      H = ve(z, 2),
      q = H[0],
      F = H[1],
      A = Ie.useState(!1),
      k = ve(A, 2),
      U = k[0],
      X = k[1],
      Q = Ie.useRef(),
      W = Ie.useRef(0),
      Y = Ie.useState(null),
      ne = ve(Y, 2),
      te = ne[0],
      K = ne[1],
      ee = function () {
        B.current.textArea.focus();
      };
    v.useImperativeHandle(e, function () {
      return {
        resizableTextArea: B.current,
        focus: ee,
        blur: function () {
          B.current.textArea.blur();
        },
      };
    }),
      v.useEffect(
        function () {
          F(function (yt) {
            return !T && yt;
          });
        },
        [T],
      );
    var oe = Number(u) > 0,
      de = function (je) {
        X(!0), (Q.current = G), (W.current = je.currentTarget.selectionStart), c == null || c(je);
      },
      me = function (je) {
        X(!1);
        var tt = je.currentTarget.value;
        if (oe) {
          var Rt,
            jt = W.current >= u + 1 || W.current === ((Rt = Q.current) === null || Rt === void 0 ? void 0 : Rt.length);
          tt = Rv(jt, Q.current, tt, u);
        }
        tt !== G && (M(tt), Ys(je.currentTarget, je, s, tt)), d == null || d(je);
      },
      pe = function (je) {
        var tt = je.target.value;
        if (!U && oe) {
          var Rt = je.target.selectionStart >= u + 1 || je.target.selectionStart === tt.length || !je.target.selectionStart;
          tt = Rv(Rt, G, tt, u);
        }
        M(tt), Ys(je.currentTarget, je, s, tt);
      },
      ge = function (je) {
        var tt = L.onPressEnter,
          Rt = L.onKeyDown;
        je.key === 'Enter' && tt && tt(je), Rt == null || Rt(je);
      },
      Le = function (je) {
        F(!0), o == null || o(je);
      },
      Me = function (je) {
        F(!1), a == null || a(je);
      },
      ze = function (je) {
        M(''), ee(), Ys(B.current.textArea, je, s);
      },
      Ge = H0(G);
    !U && oe && i == null && (Ge = o_(Ge, u));
    var Te = f,
      Ne;
    if (b) {
      var we = Ue(Ge).length;
      wt(b) === 'object' ? (Ne = b.formatter({ value: Ge, count: we, maxLength: u })) : (Ne = ''.concat(we).concat(oe ? ' / '.concat(u) : '')),
        (Te = Ie.createElement(Ie.Fragment, null, Te, Ie.createElement('span', { className: $e(''.concat(m, '-data-count'), I == null ? void 0 : I.count), style: O == null ? void 0 : O.count }, Ne)));
    }
    var Fe = function (je) {
        x == null || x(je), te === null ? K('mounted') : te === 'mounted' && K('resized');
      },
      ft = Ie.createElement(r_, {
        value: Ge,
        allowClear: l,
        handleReset: ze,
        suffix: Te,
        prefixCls: m,
        classes: { affixWrapper: $e(g == null ? void 0 : g.affixWrapper, ((n = {}), De(n, ''.concat(m, '-show-count'), b), De(n, ''.concat(m, '-textarea-allow-clear'), l), n)) },
        disabled: T,
        focused: q,
        className: _,
        style: ce(ce({}, y), te === 'resized' ? { height: 'auto' } : {}),
        dataAttrs: { affixWrapper: { 'data-count': typeof Ne == 'string' ? Ne : void 0 } },
        hidden: w,
        inputElement: Ie.createElement(
          DA,
          pt({}, L, {
            onKeyDown: ge,
            onChange: pe,
            onFocus: Le,
            onBlur: Me,
            onCompositionStart: de,
            onCompositionEnd: me,
            className: I == null ? void 0 : I.textarea,
            style: ce(ce({}, O == null ? void 0 : O.textarea), {}, { resize: y == null ? void 0 : y.resize }),
            disabled: T,
            prefixCls: m,
            onResize: Fe,
            ref: B,
          }),
        ),
      });
    return ft;
  }),
  kA =
    (globalThis && globalThis.__rest) ||
    function (t, e) {
      var n = {};
      for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);
      if (t != null && typeof Object.getOwnPropertySymbols == 'function')
        for (var i = 0, r = Object.getOwnPropertySymbols(t); i < r.length; i++) e.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[i]) && (n[r[i]] = t[r[i]]);
      return n;
    };
const MA = v.forwardRef((t, e) => {
    var { prefixCls: n, bordered: r = !0, size: i, disabled: o, status: a, allowClear: s, showCount: l, classNames: u } = t,
      c = kA(t, ['prefixCls', 'bordered', 'size', 'disabled', 'status', 'allowClear', 'showCount', 'classNames']);
    const { getPrefixCls: d, direction: f } = v.useContext(On),
      h = ss(i),
      m = v.useContext(as),
      g = o ?? m,
      { status: b, hasFeedback: _, feedbackIcon: y } = v.useContext(zo),
      T = Ap(b, a),
      w = v.useRef(null);
    v.useImperativeHandle(e, () => {
      var D;
      return {
        resizableTextArea: (D = w.current) === null || D === void 0 ? void 0 : D.resizableTextArea,
        focus: (C) => {
          var G, M;
          lA((M = (G = w.current) === null || G === void 0 ? void 0 : G.resizableTextArea) === null || M === void 0 ? void 0 : M.textArea, C);
        },
        blur: () => {
          var C;
          return (C = w.current) === null || C === void 0 ? void 0 : C.blur();
        },
      };
    });
    const I = d('input', n);
    let O;
    typeof s == 'object' && s != null && s.clearIcon ? (O = s) : s && (O = { clearIcon: v.createElement(gp, null) });
    const [x, L] = Dp(I);
    return x(
      v.createElement(
        OA,
        Object.assign({}, c, {
          disabled: g,
          allowClear: O,
          classes: {
            affixWrapper: $e(
              `${I}-textarea-affix-wrapper`,
              {
                [`${I}-affix-wrapper-rtl`]: f === 'rtl',
                [`${I}-affix-wrapper-borderless`]: !r,
                [`${I}-affix-wrapper-sm`]: h === 'small',
                [`${I}-affix-wrapper-lg`]: h === 'large',
                [`${I}-textarea-show-count`]: l,
              },
              za(`${I}-affix-wrapper`, T),
              L,
            ),
          },
          classNames: Object.assign(Object.assign({}, u), {
            textarea: $e({ [`${I}-borderless`]: !r, [`${I}-sm`]: h === 'small', [`${I}-lg`]: h === 'large' }, za(I, T), L, u == null ? void 0 : u.textarea),
          }),
          prefixCls: I,
          suffix: _ && v.createElement('span', { className: `${I}-textarea-suffix` }, y),
          showCount: l,
          ref: w,
        }),
      ),
    );
  }),
  FA = MA,
  Hl = Pp;
Hl.Group = nA;
Hl.Search = wA;
Hl.TextArea = FA;
Hl.Password = bA;
const NA = Hl;
var Yo = v.createContext({ min: 0, max: 0, direction: 'ltr', step: 1, includedStart: 0, includedEnd: 0, tabIndex: 0, keyboard: !0 });
function j0(t, e, n) {
  return (t - e) / (n - e);
}
function Op(t, e, n, r) {
  var i = j0(e, n, r),
    o = {};
  switch (t) {
    case 'rtl':
      (o.right = ''.concat(i * 100, '%')), (o.transform = 'translateX(50%)');
      break;
    case 'btt':
      (o.bottom = ''.concat(i * 100, '%')), (o.transform = 'translateY(50%)');
      break;
    case 'ttb':
      (o.top = ''.concat(i * 100, '%')), (o.transform = 'translateY(-50%)');
      break;
    default:
      (o.left = ''.concat(i * 100, '%')), (o.transform = 'translateX(-50%)');
      break;
  }
  return o;
}
function Da(t, e) {
  return Array.isArray(t) ? t[e] : t;
}
var $A = ['prefixCls', 'value', 'valueIndex', 'onStartMove', 'style', 'render', 'dragging', 'onOffsetChange'],
  BA = v.forwardRef(function (t, e) {
    var n,
      r,
      i = t.prefixCls,
      o = t.value,
      a = t.valueIndex,
      s = t.onStartMove,
      l = t.style,
      u = t.render,
      c = t.dragging,
      d = t.onOffsetChange,
      f = Zt(t, $A),
      h = v.useContext(Yo),
      m = h.min,
      g = h.max,
      b = h.direction,
      _ = h.disabled,
      y = h.keyboard,
      T = h.range,
      w = h.tabIndex,
      I = h.ariaLabelForHandle,
      O = h.ariaLabelledByForHandle,
      x = h.ariaValueTextFormatterForHandle,
      L = ''.concat(i, '-handle'),
      D = function (z) {
        _ || s(z, a);
      },
      C = function (z) {
        if (!_ && y) {
          var H = null;
          switch (z.which || z.keyCode) {
            case Ee.LEFT:
              H = b === 'ltr' || b === 'btt' ? -1 : 1;
              break;
            case Ee.RIGHT:
              H = b === 'ltr' || b === 'btt' ? 1 : -1;
              break;
            case Ee.UP:
              H = b !== 'ttb' ? 1 : -1;
              break;
            case Ee.DOWN:
              H = b !== 'ttb' ? -1 : 1;
              break;
            case Ee.HOME:
              H = 'min';
              break;
            case Ee.END:
              H = 'max';
              break;
            case Ee.PAGE_UP:
              H = 2;
              break;
            case Ee.PAGE_DOWN:
              H = -2;
              break;
          }
          H !== null && (z.preventDefault(), d(H, a));
        }
      },
      G = Op(b, o, m, g),
      M = v.createElement(
        'div',
        pt(
          {
            ref: e,
            className: $e(L, ((n = {}), De(n, ''.concat(L, '-').concat(a + 1), T), De(n, ''.concat(L, '-dragging'), c), n)),
            style: ce(ce({}, G), l),
            onMouseDown: D,
            onTouchStart: D,
            onKeyDown: C,
            tabIndex: _ ? null : Da(w, a),
            role: 'slider',
            'aria-valuemin': m,
            'aria-valuemax': g,
            'aria-valuenow': o,
            'aria-disabled': _,
            'aria-label': Da(I, a),
            'aria-labelledby': Da(O, a),
            'aria-valuetext': (r = Da(x, a)) === null || r === void 0 ? void 0 : r(o),
          },
          f,
        ),
      );
    return u && (M = u(M, { index: a, prefixCls: i, value: o, dragging: c })), M;
  }),
  UA = ['prefixCls', 'style', 'onStartMove', 'onOffsetChange', 'values', 'handleRender', 'draggingIndex'],
  zA = v.forwardRef(function (t, e) {
    var n = t.prefixCls,
      r = t.style,
      i = t.onStartMove,
      o = t.onOffsetChange,
      a = t.values,
      s = t.handleRender,
      l = t.draggingIndex,
      u = Zt(t, UA),
      c = v.useRef({});
    return (
      v.useImperativeHandle(e, function () {
        return {
          focus: function (f) {
            var h;
            (h = c.current[f]) === null || h === void 0 || h.focus();
          },
        };
      }),
      v.createElement(
        v.Fragment,
        null,
        a.map(function (d, f) {
          return v.createElement(
            BA,
            pt(
              {
                ref: function (m) {
                  m ? (c.current[f] = m) : delete c.current[f];
                },
                dragging: l === f,
                prefixCls: n,
                style: Da(r, f),
                key: f,
                value: d,
                valueIndex: f,
                onStartMove: i,
                onOffsetChange: o,
                render: s,
              },
              u,
            ),
          );
        }),
      )
    );
  });
function Av(t) {
  var e = 'touches' in t ? t.touches[0] : t;
  return { pageX: e.pageX, pageY: e.pageY };
}
function VA(t, e, n, r, i, o, a, s, l) {
  var u = v.useState(null),
    c = ve(u, 2),
    d = c[0],
    f = c[1],
    h = v.useState(-1),
    m = ve(h, 2),
    g = m[0],
    b = m[1],
    _ = v.useState(n),
    y = ve(_, 2),
    T = y[0],
    w = y[1],
    I = v.useState(n),
    O = ve(I, 2),
    x = O[0],
    L = O[1],
    D = v.useRef(null),
    C = v.useRef(null);
  v.useEffect(
    function () {
      g === -1 && w(n);
    },
    [n, g],
  ),
    v.useEffect(function () {
      return function () {
        document.removeEventListener('mousemove', D.current),
          document.removeEventListener('mouseup', C.current),
          document.removeEventListener('touchmove', D.current),
          document.removeEventListener('touchend', C.current);
      };
    }, []);
  var G = function (F, A) {
      T.some(function (k, U) {
        return k !== F[U];
      }) && (A !== void 0 && f(A), w(F), a(F));
    },
    M = function (F, A) {
      if (F === -1) {
        var k = x[0],
          U = x[x.length - 1],
          X = r - k,
          Q = i - U,
          W = A * (i - r);
        (W = Math.max(W, X)), (W = Math.min(W, Q));
        var Y = o(k + W);
        W = Y - k;
        var ne = x.map(function (oe) {
          return oe + W;
        });
        G(ne);
      } else {
        var te = (i - r) * A,
          K = Ue(T);
        K[F] = x[F];
        var ee = l(K, te, F, 'dist');
        G(ee.values, ee.value);
      }
    },
    B = v.useRef(M);
  B.current = M;
  var z = function (F, A) {
      F.stopPropagation();
      var k = n[A];
      b(A), f(k), L(n);
      var U = Av(F),
        X = U.pageX,
        Q = U.pageY,
        W = function (te) {
          te.preventDefault();
          var K = Av(te),
            ee = K.pageX,
            oe = K.pageY,
            de = ee - X,
            me = oe - Q,
            pe = t.current.getBoundingClientRect(),
            ge = pe.width,
            Le = pe.height,
            Me;
          switch (e) {
            case 'btt':
              Me = -me / Le;
              break;
            case 'ttb':
              Me = me / Le;
              break;
            case 'rtl':
              Me = -de / ge;
              break;
            default:
              Me = de / ge;
          }
          B.current(A, Me);
        },
        Y = function ne(te) {
          te.preventDefault(),
            document.removeEventListener('mouseup', ne),
            document.removeEventListener('mousemove', W),
            document.removeEventListener('touchend', ne),
            document.removeEventListener('touchmove', W),
            (D.current = null),
            (C.current = null),
            b(-1),
            s();
        };
      document.addEventListener('mouseup', Y),
        document.addEventListener('mousemove', W),
        document.addEventListener('touchend', Y),
        document.addEventListener('touchmove', W),
        (D.current = W),
        (C.current = Y);
    },
    H = v.useMemo(
      function () {
        var q = Ue(n).sort(function (A, k) {
            return A - k;
          }),
          F = Ue(T).sort(function (A, k) {
            return A - k;
          });
        return q.every(function (A, k) {
          return A === F[k];
        })
          ? T
          : n;
      },
      [n, T],
    );
  return [g, d, H, z];
}
function HA(t) {
  var e = t.prefixCls,
    n = t.style,
    r = t.start,
    i = t.end,
    o = t.index,
    a = t.onStartMove,
    s = v.useContext(Yo),
    l = s.direction,
    u = s.min,
    c = s.max,
    d = s.disabled,
    f = s.range,
    h = ''.concat(e, '-track'),
    m = j0(r, u, c),
    g = j0(i, u, c),
    b = function (T) {
      !d && a && a(T, -1);
    },
    _ = {};
  switch (l) {
    case 'rtl':
      (_.right = ''.concat(m * 100, '%')), (_.width = ''.concat(g * 100 - m * 100, '%'));
      break;
    case 'btt':
      (_.bottom = ''.concat(m * 100, '%')), (_.height = ''.concat(g * 100 - m * 100, '%'));
      break;
    case 'ttb':
      (_.top = ''.concat(m * 100, '%')), (_.height = ''.concat(g * 100 - m * 100, '%'));
      break;
    default:
      (_.left = ''.concat(m * 100, '%')), (_.width = ''.concat(g * 100 - m * 100, '%'));
  }
  return v.createElement('div', { className: $e(h, f && ''.concat(h, '-').concat(o + 1)), style: ce(ce({}, _), n), onMouseDown: b, onTouchStart: b });
}
function jA(t) {
  var e = t.prefixCls,
    n = t.style,
    r = t.values,
    i = t.startPoint,
    o = t.onStartMove,
    a = v.useContext(Yo),
    s = a.included,
    l = a.range,
    u = a.min,
    c = v.useMemo(
      function () {
        if (!l) {
          if (r.length === 0) return [];
          var d = i ?? u,
            f = r[0];
          return [{ start: Math.min(d, f), end: Math.max(d, f) }];
        }
        for (var h = [], m = 0; m < r.length - 1; m += 1) h.push({ start: r[m], end: r[m + 1] });
        return h;
      },
      [r, l, i, u],
    );
  return s
    ? c.map(function (d, f) {
        var h = d.start,
          m = d.end;
        return v.createElement(HA, { index: f, prefixCls: e, style: Da(n, f), start: h, end: m, key: f, onStartMove: o });
      })
    : null;
}
function GA(t) {
  var e = t.prefixCls,
    n = t.style,
    r = t.children,
    i = t.value,
    o = t.onClick,
    a = v.useContext(Yo),
    s = a.min,
    l = a.max,
    u = a.direction,
    c = a.includedStart,
    d = a.includedEnd,
    f = a.included,
    h = ''.concat(e, '-text'),
    m = Op(u, i, s, l);
  return v.createElement(
    'span',
    {
      className: $e(h, De({}, ''.concat(h, '-active'), f && c <= i && i <= d)),
      style: ce(ce({}, m), n),
      onMouseDown: function (b) {
        b.stopPropagation();
      },
      onClick: function () {
        o(i);
      },
    },
    r,
  );
}
function WA(t) {
  var e = t.prefixCls,
    n = t.marks,
    r = t.onClick,
    i = ''.concat(e, '-mark');
  return n.length
    ? v.createElement(
        'div',
        { className: i },
        n.map(function (o) {
          var a = o.value,
            s = o.style,
            l = o.label;
          return v.createElement(GA, { key: a, prefixCls: i, style: s, value: a, onClick: r }, l);
        }),
      )
    : null;
}
function KA(t) {
  var e = t.prefixCls,
    n = t.value,
    r = t.style,
    i = t.activeStyle,
    o = v.useContext(Yo),
    a = o.min,
    s = o.max,
    l = o.direction,
    u = o.included,
    c = o.includedStart,
    d = o.includedEnd,
    f = ''.concat(e, '-dot'),
    h = u && c <= n && n <= d,
    m = ce(ce({}, Op(l, n, a, s)), typeof r == 'function' ? r(n) : r);
  return h && (m = ce(ce({}, m), typeof i == 'function' ? i(n) : i)), v.createElement('span', { className: $e(f, De({}, ''.concat(f, '-active'), h)), style: m });
}
function qA(t) {
  var e = t.prefixCls,
    n = t.marks,
    r = t.dots,
    i = t.style,
    o = t.activeStyle,
    a = v.useContext(Yo),
    s = a.min,
    l = a.max,
    u = a.step,
    c = v.useMemo(
      function () {
        var d = new Set();
        if (
          (n.forEach(function (h) {
            d.add(h.value);
          }),
          r && u !== null)
        )
          for (var f = s; f <= l; ) d.add(f), (f += u);
        return Array.from(d);
      },
      [s, l, u, r, n],
    );
  return v.createElement(
    'div',
    { className: ''.concat(e, '-step') },
    c.map(function (d) {
      return v.createElement(KA, { prefixCls: e, key: d, value: d, style: i, activeStyle: o });
    }),
  );
}
function YA(t, e, n, r, i, o) {
  var a = v.useCallback(
      function (h) {
        var m = isFinite(h) ? h : t;
        return (m = Math.min(e, h)), (m = Math.max(t, m)), m;
      },
      [t, e],
    ),
    s = v.useCallback(
      function (h) {
        if (n !== null) {
          var m = t + Math.round((a(h) - t) / n) * n,
            g = function (T) {
              return (String(T).split('.')[1] || '').length;
            },
            b = Math.max(g(n), g(e), g(t)),
            _ = Number(m.toFixed(b));
          return t <= _ && _ <= e ? _ : null;
        }
        return null;
      },
      [n, t, e, a],
    ),
    l = v.useCallback(
      function (h) {
        var m = a(h),
          g = r.map(function (y) {
            return y.value;
          });
        n !== null && g.push(s(h)), g.push(t, e);
        var b = g[0],
          _ = e - t;
        return (
          g.forEach(function (y) {
            var T = Math.abs(m - y);
            T <= _ && ((b = y), (_ = T));
          }),
          b
        );
      },
      [t, e, r, n, a, s],
    ),
    u = function h(m, g, b) {
      var _ = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 'unit';
      if (typeof g == 'number') {
        var y,
          T = m[b],
          w = T + g,
          I = [];
        r.forEach(function (C) {
          I.push(C.value);
        }),
          I.push(t, e),
          I.push(s(T));
        var O = g > 0 ? 1 : -1;
        _ === 'unit' ? I.push(s(T + O * n)) : I.push(s(w)),
          (I = I.filter(function (C) {
            return C !== null;
          }).filter(function (C) {
            return g < 0 ? C <= T : C >= T;
          })),
          _ === 'unit' &&
            (I = I.filter(function (C) {
              return C !== T;
            }));
        var x = _ === 'unit' ? T : w;
        y = I[0];
        var L = Math.abs(y - x);
        if (
          (I.forEach(function (C) {
            var G = Math.abs(C - x);
            G < L && ((y = C), (L = G));
          }),
          y === void 0)
        )
          return g < 0 ? t : e;
        if (_ === 'dist') return y;
        if (Math.abs(g) > 1) {
          var D = Ue(m);
          return (D[b] = y), h(D, g - O, b, _);
        }
        return y;
      } else {
        if (g === 'min') return t;
        if (g === 'max') return e;
      }
    },
    c = function (m, g, b) {
      var _ = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 'unit',
        y = m[b],
        T = u(m, g, b, _);
      return { value: T, changed: T !== y };
    },
    d = function (m) {
      return (o === null && m === 0) || (typeof o == 'number' && m < o);
    },
    f = function (m, g, b) {
      var _ = arguments.length > 3 && arguments[3] !== void 0 ? arguments[3] : 'unit',
        y = m.map(l),
        T = y[b],
        w = u(y, g, b, _);
      if (((y[b] = w), i === !1)) {
        var I = o || 0;
        b > 0 && y[b - 1] !== T && (y[b] = Math.max(y[b], y[b - 1] + I)), b < y.length - 1 && y[b + 1] !== T && (y[b] = Math.min(y[b], y[b + 1] - I));
      } else if (typeof o == 'number' || o === null) {
        for (var O = b + 1; O < y.length; O += 1)
          for (var x = !0; d(y[O] - y[O - 1]) && x; ) {
            var L = c(y, 1, O);
            (y[O] = L.value), (x = L.changed);
          }
        for (var D = b; D > 0; D -= 1)
          for (var C = !0; d(y[D] - y[D - 1]) && C; ) {
            var G = c(y, -1, D - 1);
            (y[D - 1] = G.value), (C = G.changed);
          }
        for (var M = y.length - 1; M > 0; M -= 1)
          for (var B = !0; d(y[M] - y[M - 1]) && B; ) {
            var z = c(y, -1, M - 1);
            (y[M - 1] = z.value), (B = z.changed);
          }
        for (var H = 0; H < y.length - 1; H += 1)
          for (var q = !0; d(y[H + 1] - y[H]) && q; ) {
            var F = c(y, 1, H + 1);
            (y[H + 1] = F.value), (q = F.changed);
          }
      }
      return { value: y[b], values: y };
    };
  return [l, f];
}
var XA = v.forwardRef(function (t, e) {
  var n,
    r = t.prefixCls,
    i = r === void 0 ? 'rc-slider' : r,
    o = t.className,
    a = t.style,
    s = t.disabled,
    l = s === void 0 ? !1 : s,
    u = t.keyboard,
    c = u === void 0 ? !0 : u,
    d = t.autoFocus,
    f = t.onFocus,
    h = t.onBlur,
    m = t.min,
    g = m === void 0 ? 0 : m,
    b = t.max,
    _ = b === void 0 ? 100 : b,
    y = t.step,
    T = y === void 0 ? 1 : y,
    w = t.value,
    I = t.defaultValue,
    O = t.range,
    x = t.count,
    L = t.onChange,
    D = t.onBeforeChange,
    C = t.onAfterChange,
    G = t.allowCross,
    M = G === void 0 ? !0 : G,
    B = t.pushable,
    z = B === void 0 ? !1 : B,
    H = t.draggableTrack,
    q = t.reverse,
    F = t.vertical,
    A = t.included,
    k = A === void 0 ? !0 : A,
    U = t.startPoint,
    X = t.trackStyle,
    Q = t.handleStyle,
    W = t.railStyle,
    Y = t.dotStyle,
    ne = t.activeDotStyle,
    te = t.marks,
    K = t.dots,
    ee = t.handleRender,
    oe = t.tabIndex,
    de = oe === void 0 ? 0 : oe,
    me = t.ariaLabelForHandle,
    pe = t.ariaLabelledByForHandle,
    ge = t.ariaValueTextFormatterForHandle,
    Le = v.useRef(),
    Me = v.useRef(),
    ze = v.useMemo(
      function () {
        return F ? (q ? 'ttb' : 'btt') : q ? 'rtl' : 'ltr';
      },
      [q, F],
    ),
    Ge = v.useMemo(
      function () {
        return isFinite(g) ? g : 0;
      },
      [g],
    ),
    Te = v.useMemo(
      function () {
        return isFinite(_) ? _ : 100;
      },
      [_],
    ),
    Ne = v.useMemo(
      function () {
        return T !== null && T <= 0 ? 1 : T;
      },
      [T],
    ),
    we = v.useMemo(
      function () {
        return z === !0 ? Ne : z >= 0 ? z : !1;
      },
      [z, Ne],
    ),
    Fe = v.useMemo(
      function () {
        var p = Object.keys(te || {});
        return p
          .map(function (P) {
            var N = te[P],
              $ = { value: Number(P) };
            return N && wt(N) === 'object' && !v.isValidElement(N) && ('label' in N || 'style' in N) ? (($.style = N.style), ($.label = N.label)) : ($.label = N), $;
          })
          .filter(function (P) {
            var N = P.label;
            return N || typeof N == 'number';
          })
          .sort(function (P, N) {
            return P.value - N.value;
          });
      },
      [te],
    ),
    ft = YA(Ge, Te, Ne, Fe, M, we),
    yt = ve(ft, 2),
    je = yt[0],
    tt = yt[1],
    Rt = Ni(I, { value: w }),
    jt = ve(Rt, 2),
    $t = jt[0],
    kt = jt[1],
    _t = v.useMemo(
      function () {
        var p = $t == null ? [] : Array.isArray($t) ? $t : [$t],
          P = ve(p, 1),
          N = P[0],
          $ = N === void 0 ? Ge : N,
          j = $t === null ? [] : [$];
        if (O) {
          if (((j = Ue(p)), x || $t === void 0)) {
            var Z = x >= 0 ? x + 1 : 2;
            for (j = j.slice(0, Z); j.length < Z; ) {
              var J;
              j.push((J = j[j.length - 1]) !== null && J !== void 0 ? J : Ge);
            }
          }
          j.sort(function (re, se) {
            return re - se;
          });
        }
        return (
          j.forEach(function (re, se) {
            j[se] = je(re);
          }),
          j
        );
      },
      [$t, O, Ge, x, je],
    ),
    St = v.useRef(_t);
  St.current = _t;
  var Mt = function (P) {
      return O ? P : P[0];
    },
    Bt = function (P) {
      var N = Ue(P).sort(function ($, j) {
        return $ - j;
      });
      L && !u6(N, St.current, !0) && L(Mt(N)), kt(N);
    },
    Ye = function (P) {
      if (!l) {
        var N = 0,
          $ = Te - Ge;
        _t.forEach(function (Z, J) {
          var re = Math.abs(P - Z);
          re <= $ && (($ = re), (N = J));
        });
        var j = Ue(_t);
        (j[N] = P), O && !_t.length && x === void 0 && j.push(P), D == null || D(Mt(j)), Bt(j), C == null || C(Mt(j));
      }
    },
    it = function (P) {
      P.preventDefault();
      var N = Me.current.getBoundingClientRect(),
        $ = N.width,
        j = N.height,
        Z = N.left,
        J = N.top,
        re = N.bottom,
        se = N.right,
        ie = P.clientX,
        ae = P.clientY,
        fe;
      switch (ze) {
        case 'btt':
          fe = (re - ae) / j;
          break;
        case 'ttb':
          fe = (ae - J) / j;
          break;
        case 'rtl':
          fe = (se - ie) / $;
          break;
        default:
          fe = (ie - Z) / $;
      }
      var xe = Ge + fe * (Te - Ge);
      Ye(je(xe));
    },
    vt = v.useState(null),
    ct = ve(vt, 2),
    At = ct[0],
    Xt = ct[1],
    un = function (P, N) {
      if (!l) {
        var $ = tt(_t, P, N);
        D == null || D(Mt(_t)), Bt($.values), C == null || C(Mt($.values)), Xt($.value);
      }
    };
  v.useEffect(
    function () {
      if (At !== null) {
        var p = _t.indexOf(At);
        p >= 0 && Le.current.focus(p);
      }
      Xt(null);
    },
    [At],
  );
  var yn = v.useMemo(
      function () {
        return H && Ne === null ? !1 : H;
      },
      [H, Ne],
    ),
    _n = function () {
      C == null || C(Mt(St.current));
    },
    bt = VA(Me, ze, _t, Ge, Te, je, Bt, _n, tt),
    tn = ve(bt, 4),
    kn = tn[0],
    Mn = tn[1],
    Xe = tn[2],
    Ce = tn[3],
    Se = function (P, N) {
      Ce(P, N), D == null || D(Mt(St.current));
    },
    ke = kn !== -1;
  v.useEffect(
    function () {
      if (!ke) {
        var p = _t.lastIndexOf(Mn);
        Le.current.focus(p);
      }
    },
    [ke],
  );
  var Ve = v.useMemo(
      function () {
        return Ue(Xe).sort(function (p, P) {
          return p - P;
        });
      },
      [Xe],
    ),
    Ke = v.useMemo(
      function () {
        return O ? [Ve[0], Ve[Ve.length - 1]] : [Ge, Ve[0]];
      },
      [Ve, O, Ge],
    ),
    xt = ve(Ke, 2),
    R = xt[0],
    S = xt[1];
  v.useImperativeHandle(e, function () {
    return {
      focus: function () {
        Le.current.focus(0);
      },
      blur: function () {
        var P = document,
          N = P.activeElement;
        Me.current.contains(N) && (N == null || N.blur());
      },
    };
  }),
    v.useEffect(function () {
      d && Le.current.focus(0);
    }, []);
  var E = v.useMemo(
    function () {
      return {
        min: Ge,
        max: Te,
        direction: ze,
        disabled: l,
        keyboard: c,
        step: Ne,
        included: k,
        includedStart: R,
        includedEnd: S,
        range: O,
        tabIndex: de,
        ariaLabelForHandle: me,
        ariaLabelledByForHandle: pe,
        ariaValueTextFormatterForHandle: ge,
      };
    },
    [Ge, Te, ze, l, c, Ne, k, R, S, O, de, me, pe, ge],
  );
  return v.createElement(
    Yo.Provider,
    { value: E },
    v.createElement(
      'div',
      {
        ref: Me,
        className: $e(
          i,
          o,
          ((n = {}), De(n, ''.concat(i, '-disabled'), l), De(n, ''.concat(i, '-vertical'), F), De(n, ''.concat(i, '-horizontal'), !F), De(n, ''.concat(i, '-with-marks'), Fe.length), n),
        ),
        style: a,
        onMouseDown: it,
      },
      v.createElement('div', { className: ''.concat(i, '-rail'), style: W }),
      v.createElement(jA, { prefixCls: i, style: X, values: Ve, startPoint: U, onStartMove: yn ? Se : null }),
      v.createElement(qA, { prefixCls: i, marks: Fe, dots: K, style: Y, activeStyle: ne }),
      v.createElement(zA, { ref: Le, prefixCls: i, style: Q, values: Xe, draggingIndex: kn, onStartMove: Se, onOffsetChange: un, onFocus: f, onBlur: h, handleRender: ee }),
      v.createElement(WA, { prefixCls: i, marks: Fe, onClick: Ye }),
    ),
  );
});
const QA = v.forwardRef((t, e) => {
    const { open: n } = t,
      r = v.useRef(null),
      i = v.useRef(null);
    function o() {
      xn.cancel(i.current), (i.current = null);
    }
    function a() {
      i.current = xn(() => {
        var s;
        (s = r.current) === null || s === void 0 || s.forceAlign(), (i.current = null);
      });
    }
    return v.useEffect(() => (n ? a() : o(), o), [n, t.title]), v.createElement(Q4, Object.assign({ ref: pi(r, e) }, t));
  }),
  ZA = QA,
  JA = (t) => {
    const { componentCls: e, controlSize: n, dotSize: r, marginFull: i, marginPart: o, colorFillContentHover: a } = t;
    return {
      [e]: Object.assign(Object.assign({}, Wo(t)), {
        position: 'relative',
        height: n,
        margin: `${o}px ${i}px`,
        padding: 0,
        cursor: 'pointer',
        touchAction: 'none',
        '&-vertical': { margin: `${i}px ${o}px` },
        [`${e}-rail`]: { position: 'absolute', backgroundColor: t.colorFillTertiary, borderRadius: t.borderRadiusXS, transition: `background-color ${t.motionDurationMid}` },
        [`${e}-track`]: { position: 'absolute', backgroundColor: t.colorPrimaryBorder, borderRadius: t.borderRadiusXS, transition: `background-color ${t.motionDurationMid}` },
        '&:hover': {
          [`${e}-rail`]: { backgroundColor: t.colorFillSecondary },
          [`${e}-track`]: { backgroundColor: t.colorPrimaryBorderHover },
          [`${e}-dot`]: { borderColor: a },
          [`${e}-handle::after`]: { boxShadow: `0 0 0 ${t.handleLineWidth}px ${t.colorPrimaryBorderHover}` },
          [`${e}-dot-active`]: { borderColor: t.colorPrimary },
        },
        [`${e}-handle`]: {
          position: 'absolute',
          width: t.handleSize,
          height: t.handleSize,
          outline: 'none',
          [`${e}-dragging`]: { zIndex: 1 },
          '&::before': {
            content: '""',
            position: 'absolute',
            insetInlineStart: -t.handleLineWidth,
            insetBlockStart: -t.handleLineWidth,
            width: t.handleSize + t.handleLineWidth * 2,
            height: t.handleSize + t.handleLineWidth * 2,
            backgroundColor: 'transparent',
          },
          '&::after': {
            content: '""',
            position: 'absolute',
            insetBlockStart: 0,
            insetInlineStart: 0,
            width: t.handleSize,
            height: t.handleSize,
            backgroundColor: t.colorBgElevated,
            boxShadow: `0 0 0 ${t.handleLineWidth}px ${t.colorPrimaryBorder}`,
            borderRadius: '50%',
            cursor: 'pointer',
            transition: `
            inset-inline-start ${t.motionDurationMid},
            inset-block-start ${t.motionDurationMid},
            width ${t.motionDurationMid},
            height ${t.motionDurationMid},
            box-shadow ${t.motionDurationMid}
          `,
          },
          '&:hover, &:active, &:focus': {
            '&::before': {
              insetInlineStart: -((t.handleSizeHover - t.handleSize) / 2 + t.handleLineWidthHover),
              insetBlockStart: -((t.handleSizeHover - t.handleSize) / 2 + t.handleLineWidthHover),
              width: t.handleSizeHover + t.handleLineWidthHover * 2,
              height: t.handleSizeHover + t.handleLineWidthHover * 2,
            },
            '&::after': {
              boxShadow: `0 0 0 ${t.handleLineWidthHover}px ${t.colorPrimary}`,
              width: t.handleSizeHover,
              height: t.handleSizeHover,
              insetInlineStart: (t.handleSize - t.handleSizeHover) / 2,
              insetBlockStart: (t.handleSize - t.handleSizeHover) / 2,
            },
          },
        },
        [`${e}-mark`]: { position: 'absolute', fontSize: t.fontSize },
        [`${e}-mark-text`]: {
          position: 'absolute',
          display: 'inline-block',
          color: t.colorTextDescription,
          textAlign: 'center',
          wordBreak: 'keep-all',
          cursor: 'pointer',
          userSelect: 'none',
          '&-active': { color: t.colorText },
        },
        [`${e}-step`]: { position: 'absolute', background: 'transparent', pointerEvents: 'none' },
        [`${e}-dot`]: {
          position: 'absolute',
          width: r,
          height: r,
          backgroundColor: t.colorBgElevated,
          border: `${t.handleLineWidth}px solid ${t.colorBorderSecondary}`,
          borderRadius: '50%',
          cursor: 'pointer',
          transition: `border-color ${t.motionDurationSlow}`,
          pointerEvents: 'auto',
          '&-active': { borderColor: t.colorPrimaryBorder },
        },
        [`&${e}-disabled`]: {
          cursor: 'not-allowed',
          [`${e}-rail`]: { backgroundColor: `${t.colorFillSecondary} !important` },
          [`${e}-track`]: { backgroundColor: `${t.colorTextDisabled} !important` },
          [`
          ${e}-dot
        `]: { backgroundColor: t.colorBgElevated, borderColor: t.colorTextDisabled, boxShadow: 'none', cursor: 'not-allowed' },
          [`${e}-handle::after`]: {
            backgroundColor: t.colorBgElevated,
            cursor: 'not-allowed',
            width: t.handleSize,
            height: t.handleSize,
            boxShadow: `0 0 0 ${t.handleLineWidth}px ${new Rn(t.colorTextDisabled).onBackground(t.colorBgContainer).toHexShortString()}`,
            insetInlineStart: 0,
            insetBlockStart: 0,
          },
          [`
          ${e}-mark-text,
          ${e}-dot
        `]: { cursor: 'not-allowed !important' },
        },
      }),
    };
  },
  a_ = (t, e) => {
    const { componentCls: n, railSize: r, handleSize: i, dotSize: o } = t,
      a = e ? 'paddingBlock' : 'paddingInline',
      s = e ? 'width' : 'height',
      l = e ? 'height' : 'width',
      u = e ? 'insetBlockStart' : 'insetInlineStart',
      c = e ? 'top' : 'insetInlineStart';
    return {
      [a]: r,
      [l]: r * 3,
      [`${n}-rail`]: { [s]: '100%', [l]: r },
      [`${n}-track`]: { [l]: r },
      [`${n}-handle`]: { [u]: (r * 3 - i) / 2 },
      [`${n}-mark`]: { insetInlineStart: 0, top: 0, [c]: i, [s]: '100%' },
      [`${n}-step`]: { insetInlineStart: 0, top: 0, [c]: r, [s]: '100%', [l]: r },
      [`${n}-dot`]: { position: 'absolute', [u]: (r - o) / 2 },
    };
  },
  eL = (t) => {
    const { componentCls: e, marginPartWithMark: n } = t;
    return { [`${e}-horizontal`]: Object.assign(Object.assign({}, a_(t, !0)), { [`&${e}-with-marks`]: { marginBottom: n } }) };
  },
  tL = (t) => {
    const { componentCls: e } = t;
    return { [`${e}-vertical`]: Object.assign(Object.assign({}, a_(t, !1)), { height: '100%' }) };
  },
  nL = Ko(
    'Slider',
    (t) => {
      const e = Tn(t, { marginPart: (t.controlHeight - t.controlSize) / 2, marginFull: t.controlSize / 2, marginPartWithMark: t.controlHeightLG - t.controlSize });
      return [JA(e), eL(e), tL(e)];
    },
    (t) => {
      const n = t.controlHeightLG / 4,
        r = t.controlHeightSM / 2,
        i = t.lineWidth + 1,
        o = t.lineWidth + 1 * 3;
      return { controlSize: n, railSize: 4, handleSize: n, handleSizeHover: r, dotSize: 8, handleLineWidth: i, handleLineWidthHover: o };
    },
  );
var rL =
  (globalThis && globalThis.__rest) ||
  function (t, e) {
    var n = {};
    for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);
    if (t != null && typeof Object.getOwnPropertySymbols == 'function')
      for (var i = 0, r = Object.getOwnPropertySymbols(t); i < r.length; i++) e.indexOf(r[i]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[i]) && (n[r[i]] = t[r[i]]);
    return n;
  };
const iL = (t) => (typeof t == 'number' ? t.toString() : ''),
  oL = Ie.forwardRef((t, e) => {
    const { prefixCls: n, range: r, className: i, rootClassName: o, disabled: a, tooltipPrefixCls: s, tipFormatter: l, tooltipVisible: u, getTooltipPopupContainer: c, tooltipPlacement: d } = t,
      f = rL(t, ['prefixCls', 'range', 'className', 'rootClassName', 'disabled', 'tooltipPrefixCls', 'tipFormatter', 'tooltipVisible', 'getTooltipPopupContainer', 'tooltipPlacement']),
      { getPrefixCls: h, direction: m, getPopupContainer: g } = Ie.useContext(On),
      b = Ie.useContext(as),
      _ = a ?? b,
      [y, T] = Ie.useState({}),
      w = (B, z) => {
        T((H) => Object.assign(Object.assign({}, H), { [B]: z }));
      },
      I = (B, z) => B || (z ? (m === 'rtl' ? 'left' : 'right') : 'top'),
      O = h('slider', n),
      [x, L] = nL(O),
      D = $e(i, o, { [`${O}-rtl`]: m === 'rtl' }, L);
    m === 'rtl' && !f.vertical && (f.reverse = !f.reverse);
    const [C, G] = Ie.useMemo(() => (r ? (typeof r == 'object' ? [!0, r.draggableTrack] : [!0, !1]) : [!1]), [r]),
      M = (B, z) => {
        var H;
        const { index: q, dragging: F } = z,
          { tooltip: A = {}, vertical: k } = t,
          U = Object.assign({}, A),
          { open: X, placement: Q, getPopupContainer: W, prefixCls: Y, formatter: ne } = U;
        let te;
        ne || ne === null ? (te = ne) : l || l === null ? (te = l) : (te = iL);
        const K = te ? y[q] || F : !1,
          ee = (H = X ?? u) !== null && H !== void 0 ? H : X === void 0 && K,
          oe = Object.assign(Object.assign({}, B.props), { onMouseEnter: () => w(q, !0), onMouseLeave: () => w(q, !1) }),
          de = h('tooltip', Y ?? s);
        return Ie.createElement(
          ZA,
          { prefixCls: de, title: te ? te(z.value) : '', open: ee, placement: I(Q ?? d, k), key: q, overlayClassName: `${O}-tooltip`, getPopupContainer: W || c || g },
          Ie.cloneElement(B, oe),
        );
      };
    return x(Ie.createElement(XA, Object.assign({}, f, { step: f.step, range: C, draggableTrack: G, className: D, disabled: _, ref: e, prefixCls: O, handleRender: M })));
  }),
  aL = oL;
var sL = function (t) {
  return function (e, n) {
    var r = v.useRef(!1);
    t(function () {
      return function () {
        r.current = !1;
      };
    }, []),
      t(function () {
        if (!r.current) r.current = !0;
        else return e();
      }, n);
  };
};
function Ad(t, e) {
  var n = typeof Symbol == 'function' && t[Symbol.iterator];
  if (!n) return t;
  var r = n.call(t),
    i,
    o = [],
    a;
  try {
    for (; (e === void 0 || e-- > 0) && !(i = r.next()).done; ) o.push(i.value);
  } catch (s) {
    a = { error: s };
  } finally {
    try {
      i && !i.done && (n = r.return) && n.call(r);
    } finally {
      if (a) throw a.error;
    }
  }
  return o;
}
var Ld = function (t) {
    return typeof t == 'function';
  },
  lL = function (t) {
    return typeof t == 'number';
  },
  uL = !1;
const kp = uL;
function Ai(t) {
  kp && (Ld(t) || console.error('useMemoizedFn expected parameter is a function, got '.concat(typeof t)));
  var e = v.useRef(t);
  e.current = v.useMemo(
    function () {
      return t;
    },
    [t],
  );
  var n = v.useRef();
  return (
    n.current ||
      (n.current = function () {
        for (var r = [], i = 0; i < arguments.length; i++) r[i] = arguments[i];
        return e.current.apply(this, r);
      }),
    n.current
  );
}
const Mp = sL(v.useEffect);
function Lv(t, e) {
  if (t === e) return !0;
  for (var n = 0; n < t.length; n++) if (!Object.is(t[n], e[n])) return !1;
  return !0;
}
function mi(t) {
  var e = v.useRef(t);
  return (e.current = t), e;
}
var cL = function (t) {
  kp && (Ld(t) || console.error('useUnmount expected parameter is a function, got '.concat(typeof t)));
  var e = mi(t);
  v.useEffect(function () {
    return function () {
      e.current();
    };
  }, []);
};
const s_ = cL;
var dL = !!(typeof window < 'u' && window.document && window.document.createElement);
const l_ = dL;
var fL = function (t) {
  kp && (Ld(t) || console.error('useMount: parameter `fn` expected to be a function, but got "'.concat(typeof t, '".'))),
    v.useEffect(function () {
      t == null || t();
    }, []);
};
const hL = fL;
var mL = function () {
  var t = Ad(v.useState({}), 2),
    e = t[1];
  return v.useCallback(function () {
    return e({});
  }, []);
};
const pL = mL;
function gL(t, e) {
  t === void 0 && (t = !1);
  var n = Ad(v.useState(t), 2),
    r = n[0],
    i = n[1],
    o = v.useMemo(function () {
      var a = e === void 0 ? !t : e,
        s = function () {
          return i(function (d) {
            return d === t ? a : t;
          });
        },
        l = function (d) {
          return i(d);
        },
        u = function () {
          return i(t);
        },
        c = function () {
          return i(a);
        };
      return { toggle: s, set: l, setLeft: u, setRight: c };
    }, []);
  return [r, o];
}
function Nc(t, e) {
  if (l_) {
    if (!t) return e;
    var n;
    return Ld(t) ? (n = t()) : 'current' in t ? (n = t.current) : (n = t), n;
  }
}
var vL = function (t) {
  var e = function (n, r, i) {
    var o = v.useRef(!1),
      a = v.useRef([]),
      s = v.useRef([]),
      l = v.useRef();
    t(function () {
      var u,
        c = Array.isArray(i) ? i : [i],
        d = c.map(function (f) {
          return Nc(f);
        });
      if (!o.current) {
        (o.current = !0), (a.current = d), (s.current = r), (l.current = n());
        return;
      }
      (d.length !== a.current.length || !Lv(d, a.current) || !Lv(r, s.current)) && ((u = l.current) === null || u === void 0 || u.call(l), (a.current = d), (s.current = r), (l.current = n()));
    }),
      s_(function () {
        var u;
        (u = l.current) === null || u === void 0 || u.call(l), (o.current = !1);
      });
  };
  return e;
};
const yL = vL;
var _L = yL(v.useEffect);
const SL = _L;
function G0(t, e, n) {
  n === void 0 && (n = {});
  var r = mi(e);
  SL(
    function () {
      var i = Nc(n.target, window);
      if (i != null && i.addEventListener) {
        var o = function (a) {
          return r.current(a);
        };
        return (
          i.addEventListener(t, o, { capture: n.capture, once: n.once, passive: n.passive }),
          function () {
            i.removeEventListener(t, o, { capture: n.capture });
          }
        );
      }
    },
    [t, n.capture, n.once, n.passive],
    n.target,
  );
}
var Iv = function () {
  return l_ ? document.visibilityState : 'visible';
};
function EL() {
  var t = Ad(
      v.useState(function () {
        return Iv();
      }),
      2,
    ),
    e = t[0],
    n = t[1];
  return (
    G0(
      'visibilitychange',
      function () {
        n(Iv());
      },
      {
        target: function () {
          return document;
        },
      },
    ),
    e
  );
}
var bL = function (t, e) {
  if ((e === void 0 && (e = 0), typeof requestAnimationFrame > 'u')) return { id: setInterval(t, e) };
  var n = new Date().getTime(),
    r = { id: 0 },
    i = function () {
      var o = new Date().getTime();
      o - n >= e && (t(), (n = new Date().getTime())), (r.id = requestAnimationFrame(i));
    };
  return (r.id = requestAnimationFrame(i)), r;
};
function xL(t) {
  return typeof cancelAnimationFrame > 'u';
}
var Dv = function (t) {
  if (xL(t.id)) return clearInterval(t.id);
  cancelAnimationFrame(t.id);
};
function Mf(t, e, n) {
  var r = n == null ? void 0 : n.immediate,
    i = mi(t),
    o = v.useRef();
  v.useEffect(
    function () {
      if (!(!lL(e) || e < 0))
        return (
          r && i.current(),
          (o.current = bL(function () {
            i.current();
          }, e)),
          function () {
            o.current && Dv(o.current);
          }
        );
    },
    [e],
  );
  var a = v.useCallback(function () {
    o.current && Dv(o.current);
  }, []);
  return a;
}
var TL = function () {
  var t = v.useRef(!1);
  return (
    v.useEffect(function () {
      return (
        (t.current = !1),
        function () {
          t.current = !0;
        }
      );
    }, []),
    t
  );
};
const wL = TL;
function CL(t) {
  var e = wL(),
    n = Ad(v.useState(t), 2),
    r = n[0],
    i = n[1],
    o = v.useCallback(function (a) {
      e.current || i(a);
    }, []);
  return [r, o];
}
async function Wu(t) {
  const e = [];
  return (
    await t()
      .then((n) => {
        e[0] = n;
      })
      .catch((n) => {
        e[1] = n;
      }),
    e
  );
}
function u_(t) {
  setTimeout(t, 10);
}
var c_ = { exports: {} };
(function (t, e) {
  (function (n, r) {
    t.exports = r();
  })(window, function () {
    return (function (n) {
      var r = {};
      function i(o) {
        if (r[o]) return r[o].exports;
        var a = (r[o] = { i: o, l: !1, exports: {} });
        return n[o].call(a.exports, a, a.exports, i), (a.l = !0), a.exports;
      }
      return (
        (i.m = n),
        (i.c = r),
        (i.d = function (o, a, s) {
          i.o(o, a) || Object.defineProperty(o, a, { enumerable: !0, get: s });
        }),
        (i.r = function (o) {
          typeof Symbol < 'u' && Symbol.toStringTag && Object.defineProperty(o, Symbol.toStringTag, { value: 'Module' }), Object.defineProperty(o, '__esModule', { value: !0 });
        }),
        (i.t = function (o, a) {
          if ((1 & a && (o = i(o)), 8 & a || (4 & a && typeof o == 'object' && o && o.__esModule))) return o;
          var s = Object.create(null);
          if ((i.r(s), Object.defineProperty(s, 'default', { enumerable: !0, value: o }), 2 & a && typeof o != 'string'))
            for (var l in o)
              i.d(
                s,
                l,
                function (u) {
                  return o[u];
                }.bind(null, l),
              );
          return s;
        }),
        (i.n = function (o) {
          var a =
            o && o.__esModule
              ? function () {
                  return o.default;
                }
              : function () {
                  return o;
                };
          return i.d(a, 'a', a), a;
        }),
        (i.o = function (o, a) {
          return Object.prototype.hasOwnProperty.call(o, a);
        }),
        (i.p = ''),
        i((i.s = 15))
      );
    })([
      function (n, r, i) {
        var o = i(6),
          a = i.n(o),
          s = (function () {
            function l() {}
            return (
              (l.e = function (u, c) {
                (u && !l.FORCE_GLOBAL_TAG) || (u = l.GLOBAL_TAG);
                var d = '[' + u + '] > ' + c;
                l.ENABLE_CALLBACK && l.emitter.emit('log', 'error', d), l.ENABLE_ERROR && (console.error ? console.error(d) : console.warn ? console.warn(d) : console.log(d));
              }),
              (l.i = function (u, c) {
                (u && !l.FORCE_GLOBAL_TAG) || (u = l.GLOBAL_TAG);
                var d = '[' + u + '] > ' + c;
                l.ENABLE_CALLBACK && l.emitter.emit('log', 'info', d), l.ENABLE_INFO && (console.info ? console.info(d) : console.log(d));
              }),
              (l.w = function (u, c) {
                (u && !l.FORCE_GLOBAL_TAG) || (u = l.GLOBAL_TAG);
                var d = '[' + u + '] > ' + c;
                l.ENABLE_CALLBACK && l.emitter.emit('log', 'warn', d), l.ENABLE_WARN && (console.warn ? console.warn(d) : console.log(d));
              }),
              (l.d = function (u, c) {
                (u && !l.FORCE_GLOBAL_TAG) || (u = l.GLOBAL_TAG);
                var d = '[' + u + '] > ' + c;
                l.ENABLE_CALLBACK && l.emitter.emit('log', 'debug', d), l.ENABLE_DEBUG && (console.debug ? console.debug(d) : console.log(d));
              }),
              (l.v = function (u, c) {
                (u && !l.FORCE_GLOBAL_TAG) || (u = l.GLOBAL_TAG);
                var d = '[' + u + '] > ' + c;
                l.ENABLE_CALLBACK && l.emitter.emit('log', 'verbose', d), l.ENABLE_VERBOSE && console.log(d);
              }),
              l
            );
          })();
        (s.GLOBAL_TAG = 'mpegts.js'),
          (s.FORCE_GLOBAL_TAG = !1),
          (s.ENABLE_ERROR = !0),
          (s.ENABLE_INFO = !0),
          (s.ENABLE_WARN = !0),
          (s.ENABLE_DEBUG = !0),
          (s.ENABLE_VERBOSE = !0),
          (s.ENABLE_CALLBACK = !1),
          (s.emitter = new a.a()),
          (r.a = s);
      },
      function (n, r, i) {
        r.a = {
          IO_ERROR: 'io_error',
          DEMUX_ERROR: 'demux_error',
          INIT_SEGMENT: 'init_segment',
          MEDIA_SEGMENT: 'media_segment',
          LOADING_COMPLETE: 'loading_complete',
          RECOVERED_EARLY_EOF: 'recovered_early_eof',
          MEDIA_INFO: 'media_info',
          METADATA_ARRIVED: 'metadata_arrived',
          SCRIPTDATA_ARRIVED: 'scriptdata_arrived',
          TIMED_ID3_METADATA_ARRIVED: 'timed_id3_metadata_arrived',
          SMPTE2038_METADATA_ARRIVED: 'smpte2038_metadata_arrived',
          SCTE35_METADATA_ARRIVED: 'scte35_metadata_arrived',
          PES_PRIVATE_DATA_DESCRIPTOR: 'pes_private_data_descriptor',
          PES_PRIVATE_DATA_ARRIVED: 'pes_private_data_arrived',
          STATISTICS_INFO: 'statistics_info',
          RECOMMEND_SEEKPOINT: 'recommend_seekpoint',
        };
      },
      function (n, r, i) {
        i.d(r, 'c', function () {
          return a;
        }),
          i.d(r, 'b', function () {
            return s;
          }),
          i.d(r, 'a', function () {
            return l;
          });
        var o = i(3),
          a = { kIdle: 0, kConnecting: 1, kBuffering: 2, kError: 3, kComplete: 4 },
          s = {
            OK: 'OK',
            EXCEPTION: 'Exception',
            HTTP_STATUS_CODE_INVALID: 'HttpStatusCodeInvalid',
            CONNECTING_TIMEOUT: 'ConnectingTimeout',
            EARLY_EOF: 'EarlyEof',
            UNRECOVERABLE_EARLY_EOF: 'UnrecoverableEarlyEof',
          },
          l = (function () {
            function u(c) {
              (this._type = c || 'undefined'),
                (this._status = a.kIdle),
                (this._needStash = !1),
                (this._onContentLengthKnown = null),
                (this._onURLRedirect = null),
                (this._onDataArrival = null),
                (this._onError = null),
                (this._onComplete = null);
            }
            return (
              (u.prototype.destroy = function () {
                (this._status = a.kIdle), (this._onContentLengthKnown = null), (this._onURLRedirect = null), (this._onDataArrival = null), (this._onError = null), (this._onComplete = null);
              }),
              (u.prototype.isWorking = function () {
                return this._status === a.kConnecting || this._status === a.kBuffering;
              }),
              Object.defineProperty(u.prototype, 'type', {
                get: function () {
                  return this._type;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(u.prototype, 'status', {
                get: function () {
                  return this._status;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(u.prototype, 'needStashBuffer', {
                get: function () {
                  return this._needStash;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(u.prototype, 'onContentLengthKnown', {
                get: function () {
                  return this._onContentLengthKnown;
                },
                set: function (c) {
                  this._onContentLengthKnown = c;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(u.prototype, 'onURLRedirect', {
                get: function () {
                  return this._onURLRedirect;
                },
                set: function (c) {
                  this._onURLRedirect = c;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(u.prototype, 'onDataArrival', {
                get: function () {
                  return this._onDataArrival;
                },
                set: function (c) {
                  this._onDataArrival = c;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(u.prototype, 'onError', {
                get: function () {
                  return this._onError;
                },
                set: function (c) {
                  this._onError = c;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(u.prototype, 'onComplete', {
                get: function () {
                  return this._onComplete;
                },
                set: function (c) {
                  this._onComplete = c;
                },
                enumerable: !1,
                configurable: !0,
              }),
              (u.prototype.open = function (c, d) {
                throw new o.c('Unimplemented abstract function!');
              }),
              (u.prototype.abort = function () {
                throw new o.c('Unimplemented abstract function!');
              }),
              u
            );
          })();
      },
      function (n, r, i) {
        i.d(r, 'd', function () {
          return s;
        }),
          i.d(r, 'a', function () {
            return l;
          }),
          i.d(r, 'b', function () {
            return u;
          }),
          i.d(r, 'c', function () {
            return c;
          });
        var o,
          a =
            ((o = function (d, f) {
              return (o =
                Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array &&
                  function (h, m) {
                    h.__proto__ = m;
                  }) ||
                function (h, m) {
                  for (var g in m) m.hasOwnProperty(g) && (h[g] = m[g]);
                })(d, f);
            }),
            function (d, f) {
              function h() {
                this.constructor = d;
              }
              o(d, f), (d.prototype = f === null ? Object.create(f) : ((h.prototype = f.prototype), new h()));
            }),
          s = (function () {
            function d(f) {
              this._message = f;
            }
            return (
              Object.defineProperty(d.prototype, 'name', {
                get: function () {
                  return 'RuntimeException';
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(d.prototype, 'message', {
                get: function () {
                  return this._message;
                },
                enumerable: !1,
                configurable: !0,
              }),
              (d.prototype.toString = function () {
                return this.name + ': ' + this.message;
              }),
              d
            );
          })(),
          l = (function (d) {
            function f(h) {
              return d.call(this, h) || this;
            }
            return (
              a(f, d),
              Object.defineProperty(f.prototype, 'name', {
                get: function () {
                  return 'IllegalStateException';
                },
                enumerable: !1,
                configurable: !0,
              }),
              f
            );
          })(s),
          u = (function (d) {
            function f(h) {
              return d.call(this, h) || this;
            }
            return (
              a(f, d),
              Object.defineProperty(f.prototype, 'name', {
                get: function () {
                  return 'InvalidArgumentException';
                },
                enumerable: !1,
                configurable: !0,
              }),
              f
            );
          })(s),
          c = (function (d) {
            function f(h) {
              return d.call(this, h) || this;
            }
            return (
              a(f, d),
              Object.defineProperty(f.prototype, 'name', {
                get: function () {
                  return 'NotImplementedException';
                },
                enumerable: !1,
                configurable: !0,
              }),
              f
            );
          })(s);
      },
      function (n, r, i) {
        var o = {};
        (function () {
          var a = self.navigator.userAgent.toLowerCase(),
            s =
              /(edge)\/([\w.]+)/.exec(a) ||
              /(opr)[\/]([\w.]+)/.exec(a) ||
              /(chrome)[ \/]([\w.]+)/.exec(a) ||
              /(iemobile)[\/]([\w.]+)/.exec(a) ||
              /(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(a) ||
              /(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(a) ||
              /(webkit)[ \/]([\w.]+)/.exec(a) ||
              /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a) ||
              /(msie) ([\w.]+)/.exec(a) ||
              (a.indexOf('trident') >= 0 && /(rv)(?::| )([\w.]+)/.exec(a)) ||
              (a.indexOf('compatible') < 0 && /(firefox)[ \/]([\w.]+)/.exec(a)) ||
              [],
            l =
              /(ipad)/.exec(a) ||
              /(ipod)/.exec(a) ||
              /(windows phone)/.exec(a) ||
              /(iphone)/.exec(a) ||
              /(kindle)/.exec(a) ||
              /(android)/.exec(a) ||
              /(windows)/.exec(a) ||
              /(mac)/.exec(a) ||
              /(linux)/.exec(a) ||
              /(cros)/.exec(a) ||
              [],
            u = { browser: s[5] || s[3] || s[1] || '', version: s[2] || s[4] || '0', majorVersion: s[4] || s[2] || '0', platform: l[0] || '' },
            c = {};
          if (u.browser) {
            c[u.browser] = !0;
            var d = u.majorVersion.split('.');
            (c.version = { major: parseInt(u.majorVersion, 10), string: u.version }), d.length > 1 && (c.version.minor = parseInt(d[1], 10)), d.length > 2 && (c.version.build = parseInt(d[2], 10));
          }
          u.platform && (c[u.platform] = !0),
            (c.chrome || c.opr || c.safari) && (c.webkit = !0),
            (c.rv || c.iemobile) && (c.rv && delete c.rv, (u.browser = 'msie'), (c.msie = !0)),
            c.edge && (delete c.edge, (u.browser = 'msedge'), (c.msedge = !0)),
            c.opr && ((u.browser = 'opera'), (c.opera = !0)),
            c.safari && c.android && ((u.browser = 'android'), (c.android = !0));
          for (var f in ((c.name = u.browser), (c.platform = u.platform), o)) o.hasOwnProperty(f) && delete o[f];
          Object.assign(o, c);
        })(),
          (r.a = o);
      },
      function (n, r, i) {
        r.a = { OK: 'OK', FORMAT_ERROR: 'FormatError', FORMAT_UNSUPPORTED: 'FormatUnsupported', CODEC_UNSUPPORTED: 'CodecUnsupported' };
      },
      function (n, r, i) {
        var o,
          a = typeof Reflect == 'object' ? Reflect : null,
          s =
            a && typeof a.apply == 'function'
              ? a.apply
              : function (w, I, O) {
                  return Function.prototype.apply.call(w, I, O);
                };
        o =
          a && typeof a.ownKeys == 'function'
            ? a.ownKeys
            : Object.getOwnPropertySymbols
            ? function (w) {
                return Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w));
              }
            : function (w) {
                return Object.getOwnPropertyNames(w);
              };
        var l =
          Number.isNaN ||
          function (w) {
            return w != w;
          };
        function u() {
          u.init.call(this);
        }
        (n.exports = u),
          (n.exports.once = function (w, I) {
            return new Promise(function (O, x) {
              function L(C) {
                w.removeListener(I, D), x(C);
              }
              function D() {
                typeof w.removeListener == 'function' && w.removeListener('error', L), O([].slice.call(arguments));
              }
              T(w, I, D, { once: !0 }),
                I !== 'error' &&
                  (function (C, G, M) {
                    typeof C.on == 'function' && T(C, 'error', G, M);
                  })(w, L, { once: !0 });
            });
          }),
          (u.EventEmitter = u),
          (u.prototype._events = void 0),
          (u.prototype._eventsCount = 0),
          (u.prototype._maxListeners = void 0);
        var c = 10;
        function d(w) {
          if (typeof w != 'function') throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof w);
        }
        function f(w) {
          return w._maxListeners === void 0 ? u.defaultMaxListeners : w._maxListeners;
        }
        function h(w, I, O, x) {
          var L, D, C, G;
          if (
            (d(O),
            (D = w._events) === void 0
              ? ((D = w._events = Object.create(null)), (w._eventsCount = 0))
              : (D.newListener !== void 0 && (w.emit('newListener', I, O.listener ? O.listener : O), (D = w._events)), (C = D[I])),
            C === void 0)
          )
            (C = D[I] = O), ++w._eventsCount;
          else if ((typeof C == 'function' ? (C = D[I] = x ? [O, C] : [C, O]) : x ? C.unshift(O) : C.push(O), (L = f(w)) > 0 && C.length > L && !C.warned)) {
            C.warned = !0;
            var M = new Error('Possible EventEmitter memory leak detected. ' + C.length + ' ' + String(I) + ' listeners added. Use emitter.setMaxListeners() to increase limit');
            (M.name = 'MaxListenersExceededWarning'), (M.emitter = w), (M.type = I), (M.count = C.length), (G = M), console && console.warn && console.warn(G);
          }
          return w;
        }
        function m() {
          if (!this.fired)
            return this.target.removeListener(this.type, this.wrapFn), (this.fired = !0), arguments.length === 0 ? this.listener.call(this.target) : this.listener.apply(this.target, arguments);
        }
        function g(w, I, O) {
          var x = { fired: !1, wrapFn: void 0, target: w, type: I, listener: O },
            L = m.bind(x);
          return (L.listener = O), (x.wrapFn = L), L;
        }
        function b(w, I, O) {
          var x = w._events;
          if (x === void 0) return [];
          var L = x[I];
          return L === void 0
            ? []
            : typeof L == 'function'
            ? O
              ? [L.listener || L]
              : [L]
            : O
            ? (function (D) {
                for (var C = new Array(D.length), G = 0; G < C.length; ++G) C[G] = D[G].listener || D[G];
                return C;
              })(L)
            : y(L, L.length);
        }
        function _(w) {
          var I = this._events;
          if (I !== void 0) {
            var O = I[w];
            if (typeof O == 'function') return 1;
            if (O !== void 0) return O.length;
          }
          return 0;
        }
        function y(w, I) {
          for (var O = new Array(I), x = 0; x < I; ++x) O[x] = w[x];
          return O;
        }
        function T(w, I, O, x) {
          if (typeof w.on == 'function') x.once ? w.once(I, O) : w.on(I, O);
          else {
            if (typeof w.addEventListener != 'function') throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type ' + typeof w);
            w.addEventListener(I, function L(D) {
              x.once && w.removeEventListener(I, L), O(D);
            });
          }
        }
        Object.defineProperty(u, 'defaultMaxListeners', {
          enumerable: !0,
          get: function () {
            return c;
          },
          set: function (w) {
            if (typeof w != 'number' || w < 0 || l(w)) throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + w + '.');
            c = w;
          },
        }),
          (u.init = function () {
            (this._events !== void 0 && this._events !== Object.getPrototypeOf(this)._events) || ((this._events = Object.create(null)), (this._eventsCount = 0)),
              (this._maxListeners = this._maxListeners || void 0);
          }),
          (u.prototype.setMaxListeners = function (w) {
            if (typeof w != 'number' || w < 0 || l(w)) throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + w + '.');
            return (this._maxListeners = w), this;
          }),
          (u.prototype.getMaxListeners = function () {
            return f(this);
          }),
          (u.prototype.emit = function (w) {
            for (var I = [], O = 1; O < arguments.length; O++) I.push(arguments[O]);
            var x = w === 'error',
              L = this._events;
            if (L !== void 0) x = x && L.error === void 0;
            else if (!x) return !1;
            if (x) {
              var D;
              if ((I.length > 0 && (D = I[0]), D instanceof Error)) throw D;
              var C = new Error('Unhandled error.' + (D ? ' (' + D.message + ')' : ''));
              throw ((C.context = D), C);
            }
            var G = L[w];
            if (G === void 0) return !1;
            if (typeof G == 'function') s(G, this, I);
            else {
              var M = G.length,
                B = y(G, M);
              for (O = 0; O < M; ++O) s(B[O], this, I);
            }
            return !0;
          }),
          (u.prototype.addListener = function (w, I) {
            return h(this, w, I, !1);
          }),
          (u.prototype.on = u.prototype.addListener),
          (u.prototype.prependListener = function (w, I) {
            return h(this, w, I, !0);
          }),
          (u.prototype.once = function (w, I) {
            return d(I), this.on(w, g(this, w, I)), this;
          }),
          (u.prototype.prependOnceListener = function (w, I) {
            return d(I), this.prependListener(w, g(this, w, I)), this;
          }),
          (u.prototype.removeListener = function (w, I) {
            var O, x, L, D, C;
            if ((d(I), (x = this._events) === void 0)) return this;
            if ((O = x[w]) === void 0) return this;
            if (O === I || O.listener === I) --this._eventsCount == 0 ? (this._events = Object.create(null)) : (delete x[w], x.removeListener && this.emit('removeListener', w, O.listener || I));
            else if (typeof O != 'function') {
              for (L = -1, D = O.length - 1; D >= 0; D--)
                if (O[D] === I || O[D].listener === I) {
                  (C = O[D].listener), (L = D);
                  break;
                }
              if (L < 0) return this;
              L === 0
                ? O.shift()
                : (function (G, M) {
                    for (; M + 1 < G.length; M++) G[M] = G[M + 1];
                    G.pop();
                  })(O, L),
                O.length === 1 && (x[w] = O[0]),
                x.removeListener !== void 0 && this.emit('removeListener', w, C || I);
            }
            return this;
          }),
          (u.prototype.off = u.prototype.removeListener),
          (u.prototype.removeAllListeners = function (w) {
            var I, O, x;
            if ((O = this._events) === void 0) return this;
            if (O.removeListener === void 0)
              return (
                arguments.length === 0
                  ? ((this._events = Object.create(null)), (this._eventsCount = 0))
                  : O[w] !== void 0 && (--this._eventsCount == 0 ? (this._events = Object.create(null)) : delete O[w]),
                this
              );
            if (arguments.length === 0) {
              var L,
                D = Object.keys(O);
              for (x = 0; x < D.length; ++x) (L = D[x]) !== 'removeListener' && this.removeAllListeners(L);
              return this.removeAllListeners('removeListener'), (this._events = Object.create(null)), (this._eventsCount = 0), this;
            }
            if (typeof (I = O[w]) == 'function') this.removeListener(w, I);
            else if (I !== void 0) for (x = I.length - 1; x >= 0; x--) this.removeListener(w, I[x]);
            return this;
          }),
          (u.prototype.listeners = function (w) {
            return b(this, w, !0);
          }),
          (u.prototype.rawListeners = function (w) {
            return b(this, w, !1);
          }),
          (u.listenerCount = function (w, I) {
            return typeof w.listenerCount == 'function' ? w.listenerCount(I) : _.call(w, I);
          }),
          (u.prototype.listenerCount = _),
          (u.prototype.eventNames = function () {
            return this._eventsCount > 0 ? o(this._events) : [];
          });
      },
      function (n, r, i) {
        i.d(r, 'd', function () {
          return o;
        }),
          i.d(r, 'b', function () {
            return a;
          }),
          i.d(r, 'a', function () {
            return s;
          }),
          i.d(r, 'c', function () {
            return l;
          });
        var o = function (u, c, d, f, h) {
            (this.dts = u), (this.pts = c), (this.duration = d), (this.originalDts = f), (this.isSyncPoint = h), (this.fileposition = null);
          },
          a = (function () {
            function u() {
              (this.beginDts = 0),
                (this.endDts = 0),
                (this.beginPts = 0),
                (this.endPts = 0),
                (this.originalBeginDts = 0),
                (this.originalEndDts = 0),
                (this.syncPoints = []),
                (this.firstSample = null),
                (this.lastSample = null);
            }
            return (
              (u.prototype.appendSyncPoint = function (c) {
                (c.isSyncPoint = !0), this.syncPoints.push(c);
              }),
              u
            );
          })(),
          s = (function () {
            function u() {
              this._list = [];
            }
            return (
              (u.prototype.clear = function () {
                this._list = [];
              }),
              (u.prototype.appendArray = function (c) {
                var d = this._list;
                c.length !== 0 && (d.length > 0 && c[0].originalDts < d[d.length - 1].originalDts && this.clear(), Array.prototype.push.apply(d, c));
              }),
              (u.prototype.getLastSyncPointBeforeDts = function (c) {
                if (this._list.length == 0) return null;
                var d = this._list,
                  f = 0,
                  h = d.length - 1,
                  m = 0,
                  g = 0,
                  b = h;
                for (c < d[0].dts && ((f = 0), (g = b + 1)); g <= b; ) {
                  if ((m = g + Math.floor((b - g) / 2)) === h || (c >= d[m].dts && c < d[m + 1].dts)) {
                    f = m;
                    break;
                  }
                  d[m].dts < c ? (g = m + 1) : (b = m - 1);
                }
                return this._list[f];
              }),
              u
            );
          })(),
          l = (function () {
            function u(c) {
              (this._type = c), (this._list = []), (this._lastAppendLocation = -1);
            }
            return (
              Object.defineProperty(u.prototype, 'type', {
                get: function () {
                  return this._type;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(u.prototype, 'length', {
                get: function () {
                  return this._list.length;
                },
                enumerable: !1,
                configurable: !0,
              }),
              (u.prototype.isEmpty = function () {
                return this._list.length === 0;
              }),
              (u.prototype.clear = function () {
                (this._list = []), (this._lastAppendLocation = -1);
              }),
              (u.prototype._searchNearestSegmentBefore = function (c) {
                var d = this._list;
                if (d.length === 0) return -2;
                var f = d.length - 1,
                  h = 0,
                  m = 0,
                  g = f,
                  b = 0;
                if (c < d[0].originalBeginDts) return (b = -1);
                for (; m <= g; ) {
                  if ((h = m + Math.floor((g - m) / 2)) === f || (c > d[h].lastSample.originalDts && c < d[h + 1].originalBeginDts)) {
                    b = h;
                    break;
                  }
                  d[h].originalBeginDts < c ? (m = h + 1) : (g = h - 1);
                }
                return b;
              }),
              (u.prototype._searchNearestSegmentAfter = function (c) {
                return this._searchNearestSegmentBefore(c) + 1;
              }),
              (u.prototype.append = function (c) {
                var d = this._list,
                  f = c,
                  h = this._lastAppendLocation,
                  m = 0;
                h !== -1 && h < d.length && f.originalBeginDts >= d[h].lastSample.originalDts && (h === d.length - 1 || (h < d.length - 1 && f.originalBeginDts < d[h + 1].originalBeginDts))
                  ? (m = h + 1)
                  : d.length > 0 && (m = this._searchNearestSegmentBefore(f.originalBeginDts) + 1),
                  (this._lastAppendLocation = m),
                  this._list.splice(m, 0, f);
              }),
              (u.prototype.getLastSegmentBefore = function (c) {
                var d = this._searchNearestSegmentBefore(c);
                return d >= 0 ? this._list[d] : null;
              }),
              (u.prototype.getLastSampleBefore = function (c) {
                var d = this.getLastSegmentBefore(c);
                return d != null ? d.lastSample : null;
              }),
              (u.prototype.getLastSyncPointBefore = function (c) {
                for (var d = this._searchNearestSegmentBefore(c), f = this._list[d].syncPoints; f.length === 0 && d > 0; ) d--, (f = this._list[d].syncPoints);
                return f.length > 0 ? f[f.length - 1] : null;
              }),
              u
            );
          })();
      },
      function (n, r, i) {
        var o = (function () {
          function a() {
            (this.mimeType = null),
              (this.duration = null),
              (this.hasAudio = null),
              (this.hasVideo = null),
              (this.audioCodec = null),
              (this.videoCodec = null),
              (this.audioDataRate = null),
              (this.videoDataRate = null),
              (this.audioSampleRate = null),
              (this.audioChannelCount = null),
              (this.width = null),
              (this.height = null),
              (this.fps = null),
              (this.profile = null),
              (this.level = null),
              (this.refFrames = null),
              (this.chromaFormat = null),
              (this.sarNum = null),
              (this.sarDen = null),
              (this.metadata = null),
              (this.segments = null),
              (this.segmentCount = null),
              (this.hasKeyframesIndex = null),
              (this.keyframesIndex = null);
          }
          return (
            (a.prototype.isComplete = function () {
              var s = this.hasAudio === !1 || (this.hasAudio === !0 && this.audioCodec != null && this.audioSampleRate != null && this.audioChannelCount != null),
                l =
                  this.hasVideo === !1 ||
                  (this.hasVideo === !0 &&
                    this.videoCodec != null &&
                    this.width != null &&
                    this.height != null &&
                    this.fps != null &&
                    this.profile != null &&
                    this.level != null &&
                    this.refFrames != null &&
                    this.chromaFormat != null &&
                    this.sarNum != null &&
                    this.sarDen != null);
              return this.mimeType != null && s && l;
            }),
            (a.prototype.isSeekable = function () {
              return this.hasKeyframesIndex === !0;
            }),
            (a.prototype.getNearestKeyframe = function (s) {
              if (this.keyframesIndex == null) return null;
              var l = this.keyframesIndex,
                u = this._search(l.times, s);
              return { index: u, milliseconds: l.times[u], fileposition: l.filepositions[u] };
            }),
            (a.prototype._search = function (s, l) {
              var u = 0,
                c = s.length - 1,
                d = 0,
                f = 0,
                h = c;
              for (l < s[0] && ((u = 0), (f = h + 1)); f <= h; ) {
                if ((d = f + Math.floor((h - f) / 2)) === c || (l >= s[d] && l < s[d + 1])) {
                  u = d;
                  break;
                }
                s[d] < l ? (f = d + 1) : (h = d - 1);
              }
              return u;
            }),
            a
          );
        })();
        r.a = o;
      },
      function (n, r, i) {
        var o = i(6),
          a = i.n(o),
          s = i(0),
          l = (function () {
            function u() {}
            return (
              Object.defineProperty(u, 'forceGlobalTag', {
                get: function () {
                  return s.a.FORCE_GLOBAL_TAG;
                },
                set: function (c) {
                  (s.a.FORCE_GLOBAL_TAG = c), u._notifyChange();
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(u, 'globalTag', {
                get: function () {
                  return s.a.GLOBAL_TAG;
                },
                set: function (c) {
                  (s.a.GLOBAL_TAG = c), u._notifyChange();
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(u, 'enableAll', {
                get: function () {
                  return s.a.ENABLE_VERBOSE && s.a.ENABLE_DEBUG && s.a.ENABLE_INFO && s.a.ENABLE_WARN && s.a.ENABLE_ERROR;
                },
                set: function (c) {
                  (s.a.ENABLE_VERBOSE = c), (s.a.ENABLE_DEBUG = c), (s.a.ENABLE_INFO = c), (s.a.ENABLE_WARN = c), (s.a.ENABLE_ERROR = c), u._notifyChange();
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(u, 'enableDebug', {
                get: function () {
                  return s.a.ENABLE_DEBUG;
                },
                set: function (c) {
                  (s.a.ENABLE_DEBUG = c), u._notifyChange();
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(u, 'enableVerbose', {
                get: function () {
                  return s.a.ENABLE_VERBOSE;
                },
                set: function (c) {
                  (s.a.ENABLE_VERBOSE = c), u._notifyChange();
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(u, 'enableInfo', {
                get: function () {
                  return s.a.ENABLE_INFO;
                },
                set: function (c) {
                  (s.a.ENABLE_INFO = c), u._notifyChange();
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(u, 'enableWarn', {
                get: function () {
                  return s.a.ENABLE_WARN;
                },
                set: function (c) {
                  (s.a.ENABLE_WARN = c), u._notifyChange();
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(u, 'enableError', {
                get: function () {
                  return s.a.ENABLE_ERROR;
                },
                set: function (c) {
                  (s.a.ENABLE_ERROR = c), u._notifyChange();
                },
                enumerable: !1,
                configurable: !0,
              }),
              (u.getConfig = function () {
                return {
                  globalTag: s.a.GLOBAL_TAG,
                  forceGlobalTag: s.a.FORCE_GLOBAL_TAG,
                  enableVerbose: s.a.ENABLE_VERBOSE,
                  enableDebug: s.a.ENABLE_DEBUG,
                  enableInfo: s.a.ENABLE_INFO,
                  enableWarn: s.a.ENABLE_WARN,
                  enableError: s.a.ENABLE_ERROR,
                  enableCallback: s.a.ENABLE_CALLBACK,
                };
              }),
              (u.applyConfig = function (c) {
                (s.a.GLOBAL_TAG = c.globalTag),
                  (s.a.FORCE_GLOBAL_TAG = c.forceGlobalTag),
                  (s.a.ENABLE_VERBOSE = c.enableVerbose),
                  (s.a.ENABLE_DEBUG = c.enableDebug),
                  (s.a.ENABLE_INFO = c.enableInfo),
                  (s.a.ENABLE_WARN = c.enableWarn),
                  (s.a.ENABLE_ERROR = c.enableError),
                  (s.a.ENABLE_CALLBACK = c.enableCallback);
              }),
              (u._notifyChange = function () {
                var c = u.emitter;
                if (c.listenerCount('change') > 0) {
                  var d = u.getConfig();
                  c.emit('change', d);
                }
              }),
              (u.registerListener = function (c) {
                u.emitter.addListener('change', c);
              }),
              (u.removeListener = function (c) {
                u.emitter.removeListener('change', c);
              }),
              (u.addLogListener = function (c) {
                s.a.emitter.addListener('log', c), s.a.emitter.listenerCount('log') > 0 && ((s.a.ENABLE_CALLBACK = !0), u._notifyChange());
              }),
              (u.removeLogListener = function (c) {
                s.a.emitter.removeListener('log', c), s.a.emitter.listenerCount('log') === 0 && ((s.a.ENABLE_CALLBACK = !1), u._notifyChange());
              }),
              u
            );
          })();
        (l.emitter = new a.a()), (r.a = l);
      },
      function (n, r, i) {
        var o = i(6),
          a = i.n(o),
          s = i(0),
          l = i(4),
          u = i(8);
        function c(R, S, E) {
          var p = R;
          if (S + E < p.length) {
            for (; E--; ) if ((192 & p[++S]) != 128) return !1;
            return !0;
          }
          return !1;
        }
        var d,
          f = function (R) {
            for (var S = [], E = R, p = 0, P = R.length; p < P; )
              if (E[p] < 128) S.push(String.fromCharCode(E[p])), ++p;
              else {
                if (!(E[p] < 192)) {
                  if (E[p] < 224) {
                    if (c(E, p, 1) && (N = ((31 & E[p]) << 6) | (63 & E[p + 1])) >= 128) {
                      S.push(String.fromCharCode(65535 & N)), (p += 2);
                      continue;
                    }
                  } else if (E[p] < 240) {
                    if (c(E, p, 2) && (N = ((15 & E[p]) << 12) | ((63 & E[p + 1]) << 6) | (63 & E[p + 2])) >= 2048 && (63488 & N) != 55296) {
                      S.push(String.fromCharCode(65535 & N)), (p += 3);
                      continue;
                    }
                  } else if (E[p] < 248) {
                    var N;
                    if (c(E, p, 3) && (N = ((7 & E[p]) << 18) | ((63 & E[p + 1]) << 12) | ((63 & E[p + 2]) << 6) | (63 & E[p + 3])) > 65536 && N < 1114112) {
                      (N -= 65536), S.push(String.fromCharCode((N >>> 10) | 55296)), S.push(String.fromCharCode((1023 & N) | 56320)), (p += 4);
                      continue;
                    }
                  }
                }
                S.push(String.fromCharCode(65533)), ++p;
              }
            return S.join('');
          },
          h = i(3),
          m = ((d = new ArrayBuffer(2)), new DataView(d).setInt16(0, 256, !0), new Int16Array(d)[0] === 256),
          g = (function () {
            function R() {}
            return (
              (R.parseScriptData = function (S, E, p) {
                var P = {};
                try {
                  var N = R.parseValue(S, E, p),
                    $ = R.parseValue(S, E + N.size, p - N.size);
                  P[N.data] = $.data;
                } catch (j) {
                  s.a.e('AMF', j.toString());
                }
                return P;
              }),
              (R.parseObject = function (S, E, p) {
                if (p < 3) throw new h.a('Data not enough when parse ScriptDataObject');
                var P = R.parseString(S, E, p),
                  N = R.parseValue(S, E + P.size, p - P.size),
                  $ = N.objectEnd;
                return { data: { name: P.data, value: N.data }, size: P.size + N.size, objectEnd: $ };
              }),
              (R.parseVariable = function (S, E, p) {
                return R.parseObject(S, E, p);
              }),
              (R.parseString = function (S, E, p) {
                if (p < 2) throw new h.a('Data not enough when parse String');
                var P = new DataView(S, E, p).getUint16(0, !m);
                return { data: P > 0 ? f(new Uint8Array(S, E + 2, P)) : '', size: 2 + P };
              }),
              (R.parseLongString = function (S, E, p) {
                if (p < 4) throw new h.a('Data not enough when parse LongString');
                var P = new DataView(S, E, p).getUint32(0, !m);
                return { data: P > 0 ? f(new Uint8Array(S, E + 4, P)) : '', size: 4 + P };
              }),
              (R.parseDate = function (S, E, p) {
                if (p < 10) throw new h.a('Data size invalid when parse Date');
                var P = new DataView(S, E, p),
                  N = P.getFloat64(0, !m),
                  $ = P.getInt16(8, !m);
                return { data: new Date((N += 60 * $ * 1e3)), size: 10 };
              }),
              (R.parseValue = function (S, E, p) {
                if (p < 1) throw new h.a('Data not enough when parse Value');
                var P,
                  N = new DataView(S, E, p),
                  $ = 1,
                  j = N.getUint8(0),
                  Z = !1;
                try {
                  switch (j) {
                    case 0:
                      (P = N.getFloat64(1, !m)), ($ += 8);
                      break;
                    case 1:
                      (P = !!N.getUint8(1)), ($ += 1);
                      break;
                    case 2:
                      var J = R.parseString(S, E + 1, p - 1);
                      (P = J.data), ($ += J.size);
                      break;
                    case 3:
                      P = {};
                      var re = 0;
                      for ((16777215 & N.getUint32(p - 4, !m)) == 9 && (re = 3); $ < p - 4; ) {
                        var se = R.parseObject(S, E + $, p - $ - re);
                        if (se.objectEnd) break;
                        (P[se.data.name] = se.data.value), ($ += se.size);
                      }
                      $ <= p - 3 && (16777215 & N.getUint32($ - 1, !m)) === 9 && ($ += 3);
                      break;
                    case 8:
                      for (P = {}, $ += 4, re = 0, (16777215 & N.getUint32(p - 4, !m)) == 9 && (re = 3); $ < p - 8; ) {
                        var ie = R.parseVariable(S, E + $, p - $ - re);
                        if (ie.objectEnd) break;
                        (P[ie.data.name] = ie.data.value), ($ += ie.size);
                      }
                      $ <= p - 3 && (16777215 & N.getUint32($ - 1, !m)) === 9 && ($ += 3);
                      break;
                    case 9:
                      (P = void 0), ($ = 1), (Z = !0);
                      break;
                    case 10:
                      P = [];
                      var ae = N.getUint32(1, !m);
                      $ += 4;
                      for (var fe = 0; fe < ae; fe++) {
                        var xe = R.parseValue(S, E + $, p - $);
                        P.push(xe.data), ($ += xe.size);
                      }
                      break;
                    case 11:
                      var ye = R.parseDate(S, E + 1, p - 1);
                      (P = ye.data), ($ += ye.size);
                      break;
                    case 12:
                      var Oe = R.parseString(S, E + 1, p - 1);
                      (P = Oe.data), ($ += Oe.size);
                      break;
                    default:
                      ($ = p), s.a.w('AMF', 'Unsupported AMF value type ' + j);
                  }
                } catch (Pe) {
                  s.a.e('AMF', Pe.toString());
                }
                return { data: P, size: $, objectEnd: Z };
              }),
              R
            );
          })(),
          b = (function () {
            function R(S) {
              (this.TAG = 'ExpGolomb'),
                (this._buffer = S),
                (this._buffer_index = 0),
                (this._total_bytes = S.byteLength),
                (this._total_bits = 8 * S.byteLength),
                (this._current_word = 0),
                (this._current_word_bits_left = 0);
            }
            return (
              (R.prototype.destroy = function () {
                this._buffer = null;
              }),
              (R.prototype._fillCurrentWord = function () {
                var S = this._total_bytes - this._buffer_index;
                if (S <= 0) throw new h.a('ExpGolomb: _fillCurrentWord() but no bytes available');
                var E = Math.min(4, S),
                  p = new Uint8Array(4);
                p.set(this._buffer.subarray(this._buffer_index, this._buffer_index + E)),
                  (this._current_word = new DataView(p.buffer).getUint32(0, !1)),
                  (this._buffer_index += E),
                  (this._current_word_bits_left = 8 * E);
              }),
              (R.prototype.readBits = function (S) {
                if (S > 32) throw new h.b('ExpGolomb: readBits() bits exceeded max 32bits!');
                if (S <= this._current_word_bits_left) {
                  var E = this._current_word >>> (32 - S);
                  return (this._current_word <<= S), (this._current_word_bits_left -= S), E;
                }
                var p = this._current_word_bits_left ? this._current_word : 0;
                p >>>= 32 - this._current_word_bits_left;
                var P = S - this._current_word_bits_left;
                this._fillCurrentWord();
                var N = Math.min(P, this._current_word_bits_left),
                  $ = this._current_word >>> (32 - N);
                return (this._current_word <<= N), (this._current_word_bits_left -= N), (p = (p << N) | $);
              }),
              (R.prototype.readBool = function () {
                return this.readBits(1) === 1;
              }),
              (R.prototype.readByte = function () {
                return this.readBits(8);
              }),
              (R.prototype._skipLeadingZero = function () {
                var S;
                for (S = 0; S < this._current_word_bits_left; S++) if (this._current_word & (2147483648 >>> S)) return (this._current_word <<= S), (this._current_word_bits_left -= S), S;
                return this._fillCurrentWord(), S + this._skipLeadingZero();
              }),
              (R.prototype.readUEG = function () {
                var S = this._skipLeadingZero();
                return this.readBits(S + 1) - 1;
              }),
              (R.prototype.readSEG = function () {
                var S = this.readUEG();
                return 1 & S ? (S + 1) >>> 1 : -1 * (S >>> 1);
              }),
              R
            );
          })(),
          _ = (function () {
            function R() {}
            return (
              (R._ebsp2rbsp = function (S) {
                for (var E = S, p = E.byteLength, P = new Uint8Array(p), N = 0, $ = 0; $ < p; $++) ($ >= 2 && E[$] === 3 && E[$ - 1] === 0 && E[$ - 2] === 0) || ((P[N] = E[$]), N++);
                return new Uint8Array(P.buffer, 0, N);
              }),
              (R.parseSPS = function (S) {
                for (var E = S.subarray(1, 4), p = 'avc1.', P = 0; P < 3; P++) {
                  var N = E[P].toString(16);
                  N.length < 2 && (N = '0' + N), (p += N);
                }
                var $ = R._ebsp2rbsp(S),
                  j = new b($);
                j.readByte();
                var Z = j.readByte();
                j.readByte();
                var J = j.readByte();
                j.readUEG();
                var re = R.getProfileString(Z),
                  se = R.getLevelString(J),
                  ie = 1,
                  ae = 420,
                  fe = 8,
                  xe = 8;
                if (
                  (Z === 100 || Z === 110 || Z === 122 || Z === 244 || Z === 44 || Z === 83 || Z === 86 || Z === 118 || Z === 128 || Z === 138 || Z === 144) &&
                  ((ie = j.readUEG()) === 3 && j.readBits(1), ie <= 3 && (ae = [0, 420, 422, 444][ie]), (fe = j.readUEG() + 8), (xe = j.readUEG() + 8), j.readBits(1), j.readBool())
                )
                  for (var ye = ie !== 3 ? 8 : 12, Oe = 0; Oe < ye; Oe++) j.readBool() && (Oe < 6 ? R._skipScalingList(j, 16) : R._skipScalingList(j, 64));
                j.readUEG();
                var Pe = j.readUEG();
                if (Pe === 0) j.readUEG();
                else if (Pe === 1) {
                  j.readBits(1), j.readSEG(), j.readSEG();
                  var Re = j.readUEG();
                  for (Oe = 0; Oe < Re; Oe++) j.readSEG();
                }
                var et = j.readUEG();
                j.readBits(1);
                var gt = j.readUEG(),
                  Ae = j.readUEG(),
                  We = j.readBits(1);
                We === 0 && j.readBits(1), j.readBits(1);
                var ot = 0,
                  Qe = 0,
                  nt = 0,
                  Lt = 0;
                j.readBool() && ((ot = j.readUEG()), (Qe = j.readUEG()), (nt = j.readUEG()), (Lt = j.readUEG()));
                var Qt = 1,
                  st = 1,
                  Et = 0,
                  Ut = !0,
                  qe = 0,
                  Ze = 0;
                if (j.readBool()) {
                  if (j.readBool()) {
                    var Ft = j.readByte();
                    Ft > 0 && Ft < 16
                      ? ((Qt = [1, 12, 10, 16, 40, 24, 20, 32, 80, 18, 15, 64, 160, 4, 3, 2][Ft - 1]), (st = [1, 11, 11, 11, 33, 11, 11, 11, 33, 11, 11, 33, 99, 3, 2, 1][Ft - 1]))
                      : Ft === 255 && ((Qt = (j.readByte() << 8) | j.readByte()), (st = (j.readByte() << 8) | j.readByte()));
                  }
                  if ((j.readBool() && j.readBool(), j.readBool() && (j.readBits(4), j.readBool() && j.readBits(24)), j.readBool() && (j.readUEG(), j.readUEG()), j.readBool())) {
                    var zt = j.readBits(32),
                      ht = j.readBits(32);
                    (Ut = j.readBool()), (Et = (qe = ht) / (Ze = 2 * zt));
                  }
                }
                var Nt = 1;
                (Qt === 1 && st === 1) || (Nt = Qt / st);
                var It = 0,
                  ut = 0;
                ie === 0 ? ((It = 1), (ut = 2 - We)) : ((It = ie === 3 ? 1 : 2), (ut = (ie === 1 ? 2 : 1) * (2 - We)));
                var nn = 16 * (gt + 1),
                  Sn = 16 * (Ae + 1) * (2 - We);
                (nn -= (ot + Qe) * It), (Sn -= (nt + Lt) * ut);
                var An = Math.ceil(nn * Nt);
                return (
                  j.destroy(),
                  (j = null),
                  {
                    codec_mimetype: p,
                    profile_idc: Z,
                    level_idc: J,
                    profile_string: re,
                    level_string: se,
                    chroma_format_idc: ie,
                    bit_depth: fe,
                    bit_depth_luma: fe,
                    bit_depth_chroma: xe,
                    ref_frames: et,
                    chroma_format: ae,
                    chroma_format_string: R.getChromaFormatString(ae),
                    frame_rate: { fixed: Ut, fps: Et, fps_den: Ze, fps_num: qe },
                    sar_ratio: { width: Qt, height: st },
                    codec_size: { width: nn, height: Sn },
                    present_size: { width: An, height: Sn },
                  }
                );
              }),
              (R._skipScalingList = function (S, E) {
                for (var p = 8, P = 8, N = 0; N < E; N++) P !== 0 && (P = (p + S.readSEG() + 256) % 256), (p = P === 0 ? p : P);
              }),
              (R.getProfileString = function (S) {
                switch (S) {
                  case 66:
                    return 'Baseline';
                  case 77:
                    return 'Main';
                  case 88:
                    return 'Extended';
                  case 100:
                    return 'High';
                  case 110:
                    return 'High10';
                  case 122:
                    return 'High422';
                  case 244:
                    return 'High444';
                  default:
                    return 'Unknown';
                }
              }),
              (R.getLevelString = function (S) {
                return (S / 10).toFixed(1);
              }),
              (R.getChromaFormatString = function (S) {
                switch (S) {
                  case 420:
                    return '4:2:0';
                  case 422:
                    return '4:2:2';
                  case 444:
                    return '4:4:4';
                  default:
                    return 'Unknown';
                }
              }),
              R
            );
          })(),
          y = i(5),
          T = (function () {
            function R() {}
            return (
              (R._ebsp2rbsp = function (S) {
                for (var E = S, p = E.byteLength, P = new Uint8Array(p), N = 0, $ = 0; $ < p; $++) ($ >= 2 && E[$] === 3 && E[$ - 1] === 0 && E[$ - 2] === 0) || ((P[N] = E[$]), N++);
                return new Uint8Array(P.buffer, 0, N);
              }),
              (R.parseVPS = function (S) {
                var E = R._ebsp2rbsp(S),
                  p = new b(E);
                return p.readByte(), p.readByte(), p.readBits(4), p.readBits(2), p.readBits(6), { num_temporal_layers: p.readBits(3) + 1, temporal_id_nested: p.readBool() };
              }),
              (R.parseSPS = function (S) {
                var E = R._ebsp2rbsp(S),
                  p = new b(E);
                p.readByte(), p.readByte();
                for (
                  var P = 0,
                    N = 0,
                    $ = 0,
                    j = 0,
                    Z = (p.readBits(4), p.readBits(3)),
                    J = (p.readBool(), p.readBits(2)),
                    re = p.readBool(),
                    se = p.readBits(5),
                    ie = p.readByte(),
                    ae = p.readByte(),
                    fe = p.readByte(),
                    xe = p.readByte(),
                    ye = p.readByte(),
                    Oe = p.readByte(),
                    Pe = p.readByte(),
                    Re = p.readByte(),
                    et = p.readByte(),
                    gt = p.readByte(),
                    Ae = p.readByte(),
                    We = [],
                    ot = [],
                    Qe = 0;
                  Qe < Z;
                  Qe++
                )
                  We.push(p.readBool()), ot.push(p.readBool());
                if (Z > 0) for (Qe = Z; Qe < 8; Qe++) p.readBits(2);
                for (Qe = 0; Qe < Z; Qe++)
                  We[Qe] && (p.readByte(), p.readByte(), p.readByte(), p.readByte(), p.readByte(), p.readByte(), p.readByte(), p.readByte(), p.readByte(), p.readByte(), p.readByte()),
                    ot[Qe] && p.readByte();
                p.readUEG();
                var nt = p.readUEG();
                nt == 3 && p.readBits(1);
                var Lt = p.readUEG(),
                  Qt = p.readUEG();
                p.readBool() && ((P += p.readUEG()), (N += p.readUEG()), ($ += p.readUEG()), (j += p.readUEG()));
                var st = p.readUEG(),
                  Et = p.readUEG(),
                  Ut = p.readUEG();
                for (Qe = p.readBool() ? 0 : Z; Qe <= Z; Qe++) p.readUEG(), p.readUEG(), p.readUEG();
                if ((p.readUEG(), p.readUEG(), p.readUEG(), p.readUEG(), p.readUEG(), p.readUEG(), p.readBool() && p.readBool()))
                  for (var qe = 0; qe < 4; qe++)
                    for (var Ze = 0; Ze < (qe === 3 ? 2 : 6); Ze++)
                      if (p.readBool()) {
                        var Ft = Math.min(64, 1 << (4 + (qe << 1)));
                        for (qe > 1 && p.readSEG(), Qe = 0; Qe < Ft; Qe++) p.readSEG();
                      } else p.readUEG();
                p.readBool(), p.readBool(), p.readBool() && (p.readByte(), p.readUEG(), p.readUEG(), p.readBool());
                var zt = p.readUEG(),
                  ht = 0;
                for (Qe = 0; Qe < zt; Qe++) {
                  var Nt = !1;
                  if ((Qe !== 0 && (Nt = p.readBool()), Nt)) {
                    Qe === zt && p.readUEG(), p.readBool(), p.readUEG();
                    for (var It = 0, ut = 0; ut <= ht; ut++) {
                      var nn = p.readBool(),
                        Sn = !1;
                      nn || (Sn = p.readBool()), (nn || Sn) && It++;
                    }
                    ht = It;
                  } else {
                    var An = p.readUEG(),
                      ni = p.readUEG();
                    for (ht = An + ni, ut = 0; ut < An; ut++) p.readUEG(), p.readBool();
                    for (ut = 0; ut < ni; ut++) p.readUEG(), p.readBool();
                  }
                }
                if (p.readBool()) {
                  var go = p.readUEG();
                  for (Qe = 0; Qe < go; Qe++) {
                    for (ut = 0; ut < Ut + 4; ut++) p.readBits(1);
                    p.readBits(1);
                  }
                }
                var vo = 0,
                  vi = 1,
                  yi = 1,
                  Xo = !1,
                  ds = 1,
                  Je = 1;
                if ((p.readBool(), p.readBool(), p.readBool())) {
                  if (p.readBool()) {
                    var mt = p.readByte();
                    mt > 0 && mt <= 16
                      ? ((vi = [1, 12, 10, 16, 40, 24, 20, 32, 80, 18, 15, 64, 160, 4, 3, 2][mt - 1]), (yi = [1, 11, 11, 11, 33, 11, 11, 11, 33, 11, 11, 33, 99, 3, 2, 1][mt - 1]))
                      : mt === 255 && ((vi = p.readBits(16)), (yi = p.readBits(16)));
                  }
                  if (
                    (p.readBool() && p.readBool(),
                    p.readBool() && (p.readBits(3), p.readBool(), p.readBool() && (p.readByte(), p.readByte(), p.readByte())),
                    p.readBool() && (p.readUEG(), p.readUEG()),
                    p.readBool(),
                    p.readBool(),
                    p.readBool(),
                    p.readBool() && (p.readUEG(), p.readUEG(), p.readUEG(), p.readUEG()),
                    p.readBool() && ((ds = p.readBits(32)), (Je = p.readBits(32)), p.readBool() && (p.readUEG(), p.readBool())))
                  ) {
                    var Gt = !1,
                      sn = !1,
                      Wt = !1;
                    for (
                      Gt = p.readBool(),
                        sn = p.readBool(),
                        (Gt || sn) &&
                          ((Wt = p.readBool()) && (p.readByte(), p.readBits(5), p.readBool(), p.readBits(5)),
                          p.readBits(4),
                          p.readBits(4),
                          Wt && p.readBits(4),
                          p.readBits(5),
                          p.readBits(5),
                          p.readBits(5)),
                        Qe = 0;
                      Qe <= Z;
                      Qe++
                    ) {
                      var fs = p.readBool();
                      Xo = fs;
                      var yo = !1,
                        _o = 1;
                      fs || (yo = p.readBool());
                      var hs = !1;
                      if ((yo ? p.readSEG() : (hs = p.readBool()), hs || (_o = p.readUEG() + 1), Gt)) for (ut = 0; ut < _o; ut++) p.readUEG(), p.readUEG(), Wt && (p.readUEG(), p.readUEG());
                      if (sn) for (ut = 0; ut < _o; ut++) p.readUEG(), p.readUEG(), Wt && (p.readUEG(), p.readUEG());
                    }
                  }
                  p.readBool() && (p.readBool(), p.readBool(), p.readBool(), (vo = p.readUEG()), p.readUEG(), p.readUEG(), p.readUEG(), p.readUEG());
                }
                p.readBool();
                var Qo = 'hvc1.' + se + '.1.L' + Ae + '.B0',
                  Zp = Lt - (P + N) * (nt === 1 || nt === 2 ? 2 : 1),
                  Jp = Qt - ($ + j) * (nt === 1 ? 2 : 1),
                  e1 = 1;
                return (
                  vi !== 1 && yi !== 1 && (e1 = vi / yi),
                  p.destroy(),
                  (p = null),
                  {
                    codec_mimetype: Qo,
                    level_string: R.getLevelString(Ae),
                    profile_idc: se,
                    bit_depth: st + 8,
                    ref_frames: 1,
                    chroma_format: nt,
                    chroma_format_string: R.getChromaFormatString(nt),
                    general_level_idc: Ae,
                    general_profile_space: J,
                    general_tier_flag: re,
                    general_profile_idc: se,
                    general_profile_compatibility_flags_1: ie,
                    general_profile_compatibility_flags_2: ae,
                    general_profile_compatibility_flags_3: fe,
                    general_profile_compatibility_flags_4: xe,
                    general_constraint_indicator_flags_1: ye,
                    general_constraint_indicator_flags_2: Oe,
                    general_constraint_indicator_flags_3: Pe,
                    general_constraint_indicator_flags_4: Re,
                    general_constraint_indicator_flags_5: et,
                    general_constraint_indicator_flags_6: gt,
                    min_spatial_segmentation_idc: vo,
                    constant_frame_rate: 0,
                    chroma_format_idc: nt,
                    bit_depth_luma_minus8: st,
                    bit_depth_chroma_minus8: Et,
                    frame_rate: { fixed: Xo, fps: Je / ds, fps_den: ds, fps_num: Je },
                    sar_ratio: { width: vi, height: yi },
                    codec_size: { width: Zp, height: Jp },
                    present_size: { width: Zp * e1, height: Jp },
                  }
                );
              }),
              (R.parsePPS = function (S) {
                var E = R._ebsp2rbsp(S),
                  p = new b(E);
                p.readByte(),
                  p.readByte(),
                  p.readUEG(),
                  p.readUEG(),
                  p.readBool(),
                  p.readBool(),
                  p.readBits(3),
                  p.readBool(),
                  p.readBool(),
                  p.readUEG(),
                  p.readUEG(),
                  p.readSEG(),
                  p.readBool(),
                  p.readBool(),
                  p.readBool() && p.readUEG(),
                  p.readSEG(),
                  p.readSEG(),
                  p.readBool(),
                  p.readBool(),
                  p.readBool(),
                  p.readBool();
                var P = p.readBool(),
                  N = p.readBool(),
                  $ = 1;
                return N && P ? ($ = 0) : N ? ($ = 3) : P && ($ = 2), { parallelismType: $ };
              }),
              (R.getChromaFormatString = function (S) {
                switch (S) {
                  case 0:
                    return '4:0:0';
                  case 1:
                    return '4:2:0';
                  case 2:
                    return '4:2:2';
                  case 3:
                    return '4:4:4';
                  default:
                    return 'Unknown';
                }
              }),
              (R.getProfileString = function (S) {
                switch (S) {
                  case 1:
                    return 'Main';
                  case 2:
                    return 'Main10';
                  case 3:
                    return 'MainSP';
                  case 4:
                    return 'Rext';
                  case 9:
                    return 'SCC';
                  default:
                    return 'Unknown';
                }
              }),
              (R.getLevelString = function (S) {
                return (S / 30).toFixed(1);
              }),
              R
            );
          })();
        function w(R) {
          return R.byteOffset % 2 == 0 && R.byteLength % 2 == 0;
        }
        function I(R) {
          return R.byteOffset % 4 == 0 && R.byteLength % 4 == 0;
        }
        function O(R, S) {
          for (var E = 0; E < R.length; E++) if (R[E] !== S[E]) return !1;
          return !0;
        }
        var x = function (R, S) {
            return (
              R.byteLength === S.byteLength &&
              (I(R) && I(S)
                ? (function (E, p) {
                    return O(new Uint32Array(E.buffer, E.byteOffset, E.byteLength / 4), new Uint32Array(p.buffer, p.byteOffset, p.byteLength / 4));
                  })(R, S)
                : w(R) && w(S)
                ? (function (E, p) {
                    return O(new Uint16Array(E.buffer, E.byteOffset, E.byteLength / 2), new Uint16Array(p.buffer, p.byteOffset, p.byteLength / 2));
                  })(R, S)
                : (function (E, p) {
                    return O(E, p);
                  })(R, S))
            );
          },
          L = i(14),
          D = i.n(L),
          C,
          G = [106, 124, 187, 145, 175, 115, 1, 163, 90, 207, 91, 53, 162, 95, 152, 223],
          M = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
          B = (function () {
            function R(S, E) {
              (this.TAG = 'FLVDemuxer'),
                (this._config = E),
                (this._onError = null),
                (this._onMediaInfo = null),
                (this._onMetaDataArrived = null),
                (this._onScriptDataArrived = null),
                (this._onTrackMetadata = null),
                (this._onDataAvailable = null),
                (this._dataOffset = S.dataOffset),
                (this._firstParse = !0),
                (this._dispatch = !1),
                (this._hasAudio = S.hasAudioTrack),
                (this._hasVideo = S.hasVideoTrack),
                (this._hasAudioFlagOverrided = !1),
                (this._hasVideoFlagOverrided = !1),
                (this._audioInitialMetadataDispatched = !1),
                (this._videoInitialMetadataDispatched = !1),
                (this._mediaInfo = new u.a()),
                (this._mediaInfo.hasAudio = this._hasAudio),
                (this._mediaInfo.hasVideo = this._hasVideo),
                (this._metadata = null),
                (this._audioMetadata = null),
                (this._videoMetadata = null),
                (this._naluLengthSize = 4),
                (this._timestampBase = 0),
                (this._timescale = 1e3),
                (this._duration = 0),
                (this._durationOverrided = !1),
                (this._referenceFrameRate = { fixed: !0, fps: 23.976, fps_num: 23976, fps_den: 1e3 }),
                (this._flvSoundRateTable = [5500, 11025, 22050, 44100, 48e3]),
                (this._mpegSamplingRates = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350]),
                (this._mpegAudioV10SampleRateTable = [44100, 48e3, 32e3, 0]),
                (this._mpegAudioV20SampleRateTable = [22050, 24e3, 16e3, 0]),
                (this._mpegAudioV25SampleRateTable = [11025, 12e3, 8e3, 0]),
                (this._mpegAudioL1BitRateTable = [0, 32, 64, 96, 128, 160, 192, 224, 256, 288, 320, 352, 384, 416, 448, -1]),
                (this._mpegAudioL2BitRateTable = [0, 32, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 384, -1]),
                (this._mpegAudioL3BitRateTable = [0, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, -1]),
                (this._videoTrack = { type: 'video', id: 1, sequenceNumber: 0, samples: [], length: 0 }),
                (this._audioTrack = { type: 'audio', id: 2, sequenceNumber: 0, samples: [], length: 0 }),
                (this._littleEndian = (function () {
                  var p = new ArrayBuffer(2);
                  return new DataView(p).setInt16(0, 256, !0), new Int16Array(p)[0] === 256;
                })());
            }
            return (
              (R.prototype.destroy = function () {
                (this._mediaInfo = null),
                  (this._metadata = null),
                  (this._audioMetadata = null),
                  (this._videoMetadata = null),
                  (this._videoTrack = null),
                  (this._audioTrack = null),
                  (this._onError = null),
                  (this._onMediaInfo = null),
                  (this._onMetaDataArrived = null),
                  (this._onScriptDataArrived = null),
                  (this._onTrackMetadata = null),
                  (this._onDataAvailable = null);
              }),
              (R.probe = function (S) {
                var E = new Uint8Array(S);
                if (E.byteLength < 9) return { needMoreData: !0 };
                var p = { match: !1 };
                if (E[0] !== 70 || E[1] !== 76 || E[2] !== 86 || E[3] !== 1) return p;
                var P,
                  N,
                  $ = (4 & E[4]) >>> 2 != 0,
                  j = (1 & E[4]) != 0,
                  Z = ((P = E)[(N = 5)] << 24) | (P[N + 1] << 16) | (P[N + 2] << 8) | P[N + 3];
                return Z < 9 ? p : { match: !0, consumed: Z, dataOffset: Z, hasAudioTrack: $, hasVideoTrack: j };
              }),
              (R.prototype.bindDataSource = function (S) {
                return (S.onDataArrival = this.parseChunks.bind(this)), this;
              }),
              Object.defineProperty(R.prototype, 'onTrackMetadata', {
                get: function () {
                  return this._onTrackMetadata;
                },
                set: function (S) {
                  this._onTrackMetadata = S;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(R.prototype, 'onMediaInfo', {
                get: function () {
                  return this._onMediaInfo;
                },
                set: function (S) {
                  this._onMediaInfo = S;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(R.prototype, 'onMetaDataArrived', {
                get: function () {
                  return this._onMetaDataArrived;
                },
                set: function (S) {
                  this._onMetaDataArrived = S;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(R.prototype, 'onScriptDataArrived', {
                get: function () {
                  return this._onScriptDataArrived;
                },
                set: function (S) {
                  this._onScriptDataArrived = S;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(R.prototype, 'onError', {
                get: function () {
                  return this._onError;
                },
                set: function (S) {
                  this._onError = S;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(R.prototype, 'onDataAvailable', {
                get: function () {
                  return this._onDataAvailable;
                },
                set: function (S) {
                  this._onDataAvailable = S;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(R.prototype, 'timestampBase', {
                get: function () {
                  return this._timestampBase;
                },
                set: function (S) {
                  this._timestampBase = S;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(R.prototype, 'overridedDuration', {
                get: function () {
                  return this._duration;
                },
                set: function (S) {
                  (this._durationOverrided = !0), (this._duration = S), (this._mediaInfo.duration = S);
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(R.prototype, 'overridedHasAudio', {
                set: function (S) {
                  (this._hasAudioFlagOverrided = !0), (this._hasAudio = S), (this._mediaInfo.hasAudio = S);
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(R.prototype, 'overridedHasVideo', {
                set: function (S) {
                  (this._hasVideoFlagOverrided = !0), (this._hasVideo = S), (this._mediaInfo.hasVideo = S);
                },
                enumerable: !1,
                configurable: !0,
              }),
              (R.prototype.resetMediaInfo = function () {
                this._mediaInfo = new u.a();
              }),
              (R.prototype._isInitialMetadataDispatched = function () {
                return this._hasAudio && this._hasVideo
                  ? this._audioInitialMetadataDispatched && this._videoInitialMetadataDispatched
                  : this._hasAudio && !this._hasVideo
                  ? this._audioInitialMetadataDispatched
                  : !(this._hasAudio || !this._hasVideo) && this._videoInitialMetadataDispatched;
              }),
              (R.prototype.parseChunks = function (S, E) {
                if (!(this._onError && this._onMediaInfo && this._onTrackMetadata && this._onDataAvailable))
                  throw new h.a('Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified');
                var p = 0,
                  P = this._littleEndian;
                if (E === 0) {
                  if (!(S.byteLength > 13)) return 0;
                  p = R.probe(S).dataOffset;
                }
                for (
                  this._firstParse &&
                  ((this._firstParse = !1),
                  E + p !== this._dataOffset && s.a.w(this.TAG, 'First time parsing but chunk byteStart invalid!'),
                  (N = new DataView(S, p)).getUint32(0, !P) !== 0 && s.a.w(this.TAG, 'PrevTagSize0 !== 0 !!!'),
                  (p += 4));
                  p < S.byteLength;

                ) {
                  this._dispatch = !0;
                  var N = new DataView(S, p);
                  if (p + 11 + 4 > S.byteLength) break;
                  var $ = N.getUint8(0),
                    j = 16777215 & N.getUint32(0, !P);
                  if (p + 11 + j + 4 > S.byteLength) break;
                  if ($ === 8 || $ === 9 || $ === 18) {
                    var Z = N.getUint8(4),
                      J = N.getUint8(5),
                      re = N.getUint8(6) | (J << 8) | (Z << 16) | (N.getUint8(7) << 24);
                    16777215 & N.getUint32(7, !P) && s.a.w(this.TAG, 'Meet tag which has StreamID != 0!');
                    var se = p + 11;
                    switch ($) {
                      case 8:
                        this._parseAudioData(S, se, j, re);
                        break;
                      case 9:
                        this._parseVideoData(S, se, j, re, E + p);
                        break;
                      case 18:
                        this._parseScriptData(S, se, j);
                    }
                    var ie = N.getUint32(11 + j, !P);
                    ie !== 11 + j && s.a.w(this.TAG, 'Invalid PrevTagSize ' + ie), (p += 11 + j + 4);
                  } else s.a.w(this.TAG, 'Unsupported tag type ' + $ + ', skipped'), (p += 11 + j + 4);
                }
                return this._isInitialMetadataDispatched() && this._dispatch && (this._audioTrack.length || this._videoTrack.length) && this._onDataAvailable(this._audioTrack, this._videoTrack), p;
              }),
              (R.prototype._parseScriptData = function (S, E, p) {
                var P = g.parseScriptData(S, E, p);
                if (P.hasOwnProperty('onMetaData')) {
                  if (P.onMetaData == null || typeof P.onMetaData != 'object') return void s.a.w(this.TAG, 'Invalid onMetaData structure!');
                  this._metadata && s.a.w(this.TAG, 'Found another onMetaData tag!'), (this._metadata = P);
                  var N = this._metadata.onMetaData;
                  if (
                    (this._onMetaDataArrived && this._onMetaDataArrived(Object.assign({}, N)),
                    typeof N.hasAudio == 'boolean' && this._hasAudioFlagOverrided === !1 && ((this._hasAudio = N.hasAudio), (this._mediaInfo.hasAudio = this._hasAudio)),
                    typeof N.hasVideo == 'boolean' && this._hasVideoFlagOverrided === !1 && ((this._hasVideo = N.hasVideo), (this._mediaInfo.hasVideo = this._hasVideo)),
                    typeof N.audiodatarate == 'number' && (this._mediaInfo.audioDataRate = N.audiodatarate),
                    typeof N.videodatarate == 'number' && (this._mediaInfo.videoDataRate = N.videodatarate),
                    typeof N.width == 'number' && (this._mediaInfo.width = N.width),
                    typeof N.height == 'number' && (this._mediaInfo.height = N.height),
                    typeof N.duration == 'number')
                  ) {
                    if (!this._durationOverrided) {
                      var $ = Math.floor(N.duration * this._timescale);
                      (this._duration = $), (this._mediaInfo.duration = $);
                    }
                  } else this._mediaInfo.duration = 0;
                  if (typeof N.framerate == 'number') {
                    var j = Math.floor(1e3 * N.framerate);
                    if (j > 0) {
                      var Z = j / 1e3;
                      (this._referenceFrameRate.fixed = !0),
                        (this._referenceFrameRate.fps = Z),
                        (this._referenceFrameRate.fps_num = j),
                        (this._referenceFrameRate.fps_den = 1e3),
                        (this._mediaInfo.fps = Z);
                    }
                  }
                  if (typeof N.keyframes == 'object') {
                    this._mediaInfo.hasKeyframesIndex = !0;
                    var J = N.keyframes;
                    (this._mediaInfo.keyframesIndex = this._parseKeyframesIndex(J)), (N.keyframes = null);
                  } else this._mediaInfo.hasKeyframesIndex = !1;
                  (this._dispatch = !1), (this._mediaInfo.metadata = N), s.a.v(this.TAG, 'Parsed onMetaData'), this._mediaInfo.isComplete() && this._onMediaInfo(this._mediaInfo);
                }
                Object.keys(P).length > 0 && this._onScriptDataArrived && this._onScriptDataArrived(Object.assign({}, P));
              }),
              (R.prototype._parseKeyframesIndex = function (S) {
                for (var E = [], p = [], P = 1; P < S.times.length; P++) {
                  var N = this._timestampBase + Math.floor(1e3 * S.times[P]);
                  E.push(N), p.push(S.filepositions[P]);
                }
                return { times: E, filepositions: p };
              }),
              (R.prototype._parseAudioData = function (S, E, p, P) {
                if (p <= 1) s.a.w(this.TAG, 'Flv: Invalid audio packet, missing SoundData payload!');
                else if (this._hasAudioFlagOverrided !== !0 || this._hasAudio !== !1) {
                  this._littleEndian;
                  var N = new DataView(S, E, p).getUint8(0),
                    $ = N >>> 4;
                  if ($ === 2 || $ === 10) {
                    var j = 0,
                      Z = (12 & N) >>> 2;
                    if (Z >= 0 && Z <= 4) {
                      j = this._flvSoundRateTable[Z];
                      var J = 1 & N,
                        re = this._audioMetadata,
                        se = this._audioTrack;
                      if (
                        (re ||
                          (this._hasAudio === !1 && this._hasAudioFlagOverrided === !1 && ((this._hasAudio = !0), (this._mediaInfo.hasAudio = !0)),
                          ((re = this._audioMetadata = {}).type = 'audio'),
                          (re.id = se.id),
                          (re.timescale = this._timescale),
                          (re.duration = this._duration),
                          (re.audioSampleRate = j),
                          (re.channelCount = J === 0 ? 1 : 2)),
                        $ === 10)
                      ) {
                        var ie = this._parseAACAudioData(S, E + 1, p - 1);
                        if (ie == null) return;
                        if (ie.packetType === 0) {
                          if (re.config) {
                            if (x(ie.data.config, re.config)) return;
                            s.a.w(this.TAG, 'AudioSpecificConfig has been changed, re-generate initialization segment');
                          }
                          var ae = ie.data;
                          (re.audioSampleRate = ae.samplingRate),
                            (re.channelCount = ae.channelCount),
                            (re.codec = ae.codec),
                            (re.originalCodec = ae.originalCodec),
                            (re.config = ae.config),
                            (re.refSampleDuration = (1024 / re.audioSampleRate) * re.timescale),
                            s.a.v(this.TAG, 'Parsed AudioSpecificConfig'),
                            this._isInitialMetadataDispatched()
                              ? this._dispatch && (this._audioTrack.length || this._videoTrack.length) && this._onDataAvailable(this._audioTrack, this._videoTrack)
                              : (this._audioInitialMetadataDispatched = !0),
                            (this._dispatch = !1),
                            this._onTrackMetadata('audio', re),
                            ((ye = this._mediaInfo).audioCodec = re.originalCodec),
                            (ye.audioSampleRate = re.audioSampleRate),
                            (ye.audioChannelCount = re.channelCount),
                            ye.hasVideo
                              ? ye.videoCodec != null && (ye.mimeType = 'video/x-flv; codecs="' + ye.videoCodec + ',' + ye.audioCodec + '"')
                              : (ye.mimeType = 'video/x-flv; codecs="' + ye.audioCodec + '"'),
                            ye.isComplete() && this._onMediaInfo(ye);
                        } else if (ie.packetType === 1) {
                          var fe = this._timestampBase + P,
                            xe = { unit: ie.data, length: ie.data.byteLength, dts: fe, pts: fe };
                          se.samples.push(xe), (se.length += ie.data.length);
                        } else s.a.e(this.TAG, 'Flv: Unsupported AAC data type ' + ie.packetType);
                      } else if ($ === 2) {
                        if (!re.codec) {
                          var ye;
                          if ((ae = this._parseMP3AudioData(S, E + 1, p - 1, !0)) == null) return;
                          (re.audioSampleRate = ae.samplingRate),
                            (re.channelCount = ae.channelCount),
                            (re.codec = ae.codec),
                            (re.originalCodec = ae.originalCodec),
                            (re.refSampleDuration = (1152 / re.audioSampleRate) * re.timescale),
                            s.a.v(this.TAG, 'Parsed MPEG Audio Frame Header'),
                            (this._audioInitialMetadataDispatched = !0),
                            this._onTrackMetadata('audio', re),
                            ((ye = this._mediaInfo).audioCodec = re.codec),
                            (ye.audioSampleRate = re.audioSampleRate),
                            (ye.audioChannelCount = re.channelCount),
                            (ye.audioDataRate = ae.bitRate),
                            ye.hasVideo
                              ? ye.videoCodec != null && (ye.mimeType = 'video/x-flv; codecs="' + ye.videoCodec + ',' + ye.audioCodec + '"')
                              : (ye.mimeType = 'video/x-flv; codecs="' + ye.audioCodec + '"'),
                            ye.isComplete() && this._onMediaInfo(ye);
                        }
                        var Oe = this._parseMP3AudioData(S, E + 1, p - 1, !1);
                        if (Oe == null) return;
                        fe = this._timestampBase + P;
                        var Pe = { unit: Oe, length: Oe.byteLength, dts: fe, pts: fe };
                        se.samples.push(Pe), (se.length += Oe.length);
                      }
                    } else this._onError(y.a.FORMAT_ERROR, 'Flv: Invalid audio sample rate idx: ' + Z);
                  } else this._onError(y.a.CODEC_UNSUPPORTED, 'Flv: Unsupported audio codec idx: ' + $);
                }
              }),
              (R.prototype._parseAACAudioData = function (S, E, p) {
                if (!(p <= 1)) {
                  var P = {},
                    N = new Uint8Array(S, E, p);
                  return (P.packetType = N[0]), N[0] === 0 ? (P.data = this._parseAACAudioSpecificConfig(S, E + 1, p - 1)) : (P.data = N.subarray(1)), P;
                }
                s.a.w(this.TAG, 'Flv: Invalid AAC packet, missing AACPacketType or/and Data!');
              }),
              (R.prototype._parseAACAudioSpecificConfig = function (S, E, p) {
                var P,
                  N,
                  $ = new Uint8Array(S, E, p),
                  j = null,
                  Z = 0,
                  J = null;
                if (((Z = P = $[0] >>> 3), (N = ((7 & $[0]) << 1) | ($[1] >>> 7)) < 0 || N >= this._mpegSamplingRates.length))
                  this._onError(y.a.FORMAT_ERROR, 'Flv: AAC invalid sampling frequency index!');
                else {
                  var re = this._mpegSamplingRates[N],
                    se = (120 & $[1]) >>> 3;
                  if (!(se < 0 || se >= 8)) {
                    Z === 5 && ((J = ((7 & $[1]) << 1) | ($[2] >>> 7)), (124 & $[2]) >>> 2);
                    var ie = self.navigator.userAgent.toLowerCase();
                    return (
                      ie.indexOf('firefox') !== -1
                        ? N >= 6
                          ? ((Z = 5), (j = new Array(4)), (J = N - 3))
                          : ((Z = 2), (j = new Array(2)), (J = N))
                        : ie.indexOf('android') !== -1
                        ? ((Z = 2), (j = new Array(2)), (J = N))
                        : ((Z = 5), (J = N), (j = new Array(4)), N >= 6 ? (J = N - 3) : se === 1 && ((Z = 2), (j = new Array(2)), (J = N))),
                      (j[0] = Z << 3),
                      (j[0] |= (15 & N) >>> 1),
                      (j[1] = (15 & N) << 7),
                      (j[1] |= (15 & se) << 3),
                      Z === 5 && ((j[1] |= (15 & J) >>> 1), (j[2] = (1 & J) << 7), (j[2] |= 8), (j[3] = 0)),
                      { config: j, samplingRate: re, channelCount: se, codec: 'mp4a.40.' + Z, originalCodec: 'mp4a.40.' + P }
                    );
                  }
                  this._onError(y.a.FORMAT_ERROR, 'Flv: AAC invalid channel configuration');
                }
              }),
              (R.prototype._parseMP3AudioData = function (S, E, p, P) {
                if (!(p < 4)) {
                  this._littleEndian;
                  var N = new Uint8Array(S, E, p),
                    $ = null;
                  if (P) {
                    if (N[0] !== 255) return;
                    var j = (N[1] >>> 3) & 3,
                      Z = (6 & N[1]) >> 1,
                      J = (240 & N[2]) >>> 4,
                      re = (12 & N[2]) >>> 2,
                      se = ((N[3] >>> 6) & 3) !== 3 ? 2 : 1,
                      ie = 0,
                      ae = 0;
                    switch (j) {
                      case 0:
                        ie = this._mpegAudioV25SampleRateTable[re];
                        break;
                      case 2:
                        ie = this._mpegAudioV20SampleRateTable[re];
                        break;
                      case 3:
                        ie = this._mpegAudioV10SampleRateTable[re];
                    }
                    switch (Z) {
                      case 1:
                        J < this._mpegAudioL3BitRateTable.length && (ae = this._mpegAudioL3BitRateTable[J]);
                        break;
                      case 2:
                        J < this._mpegAudioL2BitRateTable.length && (ae = this._mpegAudioL2BitRateTable[J]);
                        break;
                      case 3:
                        J < this._mpegAudioL1BitRateTable.length && (ae = this._mpegAudioL1BitRateTable[J]);
                    }
                    $ = { bitRate: ae, samplingRate: ie, channelCount: se, codec: 'mp3', originalCodec: 'mp3' };
                  } else $ = N;
                  return $;
                }
                s.a.w(this.TAG, 'Flv: Invalid MP3 packet, header missing!');
              }),
              (R.prototype._parseVideoData = function (S, E, p, P, N) {
                if (p <= 1) s.a.w(this.TAG, 'Flv: Invalid video packet, missing VideoData payload!');
                else if (this._hasVideoFlagOverrided !== !0 || this._hasVideo !== !1) {
                  var $ = new Uint8Array(S, E, p)[0],
                    j = (112 & $) >>> 4;
                  if (128 & $) {
                    var Z = 15 & $,
                      J = String.fromCharCode.apply(String, new Uint8Array(S, E, p).slice(1, 5));
                    if (J !== 'hvc1') return void this._onError(y.a.CODEC_UNSUPPORTED, 'Flv: Unsupported codec in video frame: ' + J);
                    this._parseEnhancedHEVCVideoPacket(S, E + 5, p - 5, P, N, j, Z);
                  } else {
                    var re = 15 & $;
                    if (re === 7) this._parseAVCVideoPacket(S, E + 1, p - 1, P, N, j);
                    else {
                      if (re !== 12) return void this._onError(y.a.CODEC_UNSUPPORTED, 'Flv: Unsupported codec in video frame: ' + re);
                      this._parseHEVCVideoPacket(S, E + 1, p - 1, P, N, j);
                    }
                  }
                }
              }),
              (R.prototype._parseAVCVideoPacket = function (S, E, p, P, N, $) {
                if (p < 4) s.a.w(this.TAG, 'Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime');
                else {
                  var j = this._littleEndian,
                    Z = new DataView(S, E, p),
                    J = Z.getUint8(0),
                    re = ((16777215 & Z.getUint32(0, !j)) << 8) >> 8;
                  if (J === 0) this._parseAVCDecoderConfigurationRecord(S, E + 4, p - 4);
                  else if (J === 1) this._parseAVCVideoData(S, E + 4, p - 4, P, N, $, re);
                  else if (J !== 2) return void this._onError(y.a.FORMAT_ERROR, 'Flv: Invalid video packet type ' + J);
                }
              }),
              (R.prototype._parseHEVCVideoPacket = function (S, E, p, P, N, $) {
                if (p < 4) s.a.w(this.TAG, 'Flv: Invalid HEVC packet, missing HEVCPacketType or/and CompositionTime');
                else {
                  var j = this._littleEndian,
                    Z = new DataView(S, E, p),
                    J = Z.getUint8(0),
                    re = ((16777215 & Z.getUint32(0, !j)) << 8) >> 8;
                  if (J === 0) this._parseHEVCDecoderConfigurationRecord(S, E + 4, p - 4);
                  else if (J === 1) this._parseHEVCVideoData(S, E + 4, p - 4, P, N, $, re);
                  else if (J !== 2) return void this._onError(y.a.FORMAT_ERROR, 'Flv: Invalid video packet type ' + J);
                }
              }),
              (R.prototype._parseEnhancedHEVCVideoPacket = function (S, E, p, P, N, $, j) {
                if (p < 4) s.a.w(this.TAG, 'Flv: Invalid HEVC packet, missing HEVCPacketType or/and CompositionTime');
                else {
                  var Z = this._littleEndian,
                    J = new DataView(S, E, p);
                  if (j === 0) this._parseHEVCDecoderConfigurationRecord(S, E, p);
                  else if (j === 1) {
                    var re = (4294967040 & J.getUint32(0, !Z)) >> 8;
                    this._parseHEVCVideoData(S, E + 3, p - 3, P, N, $, re);
                  } else if (j === 3) this._parseHEVCVideoData(S, E, p, P, N, $, 0);
                  else if (j !== 2) return void this._onError(y.a.FORMAT_ERROR, 'Flv: Invalid video packet type ' + j);
                }
              }),
              (R.prototype._parseAVCDecoderConfigurationRecord = function (S, E, p) {
                if (p < 7) s.a.w(this.TAG, 'Flv: Invalid AVCDecoderConfigurationRecord, lack of data!');
                else {
                  var P = this._videoMetadata,
                    N = this._videoTrack,
                    $ = this._littleEndian,
                    j = new DataView(S, E, p);
                  if (P) {
                    if (P.avcc !== void 0) {
                      var Z = new Uint8Array(S, E, p);
                      if (x(Z, P.avcc)) return;
                      s.a.w(this.TAG, 'AVCDecoderConfigurationRecord has been changed, re-generate initialization segment');
                    }
                  } else
                    this._hasVideo === !1 && this._hasVideoFlagOverrided === !1 && ((this._hasVideo = !0), (this._mediaInfo.hasVideo = !0)),
                      ((P = this._videoMetadata = {}).type = 'video'),
                      (P.id = N.id),
                      (P.timescale = this._timescale),
                      (P.duration = this._duration);
                  var J = j.getUint8(0),
                    re = j.getUint8(1);
                  if ((j.getUint8(2), j.getUint8(3), J === 1 && re !== 0))
                    if (((this._naluLengthSize = 1 + (3 & j.getUint8(4))), this._naluLengthSize === 3 || this._naluLengthSize === 4)) {
                      var se = 31 & j.getUint8(5);
                      if (se !== 0) {
                        se > 1 && s.a.w(this.TAG, 'Flv: Strange AVCDecoderConfigurationRecord: SPS Count = ' + se);
                        for (var ie = 6, ae = 0; ae < se; ae++) {
                          var fe = j.getUint16(ie, !$);
                          if (((ie += 2), fe !== 0)) {
                            var xe = new Uint8Array(S, E + ie, fe);
                            ie += fe;
                            var ye = _.parseSPS(xe);
                            if (ae === 0) {
                              (P.codecWidth = ye.codec_size.width),
                                (P.codecHeight = ye.codec_size.height),
                                (P.presentWidth = ye.present_size.width),
                                (P.presentHeight = ye.present_size.height),
                                (P.profile = ye.profile_string),
                                (P.level = ye.level_string),
                                (P.bitDepth = ye.bit_depth),
                                (P.chromaFormat = ye.chroma_format),
                                (P.sarRatio = ye.sar_ratio),
                                (P.frameRate = ye.frame_rate),
                                (ye.frame_rate.fixed !== !1 && ye.frame_rate.fps_num !== 0 && ye.frame_rate.fps_den !== 0) || (P.frameRate = this._referenceFrameRate);
                              var Oe = P.frameRate.fps_den,
                                Pe = P.frameRate.fps_num;
                              P.refSampleDuration = P.timescale * (Oe / Pe);
                              for (var Re = xe.subarray(1, 4), et = 'avc1.', gt = 0; gt < 3; gt++) {
                                var Ae = Re[gt].toString(16);
                                Ae.length < 2 && (Ae = '0' + Ae), (et += Ae);
                              }
                              P.codec = et;
                              var We = this._mediaInfo;
                              (We.width = P.codecWidth),
                                (We.height = P.codecHeight),
                                (We.fps = P.frameRate.fps),
                                (We.profile = P.profile),
                                (We.level = P.level),
                                (We.refFrames = ye.ref_frames),
                                (We.chromaFormat = ye.chroma_format_string),
                                (We.sarNum = P.sarRatio.width),
                                (We.sarDen = P.sarRatio.height),
                                (We.videoCodec = et),
                                We.hasAudio
                                  ? We.audioCodec != null && (We.mimeType = 'video/x-flv; codecs="' + We.videoCodec + ',' + We.audioCodec + '"')
                                  : (We.mimeType = 'video/x-flv; codecs="' + We.videoCodec + '"'),
                                We.isComplete() && this._onMediaInfo(We);
                            }
                          }
                        }
                        var ot = j.getUint8(ie);
                        if (ot !== 0) {
                          for (ot > 1 && s.a.w(this.TAG, 'Flv: Strange AVCDecoderConfigurationRecord: PPS Count = ' + ot), ie++, ae = 0; ae < ot; ae++)
                            (fe = j.getUint16(ie, !$)), (ie += 2), fe !== 0 && (ie += fe);
                          (P.avcc = new Uint8Array(p)),
                            P.avcc.set(new Uint8Array(S, E, p), 0),
                            s.a.v(this.TAG, 'Parsed AVCDecoderConfigurationRecord'),
                            this._isInitialMetadataDispatched()
                              ? this._dispatch && (this._audioTrack.length || this._videoTrack.length) && this._onDataAvailable(this._audioTrack, this._videoTrack)
                              : (this._videoInitialMetadataDispatched = !0),
                            (this._dispatch = !1),
                            this._onTrackMetadata('video', P);
                        } else this._onError(y.a.FORMAT_ERROR, 'Flv: Invalid AVCDecoderConfigurationRecord: No PPS');
                      } else this._onError(y.a.FORMAT_ERROR, 'Flv: Invalid AVCDecoderConfigurationRecord: No SPS');
                    } else this._onError(y.a.FORMAT_ERROR, 'Flv: Strange NaluLengthSizeMinusOne: ' + (this._naluLengthSize - 1));
                  else this._onError(y.a.FORMAT_ERROR, 'Flv: Invalid AVCDecoderConfigurationRecord');
                }
              }),
              (R.prototype._parseHEVCDecoderConfigurationRecord = function (S, E, p) {
                if (p < 22) s.a.w(this.TAG, 'Flv: Invalid HEVCDecoderConfigurationRecord, lack of data!');
                else {
                  var P = this._videoMetadata,
                    N = this._videoTrack,
                    $ = this._littleEndian,
                    j = new DataView(S, E, p);
                  if (P) {
                    if (P.hvcc !== void 0) {
                      var Z = new Uint8Array(S, E, p);
                      if (x(Z, P.hvcc)) return;
                      s.a.w(this.TAG, 'HEVCDecoderConfigurationRecord has been changed, re-generate initialization segment');
                    }
                  } else
                    this._hasVideo === !1 && this._hasVideoFlagOverrided === !1 && ((this._hasVideo = !0), (this._mediaInfo.hasVideo = !0)),
                      ((P = this._videoMetadata = {}).type = 'video'),
                      (P.id = N.id),
                      (P.timescale = this._timescale),
                      (P.duration = this._duration);
                  var J = j.getUint8(0),
                    re = 31 & j.getUint8(1);
                  if (J === 1 && re !== 0)
                    if (((this._naluLengthSize = 1 + (3 & j.getUint8(21))), this._naluLengthSize === 3 || this._naluLengthSize === 4)) {
                      for (var se = j.getUint8(22), ie = 0, ae = 23; ie < se; ie++) {
                        var fe = 63 & j.getUint8(ae + 0),
                          xe = j.getUint16(ae + 1, !$);
                        ae += 3;
                        for (var ye = 0; ye < xe; ye++) {
                          var Oe = j.getUint16(ae + 0, !$);
                          if (ye === 0)
                            if (fe === 33) {
                              ae += 2;
                              var Pe = new Uint8Array(S, E + ae, Oe),
                                Re = T.parseSPS(Pe);
                              (P.codecWidth = Re.codec_size.width),
                                (P.codecHeight = Re.codec_size.height),
                                (P.presentWidth = Re.present_size.width),
                                (P.presentHeight = Re.present_size.height),
                                (P.profile = Re.profile_string),
                                (P.level = Re.level_string),
                                (P.bitDepth = Re.bit_depth),
                                (P.chromaFormat = Re.chroma_format),
                                (P.sarRatio = Re.sar_ratio),
                                (P.frameRate = Re.frame_rate),
                                (Re.frame_rate.fixed !== !1 && Re.frame_rate.fps_num !== 0 && Re.frame_rate.fps_den !== 0) || (P.frameRate = this._referenceFrameRate);
                              var et = P.frameRate.fps_den,
                                gt = P.frameRate.fps_num;
                              (P.refSampleDuration = P.timescale * (et / gt)), (P.codec = Re.codec_mimetype);
                              var Ae = this._mediaInfo;
                              (Ae.width = P.codecWidth),
                                (Ae.height = P.codecHeight),
                                (Ae.fps = P.frameRate.fps),
                                (Ae.profile = P.profile),
                                (Ae.level = P.level),
                                (Ae.refFrames = Re.ref_frames),
                                (Ae.chromaFormat = Re.chroma_format_string),
                                (Ae.sarNum = P.sarRatio.width),
                                (Ae.sarDen = P.sarRatio.height),
                                (Ae.videoCodec = Re.codec_mimetype),
                                Ae.hasAudio
                                  ? Ae.audioCodec != null && (Ae.mimeType = 'video/x-flv; codecs="' + Ae.videoCodec + ',' + Ae.audioCodec + '"')
                                  : (Ae.mimeType = 'video/x-flv; codecs="' + Ae.videoCodec + '"'),
                                Ae.isComplete() && this._onMediaInfo(Ae),
                                (ae += Oe);
                            } else ae += 2 + Oe;
                          else ae += 2 + Oe;
                        }
                      }
                      (P.hvcc = new Uint8Array(p)),
                        P.hvcc.set(new Uint8Array(S, E, p), 0),
                        s.a.v(this.TAG, 'Parsed HEVCDecoderConfigurationRecord'),
                        this._isInitialMetadataDispatched()
                          ? this._dispatch && (this._audioTrack.length || this._videoTrack.length) && this._onDataAvailable(this._audioTrack, this._videoTrack)
                          : (this._videoInitialMetadataDispatched = !0),
                        (this._dispatch = !1),
                        this._onTrackMetadata('video', P);
                    } else this._onError(y.a.FORMAT_ERROR, 'Flv: Strange NaluLengthSizeMinusOne: ' + (this._naluLengthSize - 1));
                  else this._onError(y.a.FORMAT_ERROR, 'Flv: Invalid HEVCDecoderConfigurationRecord');
                }
              }),
              (R.prototype._parseAVCVideoData = function (S, E, p, P, N, $, j) {
                for (var Z = this._littleEndian, J = new DataView(S, E, p), re = [], se = 0, ie = 0, ae = this._naluLengthSize, fe = this._timestampBase + P, xe = $ === 1, ye = !1; ie < p; ) {
                  if (ie + 4 >= p) {
                    s.a.w(this.TAG, 'Malformed Nalu near timestamp ' + fe + ', offset = ' + ie + ', dataSize = ' + p);
                    break;
                  }
                  var Oe = J.getUint32(ie, !Z);
                  if ((ae === 3 && (Oe >>>= 8), Oe > p - ae)) return void s.a.w(this.TAG, 'Malformed Nalus near timestamp ' + fe + ', NaluSize > DataSize!');
                  var Pe = 31 & J.getUint8(ie + ae);
                  Pe === 6 && (ye = J.getUint8(ie + ae + 1));
                  var Re = new Uint8Array(S, E + ie, ae + Oe);
                  if (Pe === 5 && ((xe = !0), ye == 1)) {
                    var et = new Uint8Array(S, E + ie + ae + 1, ae + Oe - (ae + 1) - ((ae + Oe - (ae + 1)) % 16)),
                      gt = new D.a.ModeOfOperation.cbc(G, M).decrypt(et);
                    Re.set(gt, ae + 1);
                  }
                  var Ae = { type: Pe, data: Re };
                  re.push(Ae), (se += Re.byteLength), (ie += ae + Oe);
                }
                if (re.length) {
                  var We = this._videoTrack,
                    ot = { units: re, length: se, isKeyframe: xe, dts: fe, cts: j, pts: fe + j };
                  xe && (ot.fileposition = N), We.samples.push(ot), (We.length += se);
                }
              }),
              (R.prototype._parseHEVCVideoData = function (S, E, p, P, N, $, j) {
                for (var Z = this._littleEndian, J = new DataView(S, E, p), re = [], se = 0, ie = 0, ae = this._naluLengthSize, fe = this._timestampBase + P, xe = $ === 1; ie < p; ) {
                  if (ie + 4 >= p) {
                    s.a.w(this.TAG, 'Malformed Nalu near timestamp ' + fe + ', offset = ' + ie + ', dataSize = ' + p);
                    break;
                  }
                  var ye = J.getUint32(ie, !Z);
                  if ((ae === 3 && (ye >>>= 8), ye > p - ae)) return void s.a.w(this.TAG, 'Malformed Nalus near timestamp ' + fe + ', NaluSize > DataSize!');
                  var Oe = 31 & J.getUint8(ie + ae);
                  (Oe !== 19 && Oe !== 20) || (xe = !0);
                  var Pe = new Uint8Array(S, E + ie, ae + ye),
                    Re = { type: Oe, data: Pe };
                  re.push(Re), (se += Pe.byteLength), (ie += ae + ye);
                }
                if (re.length) {
                  var et = this._videoTrack,
                    gt = { units: re, length: se, isKeyframe: xe, dts: fe, cts: j, pts: fe + j };
                  xe && (gt.fileposition = N), et.samples.push(gt), (et.length += se);
                }
              }),
              R
            );
          })(),
          z = (function () {
            function R() {}
            return (
              (R.prototype.destroy = function () {
                (this.onError = null),
                  (this.onMediaInfo = null),
                  (this.onMetaDataArrived = null),
                  (this.onTrackMetadata = null),
                  (this.onDataAvailable = null),
                  (this.onTimedID3Metadata = null),
                  (this.onSMPTE2038Metadata = null),
                  (this.onSCTE35Metadata = null),
                  (this.onPESPrivateData = null),
                  (this.onPESPrivateDataDescriptor = null);
              }),
              R
            );
          })(),
          H = function () {
            this.program_pmt_pid = {};
          };
        (function (R) {
          (R[(R.kMPEG1Audio = 3)] = 'kMPEG1Audio'),
            (R[(R.kMPEG2Audio = 4)] = 'kMPEG2Audio'),
            (R[(R.kPESPrivateData = 6)] = 'kPESPrivateData'),
            (R[(R.kADTSAAC = 15)] = 'kADTSAAC'),
            (R[(R.kLOASAAC = 17)] = 'kLOASAAC'),
            (R[(R.kAC3 = 129)] = 'kAC3'),
            (R[(R.kID3 = 21)] = 'kID3'),
            (R[(R.kSCTE35 = 134)] = 'kSCTE35'),
            (R[(R.kH264 = 27)] = 'kH264'),
            (R[(R.kH265 = 36)] = 'kH265');
        })(C || (C = {}));
        var q,
          F = function () {
            (this.pid_stream_type = {}),
              (this.common_pids = { h264: void 0, h265: void 0, adts_aac: void 0, loas_aac: void 0, opus: void 0, ac3: void 0, mp3: void 0 }),
              (this.pes_private_data_pids = {}),
              (this.timed_id3_pids = {}),
              (this.scte_35_pids = {}),
              (this.smpte2038_pids = {});
          },
          A = function () {},
          k = function () {},
          U = function () {
            (this.slices = []), (this.total_length = 0), (this.expected_length = 0), (this.file_position = 0);
          };
        (function (R) {
          (R[(R.kUnspecified = 0)] = 'kUnspecified'),
            (R[(R.kSliceNonIDR = 1)] = 'kSliceNonIDR'),
            (R[(R.kSliceDPA = 2)] = 'kSliceDPA'),
            (R[(R.kSliceDPB = 3)] = 'kSliceDPB'),
            (R[(R.kSliceDPC = 4)] = 'kSliceDPC'),
            (R[(R.kSliceIDR = 5)] = 'kSliceIDR'),
            (R[(R.kSliceSEI = 6)] = 'kSliceSEI'),
            (R[(R.kSliceSPS = 7)] = 'kSliceSPS'),
            (R[(R.kSlicePPS = 8)] = 'kSlicePPS'),
            (R[(R.kSliceAUD = 9)] = 'kSliceAUD'),
            (R[(R.kEndOfSequence = 10)] = 'kEndOfSequence'),
            (R[(R.kEndOfStream = 11)] = 'kEndOfStream'),
            (R[(R.kFiller = 12)] = 'kFiller'),
            (R[(R.kSPSExt = 13)] = 'kSPSExt'),
            (R[(R.kReserved0 = 14)] = 'kReserved0');
        })(q || (q = {}));
        var X,
          Q,
          W = function () {},
          Y = function (R) {
            var S = R.data.byteLength;
            (this.type = R.type), (this.data = new Uint8Array(4 + S)), new DataView(this.data.buffer).setUint32(0, S), this.data.set(R.data, 4);
          },
          ne = (function () {
            function R(S) {
              (this.TAG = 'H264AnnexBParser'),
                (this.current_startcode_offset_ = 0),
                (this.eof_flag_ = !1),
                (this.data_ = S),
                (this.current_startcode_offset_ = this.findNextStartCodeOffset(0)),
                this.eof_flag_ && s.a.e(this.TAG, 'Could not find H264 startcode until payload end!');
            }
            return (
              (R.prototype.findNextStartCodeOffset = function (S) {
                for (var E = S, p = this.data_; ; ) {
                  if (E + 3 >= p.byteLength) return (this.eof_flag_ = !0), p.byteLength;
                  var P = (p[E + 0] << 24) | (p[E + 1] << 16) | (p[E + 2] << 8) | p[E + 3],
                    N = (p[E + 0] << 16) | (p[E + 1] << 8) | p[E + 2];
                  if (P === 1 || N === 1) return E;
                  E++;
                }
              }),
              (R.prototype.readNextNaluPayload = function () {
                for (var S = this.data_, E = null; E == null && !this.eof_flag_; ) {
                  var p = this.current_startcode_offset_,
                    P = 31 & S[(p += ((S[p] << 24) | (S[p + 1] << 16) | (S[p + 2] << 8) | S[p + 3]) === 1 ? 4 : 3)],
                    N = (128 & S[p]) >>> 7,
                    $ = this.findNextStartCodeOffset(p);
                  if (((this.current_startcode_offset_ = $), !(P >= q.kReserved0) && N === 0)) {
                    var j = S.subarray(p, $);
                    ((E = new W()).type = P), (E.data = j);
                  }
                }
                return E;
              }),
              R
            );
          })(),
          te = (function () {
            function R(S, E, p) {
              var P = 8 + S.byteLength + 1 + 2 + E.byteLength,
                N = !1;
              S[3] !== 66 && S[3] !== 77 && S[3] !== 88 && ((N = !0), (P += 4));
              var $ = (this.data = new Uint8Array(P));
              ($[0] = 1), ($[1] = S[1]), ($[2] = S[2]), ($[3] = S[3]), ($[4] = 255), ($[5] = 225);
              var j = S.byteLength;
              ($[6] = j >>> 8), ($[7] = 255 & j);
              var Z = 8;
              $.set(S, 8), ($[(Z += j)] = 1);
              var J = E.byteLength;
              ($[Z + 1] = J >>> 8),
                ($[Z + 2] = 255 & J),
                $.set(E, Z + 3),
                (Z += 3 + J),
                N && (($[Z] = 252 | p.chroma_format_idc), ($[Z + 1] = 248 | (p.bit_depth_luma - 8)), ($[Z + 2] = 248 | (p.bit_depth_chroma - 8)), ($[Z + 3] = 0), (Z += 4));
            }
            return (
              (R.prototype.getData = function () {
                return this.data;
              }),
              R
            );
          })();
        (function (R) {
          (R[(R.kNull = 0)] = 'kNull'),
            (R[(R.kAACMain = 1)] = 'kAACMain'),
            (R[(R.kAAC_LC = 2)] = 'kAAC_LC'),
            (R[(R.kAAC_SSR = 3)] = 'kAAC_SSR'),
            (R[(R.kAAC_LTP = 4)] = 'kAAC_LTP'),
            (R[(R.kAAC_SBR = 5)] = 'kAAC_SBR'),
            (R[(R.kAAC_Scalable = 6)] = 'kAAC_Scalable'),
            (R[(R.kLayer1 = 32)] = 'kLayer1'),
            (R[(R.kLayer2 = 33)] = 'kLayer2'),
            (R[(R.kLayer3 = 34)] = 'kLayer3');
        })(X || (X = {})),
          (function (R) {
            (R[(R.k96000Hz = 0)] = 'k96000Hz'),
              (R[(R.k88200Hz = 1)] = 'k88200Hz'),
              (R[(R.k64000Hz = 2)] = 'k64000Hz'),
              (R[(R.k48000Hz = 3)] = 'k48000Hz'),
              (R[(R.k44100Hz = 4)] = 'k44100Hz'),
              (R[(R.k32000Hz = 5)] = 'k32000Hz'),
              (R[(R.k24000Hz = 6)] = 'k24000Hz'),
              (R[(R.k22050Hz = 7)] = 'k22050Hz'),
              (R[(R.k16000Hz = 8)] = 'k16000Hz'),
              (R[(R.k12000Hz = 9)] = 'k12000Hz'),
              (R[(R.k11025Hz = 10)] = 'k11025Hz'),
              (R[(R.k8000Hz = 11)] = 'k8000Hz'),
              (R[(R.k7350Hz = 12)] = 'k7350Hz');
          })(Q || (Q = {}));
        var K,
          ee,
          oe = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350],
          de =
            ((K = function (R, S) {
              return (K =
                Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array &&
                  function (E, p) {
                    E.__proto__ = p;
                  }) ||
                function (E, p) {
                  for (var P in p) p.hasOwnProperty(P) && (E[P] = p[P]);
                })(R, S);
            }),
            function (R, S) {
              function E() {
                this.constructor = R;
              }
              K(R, S), (R.prototype = S === null ? Object.create(S) : ((E.prototype = S.prototype), new E()));
            }),
          me = function () {},
          pe = (function (R) {
            function S() {
              return (R !== null && R.apply(this, arguments)) || this;
            }
            return de(S, R), S;
          })(me),
          ge = (function () {
            function R(S) {
              (this.TAG = 'AACADTSParser'),
                (this.data_ = S),
                (this.current_syncword_offset_ = this.findNextSyncwordOffset(0)),
                this.eof_flag_ && s.a.e(this.TAG, 'Could not found ADTS syncword until payload end');
            }
            return (
              (R.prototype.findNextSyncwordOffset = function (S) {
                for (var E = S, p = this.data_; ; ) {
                  if (E + 7 >= p.byteLength) return (this.eof_flag_ = !0), p.byteLength;
                  if (((p[E + 0] << 8) | p[E + 1]) >>> 4 === 4095) return E;
                  E++;
                }
              }),
              (R.prototype.readNextAACFrame = function () {
                for (var S = this.data_, E = null; E == null && !this.eof_flag_; ) {
                  var p = this.current_syncword_offset_,
                    P = (8 & S[p + 1]) >>> 3,
                    N = (6 & S[p + 1]) >>> 1,
                    $ = 1 & S[p + 1],
                    j = (192 & S[p + 2]) >>> 6,
                    Z = (60 & S[p + 2]) >>> 2,
                    J = ((1 & S[p + 2]) << 2) | ((192 & S[p + 3]) >>> 6),
                    re = ((3 & S[p + 3]) << 11) | (S[p + 4] << 3) | ((224 & S[p + 5]) >>> 5);
                  if ((S[p + 6], p + re > this.data_.byteLength)) {
                    (this.eof_flag_ = !0), (this.has_last_incomplete_data = !0);
                    break;
                  }
                  var se = $ === 1 ? 7 : 9,
                    ie = re - se;
                  p += se;
                  var ae = this.findNextSyncwordOffset(p + ie);
                  if (((this.current_syncword_offset_ = ae), (P === 0 || P === 1) && N === 0)) {
                    var fe = S.subarray(p, p + ie);
                    ((E = new me()).audio_object_type = j + 1), (E.sampling_freq_index = Z), (E.sampling_frequency = oe[Z]), (E.channel_config = J), (E.data = fe);
                  }
                }
                return E;
              }),
              (R.prototype.hasIncompleteData = function () {
                return this.has_last_incomplete_data;
              }),
              (R.prototype.getIncompleteData = function () {
                return this.has_last_incomplete_data ? this.data_.subarray(this.current_syncword_offset_) : null;
              }),
              R
            );
          })(),
          Le = (function () {
            function R(S) {
              (this.TAG = 'AACLOASParser'),
                (this.data_ = S),
                (this.current_syncword_offset_ = this.findNextSyncwordOffset(0)),
                this.eof_flag_ && s.a.e(this.TAG, 'Could not found LOAS syncword until payload end');
            }
            return (
              (R.prototype.findNextSyncwordOffset = function (S) {
                for (var E = S, p = this.data_; ; ) {
                  if (E + 1 >= p.byteLength) return (this.eof_flag_ = !0), p.byteLength;
                  if (((p[E + 0] << 3) | (p[E + 1] >>> 5)) === 695) return E;
                  E++;
                }
              }),
              (R.prototype.getLATMValue = function (S) {
                for (var E = S.readBits(2), p = 0, P = 0; P <= E; P++) (p <<= 8), (p |= S.readByte());
                return p;
              }),
              (R.prototype.readNextAACFrame = function (S) {
                for (var E = this.data_, p = null; p == null && !this.eof_flag_; ) {
                  var P = this.current_syncword_offset_,
                    N = ((31 & E[P + 1]) << 8) | E[P + 2];
                  if (P + 3 + N >= this.data_.byteLength) {
                    (this.eof_flag_ = !0), (this.has_last_incomplete_data = !0);
                    break;
                  }
                  var $ = new b(E.subarray(P + 3, P + 3 + N)),
                    j = null;
                  if ($.readBool()) {
                    if (S == null) {
                      s.a.w(this.TAG, 'StreamMuxConfig Missing'), (this.current_syncword_offset_ = this.findNextSyncwordOffset(P + 3 + N)), $.destroy();
                      continue;
                    }
                    j = S;
                  } else {
                    var Z = $.readBool();
                    if (Z && $.readBool()) {
                      s.a.e(this.TAG, 'audioMuxVersionA is Not Supported'), $.destroy();
                      break;
                    }
                    if ((Z && this.getLATMValue($), !$.readBool())) {
                      s.a.e(this.TAG, 'allStreamsSameTimeFraming zero is Not Supported'), $.destroy();
                      break;
                    }
                    if ($.readBits(6) !== 0) {
                      s.a.e(this.TAG, 'more than 2 numSubFrames Not Supported'), $.destroy();
                      break;
                    }
                    if ($.readBits(4) !== 0) {
                      s.a.e(this.TAG, 'more than 2 numProgram Not Supported'), $.destroy();
                      break;
                    }
                    if ($.readBits(3) !== 0) {
                      s.a.e(this.TAG, 'more than 2 numLayer Not Supported'), $.destroy();
                      break;
                    }
                    var J = Z ? this.getLATMValue($) : 0,
                      re = $.readBits(5);
                    J -= 5;
                    var se = $.readBits(4);
                    J -= 4;
                    var ie = $.readBits(4);
                    (J -= 4), $.readBits(3), (J -= 3) > 0 && $.readBits(J);
                    var ae = $.readBits(3);
                    if (ae !== 0) {
                      s.a.e(this.TAG, 'frameLengthType = ' + ae + '. Only frameLengthType = 0 Supported'), $.destroy();
                      break;
                    }
                    $.readByte();
                    var fe = $.readBool();
                    if (fe)
                      if (Z) this.getLATMValue($);
                      else {
                        for (var xe = 0; ; ) {
                          xe <<= 8;
                          var ye = $.readBool();
                          if (((xe += $.readByte()), !ye)) break;
                        }
                        console.log(xe);
                      }
                    $.readBool() && $.readByte(),
                      ((j = new pe()).audio_object_type = re),
                      (j.sampling_freq_index = se),
                      (j.sampling_frequency = oe[j.sampling_freq_index]),
                      (j.channel_config = ie),
                      (j.other_data_present = fe);
                  }
                  for (var Oe = 0; ; ) {
                    var Pe = $.readByte();
                    if (((Oe += Pe), Pe !== 255)) break;
                  }
                  for (var Re = new Uint8Array(Oe), et = 0; et < Oe; et++) Re[et] = $.readByte();
                  ((p = new pe()).audio_object_type = j.audio_object_type),
                    (p.sampling_freq_index = j.sampling_freq_index),
                    (p.sampling_frequency = oe[j.sampling_freq_index]),
                    (p.channel_config = j.channel_config),
                    (p.other_data_present = j.other_data_present),
                    (p.data = Re),
                    (this.current_syncword_offset_ = this.findNextSyncwordOffset(P + 3 + N));
                }
                return p;
              }),
              (R.prototype.hasIncompleteData = function () {
                return this.has_last_incomplete_data;
              }),
              (R.prototype.getIncompleteData = function () {
                return this.has_last_incomplete_data ? this.data_.subarray(this.current_syncword_offset_) : null;
              }),
              R
            );
          })(),
          Me = function (R) {
            var S = null,
              E = R.audio_object_type,
              p = R.audio_object_type,
              P = R.sampling_freq_index,
              N = R.channel_config,
              $ = 0,
              j = navigator.userAgent.toLowerCase();
            j.indexOf('firefox') !== -1
              ? P >= 6
                ? ((p = 5), (S = new Array(4)), ($ = P - 3))
                : ((p = 2), (S = new Array(2)), ($ = P))
              : j.indexOf('android') !== -1
              ? ((p = 2), (S = new Array(2)), ($ = P))
              : ((p = 5), ($ = P), (S = new Array(4)), P >= 6 ? ($ = P - 3) : N === 1 && ((p = 2), (S = new Array(2)), ($ = P))),
              (S[0] = p << 3),
              (S[0] |= (15 & P) >>> 1),
              (S[1] = (15 & P) << 7),
              (S[1] |= (15 & N) << 3),
              p === 5 && ((S[1] |= (15 & $) >>> 1), (S[2] = (1 & $) << 7), (S[2] |= 8), (S[3] = 0)),
              (this.config = S),
              (this.sampling_rate = oe[P]),
              (this.channel_count = N),
              (this.codec_mimetype = 'mp4a.40.' + p),
              (this.original_codec_mimetype = 'mp4a.40.' + E);
          },
          ze = function () {},
          Ge = function () {};
        (function (R) {
          (R[(R.kSpliceNull = 0)] = 'kSpliceNull'),
            (R[(R.kSpliceSchedule = 4)] = 'kSpliceSchedule'),
            (R[(R.kSpliceInsert = 5)] = 'kSpliceInsert'),
            (R[(R.kTimeSignal = 6)] = 'kTimeSignal'),
            (R[(R.kBandwidthReservation = 7)] = 'kBandwidthReservation'),
            (R[(R.kPrivateCommand = 255)] = 'kPrivateCommand');
        })(ee || (ee = {}));
        var Te,
          Ne = function (R) {
            var S = R.readBool();
            return S ? (R.readBits(6), { time_specified_flag: S, pts_time: 4 * R.readBits(31) + R.readBits(2) }) : (R.readBits(7), { time_specified_flag: S });
          },
          we = function (R) {
            var S = R.readBool();
            return R.readBits(6), { auto_return: S, duration: 4 * R.readBits(31) + R.readBits(2) };
          },
          Fe = function (R, S) {
            var E = S.readBits(8);
            return R ? { component_tag: E } : { component_tag: E, splice_time: Ne(S) };
          },
          ft = function (R) {
            return { component_tag: R.readBits(8), utc_splice_time: R.readBits(32) };
          },
          yt = function (R) {
            var S = R.readBits(32),
              E = R.readBool();
            R.readBits(7);
            var p = { splice_event_id: S, splice_event_cancel_indicator: E };
            if (E) return p;
            if (((p.out_of_network_indicator = R.readBool()), (p.program_splice_flag = R.readBool()), (p.duration_flag = R.readBool()), R.readBits(5), p.program_splice_flag))
              p.utc_splice_time = R.readBits(32);
            else {
              (p.component_count = R.readBits(8)), (p.components = []);
              for (var P = 0; P < p.component_count; P++) p.components.push(ft(R));
            }
            return p.duration_flag && (p.break_duration = we(R)), (p.unique_program_id = R.readBits(16)), (p.avail_num = R.readBits(8)), (p.avails_expected = R.readBits(8)), p;
          },
          je = function (R, S, E, p) {
            return { descriptor_tag: R, descriptor_length: S, identifier: E, provider_avail_id: p.readBits(32) };
          },
          tt = function (R, S, E, p) {
            var P = p.readBits(8),
              N = p.readBits(3);
            p.readBits(5);
            for (var $ = '', j = 0; j < N; j++) $ += String.fromCharCode(p.readBits(8));
            return { descriptor_tag: R, descriptor_length: S, identifier: E, preroll: P, dtmf_count: N, DTMF_char: $ };
          },
          Rt = function (R) {
            var S = R.readBits(8);
            return R.readBits(7), { component_tag: S, pts_offset: 4 * R.readBits(31) + R.readBits(2) };
          },
          jt = function (R, S, E, p) {
            var P = p.readBits(32),
              N = p.readBool();
            p.readBits(7);
            var $ = { descriptor_tag: R, descriptor_length: S, identifier: E, segmentation_event_id: P, segmentation_event_cancel_indicator: N };
            if (N) return $;
            if (
              (($.program_segmentation_flag = p.readBool()),
              ($.segmentation_duration_flag = p.readBool()),
              ($.delivery_not_restricted_flag = p.readBool()),
              $.delivery_not_restricted_flag
                ? p.readBits(5)
                : (($.web_delivery_allowed_flag = p.readBool()), ($.no_regional_blackout_flag = p.readBool()), ($.archive_allowed_flag = p.readBool()), ($.device_restrictions = p.readBits(2))),
              !$.program_segmentation_flag)
            ) {
              ($.component_count = p.readBits(8)), ($.components = []);
              for (var j = 0; j < $.component_count; j++) $.components.push(Rt(p));
            }
            $.segmentation_duration_flag && ($.segmentation_duration = p.readBits(40)), ($.segmentation_upid_type = p.readBits(8)), ($.segmentation_upid_length = p.readBits(8));
            var Z = new Uint8Array($.segmentation_upid_length);
            for (j = 0; j < $.segmentation_upid_length; j++) Z[j] = p.readBits(8);
            return (
              ($.segmentation_upid = Z.buffer),
              ($.segmentation_type_id = p.readBits(8)),
              ($.segment_num = p.readBits(8)),
              ($.segments_expected = p.readBits(8)),
              ($.segmentation_type_id !== 52 && $.segmentation_type_id !== 54 && $.segmentation_type_id !== 56 && $.segmentation_type_id !== 58) ||
                (($.sub_segment_num = p.readBits(8)), ($.sub_segments_expected = p.readBits(8))),
              $
            );
          },
          $t = function (R, S, E, p) {
            return { descriptor_tag: R, descriptor_length: S, identifier: E, TAI_seconds: p.readBits(48), TAI_ns: p.readBits(32), UTC_offset: p.readBits(16) };
          },
          kt = function (R) {
            return {
              component_tag: R.readBits(8),
              ISO_code: String.fromCharCode(R.readBits(8), R.readBits(8), R.readBits(8)),
              Bit_Stream_Mode: R.readBits(3),
              Num_Channels: R.readBits(4),
              Full_Srvc_Audio: R.readBool(),
            };
          },
          _t = function (R, S, E, p) {
            for (var P = p.readBits(4), N = [], $ = 0; $ < P; $++) N.push(kt(p));
            return { descriptor_tag: R, descriptor_length: S, identifier: E, audio_count: P, components: N };
          },
          St = function (R) {
            var S = new b(R),
              E = S.readBits(8),
              p = S.readBool(),
              P = S.readBool();
            S.readBits(2);
            var N = S.readBits(12),
              $ = S.readBits(8),
              j = S.readBool(),
              Z = S.readBits(6),
              J = 4 * S.readBits(31) + S.readBits(2),
              re = S.readBits(8),
              se = S.readBits(12),
              ie = S.readBits(12),
              ae = S.readBits(8),
              fe = null;
            ae === ee.kSpliceNull
              ? (fe = {})
              : ae === ee.kSpliceSchedule
              ? (fe = (function (nt) {
                  for (var Lt = nt.readBits(8), Qt = [], st = 0; st < Lt; st++) Qt.push(yt(nt));
                  return { splice_count: Lt, events: Qt };
                })(S))
              : ae === ee.kSpliceInsert
              ? (fe = (function (nt) {
                  var Lt = nt.readBits(32),
                    Qt = nt.readBool();
                  nt.readBits(7);
                  var st = { splice_event_id: Lt, splice_event_cancel_indicator: Qt };
                  if (Qt) return st;
                  if (
                    ((st.out_of_network_indicator = nt.readBool()),
                    (st.program_splice_flag = nt.readBool()),
                    (st.duration_flag = nt.readBool()),
                    (st.splice_immediate_flag = nt.readBool()),
                    nt.readBits(4),
                    st.program_splice_flag && !st.splice_immediate_flag && (st.splice_time = Ne(nt)),
                    !st.program_splice_flag)
                  ) {
                    (st.component_count = nt.readBits(8)), (st.components = []);
                    for (var Et = 0; Et < st.component_count; Et++) st.components.push(Fe(st.splice_immediate_flag, nt));
                  }
                  return st.duration_flag && (st.break_duration = we(nt)), (st.unique_program_id = nt.readBits(16)), (st.avail_num = nt.readBits(8)), (st.avails_expected = nt.readBits(8)), st;
                })(S))
              : ae === ee.kTimeSignal
              ? (fe = (function (nt) {
                  return { splice_time: Ne(nt) };
                })(S))
              : ae === ee.kBandwidthReservation
              ? (fe = {})
              : ae === ee.kPrivateCommand
              ? (fe = (function (nt, Lt) {
                  for (var Qt = String.fromCharCode(Lt.readBits(8), Lt.readBits(8), Lt.readBits(8), Lt.readBits(8)), st = new Uint8Array(nt - 4), Et = 0; Et < nt - 4; Et++) st[Et] = Lt.readBits(8);
                  return { identifier: Qt, private_data: st.buffer };
                })(ie, S))
              : S.readBits(8 * ie);
            for (var xe = [], ye = S.readBits(16), Oe = 0; Oe < ye; ) {
              var Pe = S.readBits(8),
                Re = S.readBits(8),
                et = String.fromCharCode(S.readBits(8), S.readBits(8), S.readBits(8), S.readBits(8));
              Pe === 0
                ? xe.push(je(Pe, Re, et, S))
                : Pe === 1
                ? xe.push(tt(Pe, Re, et, S))
                : Pe === 2
                ? xe.push(jt(Pe, Re, et, S))
                : Pe === 3
                ? xe.push($t(Pe, Re, et, S))
                : Pe === 4
                ? xe.push(_t(Pe, Re, et, S))
                : S.readBits(8 * (Re - 4)),
                (Oe += 2 + Re);
            }
            var gt = {
              table_id: E,
              section_syntax_indicator: p,
              private_indicator: P,
              section_length: N,
              protocol_version: $,
              encrypted_packet: j,
              encryption_algorithm: Z,
              pts_adjustment: J,
              cw_index: re,
              tier: se,
              splice_command_length: ie,
              splice_command_type: ae,
              splice_command: fe,
              descriptor_loop_length: ye,
              splice_descriptors: xe,
              E_CRC32: j ? S.readBits(32) : void 0,
              CRC32: S.readBits(32),
            };
            if (ae === ee.kSpliceInsert) {
              var Ae = fe;
              if (Ae.splice_event_cancel_indicator) return { splice_command_type: ae, detail: gt, data: R };
              if (Ae.program_splice_flag && !Ae.splice_immediate_flag) {
                var We = Ae.duration_flag ? Ae.break_duration.auto_return : void 0,
                  ot = Ae.duration_flag ? Ae.break_duration.duration / 90 : void 0;
                return Ae.splice_time.time_specified_flag
                  ? { splice_command_type: ae, pts: (J + Ae.splice_time.pts_time) % Math.pow(2, 33), auto_return: We, duraiton: ot, detail: gt, data: R }
                  : { splice_command_type: ae, auto_return: We, duraiton: ot, detail: gt, data: R };
              }
              return {
                splice_command_type: ae,
                auto_return: (We = Ae.duration_flag ? Ae.break_duration.auto_return : void 0),
                duraiton: (ot = Ae.duration_flag ? Ae.break_duration.duration / 90 : void 0),
                detail: gt,
                data: R,
              };
            }
            if (ae === ee.kTimeSignal) {
              var Qe = fe;
              return Qe.splice_time.time_specified_flag
                ? { splice_command_type: ae, pts: (J + Qe.splice_time.pts_time) % Math.pow(2, 33), detail: gt, data: R }
                : { splice_command_type: ae, detail: gt, data: R };
            }
            return { splice_command_type: ae, detail: gt, data: R };
          };
        (function (R) {
          (R[(R.kSliceIDR_W_RADL = 19)] = 'kSliceIDR_W_RADL'),
            (R[(R.kSliceIDR_N_LP = 20)] = 'kSliceIDR_N_LP'),
            (R[(R.kSliceCRA_NUT = 21)] = 'kSliceCRA_NUT'),
            (R[(R.kSliceVPS = 32)] = 'kSliceVPS'),
            (R[(R.kSliceSPS = 33)] = 'kSliceSPS'),
            (R[(R.kSlicePPS = 34)] = 'kSlicePPS'),
            (R[(R.kSliceAUD = 35)] = 'kSliceAUD');
        })(Te || (Te = {}));
        var Mt = function () {},
          Bt = function (R) {
            var S = R.data.byteLength;
            (this.type = R.type), (this.data = new Uint8Array(4 + S)), new DataView(this.data.buffer).setUint32(0, S), this.data.set(R.data, 4);
          },
          Ye = (function () {
            function R(S) {
              (this.TAG = 'H265AnnexBParser'),
                (this.current_startcode_offset_ = 0),
                (this.eof_flag_ = !1),
                (this.data_ = S),
                (this.current_startcode_offset_ = this.findNextStartCodeOffset(0)),
                this.eof_flag_ && s.a.e(this.TAG, 'Could not find H265 startcode until payload end!');
            }
            return (
              (R.prototype.findNextStartCodeOffset = function (S) {
                for (var E = S, p = this.data_; ; ) {
                  if (E + 3 >= p.byteLength) return (this.eof_flag_ = !0), p.byteLength;
                  var P = (p[E + 0] << 24) | (p[E + 1] << 16) | (p[E + 2] << 8) | p[E + 3],
                    N = (p[E + 0] << 16) | (p[E + 1] << 8) | p[E + 2];
                  if (P === 1 || N === 1) return E;
                  E++;
                }
              }),
              (R.prototype.readNextNaluPayload = function () {
                for (var S = this.data_, E = null; E == null && !this.eof_flag_; ) {
                  var p = this.current_startcode_offset_,
                    P = (S[(p += ((S[p] << 24) | (S[p + 1] << 16) | (S[p + 2] << 8) | S[p + 3]) === 1 ? 4 : 3)] >> 1) & 63,
                    N = (128 & S[p]) >>> 7,
                    $ = this.findNextStartCodeOffset(p);
                  if (((this.current_startcode_offset_ = $), N === 0)) {
                    var j = S.subarray(p, $);
                    ((E = new Mt()).type = P), (E.data = j);
                  }
                }
                return E;
              }),
              R
            );
          })(),
          it = (function () {
            function R(S, E, p, P) {
              var N = 23 + (5 + S.byteLength) + (5 + E.byteLength) + (5 + p.byteLength),
                $ = (this.data = new Uint8Array(N));
              ($[0] = 1),
                ($[1] = ((3 & P.general_profile_space) << 6) | ((P.general_tier_flag ? 1 : 0) << 5) | (31 & P.general_profile_idc)),
                ($[2] = P.general_profile_compatibility_flags_1),
                ($[3] = P.general_profile_compatibility_flags_2),
                ($[4] = P.general_profile_compatibility_flags_3),
                ($[5] = P.general_profile_compatibility_flags_4),
                ($[6] = P.general_constraint_indicator_flags_1),
                ($[7] = P.general_constraint_indicator_flags_2),
                ($[8] = P.general_constraint_indicator_flags_3),
                ($[9] = P.general_constraint_indicator_flags_4),
                ($[10] = P.general_constraint_indicator_flags_5),
                ($[11] = P.general_constraint_indicator_flags_6),
                ($[12] = P.general_level_idc),
                ($[13] = 240 | ((3840 & P.min_spatial_segmentation_idc) >> 8)),
                ($[14] = 255 & P.min_spatial_segmentation_idc),
                ($[15] = 252 | (3 & P.parallelismType)),
                ($[16] = 252 | (3 & P.chroma_format_idc)),
                ($[17] = 248 | (7 & P.bit_depth_luma_minus8)),
                ($[18] = 248 | (7 & P.bit_depth_chroma_minus8)),
                ($[19] = 0),
                ($[20] = 0),
                ($[21] = ((3 & P.constant_frame_rate) << 6) | ((7 & P.num_temporal_layers) << 3) | ((P.temporal_id_nested ? 1 : 0) << 2) | 3),
                ($[22] = 3),
                ($[23] = 128 | Te.kSliceVPS),
                ($[24] = 0),
                ($[25] = 1),
                ($[26] = (65280 & S.byteLength) >> 8),
                ($[27] = (255 & S.byteLength) >> 0),
                $.set(S, 28),
                ($[23 + (5 + S.byteLength) + 0] = 128 | Te.kSliceSPS),
                ($[23 + (5 + S.byteLength) + 1] = 0),
                ($[23 + (5 + S.byteLength) + 2] = 1),
                ($[23 + (5 + S.byteLength) + 3] = (65280 & E.byteLength) >> 8),
                ($[23 + (5 + S.byteLength) + 4] = (255 & E.byteLength) >> 0),
                $.set(E, 23 + (5 + S.byteLength) + 5),
                ($[23 + (5 + S.byteLength + 5 + E.byteLength) + 0] = 128 | Te.kSlicePPS),
                ($[23 + (5 + S.byteLength + 5 + E.byteLength) + 1] = 0),
                ($[23 + (5 + S.byteLength + 5 + E.byteLength) + 2] = 1),
                ($[23 + (5 + S.byteLength + 5 + E.byteLength) + 3] = (65280 & p.byteLength) >> 8),
                ($[23 + (5 + S.byteLength + 5 + E.byteLength) + 4] = (255 & p.byteLength) >> 0),
                $.set(p, 23 + (5 + S.byteLength + 5 + E.byteLength) + 5);
            }
            return (
              (R.prototype.getData = function () {
                return this.data;
              }),
              R
            );
          })(),
          vt = function () {},
          ct = function () {},
          At = function () {},
          Xt = [
            [
              64, 64, 80, 80, 96, 96, 112, 112, 128, 128, 160, 160, 192, 192, 224, 224, 256, 256, 320, 320, 384, 384, 448, 448, 512, 512, 640, 640, 768, 768, 896, 896, 1024, 1024, 1152, 1152, 1280,
              1280,
            ],
            [
              69, 70, 87, 88, 104, 105, 121, 122, 139, 140, 174, 175, 208, 209, 243, 244, 278, 279, 348, 349, 417, 418, 487, 488, 557, 558, 696, 697, 835, 836, 975, 976, 1114, 1115, 1253, 1254, 1393,
              1394,
            ],
            [
              96, 96, 120, 120, 144, 144, 168, 168, 192, 192, 240, 240, 288, 288, 336, 336, 384, 384, 480, 480, 576, 576, 672, 672, 768, 768, 960, 960, 1152, 1152, 1344, 1344, 1536, 1536, 1728, 1728,
              1920, 1920,
            ],
          ],
          un = (function () {
            function R(S) {
              (this.TAG = 'AC3Parser'),
                (this.data_ = S),
                (this.current_syncword_offset_ = this.findNextSyncwordOffset(0)),
                this.eof_flag_ && s.a.e(this.TAG, 'Could not found AC3 syncword until payload end');
            }
            return (
              (R.prototype.findNextSyncwordOffset = function (S) {
                for (var E = S, p = this.data_; ; ) {
                  if (E + 7 >= p.byteLength) return (this.eof_flag_ = !0), p.byteLength;
                  if (((p[E + 0] << 8) | (p[E + 1] << 0)) === 2935) return E;
                  E++;
                }
              }),
              (R.prototype.readNextAC3Frame = function () {
                for (var S = this.data_, E = null; E == null && !this.eof_flag_; ) {
                  var p = this.current_syncword_offset_,
                    P = S[p + 4] >> 6,
                    N = [48e3, 44200, 33e3][P],
                    $ = 63 & S[p + 4],
                    j = 2 * Xt[P][$];
                  if (p + j > this.data_.byteLength) {
                    (this.eof_flag_ = !0), (this.has_last_incomplete_data = !0);
                    break;
                  }
                  var Z = this.findNextSyncwordOffset(p + j);
                  this.current_syncword_offset_ = Z;
                  var J = S[p + 5] >> 3,
                    re = 7 & S[p + 5],
                    se = S[p + 6] >> 5,
                    ie = 0;
                  1 & se && se !== 1 && (ie += 2), 4 & se && (ie += 2), se === 2 && (ie += 2);
                  var ae = (((S[p + 6] << 8) | (S[p + 7] << 0)) >> (12 - ie)) & 1,
                    fe = [2, 1, 2, 3, 3, 4, 4, 5][se] + ae;
                  ((E = new At()).sampling_frequency = N),
                    (E.channel_count = fe),
                    (E.channel_mode = se),
                    (E.bit_stream_identification = J),
                    (E.low_frequency_effects_channel_on = ae),
                    (E.bit_stream_mode = re),
                    (E.frame_size_code = $),
                    (E.data = S.subarray(p, p + j));
                }
                return E;
              }),
              (R.prototype.hasIncompleteData = function () {
                return this.has_last_incomplete_data;
              }),
              (R.prototype.getIncompleteData = function () {
                return this.has_last_incomplete_data ? this.data_.subarray(this.current_syncword_offset_) : null;
              }),
              R
            );
          })(),
          yn = function (R) {
            var S;
            (S = [
              (R.sampling_rate_code << 6) | (R.bit_stream_identification << 1) | (R.bit_stream_mode >> 2),
              ((3 & R.bit_stream_mode) << 6) | (R.channel_mode << 3) | (R.low_frequency_effects_channel_on << 2) | (R.frame_size_code >> 4),
              (R.frame_size_code << 4) & 224,
            ]),
              (this.config = S),
              (this.sampling_rate = R.sampling_frequency),
              (this.bit_stream_identification = R.bit_stream_identification),
              (this.bit_stream_mode = R.bit_stream_mode),
              (this.low_frequency_effects_channel_on = R.low_frequency_effects_channel_on),
              (this.channel_count = R.channel_count),
              (this.channel_mode = R.channel_mode),
              (this.codec_mimetype = 'ac-3'),
              (this.original_codec_mimetype = 'ac-3');
          },
          _n = (function () {
            var R = function (S, E) {
              return (R =
                Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array &&
                  function (p, P) {
                    p.__proto__ = P;
                  }) ||
                function (p, P) {
                  for (var N in P) P.hasOwnProperty(N) && (p[N] = P[N]);
                })(S, E);
            };
            return function (S, E) {
              function p() {
                this.constructor = S;
              }
              R(S, E), (S.prototype = E === null ? Object.create(E) : ((p.prototype = E.prototype), new p()));
            };
          })(),
          bt = function () {
            return (bt =
              Object.assign ||
              function (R) {
                for (var S, E = 1, p = arguments.length; E < p; E++) for (var P in (S = arguments[E])) Object.prototype.hasOwnProperty.call(S, P) && (R[P] = S[P]);
                return R;
              }).apply(this, arguments);
          },
          tn = (function (R) {
            function S(E, p) {
              var P = R.call(this) || this;
              return (
                (P.TAG = 'TSDemuxer'),
                (P.first_parse_ = !0),
                (P.media_info_ = new u.a()),
                (P.timescale_ = 90),
                (P.duration_ = 0),
                (P.current_pmt_pid_ = -1),
                (P.program_pmt_map_ = {}),
                (P.pes_slice_queues_ = {}),
                (P.section_slice_queues_ = {}),
                (P.video_metadata_ = { vps: void 0, sps: void 0, pps: void 0, details: void 0 }),
                (P.audio_metadata_ = { codec: void 0, audio_object_type: void 0, sampling_freq_index: void 0, sampling_frequency: void 0, channel_config: void 0 }),
                (P.aac_last_sample_pts_ = void 0),
                (P.aac_last_incomplete_data_ = null),
                (P.has_video_ = !1),
                (P.has_audio_ = !1),
                (P.video_init_segment_dispatched_ = !1),
                (P.audio_init_segment_dispatched_ = !1),
                (P.video_metadata_changed_ = !1),
                (P.audio_metadata_changed_ = !1),
                (P.loas_previous_frame = null),
                (P.video_track_ = { type: 'video', id: 1, sequenceNumber: 0, samples: [], length: 0 }),
                (P.audio_track_ = { type: 'audio', id: 2, sequenceNumber: 0, samples: [], length: 0 }),
                (P.ts_packet_size_ = E.ts_packet_size),
                (P.sync_offset_ = E.sync_offset),
                (P.config_ = p),
                P
              );
            }
            return (
              _n(S, R),
              (S.prototype.destroy = function () {
                (this.media_info_ = null),
                  (this.pes_slice_queues_ = null),
                  (this.section_slice_queues_ = null),
                  (this.video_metadata_ = null),
                  (this.audio_metadata_ = null),
                  (this.aac_last_incomplete_data_ = null),
                  (this.video_track_ = null),
                  (this.audio_track_ = null),
                  R.prototype.destroy.call(this);
              }),
              (S.probe = function (E) {
                var p = new Uint8Array(E),
                  P = -1,
                  N = 188;
                if (p.byteLength <= 3 * N) return { needMoreData: !0 };
                for (; P === -1; ) {
                  for (var $ = Math.min(1e3, p.byteLength - 3 * N), j = 0; j < $; ) {
                    if (p[j] === 71 && p[j + N] === 71 && p[j + 2 * N] === 71) {
                      P = j;
                      break;
                    }
                    j++;
                  }
                  if (P === -1)
                    if (N === 188) N = 192;
                    else {
                      if (N !== 192) break;
                      N = 204;
                    }
                }
                return P === -1
                  ? { match: !1 }
                  : (N === 192 && P >= 4 ? (s.a.v('TSDemuxer', 'ts_packet_size = 192, m2ts mode'), (P -= 4)) : N === 204 && s.a.v('TSDemuxer', 'ts_packet_size = 204, RS encoded MPEG2-TS stream'),
                    { match: !0, consumed: 0, ts_packet_size: N, sync_offset: P });
              }),
              (S.prototype.bindDataSource = function (E) {
                return (E.onDataArrival = this.parseChunks.bind(this)), this;
              }),
              (S.prototype.resetMediaInfo = function () {
                this.media_info_ = new u.a();
              }),
              (S.prototype.parseChunks = function (E, p) {
                if (!(this.onError && this.onMediaInfo && this.onTrackMetadata && this.onDataAvailable))
                  throw new h.a('onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified');
                var P = 0;
                for (this.first_parse_ && ((this.first_parse_ = !1), (P = this.sync_offset_)); P + this.ts_packet_size_ <= E.byteLength; ) {
                  var N = p + P;
                  this.ts_packet_size_ === 192 && (P += 4);
                  var $ = new Uint8Array(E, P, 188),
                    j = $[0];
                  if (j !== 71) {
                    s.a.e(this.TAG, 'sync_byte = ' + j + ', not 0x47');
                    break;
                  }
                  var Z = (64 & $[1]) >>> 6,
                    J = ($[1], ((31 & $[1]) << 8) | $[2]),
                    re = (48 & $[3]) >>> 4,
                    se = 15 & $[3],
                    ie = {},
                    ae = 4;
                  if (re == 2 || re == 3) {
                    var fe = $[4];
                    if (5 + fe === 188) {
                      (P += 188), this.ts_packet_size_ === 204 && (P += 16);
                      continue;
                    }
                    fe > 0 && (ie = this.parseAdaptationField(E, P + 4, 1 + fe)), (ae = 5 + fe);
                  }
                  if (re == 1 || re == 3) {
                    if (J === 0 || J === this.current_pmt_pid_ || (this.pmt_ != null && this.pmt_.pid_stream_type[J] === C.kSCTE35)) {
                      var xe = 188 - ae;
                      this.handleSectionSlice(E, P + ae, xe, {
                        pid: J,
                        file_position: N,
                        payload_unit_start_indicator: Z,
                        continuity_conunter: se,
                        random_access_indicator: ie.random_access_indicator,
                      });
                    } else if (this.pmt_ != null && this.pmt_.pid_stream_type[J] != null) {
                      xe = 188 - ae;
                      var ye = this.pmt_.pid_stream_type[J];
                      (J !== this.pmt_.common_pids.h264 &&
                        J !== this.pmt_.common_pids.h265 &&
                        J !== this.pmt_.common_pids.adts_aac &&
                        J !== this.pmt_.common_pids.loas_aac &&
                        J !== this.pmt_.common_pids.ac3 &&
                        J !== this.pmt_.common_pids.opus &&
                        J !== this.pmt_.common_pids.mp3 &&
                        this.pmt_.pes_private_data_pids[J] !== !0 &&
                        this.pmt_.timed_id3_pids[J] !== !0) ||
                        this.handlePESSlice(E, P + ae, xe, {
                          pid: J,
                          stream_type: ye,
                          file_position: N,
                          payload_unit_start_indicator: Z,
                          continuity_conunter: se,
                          random_access_indicator: ie.random_access_indicator,
                        });
                    }
                  }
                  (P += 188), this.ts_packet_size_ === 204 && (P += 16);
                }
                return this.dispatchAudioVideoMediaSegment(), P;
              }),
              (S.prototype.parseAdaptationField = function (E, p, P) {
                var N = new Uint8Array(E, p, P),
                  $ = N[0];
                return $ > 0
                  ? $ > 183
                    ? (s.a.w(this.TAG, 'Illegal adaptation_field_length: ' + $), {})
                    : { discontinuity_indicator: (128 & N[1]) >>> 7, random_access_indicator: (64 & N[1]) >>> 6, elementary_stream_priority_indicator: (32 & N[1]) >>> 5 }
                  : {};
              }),
              (S.prototype.handleSectionSlice = function (E, p, P, N) {
                var $ = new Uint8Array(E, p, P),
                  j = this.section_slice_queues_[N.pid];
                if (N.payload_unit_start_indicator) {
                  var Z = $[0];
                  if (j != null && j.total_length !== 0) {
                    var J = new Uint8Array(E, p + 1, Math.min(P, Z));
                    j.slices.push(J), (j.total_length += J.byteLength), j.total_length === j.expected_length ? this.emitSectionSlices(j, N) : this.clearSlices(j, N);
                  }
                  for (var re = 1 + Z; re < $.byteLength && $[re + 0] !== 255; ) {
                    var se = ((15 & $[re + 1]) << 8) | $[re + 2];
                    (this.section_slice_queues_[N.pid] = new U()),
                      ((j = this.section_slice_queues_[N.pid]).expected_length = se + 3),
                      (j.file_position = N.file_position),
                      (j.random_access_indicator = N.random_access_indicator),
                      (J = new Uint8Array(E, p + re, Math.min(P - re, j.expected_length - j.total_length))),
                      j.slices.push(J),
                      (j.total_length += J.byteLength),
                      j.total_length === j.expected_length ? this.emitSectionSlices(j, N) : j.total_length >= j.expected_length && this.clearSlices(j, N),
                      (re += J.byteLength);
                  }
                } else
                  j != null &&
                    j.total_length !== 0 &&
                    ((J = new Uint8Array(E, p, Math.min(P, j.expected_length - j.total_length))),
                    j.slices.push(J),
                    (j.total_length += J.byteLength),
                    j.total_length === j.expected_length ? this.emitSectionSlices(j, N) : j.total_length >= j.expected_length && this.clearSlices(j, N));
              }),
              (S.prototype.handlePESSlice = function (E, p, P, N) {
                var $ = new Uint8Array(E, p, P),
                  j = ($[0] << 16) | ($[1] << 8) | $[2],
                  Z = ($[3], ($[4] << 8) | $[5]);
                if (N.payload_unit_start_indicator) {
                  if (j !== 1) return void s.a.e(this.TAG, 'handlePESSlice: packet_start_code_prefix should be 1 but with value ' + j);
                  var J = this.pes_slice_queues_[N.pid];
                  J && (J.expected_length === 0 || J.expected_length === J.total_length ? this.emitPESSlices(J, N) : this.clearSlices(J, N)),
                    (this.pes_slice_queues_[N.pid] = new U()),
                    (this.pes_slice_queues_[N.pid].file_position = N.file_position),
                    (this.pes_slice_queues_[N.pid].random_access_indicator = N.random_access_indicator);
                }
                if (this.pes_slice_queues_[N.pid] != null) {
                  var re = this.pes_slice_queues_[N.pid];
                  re.slices.push($),
                    N.payload_unit_start_indicator && (re.expected_length = Z === 0 ? 0 : Z + 6),
                    (re.total_length += $.byteLength),
                    re.expected_length > 0 && re.expected_length === re.total_length
                      ? this.emitPESSlices(re, N)
                      : re.expected_length > 0 && re.expected_length < re.total_length && this.clearSlices(re, N);
                }
              }),
              (S.prototype.emitSectionSlices = function (E, p) {
                for (var P = new Uint8Array(E.total_length), N = 0, $ = 0; N < E.slices.length; N++) {
                  var j = E.slices[N];
                  P.set(j, $), ($ += j.byteLength);
                }
                (E.slices = []), (E.expected_length = -1), (E.total_length = 0);
                var Z = new k();
                (Z.pid = p.pid), (Z.data = P), (Z.file_position = E.file_position), (Z.random_access_indicator = E.random_access_indicator), this.parseSection(Z);
              }),
              (S.prototype.emitPESSlices = function (E, p) {
                for (var P = new Uint8Array(E.total_length), N = 0, $ = 0; N < E.slices.length; N++) {
                  var j = E.slices[N];
                  P.set(j, $), ($ += j.byteLength);
                }
                (E.slices = []), (E.expected_length = -1), (E.total_length = 0);
                var Z = new A();
                (Z.pid = p.pid), (Z.data = P), (Z.stream_type = p.stream_type), (Z.file_position = E.file_position), (Z.random_access_indicator = E.random_access_indicator), this.parsePES(Z);
              }),
              (S.prototype.clearSlices = function (E, p) {
                (E.slices = []), (E.expected_length = -1), (E.total_length = 0);
              }),
              (S.prototype.parseSection = function (E) {
                var p = E.data,
                  P = E.pid;
                P === 0 ? this.parsePAT(p) : P === this.current_pmt_pid_ ? this.parsePMT(p) : this.pmt_ != null && this.pmt_.scte_35_pids[P] && this.parseSCTE35(p);
              }),
              (S.prototype.parsePES = function (E) {
                var p = E.data,
                  P = (p[0] << 16) | (p[1] << 8) | p[2],
                  N = p[3],
                  $ = (p[4] << 8) | p[5];
                if (P === 1)
                  if (N !== 188 && N !== 190 && N !== 191 && N !== 240 && N !== 241 && N !== 255 && N !== 242 && N !== 248) {
                    p[6];
                    var j = (192 & p[7]) >>> 6,
                      Z = p[8],
                      J = void 0,
                      re = void 0;
                    (j !== 2 && j !== 3) ||
                      ((J = 536870912 * (14 & p[9]) + 4194304 * (255 & p[10]) + 16384 * (254 & p[11]) + 128 * (255 & p[12]) + (254 & p[13]) / 2),
                      (re = j === 3 ? 536870912 * (14 & p[14]) + 4194304 * (255 & p[15]) + 16384 * (254 & p[16]) + 128 * (255 & p[17]) + (254 & p[18]) / 2 : J));
                    var se = 9 + Z,
                      ie = void 0;
                    if ($ !== 0) {
                      if ($ < 3 + Z) return void s.a.v(this.TAG, 'Malformed PES: PES_packet_length < 3 + PES_header_data_length');
                      ie = $ - 3 - Z;
                    } else ie = p.byteLength - se;
                    var ae = p.subarray(se, se + ie);
                    switch (E.stream_type) {
                      case C.kMPEG1Audio:
                      case C.kMPEG2Audio:
                        this.parseMP3Payload(ae, J);
                        break;
                      case C.kPESPrivateData:
                        this.pmt_.common_pids.opus === E.pid
                          ? this.parseOpusPayload(ae, J)
                          : this.pmt_.common_pids.ac3 === E.pid
                          ? this.parseAC3Payload(ae, J)
                          : this.pmt_.smpte2038_pids[E.pid]
                          ? this.parseSMPTE2038MetadataPayload(ae, J, re, E.pid, N)
                          : this.parsePESPrivateDataPayload(ae, J, re, E.pid, N);
                        break;
                      case C.kADTSAAC:
                        this.parseADTSAACPayload(ae, J);
                        break;
                      case C.kLOASAAC:
                        this.parseLOASAACPayload(ae, J);
                        break;
                      case C.kAC3:
                        this.parseAC3Payload(ae, J);
                        break;
                      case C.kID3:
                        this.parseTimedID3MetadataPayload(ae, J, re, E.pid, N);
                        break;
                      case C.kH264:
                        this.parseH264Payload(ae, J, re, E.file_position, E.random_access_indicator);
                        break;
                      case C.kH265:
                        this.parseH265Payload(ae, J, re, E.file_position, E.random_access_indicator);
                    }
                  } else
                    (N === 188 || N === 191 || N === 240 || N === 241 || N === 255 || N === 242 || N === 248) &&
                      E.stream_type === C.kPESPrivateData &&
                      ((se = 6), (ie = void 0), (ie = $ !== 0 ? $ : p.byteLength - se), (ae = p.subarray(se, se + ie)), this.parsePESPrivateDataPayload(ae, void 0, void 0, E.pid, N));
                else s.a.e(this.TAG, 'parsePES: packet_start_code_prefix should be 1 but with value ' + P);
              }),
              (S.prototype.parsePAT = function (E) {
                var p = E[0];
                if (p === 0) {
                  var P = ((15 & E[1]) << 8) | E[2],
                    N = (E[3], E[4], (62 & E[5]) >>> 1),
                    $ = 1 & E[5],
                    j = E[6],
                    Z = (E[7], null);
                  if ($ === 1 && j === 0) (Z = new H()).version_number = N;
                  else if ((Z = this.pat_) == null) return;
                  for (var J = P - 5 - 4, re = -1, se = -1, ie = 8; ie < 8 + J; ie += 4) {
                    var ae = (E[ie] << 8) | E[ie + 1],
                      fe = ((31 & E[ie + 2]) << 8) | E[ie + 3];
                    ae === 0 ? (Z.network_pid = fe) : ((Z.program_pmt_pid[ae] = fe), re === -1 && (re = ae), se === -1 && (se = fe));
                  }
                  $ === 1 && j === 0 && (this.pat_ == null && s.a.v(this.TAG, 'Parsed first PAT: ' + JSON.stringify(Z)), (this.pat_ = Z), (this.current_program_ = re), (this.current_pmt_pid_ = se));
                } else s.a.e(this.TAG, 'parsePAT: table_id ' + p + ' is not corresponded to PAT!');
              }),
              (S.prototype.parsePMT = function (E) {
                var p = E[0];
                if (p === 2) {
                  var P = ((15 & E[1]) << 8) | E[2],
                    N = (E[3] << 8) | E[4],
                    $ = (62 & E[5]) >>> 1,
                    j = 1 & E[5],
                    Z = E[6],
                    J = (E[7], null);
                  if (j === 1 && Z === 0) ((J = new F()).program_number = N), (J.version_number = $), (this.program_pmt_map_[N] = J);
                  else if ((J = this.program_pmt_map_[N]) == null) return;
                  E[8], E[9];
                  for (var re = ((15 & E[10]) << 8) | E[11], se = 12 + re, ie = P - 9 - re - 4, ae = se; ae < se + ie; ) {
                    var fe = E[ae],
                      xe = ((31 & E[ae + 1]) << 8) | E[ae + 2],
                      ye = ((15 & E[ae + 3]) << 8) | E[ae + 4];
                    J.pid_stream_type[xe] = fe;
                    var Oe = J.common_pids.h264 || J.common_pids.h265,
                      Pe = J.common_pids.adts_aac || J.common_pids.loas_aac || J.common_pids.ac3 || J.common_pids.opus || J.common_pids.mp3;
                    if (fe !== C.kH264 || Oe)
                      if (fe !== C.kH265 || Oe)
                        if (fe !== C.kADTSAAC || Pe)
                          if (fe !== C.kLOASAAC || Pe)
                            if (fe !== C.kAC3 || Pe)
                              if ((fe !== C.kMPEG1Audio && fe !== C.kMPEG2Audio) || Pe)
                                if (fe === C.kPESPrivateData) {
                                  if (((J.pes_private_data_pids[xe] = !0), ye > 0)) {
                                    for (var Re = ae + 5; Re < ae + 5 + ye; ) {
                                      var et = E[Re + 0],
                                        gt = E[Re + 1];
                                      if (et === 5) {
                                        var Ae = String.fromCharCode.apply(String, Array.from(E.subarray(Re + 2, Re + 2 + gt)));
                                        Ae === 'VANC' ? (J.smpte2038_pids[xe] = !0) : Ae === 'Opus' && (J.common_pids.opus = xe);
                                      } else if (et === 127 && xe === J.common_pids.opus) {
                                        var We = null;
                                        if ((E[Re + 2] === 128 && (We = E[Re + 3]), We == null)) {
                                          s.a.e(this.TAG, 'Not Supported Opus channel count.');
                                          continue;
                                        }
                                        var ot = { codec: 'opus', channel_count: 15 & We ? 15 & We : 2, channel_config_code: We, sample_rate: 48e3 },
                                          Qe = { codec: 'opus', meta: ot };
                                        this.audio_init_segment_dispatched_ == 0
                                          ? ((this.audio_metadata_ = ot), this.dispatchAudioInitSegment(Qe))
                                          : this.detectAudioMetadataChange(Qe) && (this.dispatchAudioMediaSegment(), this.dispatchAudioInitSegment(Qe));
                                      }
                                      Re += 2 + gt;
                                    }
                                    var nt = E.subarray(ae + 5, ae + 5 + ye);
                                    this.dispatchPESPrivateDataDescriptor(xe, fe, nt);
                                  }
                                } else fe === C.kID3 ? (J.timed_id3_pids[xe] = !0) : fe === C.kSCTE35 && (J.scte_35_pids[xe] = !0);
                              else J.common_pids.mp3 = xe;
                            else J.common_pids.ac3 = xe;
                          else J.common_pids.loas_aac = xe;
                        else J.common_pids.adts_aac = xe;
                      else J.common_pids.h265 = xe;
                    else J.common_pids.h264 = xe;
                    ae += 5 + ye;
                  }
                  N === this.current_program_ &&
                    (this.pmt_ == null && s.a.v(this.TAG, 'Parsed first PMT: ' + JSON.stringify(J)),
                    (this.pmt_ = J),
                    (J.common_pids.h264 || J.common_pids.h265) && (this.has_video_ = !0),
                    (J.common_pids.adts_aac || J.common_pids.loas_aac || J.common_pids.ac3 || J.common_pids.opus || J.common_pids.mp3) && (this.has_audio_ = !0));
                } else s.a.e(this.TAG, 'parsePMT: table_id ' + p + ' is not corresponded to PMT!');
              }),
              (S.prototype.parseSCTE35 = function (E) {
                var p = St(E);
                if (p.pts != null) {
                  var P = Math.floor(p.pts / this.timescale_);
                  p.pts = P;
                } else p.nearest_pts = this.aac_last_sample_pts_;
                this.onSCTE35Metadata && this.onSCTE35Metadata(p);
              }),
              (S.prototype.parseH264Payload = function (E, p, P, N, $) {
                for (var j = new ne(E), Z = null, J = [], re = 0, se = !1; (Z = j.readNextNaluPayload()) != null; ) {
                  var ie = new Y(Z);
                  if (ie.type === q.kSliceSPS) {
                    var ae = _.parseSPS(Z.data);
                    this.video_init_segment_dispatched_
                      ? this.detectVideoMetadataChange(ie, ae) === !0 &&
                        (s.a.v(this.TAG, 'H264: Critical h264 metadata has been changed, attempt to re-generate InitSegment'),
                        (this.video_metadata_changed_ = !0),
                        (this.video_metadata_ = { vps: void 0, sps: ie, pps: void 0, details: ae }))
                      : ((this.video_metadata_.sps = ie), (this.video_metadata_.details = ae));
                  } else
                    ie.type === q.kSlicePPS
                      ? (this.video_init_segment_dispatched_ && !this.video_metadata_changed_) ||
                        ((this.video_metadata_.pps = ie),
                        this.video_metadata_.sps && this.video_metadata_.pps && (this.video_metadata_changed_ && this.dispatchVideoMediaSegment(), this.dispatchVideoInitSegment()))
                      : (ie.type === q.kSliceIDR || (ie.type === q.kSliceNonIDR && $ === 1)) && (se = !0);
                  this.video_init_segment_dispatched_ && (J.push(ie), (re += ie.data.byteLength));
                }
                var fe = Math.floor(p / this.timescale_),
                  xe = Math.floor(P / this.timescale_);
                if (J.length) {
                  var ye = this.video_track_,
                    Oe = { units: J, length: re, isKeyframe: se, dts: xe, pts: fe, cts: fe - xe, file_position: N };
                  ye.samples.push(Oe), (ye.length += re);
                }
              }),
              (S.prototype.parseH265Payload = function (E, p, P, N, $) {
                for (var j = new Ye(E), Z = null, J = [], re = 0, se = !1; (Z = j.readNextNaluPayload()) != null; ) {
                  var ie = new Bt(Z);
                  if (ie.type === Te.kSliceVPS) {
                    if (!this.video_init_segment_dispatched_) {
                      var ae = T.parseVPS(Z.data);
                      (this.video_metadata_.vps = ie), (this.video_metadata_.details = bt(bt({}, this.video_metadata_.details), ae));
                    }
                  } else
                    ie.type === Te.kSliceSPS
                      ? ((ae = T.parseSPS(Z.data)),
                        this.video_init_segment_dispatched_
                          ? this.detectVideoMetadataChange(ie, ae) === !0 &&
                            (s.a.v(this.TAG, 'H265: Critical h265 metadata has been changed, attempt to re-generate InitSegment'),
                            (this.video_metadata_changed_ = !0),
                            (this.video_metadata_ = { vps: void 0, sps: ie, pps: void 0, details: ae }))
                          : ((this.video_metadata_.sps = ie), (this.video_metadata_.details = bt(bt({}, this.video_metadata_.details), ae))))
                      : ie.type === Te.kSlicePPS
                      ? (!this.video_init_segment_dispatched_ || this.video_metadata_changed_) &&
                        ((ae = T.parsePPS(Z.data)),
                        (this.video_metadata_.pps = ie),
                        (this.video_metadata_.details = bt(bt({}, this.video_metadata_.details), ae)),
                        this.video_metadata_.vps &&
                          this.video_metadata_.sps &&
                          this.video_metadata_.pps &&
                          (this.video_metadata_changed_ && this.dispatchVideoMediaSegment(), this.dispatchVideoInitSegment()))
                      : (ie.type !== Te.kSliceIDR_W_RADL && ie.type !== Te.kSliceIDR_N_LP && ie.type !== Te.kSliceCRA_NUT) || (se = !0);
                  this.video_init_segment_dispatched_ && (J.push(ie), (re += ie.data.byteLength));
                }
                var fe = Math.floor(p / this.timescale_),
                  xe = Math.floor(P / this.timescale_);
                if (J.length) {
                  var ye = this.video_track_,
                    Oe = { units: J, length: re, isKeyframe: se, dts: xe, pts: fe, cts: fe - xe, file_position: N };
                  ye.samples.push(Oe), (ye.length += re);
                }
              }),
              (S.prototype.detectVideoMetadataChange = function (E, p) {
                if (p.codec_mimetype !== this.video_metadata_.details.codec_mimetype)
                  return s.a.v(this.TAG, 'Video: Codec mimeType changed from ' + this.video_metadata_.details.codec_mimetype + ' to ' + p.codec_mimetype), !0;
                if (p.codec_size.width !== this.video_metadata_.details.codec_size.width || p.codec_size.height !== this.video_metadata_.details.codec_size.height) {
                  var P = this.video_metadata_.details.codec_size,
                    N = p.codec_size;
                  return s.a.v(this.TAG, 'Video: Coded Resolution changed from ' + P.width + 'x' + P.height + ' to ' + N.width + 'x' + N.height), !0;
                }
                return (
                  p.present_size.width !== this.video_metadata_.details.present_size.width &&
                  (s.a.v(this.TAG, 'Video: Present resolution width changed from ' + this.video_metadata_.details.present_size.width + ' to ' + p.present_size.width), !0)
                );
              }),
              (S.prototype.isInitSegmentDispatched = function () {
                return this.has_video_ && this.has_audio_
                  ? this.video_init_segment_dispatched_ && this.audio_init_segment_dispatched_
                  : this.has_video_ && !this.has_audio_
                  ? this.video_init_segment_dispatched_
                  : !(this.has_video_ || !this.has_audio_) && this.audio_init_segment_dispatched_;
              }),
              (S.prototype.dispatchVideoInitSegment = function () {
                var E = this.video_metadata_.details,
                  p = { type: 'video' };
                (p.id = this.video_track_.id),
                  (p.timescale = 1e3),
                  (p.duration = this.duration_),
                  (p.codecWidth = E.codec_size.width),
                  (p.codecHeight = E.codec_size.height),
                  (p.presentWidth = E.present_size.width),
                  (p.presentHeight = E.present_size.height),
                  (p.profile = E.profile_string),
                  (p.level = E.level_string),
                  (p.bitDepth = E.bit_depth),
                  (p.chromaFormat = E.chroma_format),
                  (p.sarRatio = E.sar_ratio),
                  (p.frameRate = E.frame_rate);
                var P = p.frameRate.fps_den,
                  N = p.frameRate.fps_num;
                if (((p.refSampleDuration = (P / N) * 1e3), (p.codec = E.codec_mimetype), this.video_metadata_.vps)) {
                  var $ = this.video_metadata_.vps.data.subarray(4),
                    j = this.video_metadata_.sps.data.subarray(4),
                    Z = this.video_metadata_.pps.data.subarray(4),
                    J = new it($, j, Z, E);
                  (p.hvcc = J.getData()), this.video_init_segment_dispatched_ == 0 && s.a.v(this.TAG, 'Generated first HEVCDecoderConfigurationRecord for mimeType: ' + p.codec);
                } else {
                  (j = this.video_metadata_.sps.data.subarray(4)), (Z = this.video_metadata_.pps.data.subarray(4));
                  var re = new te(j, Z, E);
                  (p.avcc = re.getData()), this.video_init_segment_dispatched_ == 0 && s.a.v(this.TAG, 'Generated first AVCDecoderConfigurationRecord for mimeType: ' + p.codec);
                }
                this.onTrackMetadata('video', p), (this.video_init_segment_dispatched_ = !0), (this.video_metadata_changed_ = !1);
                var se = this.media_info_;
                (se.hasVideo = !0),
                  (se.width = p.codecWidth),
                  (se.height = p.codecHeight),
                  (se.fps = p.frameRate.fps),
                  (se.profile = p.profile),
                  (se.level = p.level),
                  (se.refFrames = E.ref_frames),
                  (se.chromaFormat = E.chroma_format_string),
                  (se.sarNum = p.sarRatio.width),
                  (se.sarDen = p.sarRatio.height),
                  (se.videoCodec = p.codec),
                  se.hasAudio && se.audioCodec ? (se.mimeType = 'video/mp2t; codecs="' + se.videoCodec + ',' + se.audioCodec + '"') : (se.mimeType = 'video/mp2t; codecs="' + se.videoCodec + '"'),
                  se.isComplete() && this.onMediaInfo(se);
              }),
              (S.prototype.dispatchVideoMediaSegment = function () {
                this.isInitSegmentDispatched() && this.video_track_.length && this.onDataAvailable(null, this.video_track_);
              }),
              (S.prototype.dispatchAudioMediaSegment = function () {
                this.isInitSegmentDispatched() && this.audio_track_.length && this.onDataAvailable(this.audio_track_, null);
              }),
              (S.prototype.dispatchAudioVideoMediaSegment = function () {
                this.isInitSegmentDispatched() && (this.audio_track_.length || this.video_track_.length) && this.onDataAvailable(this.audio_track_, this.video_track_);
              }),
              (S.prototype.parseADTSAACPayload = function (E, p) {
                if (!this.has_video_ || this.video_init_segment_dispatched_) {
                  if (this.aac_last_incomplete_data_) {
                    var P = new Uint8Array(E.byteLength + this.aac_last_incomplete_data_.byteLength);
                    P.set(this.aac_last_incomplete_data_, 0), P.set(E, this.aac_last_incomplete_data_.byteLength), (E = P);
                  }
                  var N, $;
                  if ((p != null && ($ = p / this.timescale_), this.audio_metadata_.codec === 'aac')) {
                    if (p == null && this.aac_last_sample_pts_ != null) (N = (1024 / this.audio_metadata_.sampling_frequency) * 1e3), ($ = this.aac_last_sample_pts_ + N);
                    else if (p == null) return void s.a.w(this.TAG, 'AAC: Unknown pts');
                    if (this.aac_last_incomplete_data_ && this.aac_last_sample_pts_) {
                      N = (1024 / this.audio_metadata_.sampling_frequency) * 1e3;
                      var j = this.aac_last_sample_pts_ + N;
                      Math.abs(j - $) > 1 && (s.a.w(this.TAG, 'AAC: Detected pts overlapped, expected: ' + j + 'ms, PES pts: ' + $ + 'ms'), ($ = j));
                    }
                  }
                  for (var Z, J = new ge(E), re = null, se = $; (re = J.readNextAACFrame()) != null; ) {
                    N = (1024 / re.sampling_frequency) * 1e3;
                    var ie = { codec: 'aac', data: re };
                    this.audio_init_segment_dispatched_ == 0
                      ? ((this.audio_metadata_ = {
                          codec: 'aac',
                          audio_object_type: re.audio_object_type,
                          sampling_freq_index: re.sampling_freq_index,
                          sampling_frequency: re.sampling_frequency,
                          channel_config: re.channel_config,
                        }),
                        this.dispatchAudioInitSegment(ie))
                      : this.detectAudioMetadataChange(ie) && (this.dispatchAudioMediaSegment(), this.dispatchAudioInitSegment(ie)),
                      (Z = se);
                    var ae = Math.floor(se),
                      fe = { unit: re.data, length: re.data.byteLength, pts: ae, dts: ae };
                    this.audio_track_.samples.push(fe), (this.audio_track_.length += re.data.byteLength), (se += N);
                  }
                  J.hasIncompleteData() && (this.aac_last_incomplete_data_ = J.getIncompleteData()), Z && (this.aac_last_sample_pts_ = Z);
                }
              }),
              (S.prototype.parseLOASAACPayload = function (E, p) {
                var P;
                if (!this.has_video_ || this.video_init_segment_dispatched_) {
                  if (this.aac_last_incomplete_data_) {
                    var N = new Uint8Array(E.byteLength + this.aac_last_incomplete_data_.byteLength);
                    N.set(this.aac_last_incomplete_data_, 0), N.set(E, this.aac_last_incomplete_data_.byteLength), (E = N);
                  }
                  var $, j;
                  if ((p != null && (j = p / this.timescale_), this.audio_metadata_.codec === 'aac')) {
                    if (p == null && this.aac_last_sample_pts_ != null) ($ = (1024 / this.audio_metadata_.sampling_frequency) * 1e3), (j = this.aac_last_sample_pts_ + $);
                    else if (p == null) return void s.a.w(this.TAG, 'AAC: Unknown pts');
                    if (this.aac_last_incomplete_data_ && this.aac_last_sample_pts_) {
                      $ = (1024 / this.audio_metadata_.sampling_frequency) * 1e3;
                      var Z = this.aac_last_sample_pts_ + $;
                      Math.abs(Z - j) > 1 && (s.a.w(this.TAG, 'AAC: Detected pts overlapped, expected: ' + Z + 'ms, PES pts: ' + j + 'ms'), (j = Z));
                    }
                  }
                  for (var J, re = new Le(E), se = null, ie = j; (se = re.readNextAACFrame((P = this.loas_previous_frame) !== null && P !== void 0 ? P : void 0)) != null; ) {
                    (this.loas_previous_frame = se), ($ = (1024 / se.sampling_frequency) * 1e3);
                    var ae = { codec: 'aac', data: se };
                    this.audio_init_segment_dispatched_ == 0
                      ? ((this.audio_metadata_ = {
                          codec: 'aac',
                          audio_object_type: se.audio_object_type,
                          sampling_freq_index: se.sampling_freq_index,
                          sampling_frequency: se.sampling_frequency,
                          channel_config: se.channel_config,
                        }),
                        this.dispatchAudioInitSegment(ae))
                      : this.detectAudioMetadataChange(ae) && (this.dispatchAudioMediaSegment(), this.dispatchAudioInitSegment(ae)),
                      (J = ie);
                    var fe = Math.floor(ie),
                      xe = { unit: se.data, length: se.data.byteLength, pts: fe, dts: fe };
                    this.audio_track_.samples.push(xe), (this.audio_track_.length += se.data.byteLength), (ie += $);
                  }
                  re.hasIncompleteData() && (this.aac_last_incomplete_data_ = re.getIncompleteData()), J && (this.aac_last_sample_pts_ = J);
                }
              }),
              (S.prototype.parseAC3Payload = function (E, p) {
                if (!this.has_video_ || this.video_init_segment_dispatched_) {
                  var P, N;
                  if ((p != null && (N = p / this.timescale_), this.audio_metadata_.codec === 'ac-3')) {
                    if (p == null && this.aac_last_sample_pts_ != null) (P = (1536 / this.audio_metadata_.sampling_frequency) * 1e3), (N = this.aac_last_sample_pts_ + P);
                    else if (p == null) return void s.a.w(this.TAG, 'Opus: Unknown pts');
                  }
                  for (var $, j = new un(E), Z = null, J = N; (Z = j.readNextAC3Frame()) != null; ) {
                    P = (1536 / Z.sampling_frequency) * 1e3;
                    var re = { codec: 'ac-3', data: Z };
                    this.audio_init_segment_dispatched_ == 0
                      ? ((this.audio_metadata_ = {
                          codec: 'ac-3',
                          sampling_frequency: Z.sampling_frequency,
                          bit_stream_identification: Z.bit_stream_identification,
                          bit_stream_mode: Z.bit_stream_mode,
                          low_frequency_effects_channel_on: Z.low_frequency_effects_channel_on,
                          channel_mode: Z.channel_mode,
                        }),
                        console.log(JSON.stringify(this.audio_metadata_)),
                        this.dispatchAudioInitSegment(re))
                      : this.detectAudioMetadataChange(re) && (this.dispatchAudioMediaSegment(), this.dispatchAudioInitSegment(re)),
                      ($ = J);
                    var se = Math.floor(J),
                      ie = { unit: Z.data, length: Z.data.byteLength, pts: se, dts: se };
                    this.audio_track_.samples.push(ie), (this.audio_track_.length += Z.data.byteLength), (J += P);
                  }
                  $ && (this.aac_last_sample_pts_ = $);
                }
              }),
              (S.prototype.parseOpusPayload = function (E, p) {
                if (!this.has_video_ || this.video_init_segment_dispatched_) {
                  var P, N;
                  if ((p != null && (N = p / this.timescale_), this.audio_metadata_.codec === 'opus')) {
                    if (p == null && this.aac_last_sample_pts_ != null) (P = 20), (N = this.aac_last_sample_pts_ + P);
                    else if (p == null) return void s.a.w(this.TAG, 'Opus: Unknown pts');
                  }
                  for (var $, j = N, Z = 0; Z < E.length; ) {
                    P = 20;
                    for (var J = (16 & E[Z + 1]) != 0, re = (8 & E[Z + 1]) != 0, se = Z + 2, ie = 0; E[se] === 255; ) (ie += 255), (se += 1);
                    (ie += E[se]), (se += 1), (se += J ? 2 : 0), (se += re ? 2 : 0), ($ = j);
                    var ae = Math.floor(j),
                      fe = E.slice(se, se + ie),
                      xe = { unit: fe, length: fe.byteLength, pts: ae, dts: ae };
                    this.audio_track_.samples.push(xe), (this.audio_track_.length += fe.byteLength), (j += P), (Z = se + ie);
                  }
                  $ && (this.aac_last_sample_pts_ = $);
                }
              }),
              (S.prototype.parseMP3Payload = function (E, p) {
                if (!this.has_video_ || this.video_init_segment_dispatched_) {
                  var P = [0, 32, 64, 96, 128, 160, 192, 224, 256, 288, 320, 352, 384, 416, 448, -1],
                    N = [0, 32, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 384, -1],
                    $ = [0, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, -1],
                    j = (E[1] >>> 3) & 3,
                    Z = (6 & E[1]) >> 1,
                    J = (240 & E[2]) >>> 4,
                    re = (12 & E[2]) >>> 2,
                    se = ((E[3] >>> 6) & 3) !== 3 ? 2 : 1,
                    ie = 0,
                    ae = 34;
                  switch (j) {
                    case 0:
                      ie = [11025, 12e3, 8e3, 0][re];
                      break;
                    case 2:
                      ie = [22050, 24e3, 16e3, 0][re];
                      break;
                    case 3:
                      ie = [44100, 48e3, 32e3, 0][re];
                  }
                  switch (Z) {
                    case 1:
                      (ae = 34), J < $.length && $[J];
                      break;
                    case 2:
                      (ae = 33), J < N.length && N[J];
                      break;
                    case 3:
                      (ae = 32), J < P.length && P[J];
                  }
                  var fe = new ct();
                  (fe.object_type = ae), (fe.sample_rate = ie), (fe.channel_count = se), (fe.data = E);
                  var xe = { codec: 'mp3', data: fe };
                  this.audio_init_segment_dispatched_ == 0
                    ? ((this.audio_metadata_ = { codec: 'mp3', object_type: ae, sample_rate: ie, channel_count: se }), this.dispatchAudioInitSegment(xe))
                    : this.detectAudioMetadataChange(xe) && (this.dispatchAudioMediaSegment(), this.dispatchAudioInitSegment(xe));
                  var ye = { unit: E, length: E.byteLength, pts: p / this.timescale_, dts: p / this.timescale_ };
                  this.audio_track_.samples.push(ye), (this.audio_track_.length += E.byteLength);
                }
              }),
              (S.prototype.detectAudioMetadataChange = function (E) {
                if (E.codec !== this.audio_metadata_.codec) return s.a.v(this.TAG, 'Audio: Audio Codecs changed from ' + this.audio_metadata_.codec + ' to ' + E.codec), !0;
                if (E.codec === 'aac' && this.audio_metadata_.codec === 'aac') {
                  if ((p = E.data).audio_object_type !== this.audio_metadata_.audio_object_type)
                    return s.a.v(this.TAG, 'AAC: AudioObjectType changed from ' + this.audio_metadata_.audio_object_type + ' to ' + p.audio_object_type), !0;
                  if (p.sampling_freq_index !== this.audio_metadata_.sampling_freq_index)
                    return s.a.v(this.TAG, 'AAC: SamplingFrequencyIndex changed from ' + this.audio_metadata_.sampling_freq_index + ' to ' + p.sampling_freq_index), !0;
                  if (p.channel_config !== this.audio_metadata_.channel_config)
                    return s.a.v(this.TAG, 'AAC: Channel configuration changed from ' + this.audio_metadata_.channel_config + ' to ' + p.channel_config), !0;
                } else if (E.codec === 'ac-3' && this.audio_metadata_.codec === 'ac-3') {
                  var p;
                  if ((p = E.data).sampling_frequency !== this.audio_metadata_.sampling_frequency)
                    return s.a.v(this.TAG, 'AC3: Sampling Frequency changed from ' + this.audio_metadata_.sampling_frequency + ' to ' + p.sampling_frequency), !0;
                  if (p.bit_stream_identification !== this.audio_metadata_.bit_stream_identification)
                    return s.a.v(this.TAG, 'AC3: Bit Stream Identification changed from ' + this.audio_metadata_.bit_stream_identification + ' to ' + p.bit_stream_identification), !0;
                  if (p.bit_stream_mode !== this.audio_metadata_.bit_stream_mode)
                    return s.a.v(this.TAG, 'AC3: BitStream Mode changed from ' + this.audio_metadata_.bit_stream_mode + ' to ' + p.bit_stream_mode), !0;
                  if (p.channel_mode !== this.audio_metadata_.channel_mode) return s.a.v(this.TAG, 'AC3: Channel Mode changed from ' + this.audio_metadata_.channel_mode + ' to ' + p.channel_mode), !0;
                  if (p.low_frequency_effects_channel_on !== this.audio_metadata_.low_frequency_effects_channel_on)
                    return (
                      s.a.v(this.TAG, 'AC3: Low Frequency Effects Channel On changed from ' + this.audio_metadata_.low_frequency_effects_channel_on + ' to ' + p.low_frequency_effects_channel_on), !0
                    );
                } else if (E.codec === 'opus' && this.audio_metadata_.codec === 'opus') {
                  if ((P = E.meta).sample_rate !== this.audio_metadata_.sample_rate)
                    return s.a.v(this.TAG, 'Opus: SamplingFrequencyIndex changed from ' + this.audio_metadata_.sample_rate + ' to ' + P.sample_rate), !0;
                  if (P.channel_count !== this.audio_metadata_.channel_count)
                    return s.a.v(this.TAG, 'Opus: Channel count changed from ' + this.audio_metadata_.channel_count + ' to ' + P.channel_count), !0;
                } else if (E.codec === 'mp3' && this.audio_metadata_.codec === 'mp3') {
                  var P;
                  if ((P = E.data).object_type !== this.audio_metadata_.object_type)
                    return s.a.v(this.TAG, 'MP3: AudioObjectType changed from ' + this.audio_metadata_.object_type + ' to ' + P.object_type), !0;
                  if (P.sample_rate !== this.audio_metadata_.sample_rate)
                    return s.a.v(this.TAG, 'MP3: SamplingFrequencyIndex changed from ' + this.audio_metadata_.sample_rate + ' to ' + P.sample_rate), !0;
                  if (P.channel_count !== this.audio_metadata_.channel_count)
                    return s.a.v(this.TAG, 'MP3: Channel count changed from ' + this.audio_metadata_.channel_count + ' to ' + P.channel_count), !0;
                }
                return !1;
              }),
              (S.prototype.dispatchAudioInitSegment = function (E) {
                var p = { type: 'audio' };
                if (((p.id = this.audio_track_.id), (p.timescale = 1e3), (p.duration = this.duration_), this.audio_metadata_.codec === 'aac')) {
                  var P = E.codec === 'aac' ? E.data : null,
                    N = new Me(P);
                  (p.audioSampleRate = N.sampling_rate),
                    (p.channelCount = N.channel_count),
                    (p.codec = N.codec_mimetype),
                    (p.originalCodec = N.original_codec_mimetype),
                    (p.config = N.config),
                    (p.refSampleDuration = (1024 / p.audioSampleRate) * p.timescale);
                } else if (this.audio_metadata_.codec === 'ac-3') {
                  var $ = E.codec === 'ac-3' ? E.data : null,
                    j = new yn($);
                  (p.audioSampleRate = j.sampling_rate),
                    (p.channelCount = j.channel_count),
                    (p.codec = j.codec_mimetype),
                    (p.originalCodec = j.original_codec_mimetype),
                    (p.config = j.config),
                    (p.refSampleDuration = (1536 / p.audioSampleRate) * p.timescale);
                } else
                  this.audio_metadata_.codec === 'opus'
                    ? ((p.audioSampleRate = this.audio_metadata_.sample_rate),
                      (p.channelCount = this.audio_metadata_.channel_count),
                      (p.channelConfigCode = this.audio_metadata_.channel_config_code),
                      (p.codec = 'opus'),
                      (p.originalCodec = 'opus'),
                      (p.config = void 0),
                      (p.refSampleDuration = 20))
                    : this.audio_metadata_.codec === 'mp3' &&
                      ((p.audioSampleRate = this.audio_metadata_.sample_rate),
                      (p.channelCount = this.audio_metadata_.channel_count),
                      (p.codec = 'mp3'),
                      (p.originalCodec = 'mp3'),
                      (p.config = void 0));
                this.audio_init_segment_dispatched_ == 0 && s.a.v(this.TAG, 'Generated first AudioSpecificConfig for mimeType: ' + p.codec),
                  this.onTrackMetadata('audio', p),
                  (this.audio_init_segment_dispatched_ = !0),
                  (this.video_metadata_changed_ = !1);
                var Z = this.media_info_;
                (Z.hasAudio = !0),
                  (Z.audioCodec = p.originalCodec),
                  (Z.audioSampleRate = p.audioSampleRate),
                  (Z.audioChannelCount = p.channelCount),
                  Z.hasVideo && Z.videoCodec ? (Z.mimeType = 'video/mp2t; codecs="' + Z.videoCodec + ',' + Z.audioCodec + '"') : (Z.mimeType = 'video/mp2t; codecs="' + Z.audioCodec + '"'),
                  Z.isComplete() && this.onMediaInfo(Z);
              }),
              (S.prototype.dispatchPESPrivateDataDescriptor = function (E, p, P) {
                var N = new Ge();
                (N.pid = E), (N.stream_type = p), (N.descriptor = P), this.onPESPrivateDataDescriptor && this.onPESPrivateDataDescriptor(N);
              }),
              (S.prototype.parsePESPrivateDataPayload = function (E, p, P, N, $) {
                var j = new ze();
                if (((j.pid = N), (j.stream_id = $), (j.len = E.byteLength), (j.data = E), p != null)) {
                  var Z = Math.floor(p / this.timescale_);
                  j.pts = Z;
                } else j.nearest_pts = this.aac_last_sample_pts_;
                if (P != null) {
                  var J = Math.floor(P / this.timescale_);
                  j.dts = J;
                }
                this.onPESPrivateData && this.onPESPrivateData(j);
              }),
              (S.prototype.parseTimedID3MetadataPayload = function (E, p, P, N, $) {
                var j = new ze();
                if (((j.pid = N), (j.stream_id = $), (j.len = E.byteLength), (j.data = E), p != null)) {
                  var Z = Math.floor(p / this.timescale_);
                  j.pts = Z;
                }
                if (P != null) {
                  var J = Math.floor(P / this.timescale_);
                  j.dts = J;
                }
                this.onTimedID3Metadata && this.onTimedID3Metadata(j);
              }),
              (S.prototype.parseSMPTE2038MetadataPayload = function (E, p, P, N, $) {
                var j = new vt();
                if (((j.pid = N), (j.stream_id = $), (j.len = E.byteLength), (j.data = E), p != null)) {
                  var Z = Math.floor(p / this.timescale_);
                  j.pts = Z;
                }
                if (((j.nearest_pts = this.aac_last_sample_pts_), P != null)) {
                  var J = Math.floor(P / this.timescale_);
                  j.dts = J;
                }
                (j.ancillaries = (function (re) {
                  for (var se = new b(re), ie = 0, ae = []; (ie += 6), se.readBits(6) === 0; ) {
                    var fe = se.readBool();
                    ie += 1;
                    var xe = se.readBits(11);
                    ie += 11;
                    var ye = se.readBits(12);
                    ie += 12;
                    var Oe = 255 & se.readBits(10);
                    ie += 10;
                    var Pe = 255 & se.readBits(10);
                    ie += 10;
                    var Re = 255 & se.readBits(10);
                    ie += 10;
                    for (var et = new Uint8Array(Re), gt = 0; gt < Re; gt++) {
                      var Ae = 255 & se.readBits(10);
                      (ie += 10), (et[gt] = Ae);
                    }
                    se.readBits(10), (ie += 10);
                    var We = 'User Defined';
                    Oe === 65
                      ? Pe === 7 && (We = 'SCTE-104')
                      : Oe === 95
                      ? Pe === 220
                        ? (We = 'ARIB STD-B37 (1SEG)')
                        : Pe === 221
                        ? (We = 'ARIB STD-B37 (ANALOG)')
                        : Pe === 222
                        ? (We = 'ARIB STD-B37 (SD)')
                        : Pe === 223 && (We = 'ARIB STD-B37 (HD)')
                      : Oe === 97 && (Pe === 1 ? (We = 'EIA-708') : Pe === 2 && (We = 'EIA-608')),
                      ae.push({ yc_indicator: fe, line_number: xe, horizontal_offset: ye, did: Oe, sdid: Pe, user_data: et, description: We, information: {} }),
                      se.readBits(8 - ((ie - Math.floor(ie / 8)) % 8)),
                      (ie += (8 - (ie - Math.floor(ie / 8))) % 8);
                  }
                  return se.destroy(), (se = null), ae;
                })(E)),
                  this.onSMPTE2038Metadata && this.onSMPTE2038Metadata(j);
              }),
              S
            );
          })(z),
          kn = function () {
            for (var R = 0, S = 0, E = arguments.length; S < E; S++) R += arguments[S].length;
            var p = Array(R),
              P = 0;
            for (S = 0; S < E; S++) for (var N = arguments[S], $ = 0, j = N.length; $ < j; $++, P++) p[P] = N[$];
            return p;
          },
          Mn = (function () {
            function R() {}
            return (
              (R.init = function () {
                for (var S in ((R.types = {
                  avc1: [],
                  avcC: [],
                  btrt: [],
                  dinf: [],
                  dref: [],
                  esds: [],
                  ftyp: [],
                  hdlr: [],
                  hvc1: [],
                  hvcC: [],
                  mdat: [],
                  mdhd: [],
                  mdia: [],
                  mfhd: [],
                  minf: [],
                  moof: [],
                  moov: [],
                  mp4a: [],
                  mvex: [],
                  mvhd: [],
                  sdtp: [],
                  stbl: [],
                  stco: [],
                  stsc: [],
                  stsd: [],
                  stsz: [],
                  stts: [],
                  tfdt: [],
                  tfhd: [],
                  traf: [],
                  trak: [],
                  trun: [],
                  trex: [],
                  tkhd: [],
                  vmhd: [],
                  smhd: [],
                  '.mp3': [],
                  Opus: [],
                  dOps: [],
                  'ac-3': [],
                  dac3: [],
                }),
                R.types))
                  R.types.hasOwnProperty(S) && (R.types[S] = [S.charCodeAt(0), S.charCodeAt(1), S.charCodeAt(2), S.charCodeAt(3)]);
                var E = (R.constants = {});
                (E.FTYP = new Uint8Array([105, 115, 111, 109, 0, 0, 0, 1, 105, 115, 111, 109, 97, 118, 99, 49])),
                  (E.STSD_PREFIX = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1])),
                  (E.STTS = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])),
                  (E.STSC = E.STCO = E.STTS),
                  (E.STSZ = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])),
                  (E.HDLR_VIDEO = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114, 0])),
                  (E.HDLR_AUDIO = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0])),
                  (E.DREF = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1])),
                  (E.SMHD = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])),
                  (E.VMHD = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0]));
              }),
              (R.box = function (S) {
                for (var E = 8, p = null, P = Array.prototype.slice.call(arguments, 1), N = P.length, $ = 0; $ < N; $++) E += P[$].byteLength;
                ((p = new Uint8Array(E))[0] = (E >>> 24) & 255), (p[1] = (E >>> 16) & 255), (p[2] = (E >>> 8) & 255), (p[3] = 255 & E), p.set(S, 4);
                var j = 8;
                for ($ = 0; $ < N; $++) p.set(P[$], j), (j += P[$].byteLength);
                return p;
              }),
              (R.generateInitSegment = function (S) {
                var E = R.box(R.types.ftyp, R.constants.FTYP),
                  p = R.moov(S),
                  P = new Uint8Array(E.byteLength + p.byteLength);
                return P.set(E, 0), P.set(p, E.byteLength), P;
              }),
              (R.moov = function (S) {
                var E = R.mvhd(S.timescale, S.duration),
                  p = R.trak(S),
                  P = R.mvex(S);
                return R.box(R.types.moov, E, p, P);
              }),
              (R.mvhd = function (S, E) {
                return R.box(
                  R.types.mvhd,
                  new Uint8Array([
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    (S >>> 24) & 255,
                    (S >>> 16) & 255,
                    (S >>> 8) & 255,
                    255 & S,
                    (E >>> 24) & 255,
                    (E >>> 16) & 255,
                    (E >>> 8) & 255,
                    255 & E,
                    0,
                    1,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    64,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    255,
                    255,
                    255,
                    255,
                  ]),
                );
              }),
              (R.trak = function (S) {
                return R.box(R.types.trak, R.tkhd(S), R.mdia(S));
              }),
              (R.tkhd = function (S) {
                var E = S.id,
                  p = S.duration,
                  P = S.presentWidth,
                  N = S.presentHeight;
                return R.box(
                  R.types.tkhd,
                  new Uint8Array([
                    0,
                    0,
                    0,
                    7,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    (E >>> 24) & 255,
                    (E >>> 16) & 255,
                    (E >>> 8) & 255,
                    255 & E,
                    0,
                    0,
                    0,
                    0,
                    (p >>> 24) & 255,
                    (p >>> 16) & 255,
                    (p >>> 8) & 255,
                    255 & p,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    64,
                    0,
                    0,
                    0,
                    (P >>> 8) & 255,
                    255 & P,
                    0,
                    0,
                    (N >>> 8) & 255,
                    255 & N,
                    0,
                    0,
                  ]),
                );
              }),
              (R.mdia = function (S) {
                return R.box(R.types.mdia, R.mdhd(S), R.hdlr(S), R.minf(S));
              }),
              (R.mdhd = function (S) {
                var E = S.timescale,
                  p = S.duration;
                return R.box(
                  R.types.mdhd,
                  new Uint8Array([
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    (E >>> 24) & 255,
                    (E >>> 16) & 255,
                    (E >>> 8) & 255,
                    255 & E,
                    (p >>> 24) & 255,
                    (p >>> 16) & 255,
                    (p >>> 8) & 255,
                    255 & p,
                    85,
                    196,
                    0,
                    0,
                  ]),
                );
              }),
              (R.hdlr = function (S) {
                var E = null;
                return (E = S.type === 'audio' ? R.constants.HDLR_AUDIO : R.constants.HDLR_VIDEO), R.box(R.types.hdlr, E);
              }),
              (R.minf = function (S) {
                var E = null;
                return (E = S.type === 'audio' ? R.box(R.types.smhd, R.constants.SMHD) : R.box(R.types.vmhd, R.constants.VMHD)), R.box(R.types.minf, E, R.dinf(), R.stbl(S));
              }),
              (R.dinf = function () {
                return R.box(R.types.dinf, R.box(R.types.dref, R.constants.DREF));
              }),
              (R.stbl = function (S) {
                return R.box(
                  R.types.stbl,
                  R.stsd(S),
                  R.box(R.types.stts, R.constants.STTS),
                  R.box(R.types.stsc, R.constants.STSC),
                  R.box(R.types.stsz, R.constants.STSZ),
                  R.box(R.types.stco, R.constants.STCO),
                );
              }),
              (R.stsd = function (S) {
                return S.type === 'audio'
                  ? S.codec === 'mp3'
                    ? R.box(R.types.stsd, R.constants.STSD_PREFIX, R.mp3(S))
                    : S.codec === 'ac-3'
                    ? R.box(R.types.stsd, R.constants.STSD_PREFIX, R.ac3(S))
                    : S.codec === 'opus'
                    ? R.box(R.types.stsd, R.constants.STSD_PREFIX, R.Opus(S))
                    : R.box(R.types.stsd, R.constants.STSD_PREFIX, R.mp4a(S))
                  : S.type === 'video' && S.codec.startsWith('hvc1')
                  ? R.box(R.types.stsd, R.constants.STSD_PREFIX, R.hvc1(S))
                  : R.box(R.types.stsd, R.constants.STSD_PREFIX, R.avc1(S));
              }),
              (R.mp3 = function (S) {
                var E = S.channelCount,
                  p = S.audioSampleRate,
                  P = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, E, 0, 16, 0, 0, 0, 0, (p >>> 8) & 255, 255 & p, 0, 0]);
                return R.box(R.types['.mp3'], P);
              }),
              (R.mp4a = function (S) {
                var E = S.channelCount,
                  p = S.audioSampleRate,
                  P = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, E, 0, 16, 0, 0, 0, 0, (p >>> 8) & 255, 255 & p, 0, 0]);
                return R.box(R.types.mp4a, P, R.esds(S));
              }),
              (R.ac3 = function (S) {
                var E = S.channelCount,
                  p = S.audioSampleRate,
                  P = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, E, 0, 16, 0, 0, 0, 0, (p >>> 8) & 255, 255 & p, 0, 0]);
                return R.box(R.types['ac-3'], P, R.box(R.types.dac3, new Uint8Array(S.config)));
              }),
              (R.esds = function (S) {
                var E = S.config || [],
                  p = E.length,
                  P = new Uint8Array([0, 0, 0, 0, 3, 23 + p, 0, 1, 0, 4, 15 + p, 64, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5].concat([p]).concat(E).concat([6, 1, 2]));
                return R.box(R.types.esds, P);
              }),
              (R.Opus = function (S) {
                var E = S.channelCount,
                  p = S.audioSampleRate,
                  P = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, E, 0, 16, 0, 0, 0, 0, (p >>> 8) & 255, 255 & p, 0, 0]);
                return R.box(R.types.Opus, P, R.dOps(S));
              }),
              (R.dOps = function (S) {
                var E = S.channelCount,
                  p = S.channelConfigCode,
                  P = S.audioSampleRate;
                if (S.config) return R.box(R.types.dOps, $);
                var N = [];
                switch (p) {
                  case 1:
                  case 2:
                    N = [0];
                    break;
                  case 0:
                    N = [255, 1, 1, 0, 1];
                    break;
                  case 128:
                    N = [255, 2, 0, 0, 1];
                    break;
                  case 3:
                    N = [1, 2, 1, 0, 2, 1];
                    break;
                  case 4:
                    N = [1, 2, 2, 0, 1, 2, 3];
                    break;
                  case 5:
                    N = [1, 3, 2, 0, 4, 1, 2, 3];
                    break;
                  case 6:
                    N = [1, 4, 2, 0, 4, 1, 2, 3, 5];
                    break;
                  case 7:
                    N = [1, 4, 2, 0, 4, 1, 2, 3, 5, 6];
                    break;
                  case 8:
                    N = [1, 5, 3, 0, 6, 1, 2, 3, 4, 5, 7];
                    break;
                  case 130:
                    N = [1, 1, 2, 0, 1];
                    break;
                  case 131:
                    N = [1, 1, 3, 0, 1, 2];
                    break;
                  case 132:
                    N = [1, 1, 4, 0, 1, 2, 3];
                    break;
                  case 133:
                    N = [1, 1, 5, 0, 1, 2, 3, 4];
                    break;
                  case 134:
                    N = [1, 1, 6, 0, 1, 2, 3, 4, 5];
                    break;
                  case 135:
                    N = [1, 1, 7, 0, 1, 2, 3, 4, 5, 6];
                    break;
                  case 136:
                    N = [1, 1, 8, 0, 1, 2, 3, 4, 5, 6, 7];
                }
                var $ = new Uint8Array(kn([0, E, 0, 0, (P >>> 24) & 255, (P >>> 17) & 255, (P >>> 8) & 255, (P >>> 0) & 255, 0, 0], N));
                return R.box(R.types.dOps, $);
              }),
              (R.avc1 = function (S) {
                var E = S.avcc,
                  p = S.codecWidth,
                  P = S.codecHeight,
                  N = new Uint8Array([
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    (p >>> 8) & 255,
                    255 & p,
                    (P >>> 8) & 255,
                    255 & P,
                    0,
                    72,
                    0,
                    0,
                    0,
                    72,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    1,
                    10,
                    120,
                    113,
                    113,
                    47,
                    102,
                    108,
                    118,
                    46,
                    106,
                    115,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    24,
                    255,
                    255,
                  ]);
                return R.box(R.types.avc1, N, R.box(R.types.avcC, E));
              }),
              (R.hvc1 = function (S) {
                var E = S.hvcc,
                  p = S.codecWidth,
                  P = S.codecHeight,
                  N = new Uint8Array([
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    1,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    (p >>> 8) & 255,
                    255 & p,
                    (P >>> 8) & 255,
                    255 & P,
                    0,
                    72,
                    0,
                    0,
                    0,
                    72,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    1,
                    10,
                    120,
                    113,
                    113,
                    47,
                    102,
                    108,
                    118,
                    46,
                    106,
                    115,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    0,
                    24,
                    255,
                    255,
                  ]);
                return R.box(R.types.hvc1, N, R.box(R.types.hvcC, E));
              }),
              (R.mvex = function (S) {
                return R.box(R.types.mvex, R.trex(S));
              }),
              (R.trex = function (S) {
                var E = S.id,
                  p = new Uint8Array([0, 0, 0, 0, (E >>> 24) & 255, (E >>> 16) & 255, (E >>> 8) & 255, 255 & E, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1]);
                return R.box(R.types.trex, p);
              }),
              (R.moof = function (S, E) {
                return R.box(R.types.moof, R.mfhd(S.sequenceNumber), R.traf(S, E));
              }),
              (R.mfhd = function (S) {
                var E = new Uint8Array([0, 0, 0, 0, (S >>> 24) & 255, (S >>> 16) & 255, (S >>> 8) & 255, 255 & S]);
                return R.box(R.types.mfhd, E);
              }),
              (R.traf = function (S, E) {
                var p = S.id,
                  P = R.box(R.types.tfhd, new Uint8Array([0, 0, 0, 0, (p >>> 24) & 255, (p >>> 16) & 255, (p >>> 8) & 255, 255 & p])),
                  N = R.box(R.types.tfdt, new Uint8Array([0, 0, 0, 0, (E >>> 24) & 255, (E >>> 16) & 255, (E >>> 8) & 255, 255 & E])),
                  $ = R.sdtp(S),
                  j = R.trun(S, $.byteLength + 16 + 16 + 8 + 16 + 8 + 8);
                return R.box(R.types.traf, P, N, j, $);
              }),
              (R.sdtp = function (S) {
                for (var E = S.samples || [], p = E.length, P = new Uint8Array(4 + p), N = 0; N < p; N++) {
                  var $ = E[N].flags;
                  P[N + 4] = ($.isLeading << 6) | ($.dependsOn << 4) | ($.isDependedOn << 2) | $.hasRedundancy;
                }
                return R.box(R.types.sdtp, P);
              }),
              (R.trun = function (S, E) {
                var p = S.samples || [],
                  P = p.length,
                  N = 12 + 16 * P,
                  $ = new Uint8Array(N);
                (E += 8 + N), $.set([0, 0, 15, 1, (P >>> 24) & 255, (P >>> 16) & 255, (P >>> 8) & 255, 255 & P, (E >>> 24) & 255, (E >>> 16) & 255, (E >>> 8) & 255, 255 & E], 0);
                for (var j = 0; j < P; j++) {
                  var Z = p[j].duration,
                    J = p[j].size,
                    re = p[j].flags,
                    se = p[j].cts;
                  $.set(
                    [
                      (Z >>> 24) & 255,
                      (Z >>> 16) & 255,
                      (Z >>> 8) & 255,
                      255 & Z,
                      (J >>> 24) & 255,
                      (J >>> 16) & 255,
                      (J >>> 8) & 255,
                      255 & J,
                      (re.isLeading << 2) | re.dependsOn,
                      (re.isDependedOn << 6) | (re.hasRedundancy << 4) | re.isNonSync,
                      0,
                      0,
                      (se >>> 24) & 255,
                      (se >>> 16) & 255,
                      (se >>> 8) & 255,
                      255 & se,
                    ],
                    12 + 16 * j,
                  );
                }
                return R.box(R.types.trun, $);
              }),
              (R.mdat = function (S) {
                return R.box(R.types.mdat, S);
              }),
              R
            );
          })();
        Mn.init();
        var Xe = Mn,
          Ce = (function () {
            function R() {}
            return (
              (R.getSilentFrame = function (S, E) {
                if (S === 'mp4a.40.2') {
                  if (E === 1) return new Uint8Array([0, 200, 0, 128, 35, 128]);
                  if (E === 2) return new Uint8Array([33, 0, 73, 144, 2, 25, 0, 35, 128]);
                  if (E === 3) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 142]);
                  if (E === 4) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 128, 44, 128, 8, 2, 56]);
                  if (E === 5) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 56]);
                  if (E === 6) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 0, 178, 0, 32, 8, 224]);
                } else {
                  if (E === 1)
                    return new Uint8Array([
                      1, 64, 34, 128, 163, 78, 230, 128, 186, 8, 0, 0, 0, 28, 6, 241, 193, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90,
                      90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94,
                    ]);
                  if (E === 2)
                    return new Uint8Array([
                      1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90,
                      90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94,
                    ]);
                  if (E === 3)
                    return new Uint8Array([
                      1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90,
                      90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94,
                    ]);
                }
                return null;
              }),
              R
            );
          })(),
          Se = i(7),
          ke = (function () {
            function R(S) {
              (this.TAG = 'MP4Remuxer'),
                (this._config = S),
                (this._isLive = S.isLive === !0),
                (this._dtsBase = -1),
                (this._dtsBaseInited = !1),
                (this._audioDtsBase = 1 / 0),
                (this._videoDtsBase = 1 / 0),
                (this._audioNextDts = void 0),
                (this._videoNextDts = void 0),
                (this._audioStashedLastSample = null),
                (this._videoStashedLastSample = null),
                (this._audioMeta = null),
                (this._videoMeta = null),
                (this._audioSegmentInfoList = new Se.c('audio')),
                (this._videoSegmentInfoList = new Se.c('video')),
                (this._onInitSegment = null),
                (this._onMediaSegment = null),
                (this._forceFirstIDR = !(!l.a.chrome || !(l.a.version.major < 50 || (l.a.version.major === 50 && l.a.version.build < 2661)))),
                (this._fillSilentAfterSeek = l.a.msedge || l.a.msie),
                (this._mp3UseMpegAudio = !l.a.firefox),
                (this._fillAudioTimestampGap = this._config.fixAudioTimestampGap);
            }
            return (
              (R.prototype.destroy = function () {
                (this._dtsBase = -1),
                  (this._dtsBaseInited = !1),
                  (this._audioMeta = null),
                  (this._videoMeta = null),
                  this._audioSegmentInfoList.clear(),
                  (this._audioSegmentInfoList = null),
                  this._videoSegmentInfoList.clear(),
                  (this._videoSegmentInfoList = null),
                  (this._onInitSegment = null),
                  (this._onMediaSegment = null);
              }),
              (R.prototype.bindDataSource = function (S) {
                return (S.onDataAvailable = this.remux.bind(this)), (S.onTrackMetadata = this._onTrackMetadataReceived.bind(this)), this;
              }),
              Object.defineProperty(R.prototype, 'onInitSegment', {
                get: function () {
                  return this._onInitSegment;
                },
                set: function (S) {
                  this._onInitSegment = S;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(R.prototype, 'onMediaSegment', {
                get: function () {
                  return this._onMediaSegment;
                },
                set: function (S) {
                  this._onMediaSegment = S;
                },
                enumerable: !1,
                configurable: !0,
              }),
              (R.prototype.insertDiscontinuity = function () {
                this._audioNextDts = this._videoNextDts = void 0;
              }),
              (R.prototype.seek = function (S) {
                (this._audioStashedLastSample = null), (this._videoStashedLastSample = null), this._videoSegmentInfoList.clear(), this._audioSegmentInfoList.clear();
              }),
              (R.prototype.remux = function (S, E) {
                if (!this._onMediaSegment) throw new h.a('MP4Remuxer: onMediaSegment callback must be specificed!');
                this._dtsBaseInited || this._calculateDtsBase(S, E), E && this._remuxVideo(E), S && this._remuxAudio(S);
              }),
              (R.prototype._onTrackMetadataReceived = function (S, E) {
                var p = null,
                  P = 'mp4',
                  N = E.codec;
                if (S === 'audio') (this._audioMeta = E), E.codec === 'mp3' && this._mp3UseMpegAudio ? ((P = 'mpeg'), (N = ''), (p = new Uint8Array())) : (p = Xe.generateInitSegment(E));
                else {
                  if (S !== 'video') return;
                  (this._videoMeta = E), (p = Xe.generateInitSegment(E));
                }
                if (!this._onInitSegment) throw new h.a('MP4Remuxer: onInitSegment callback must be specified!');
                this._onInitSegment(S, { type: S, data: p.buffer, codec: N, container: S + '/' + P, mediaDuration: E.duration });
              }),
              (R.prototype._calculateDtsBase = function (S, E) {
                this._dtsBaseInited ||
                  (S && S.samples && S.samples.length && (this._audioDtsBase = S.samples[0].dts),
                  E && E.samples && E.samples.length && (this._videoDtsBase = E.samples[0].dts),
                  (this._dtsBase = Math.min(this._audioDtsBase, this._videoDtsBase)),
                  (this._dtsBaseInited = !0));
              }),
              (R.prototype.getTimestampBase = function () {
                if (this._dtsBaseInited) return this._dtsBase;
              }),
              (R.prototype.flushStashedSamples = function () {
                var S = this._videoStashedLastSample,
                  E = this._audioStashedLastSample,
                  p = { type: 'video', id: 1, sequenceNumber: 0, samples: [], length: 0 };
                S != null && (p.samples.push(S), (p.length = S.length));
                var P = { type: 'audio', id: 2, sequenceNumber: 0, samples: [], length: 0 };
                E != null && (P.samples.push(E), (P.length = E.length)), (this._videoStashedLastSample = null), (this._audioStashedLastSample = null), this._remuxVideo(p, !0), this._remuxAudio(P, !0);
              }),
              (R.prototype._remuxAudio = function (S, E) {
                if (this._audioMeta != null) {
                  var p,
                    P = S,
                    N = P.samples,
                    $ = void 0,
                    j = -1,
                    Z = this._audioMeta.refSampleDuration,
                    J = this._audioMeta.codec === 'mp3' && this._mp3UseMpegAudio,
                    re = this._dtsBaseInited && this._audioNextDts === void 0,
                    se = !1;
                  if (N && N.length !== 0 && (N.length !== 1 || E)) {
                    var ie = 0,
                      ae = null,
                      fe = 0;
                    J ? ((ie = 0), (fe = P.length)) : ((ie = 8), (fe = 8 + P.length));
                    var xe = null;
                    if ((N.length > 1 && (fe -= (xe = N.pop()).length), this._audioStashedLastSample != null)) {
                      var ye = this._audioStashedLastSample;
                      (this._audioStashedLastSample = null), N.unshift(ye), (fe += ye.length);
                    }
                    xe != null && (this._audioStashedLastSample = xe);
                    var Oe = N[0].dts - this._dtsBase;
                    if (this._audioNextDts) $ = Oe - this._audioNextDts;
                    else if (this._audioSegmentInfoList.isEmpty()) ($ = 0), this._fillSilentAfterSeek && !this._videoSegmentInfoList.isEmpty() && this._audioMeta.originalCodec !== 'mp3' && (se = !0);
                    else {
                      var Pe = this._audioSegmentInfoList.getLastSampleBefore(Oe);
                      if (Pe != null) {
                        var Re = Oe - (Pe.originalDts + Pe.duration);
                        Re <= 3 && (Re = 0), ($ = Oe - (Pe.dts + Pe.duration + Re));
                      } else $ = 0;
                    }
                    if (se) {
                      var et = Oe - $,
                        gt = this._videoSegmentInfoList.getLastSegmentBefore(Oe);
                      if (gt != null && gt.beginDts < et) {
                        if ((qe = Ce.getSilentFrame(this._audioMeta.originalCodec, this._audioMeta.channelCount))) {
                          var Ae = gt.beginDts,
                            We = et - gt.beginDts;
                          s.a.v(this.TAG, 'InsertPrefixSilentAudio: dts: ' + Ae + ', duration: ' + We), N.unshift({ unit: qe, dts: Ae, pts: Ae }), (fe += qe.byteLength);
                        }
                      } else se = !1;
                    }
                    for (var ot = [], Qe = 0; Qe < N.length; Qe++) {
                      var nt = (ye = N[Qe]).unit,
                        Lt = ye.dts - this._dtsBase,
                        Qt = ((Ae = Lt), !1),
                        st = null,
                        Et = 0;
                      if (!(Lt < -0.001)) {
                        if (this._audioMeta.codec !== 'mp3') {
                          var Ut = Lt;
                          if ((this._audioNextDts && (Ut = this._audioNextDts), ($ = Lt - Ut) <= -3 * Z)) {
                            s.a.w(this.TAG, 'Dropping 1 audio frame (originalDts: ' + Lt + ' ms ,curRefDts: ' + Ut + ' ms)  due to dtsCorrection: ' + $ + ' ms overlap.');
                            continue;
                          }
                          if ($ >= 3 * Z && this._fillAudioTimestampGap && !l.a.safari) {
                            Qt = !0;
                            var qe,
                              Ze = Math.floor($ / Z);
                            s.a.w(
                              this.TAG,
                              `Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.
originalDts: ` +
                                Lt +
                                ' ms, curRefDts: ' +
                                Ut +
                                ' ms, dtsCorrection: ' +
                                Math.round($) +
                                ' ms, generate: ' +
                                Ze +
                                ' frames',
                            ),
                              (Ae = Math.floor(Ut)),
                              (Et = Math.floor(Ut + Z) - Ae),
                              (qe = Ce.getSilentFrame(this._audioMeta.originalCodec, this._audioMeta.channelCount)) == null &&
                                (s.a.w(this.TAG, 'Unable to generate silent frame for ' + this._audioMeta.originalCodec + ' with ' + this._audioMeta.channelCount + ' channels, repeat last frame'),
                                (qe = nt)),
                              (st = []);
                            for (var Ft = 0; Ft < Ze; Ft++) {
                              Ut += Z;
                              var zt = Math.floor(Ut),
                                ht = Math.floor(Ut + Z) - zt,
                                Nt = {
                                  dts: zt,
                                  pts: zt,
                                  cts: 0,
                                  unit: qe,
                                  size: qe.byteLength,
                                  duration: ht,
                                  originalDts: Lt,
                                  flags: { isLeading: 0, dependsOn: 1, isDependedOn: 0, hasRedundancy: 0 },
                                };
                              st.push(Nt), (fe += Nt.size);
                            }
                            this._audioNextDts = Ut + Z;
                          } else (Ae = Math.floor(Ut)), (Et = Math.floor(Ut + Z) - Ae), (this._audioNextDts = Ut + Z);
                        } else
                          (Ae = Lt - $),
                            Qe !== N.length - 1
                              ? (Et = N[Qe + 1].dts - this._dtsBase - $ - Ae)
                              : xe != null
                              ? (Et = xe.dts - this._dtsBase - $ - Ae)
                              : (Et = ot.length >= 1 ? ot[ot.length - 1].duration : Math.floor(Z)),
                            (this._audioNextDts = Ae + Et);
                        j === -1 && (j = Ae),
                          ot.push({
                            dts: Ae,
                            pts: Ae,
                            cts: 0,
                            unit: ye.unit,
                            size: ye.unit.byteLength,
                            duration: Et,
                            originalDts: Lt,
                            flags: { isLeading: 0, dependsOn: 1, isDependedOn: 0, hasRedundancy: 0 },
                          }),
                          Qt && ot.push.apply(ot, st);
                      }
                    }
                    if (ot.length === 0) return (P.samples = []), void (P.length = 0);
                    for (
                      J
                        ? (ae = new Uint8Array(fe))
                        : (((ae = new Uint8Array(fe))[0] = (fe >>> 24) & 255), (ae[1] = (fe >>> 16) & 255), (ae[2] = (fe >>> 8) & 255), (ae[3] = 255 & fe), ae.set(Xe.types.mdat, 4)),
                        Qe = 0;
                      Qe < ot.length;
                      Qe++
                    )
                      (nt = ot[Qe].unit), ae.set(nt, ie), (ie += nt.byteLength);
                    var It = ot[ot.length - 1];
                    p = It.dts + It.duration;
                    var ut = new Se.b();
                    (ut.beginDts = j),
                      (ut.endDts = p),
                      (ut.beginPts = j),
                      (ut.endPts = p),
                      (ut.originalBeginDts = ot[0].originalDts),
                      (ut.originalEndDts = It.originalDts + It.duration),
                      (ut.firstSample = new Se.d(ot[0].dts, ot[0].pts, ot[0].duration, ot[0].originalDts, !1)),
                      (ut.lastSample = new Se.d(It.dts, It.pts, It.duration, It.originalDts, !1)),
                      this._isLive || this._audioSegmentInfoList.append(ut),
                      (P.samples = ot),
                      P.sequenceNumber++;
                    var nn = null;
                    (nn = J ? new Uint8Array() : Xe.moof(P, j)), (P.samples = []), (P.length = 0);
                    var Sn = { type: 'audio', data: this._mergeBoxes(nn, ae).buffer, sampleCount: ot.length, info: ut };
                    J && re && (Sn.timestampOffset = j), this._onMediaSegment('audio', Sn);
                  }
                }
              }),
              (R.prototype._remuxVideo = function (S, E) {
                if (this._videoMeta != null) {
                  var p,
                    P,
                    N = S,
                    $ = N.samples,
                    j = void 0,
                    Z = -1,
                    J = -1;
                  if ($ && $.length !== 0 && ($.length !== 1 || E)) {
                    var re = 8,
                      se = null,
                      ie = 8 + S.length,
                      ae = null;
                    if (($.length > 1 && (ie -= (ae = $.pop()).length), this._videoStashedLastSample != null)) {
                      var fe = this._videoStashedLastSample;
                      (this._videoStashedLastSample = null), $.unshift(fe), (ie += fe.length);
                    }
                    ae != null && (this._videoStashedLastSample = ae);
                    var xe = $[0].dts - this._dtsBase;
                    if (this._videoNextDts) j = xe - this._videoNextDts;
                    else if (this._videoSegmentInfoList.isEmpty()) j = 0;
                    else {
                      var ye = this._videoSegmentInfoList.getLastSampleBefore(xe);
                      if (ye != null) {
                        var Oe = xe - (ye.originalDts + ye.duration);
                        Oe <= 3 && (Oe = 0), (j = xe - (ye.dts + ye.duration + Oe));
                      } else j = 0;
                    }
                    for (var Pe = new Se.b(), Re = [], et = 0; et < $.length; et++) {
                      var gt = (fe = $[et]).dts - this._dtsBase,
                        Ae = fe.isKeyframe,
                        We = gt - j,
                        ot = fe.cts,
                        Qe = We + ot;
                      Z === -1 && ((Z = We), (J = Qe));
                      var nt = 0;
                      if (
                        (et !== $.length - 1
                          ? (nt = $[et + 1].dts - this._dtsBase - j - We)
                          : ae != null
                          ? (nt = ae.dts - this._dtsBase - j - We)
                          : (nt = Re.length >= 1 ? Re[Re.length - 1].duration : Math.floor(this._videoMeta.refSampleDuration)),
                        Ae)
                      ) {
                        var Lt = new Se.d(We, Qe, nt, fe.dts, !0);
                        (Lt.fileposition = fe.fileposition), Pe.appendSyncPoint(Lt);
                      }
                      Re.push({
                        dts: We,
                        pts: Qe,
                        cts: ot,
                        units: fe.units,
                        size: fe.length,
                        isKeyframe: Ae,
                        duration: nt,
                        originalDts: gt,
                        flags: { isLeading: 0, dependsOn: Ae ? 2 : 1, isDependedOn: Ae ? 1 : 0, hasRedundancy: 0, isNonSync: Ae ? 0 : 1 },
                      });
                    }
                    for (
                      (se = new Uint8Array(ie))[0] = (ie >>> 24) & 255, se[1] = (ie >>> 16) & 255, se[2] = (ie >>> 8) & 255, se[3] = 255 & ie, se.set(Xe.types.mdat, 4), et = 0;
                      et < Re.length;
                      et++
                    )
                      for (var Qt = Re[et].units; Qt.length; ) {
                        var st = Qt.shift().data;
                        se.set(st, re), (re += st.byteLength);
                      }
                    var Et = Re[Re.length - 1];
                    if (
                      ((p = Et.dts + Et.duration),
                      (P = Et.pts + Et.duration),
                      (this._videoNextDts = p),
                      (Pe.beginDts = Z),
                      (Pe.endDts = p),
                      (Pe.beginPts = J),
                      (Pe.endPts = P),
                      (Pe.originalBeginDts = Re[0].originalDts),
                      (Pe.originalEndDts = Et.originalDts + Et.duration),
                      (Pe.firstSample = new Se.d(Re[0].dts, Re[0].pts, Re[0].duration, Re[0].originalDts, Re[0].isKeyframe)),
                      (Pe.lastSample = new Se.d(Et.dts, Et.pts, Et.duration, Et.originalDts, Et.isKeyframe)),
                      this._isLive || this._videoSegmentInfoList.append(Pe),
                      (N.samples = Re),
                      N.sequenceNumber++,
                      this._forceFirstIDR)
                    ) {
                      var Ut = Re[0].flags;
                      (Ut.dependsOn = 2), (Ut.isNonSync = 0);
                    }
                    var qe = Xe.moof(N, Z);
                    (N.samples = []), (N.length = 0), this._onMediaSegment('video', { type: 'video', data: this._mergeBoxes(qe, se).buffer, sampleCount: Re.length, info: Pe });
                  }
                }
              }),
              (R.prototype._mergeBoxes = function (S, E) {
                var p = new Uint8Array(S.byteLength + E.byteLength);
                return p.set(S, 0), p.set(E, S.byteLength), p;
              }),
              R
            );
          })(),
          Ve = i(11),
          Ke = i(1),
          xt = (function () {
            function R(S, E) {
              (this.TAG = 'TransmuxingController'),
                (this._emitter = new a.a()),
                (this._config = E),
                S.segments || (S.segments = [{ duration: S.duration, filesize: S.filesize, url: S.url }]),
                typeof S.cors != 'boolean' && (S.cors = !0),
                typeof S.withCredentials != 'boolean' && (S.withCredentials = !1),
                (this._mediaDataSource = S),
                (this._currentSegmentIndex = 0);
              var p = 0;
              this._mediaDataSource.segments.forEach(function (P) {
                (P.timestampBase = p), (p += P.duration), (P.cors = S.cors), (P.withCredentials = S.withCredentials), E.referrerPolicy && (P.referrerPolicy = E.referrerPolicy);
              }),
                isNaN(p) || this._mediaDataSource.duration === p || (this._mediaDataSource.duration = p),
                (this._mediaInfo = null),
                (this._demuxer = null),
                (this._remuxer = null),
                (this._ioctl = null),
                (this._pendingSeekTime = null),
                (this._pendingResolveSeekPoint = null),
                (this._statisticsReporter = null);
            }
            return (
              (R.prototype.destroy = function () {
                (this._mediaInfo = null),
                  (this._mediaDataSource = null),
                  this._statisticsReporter && this._disableStatisticsReporter(),
                  this._ioctl && (this._ioctl.destroy(), (this._ioctl = null)),
                  this._demuxer && (this._demuxer.destroy(), (this._demuxer = null)),
                  this._remuxer && (this._remuxer.destroy(), (this._remuxer = null)),
                  this._emitter.removeAllListeners(),
                  (this._emitter = null);
              }),
              (R.prototype.on = function (S, E) {
                this._emitter.addListener(S, E);
              }),
              (R.prototype.off = function (S, E) {
                this._emitter.removeListener(S, E);
              }),
              (R.prototype.start = function () {
                this._loadSegment(0), this._enableStatisticsReporter();
              }),
              (R.prototype._loadSegment = function (S, E) {
                this._currentSegmentIndex = S;
                var p = this._mediaDataSource.segments[S],
                  P = (this._ioctl = new Ve.a(p, this._config, S));
                (P.onError = this._onIOException.bind(this)),
                  (P.onSeeked = this._onIOSeeked.bind(this)),
                  (P.onComplete = this._onIOComplete.bind(this)),
                  (P.onRedirect = this._onIORedirect.bind(this)),
                  (P.onRecoveredEarlyEof = this._onIORecoveredEarlyEof.bind(this)),
                  E ? this._demuxer.bindDataSource(this._ioctl) : (P.onDataArrival = this._onInitChunkArrival.bind(this)),
                  P.open(E);
              }),
              (R.prototype.stop = function () {
                this._internalAbort(), this._disableStatisticsReporter();
              }),
              (R.prototype._internalAbort = function () {
                this._ioctl && (this._ioctl.destroy(), (this._ioctl = null));
              }),
              (R.prototype.pause = function () {
                this._ioctl && this._ioctl.isWorking() && (this._ioctl.pause(), this._disableStatisticsReporter());
              }),
              (R.prototype.resume = function () {
                this._ioctl && this._ioctl.isPaused() && (this._ioctl.resume(), this._enableStatisticsReporter());
              }),
              (R.prototype.seek = function (S) {
                if (this._mediaInfo != null && this._mediaInfo.isSeekable()) {
                  var E = this._searchSegmentIndexContains(S);
                  if (E === this._currentSegmentIndex) {
                    var p = this._mediaInfo.segments[E];
                    if (p == null) this._pendingSeekTime = S;
                    else {
                      var P = p.getNearestKeyframe(S);
                      this._remuxer.seek(P.milliseconds), this._ioctl.seek(P.fileposition), (this._pendingResolveSeekPoint = P.milliseconds);
                    }
                  } else {
                    var N = this._mediaInfo.segments[E];
                    N == null
                      ? ((this._pendingSeekTime = S), this._internalAbort(), this._remuxer.seek(), this._remuxer.insertDiscontinuity(), this._loadSegment(E))
                      : ((P = N.getNearestKeyframe(S)),
                        this._internalAbort(),
                        this._remuxer.seek(S),
                        this._remuxer.insertDiscontinuity(),
                        this._demuxer.resetMediaInfo(),
                        (this._demuxer.timestampBase = this._mediaDataSource.segments[E].timestampBase),
                        this._loadSegment(E, P.fileposition),
                        (this._pendingResolveSeekPoint = P.milliseconds),
                        this._reportSegmentMediaInfo(E));
                  }
                  this._enableStatisticsReporter();
                }
              }),
              (R.prototype._searchSegmentIndexContains = function (S) {
                for (var E = this._mediaDataSource.segments, p = E.length - 1, P = 0; P < E.length; P++)
                  if (S < E[P].timestampBase) {
                    p = P - 1;
                    break;
                  }
                return p;
              }),
              (R.prototype._onInitChunkArrival = function (S, E) {
                var p = this,
                  P = 0;
                if (E > 0)
                  this._demuxer.bindDataSource(this._ioctl),
                    (this._demuxer.timestampBase = this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase),
                    (P = this._demuxer.parseChunks(S, E));
                else {
                  var N = null;
                  (N = B.probe(S)).match && (this._setupFLVDemuxerRemuxer(N), (P = this._demuxer.parseChunks(S, E))),
                    N.match || N.needMoreData || ((N = tn.probe(S)).match && (this._setupTSDemuxerRemuxer(N), (P = this._demuxer.parseChunks(S, E)))),
                    N.match ||
                      N.needMoreData ||
                      ((N = null),
                      s.a.e(this.TAG, 'Non MPEG-TS/FLV, Unsupported media type!'),
                      Promise.resolve().then(function () {
                        p._internalAbort();
                      }),
                      this._emitter.emit(Ke.a.DEMUX_ERROR, y.a.FORMAT_UNSUPPORTED, 'Non MPEG-TS/FLV, Unsupported media type!'));
                }
                return P;
              }),
              (R.prototype._setupFLVDemuxerRemuxer = function (S) {
                (this._demuxer = new B(S, this._config)), this._remuxer || (this._remuxer = new ke(this._config));
                var E = this._mediaDataSource;
                E.duration == null || isNaN(E.duration) || (this._demuxer.overridedDuration = E.duration),
                  typeof E.hasAudio == 'boolean' && (this._demuxer.overridedHasAudio = E.hasAudio),
                  typeof E.hasVideo == 'boolean' && (this._demuxer.overridedHasVideo = E.hasVideo),
                  (this._demuxer.timestampBase = E.segments[this._currentSegmentIndex].timestampBase),
                  (this._demuxer.onError = this._onDemuxException.bind(this)),
                  (this._demuxer.onMediaInfo = this._onMediaInfo.bind(this)),
                  (this._demuxer.onMetaDataArrived = this._onMetaDataArrived.bind(this)),
                  (this._demuxer.onScriptDataArrived = this._onScriptDataArrived.bind(this)),
                  this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),
                  (this._remuxer.onInitSegment = this._onRemuxerInitSegmentArrival.bind(this)),
                  (this._remuxer.onMediaSegment = this._onRemuxerMediaSegmentArrival.bind(this));
              }),
              (R.prototype._setupTSDemuxerRemuxer = function (S) {
                var E = (this._demuxer = new tn(S, this._config));
                this._remuxer || (this._remuxer = new ke(this._config)),
                  (E.onError = this._onDemuxException.bind(this)),
                  (E.onMediaInfo = this._onMediaInfo.bind(this)),
                  (E.onMetaDataArrived = this._onMetaDataArrived.bind(this)),
                  (E.onTimedID3Metadata = this._onTimedID3Metadata.bind(this)),
                  (E.onSMPTE2038Metadata = this._onSMPTE2038Metadata.bind(this)),
                  (E.onSCTE35Metadata = this._onSCTE35Metadata.bind(this)),
                  (E.onPESPrivateDataDescriptor = this._onPESPrivateDataDescriptor.bind(this)),
                  (E.onPESPrivateData = this._onPESPrivateData.bind(this)),
                  this._remuxer.bindDataSource(this._demuxer),
                  this._demuxer.bindDataSource(this._ioctl),
                  (this._remuxer.onInitSegment = this._onRemuxerInitSegmentArrival.bind(this)),
                  (this._remuxer.onMediaSegment = this._onRemuxerMediaSegmentArrival.bind(this));
              }),
              (R.prototype._onMediaInfo = function (S) {
                var E = this;
                this._mediaInfo == null &&
                  ((this._mediaInfo = Object.assign({}, S)),
                  (this._mediaInfo.keyframesIndex = null),
                  (this._mediaInfo.segments = []),
                  (this._mediaInfo.segmentCount = this._mediaDataSource.segments.length),
                  Object.setPrototypeOf(this._mediaInfo, u.a.prototype));
                var p = Object.assign({}, S);
                Object.setPrototypeOf(p, u.a.prototype),
                  (this._mediaInfo.segments[this._currentSegmentIndex] = p),
                  this._reportSegmentMediaInfo(this._currentSegmentIndex),
                  this._pendingSeekTime != null &&
                    Promise.resolve().then(function () {
                      var P = E._pendingSeekTime;
                      (E._pendingSeekTime = null), E.seek(P);
                    });
              }),
              (R.prototype._onMetaDataArrived = function (S) {
                this._emitter.emit(Ke.a.METADATA_ARRIVED, S);
              }),
              (R.prototype._onScriptDataArrived = function (S) {
                this._emitter.emit(Ke.a.SCRIPTDATA_ARRIVED, S);
              }),
              (R.prototype._onTimedID3Metadata = function (S) {
                var E = this._remuxer.getTimestampBase();
                E != null && (S.pts != null && (S.pts -= E), S.dts != null && (S.dts -= E), this._emitter.emit(Ke.a.TIMED_ID3_METADATA_ARRIVED, S));
              }),
              (R.prototype._onSMPTE2038Metadata = function (S) {
                var E = this._remuxer.getTimestampBase();
                E != null && (S.pts != null && (S.pts -= E), S.dts != null && (S.dts -= E), S.nearest_pts != null && (S.nearest_pts -= E), this._emitter.emit(Ke.a.SMPTE2038_METADATA_ARRIVED, S));
              }),
              (R.prototype._onSCTE35Metadata = function (S) {
                var E = this._remuxer.getTimestampBase();
                E != null && (S.pts != null && (S.pts -= E), S.nearest_pts != null && (S.nearest_pts -= E), this._emitter.emit(Ke.a.SCTE35_METADATA_ARRIVED, S));
              }),
              (R.prototype._onPESPrivateDataDescriptor = function (S) {
                this._emitter.emit(Ke.a.PES_PRIVATE_DATA_DESCRIPTOR, S);
              }),
              (R.prototype._onPESPrivateData = function (S) {
                var E = this._remuxer.getTimestampBase();
                E != null && (S.pts != null && (S.pts -= E), S.nearest_pts != null && (S.nearest_pts -= E), S.dts != null && (S.dts -= E), this._emitter.emit(Ke.a.PES_PRIVATE_DATA_ARRIVED, S));
              }),
              (R.prototype._onIOSeeked = function () {
                this._remuxer.insertDiscontinuity();
              }),
              (R.prototype._onIOComplete = function (S) {
                var E = S + 1;
                E < this._mediaDataSource.segments.length
                  ? (this._internalAbort(), this._remuxer && this._remuxer.flushStashedSamples(), this._loadSegment(E))
                  : (this._remuxer && this._remuxer.flushStashedSamples(), this._emitter.emit(Ke.a.LOADING_COMPLETE), this._disableStatisticsReporter());
              }),
              (R.prototype._onIORedirect = function (S) {
                var E = this._ioctl.extraData;
                this._mediaDataSource.segments[E].redirectedURL = S;
              }),
              (R.prototype._onIORecoveredEarlyEof = function () {
                this._emitter.emit(Ke.a.RECOVERED_EARLY_EOF);
              }),
              (R.prototype._onIOException = function (S, E) {
                s.a.e(this.TAG, 'IOException: type = ' + S + ', code = ' + E.code + ', msg = ' + E.msg), this._emitter.emit(Ke.a.IO_ERROR, S, E), this._disableStatisticsReporter();
              }),
              (R.prototype._onDemuxException = function (S, E) {
                s.a.e(this.TAG, 'DemuxException: type = ' + S + ', info = ' + E), this._emitter.emit(Ke.a.DEMUX_ERROR, S, E);
              }),
              (R.prototype._onRemuxerInitSegmentArrival = function (S, E) {
                this._emitter.emit(Ke.a.INIT_SEGMENT, S, E);
              }),
              (R.prototype._onRemuxerMediaSegmentArrival = function (S, E) {
                if (this._pendingSeekTime == null && (this._emitter.emit(Ke.a.MEDIA_SEGMENT, S, E), this._pendingResolveSeekPoint != null && S === 'video')) {
                  var p = E.info.syncPoints,
                    P = this._pendingResolveSeekPoint;
                  (this._pendingResolveSeekPoint = null), l.a.safari && p.length > 0 && p[0].originalDts === P && (P = p[0].pts), this._emitter.emit(Ke.a.RECOMMEND_SEEKPOINT, P);
                }
              }),
              (R.prototype._enableStatisticsReporter = function () {
                this._statisticsReporter == null && (this._statisticsReporter = self.setInterval(this._reportStatisticsInfo.bind(this), this._config.statisticsInfoReportInterval));
              }),
              (R.prototype._disableStatisticsReporter = function () {
                this._statisticsReporter && (self.clearInterval(this._statisticsReporter), (this._statisticsReporter = null));
              }),
              (R.prototype._reportSegmentMediaInfo = function (S) {
                var E = this._mediaInfo.segments[S],
                  p = Object.assign({}, E);
                (p.duration = this._mediaInfo.duration), (p.segmentCount = this._mediaInfo.segmentCount), delete p.segments, delete p.keyframesIndex, this._emitter.emit(Ke.a.MEDIA_INFO, p);
              }),
              (R.prototype._reportStatisticsInfo = function () {
                var S = {};
                (S.url = this._ioctl.currentURL),
                  (S.hasRedirect = this._ioctl.hasRedirect),
                  S.hasRedirect && (S.redirectedURL = this._ioctl.currentRedirectedURL),
                  (S.speed = this._ioctl.currentSpeed),
                  (S.loaderType = this._ioctl.loaderType),
                  (S.currentSegmentIndex = this._currentSegmentIndex),
                  (S.totalSegmentCount = this._mediaDataSource.segments.length),
                  this._emitter.emit(Ke.a.STATISTICS_INFO, S);
              }),
              R
            );
          })();
        r.a = xt;
      },
      function (n, r, i) {
        var o,
          a = i(0),
          s = (function () {
            function O() {
              (this._firstCheckpoint = 0),
                (this._lastCheckpoint = 0),
                (this._intervalBytes = 0),
                (this._totalBytes = 0),
                (this._lastSecondBytes = 0),
                self.performance && self.performance.now ? (this._now = self.performance.now.bind(self.performance)) : (this._now = Date.now);
            }
            return (
              (O.prototype.reset = function () {
                (this._firstCheckpoint = this._lastCheckpoint = 0), (this._totalBytes = this._intervalBytes = 0), (this._lastSecondBytes = 0);
              }),
              (O.prototype.addBytes = function (x) {
                this._firstCheckpoint === 0
                  ? ((this._firstCheckpoint = this._now()), (this._lastCheckpoint = this._firstCheckpoint), (this._intervalBytes += x), (this._totalBytes += x))
                  : this._now() - this._lastCheckpoint < 1e3
                  ? ((this._intervalBytes += x), (this._totalBytes += x))
                  : ((this._lastSecondBytes = this._intervalBytes), (this._intervalBytes = x), (this._totalBytes += x), (this._lastCheckpoint = this._now()));
              }),
              Object.defineProperty(O.prototype, 'currentKBps', {
                get: function () {
                  this.addBytes(0);
                  var x = (this._now() - this._lastCheckpoint) / 1e3;
                  return x == 0 && (x = 1), this._intervalBytes / x / 1024;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(O.prototype, 'lastSecondKBps', {
                get: function () {
                  return this.addBytes(0), this._lastSecondBytes !== 0 ? this._lastSecondBytes / 1024 : this._now() - this._lastCheckpoint >= 500 ? this.currentKBps : 0;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(O.prototype, 'averageKBps', {
                get: function () {
                  var x = (this._now() - this._firstCheckpoint) / 1e3;
                  return this._totalBytes / x / 1024;
                },
                enumerable: !1,
                configurable: !0,
              }),
              O
            );
          })(),
          l = i(2),
          u = i(4),
          c = i(3),
          d =
            ((o = function (O, x) {
              return (o =
                Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array &&
                  function (L, D) {
                    L.__proto__ = D;
                  }) ||
                function (L, D) {
                  for (var C in D) D.hasOwnProperty(C) && (L[C] = D[C]);
                })(O, x);
            }),
            function (O, x) {
              function L() {
                this.constructor = O;
              }
              o(O, x), (O.prototype = x === null ? Object.create(x) : ((L.prototype = x.prototype), new L()));
            }),
          f = (function (O) {
            function x(L, D) {
              var C = O.call(this, 'fetch-stream-loader') || this;
              return (
                (C.TAG = 'FetchStreamLoader'),
                (C._seekHandler = L),
                (C._config = D),
                (C._needStash = !0),
                (C._requestAbort = !1),
                (C._abortController = null),
                (C._contentLength = null),
                (C._receivedLength = 0),
                C
              );
            }
            return (
              d(x, O),
              (x.isSupported = function () {
                try {
                  var L = u.a.msedge && u.a.version.minor >= 15048,
                    D = !u.a.msedge || L;
                  return self.fetch && self.ReadableStream && D;
                } catch {
                  return !1;
                }
              }),
              (x.prototype.destroy = function () {
                this.isWorking() && this.abort(), O.prototype.destroy.call(this);
              }),
              (x.prototype.open = function (L, D) {
                var C = this;
                (this._dataSource = L), (this._range = D);
                var G = L.url;
                this._config.reuseRedirectedURL && L.redirectedURL != null && (G = L.redirectedURL);
                var M = this._seekHandler.getConfig(G, D),
                  B = new self.Headers();
                if (typeof M.headers == 'object') {
                  var z = M.headers;
                  for (var H in z) z.hasOwnProperty(H) && B.append(H, z[H]);
                }
                var q = { method: 'GET', headers: B, mode: 'cors', cache: 'default', referrerPolicy: 'no-referrer-when-downgrade' };
                if (typeof this._config.headers == 'object') for (var H in this._config.headers) B.append(H, this._config.headers[H]);
                L.cors === !1 && (q.mode = 'same-origin'),
                  L.withCredentials && (q.credentials = 'include'),
                  L.referrerPolicy && (q.referrerPolicy = L.referrerPolicy),
                  self.AbortController && ((this._abortController = new self.AbortController()), (q.signal = this._abortController.signal)),
                  (this._status = l.c.kConnecting),
                  self
                    .fetch(M.url, q)
                    .then(function (F) {
                      if (C._requestAbort) return (C._status = l.c.kIdle), void F.body.cancel();
                      if (F.ok && F.status >= 200 && F.status <= 299) {
                        if (F.url !== M.url && C._onURLRedirect) {
                          var A = C._seekHandler.removeURLParameters(F.url);
                          C._onURLRedirect(A);
                        }
                        var k = F.headers.get('Content-Length');
                        return (
                          k != null && ((C._contentLength = parseInt(k)), C._contentLength !== 0 && C._onContentLengthKnown && C._onContentLengthKnown(C._contentLength)),
                          C._pump.call(C, F.body.getReader())
                        );
                      }
                      if (((C._status = l.c.kError), !C._onError)) throw new c.d('FetchStreamLoader: Http code invalid, ' + F.status + ' ' + F.statusText);
                      C._onError(l.b.HTTP_STATUS_CODE_INVALID, { code: F.status, msg: F.statusText });
                    })
                    .catch(function (F) {
                      if (!C._abortController || !C._abortController.signal.aborted) {
                        if (((C._status = l.c.kError), !C._onError)) throw F;
                        C._onError(l.b.EXCEPTION, { code: -1, msg: F.message });
                      }
                    });
              }),
              (x.prototype.abort = function () {
                if (((this._requestAbort = !0), (this._status !== l.c.kBuffering || !u.a.chrome) && this._abortController))
                  try {
                    this._abortController.abort();
                  } catch {}
              }),
              (x.prototype._pump = function (L) {
                var D = this;
                return L.read()
                  .then(function (C) {
                    if (C.done)
                      if (D._contentLength !== null && D._receivedLength < D._contentLength) {
                        D._status = l.c.kError;
                        var G = l.b.EARLY_EOF,
                          M = { code: -1, msg: 'Fetch stream meet Early-EOF' };
                        if (!D._onError) throw new c.d(M.msg);
                        D._onError(G, M);
                      } else (D._status = l.c.kComplete), D._onComplete && D._onComplete(D._range.from, D._range.from + D._receivedLength - 1);
                    else {
                      if (D._abortController && D._abortController.signal.aborted) return void (D._status = l.c.kComplete);
                      if (D._requestAbort === !0) return (D._status = l.c.kComplete), L.cancel();
                      D._status = l.c.kBuffering;
                      var B = C.value.buffer,
                        z = D._range.from + D._receivedLength;
                      (D._receivedLength += B.byteLength), D._onDataArrival && D._onDataArrival(B, z, D._receivedLength), D._pump(L);
                    }
                  })
                  .catch(function (C) {
                    if (D._abortController && D._abortController.signal.aborted) D._status = l.c.kComplete;
                    else if (C.code !== 11 || !u.a.msedge) {
                      D._status = l.c.kError;
                      var G = 0,
                        M = null;
                      if (
                        ((C.code !== 19 && C.message !== 'network error') || !(D._contentLength === null || (D._contentLength !== null && D._receivedLength < D._contentLength))
                          ? ((G = l.b.EXCEPTION), (M = { code: C.code, msg: C.message }))
                          : ((G = l.b.EARLY_EOF), (M = { code: C.code, msg: 'Fetch stream meet Early-EOF' })),
                        !D._onError)
                      )
                        throw new c.d(M.msg);
                      D._onError(G, M);
                    }
                  });
              }),
              x
            );
          })(l.a),
          h = (function () {
            var O = function (x, L) {
              return (O =
                Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array &&
                  function (D, C) {
                    D.__proto__ = C;
                  }) ||
                function (D, C) {
                  for (var G in C) C.hasOwnProperty(G) && (D[G] = C[G]);
                })(x, L);
            };
            return function (x, L) {
              function D() {
                this.constructor = x;
              }
              O(x, L), (x.prototype = L === null ? Object.create(L) : ((D.prototype = L.prototype), new D()));
            };
          })(),
          m = (function (O) {
            function x(L, D) {
              var C = O.call(this, 'xhr-moz-chunked-loader') || this;
              return (
                (C.TAG = 'MozChunkedLoader'), (C._seekHandler = L), (C._config = D), (C._needStash = !0), (C._xhr = null), (C._requestAbort = !1), (C._contentLength = null), (C._receivedLength = 0), C
              );
            }
            return (
              h(x, O),
              (x.isSupported = function () {
                try {
                  var L = new XMLHttpRequest();
                  return L.open('GET', 'https://example.com', !0), (L.responseType = 'moz-chunked-arraybuffer'), L.responseType === 'moz-chunked-arraybuffer';
                } catch (D) {
                  return a.a.w('MozChunkedLoader', D.message), !1;
                }
              }),
              (x.prototype.destroy = function () {
                this.isWorking() && this.abort(),
                  this._xhr && ((this._xhr.onreadystatechange = null), (this._xhr.onprogress = null), (this._xhr.onloadend = null), (this._xhr.onerror = null), (this._xhr = null)),
                  O.prototype.destroy.call(this);
              }),
              (x.prototype.open = function (L, D) {
                (this._dataSource = L), (this._range = D);
                var C = L.url;
                this._config.reuseRedirectedURL && L.redirectedURL != null && (C = L.redirectedURL);
                var G = this._seekHandler.getConfig(C, D);
                this._requestURL = G.url;
                var M = (this._xhr = new XMLHttpRequest());
                if (
                  (M.open('GET', G.url, !0),
                  (M.responseType = 'moz-chunked-arraybuffer'),
                  (M.onreadystatechange = this._onReadyStateChange.bind(this)),
                  (M.onprogress = this._onProgress.bind(this)),
                  (M.onloadend = this._onLoadEnd.bind(this)),
                  (M.onerror = this._onXhrError.bind(this)),
                  L.withCredentials && (M.withCredentials = !0),
                  typeof G.headers == 'object')
                ) {
                  var B = G.headers;
                  for (var z in B) B.hasOwnProperty(z) && M.setRequestHeader(z, B[z]);
                }
                if (typeof this._config.headers == 'object') {
                  B = this._config.headers;
                  for (var z in B) B.hasOwnProperty(z) && M.setRequestHeader(z, B[z]);
                }
                (this._status = l.c.kConnecting), M.send();
              }),
              (x.prototype.abort = function () {
                (this._requestAbort = !0), this._xhr && this._xhr.abort(), (this._status = l.c.kComplete);
              }),
              (x.prototype._onReadyStateChange = function (L) {
                var D = L.target;
                if (D.readyState === 2) {
                  if (D.responseURL != null && D.responseURL !== this._requestURL && this._onURLRedirect) {
                    var C = this._seekHandler.removeURLParameters(D.responseURL);
                    this._onURLRedirect(C);
                  }
                  if (D.status !== 0 && (D.status < 200 || D.status > 299)) {
                    if (((this._status = l.c.kError), !this._onError)) throw new c.d('MozChunkedLoader: Http code invalid, ' + D.status + ' ' + D.statusText);
                    this._onError(l.b.HTTP_STATUS_CODE_INVALID, { code: D.status, msg: D.statusText });
                  } else this._status = l.c.kBuffering;
                }
              }),
              (x.prototype._onProgress = function (L) {
                if (this._status !== l.c.kError) {
                  this._contentLength === null && L.total !== null && L.total !== 0 && ((this._contentLength = L.total), this._onContentLengthKnown && this._onContentLengthKnown(this._contentLength));
                  var D = L.target.response,
                    C = this._range.from + this._receivedLength;
                  (this._receivedLength += D.byteLength), this._onDataArrival && this._onDataArrival(D, C, this._receivedLength);
                }
              }),
              (x.prototype._onLoadEnd = function (L) {
                this._requestAbort !== !0
                  ? this._status !== l.c.kError && ((this._status = l.c.kComplete), this._onComplete && this._onComplete(this._range.from, this._range.from + this._receivedLength - 1))
                  : (this._requestAbort = !1);
              }),
              (x.prototype._onXhrError = function (L) {
                this._status = l.c.kError;
                var D = 0,
                  C = null;
                if (
                  (this._contentLength && L.loaded < this._contentLength
                    ? ((D = l.b.EARLY_EOF), (C = { code: -1, msg: 'Moz-Chunked stream meet Early-Eof' }))
                    : ((D = l.b.EXCEPTION), (C = { code: -1, msg: L.constructor.name + ' ' + L.type })),
                  !this._onError)
                )
                  throw new c.d(C.msg);
                this._onError(D, C);
              }),
              x
            );
          })(l.a),
          g = (function () {
            var O = function (x, L) {
              return (O =
                Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array &&
                  function (D, C) {
                    D.__proto__ = C;
                  }) ||
                function (D, C) {
                  for (var G in C) C.hasOwnProperty(G) && (D[G] = C[G]);
                })(x, L);
            };
            return function (x, L) {
              function D() {
                this.constructor = x;
              }
              O(x, L), (x.prototype = L === null ? Object.create(L) : ((D.prototype = L.prototype), new D()));
            };
          })(),
          b = (function (O) {
            function x(L, D) {
              var C = O.call(this, 'xhr-range-loader') || this;
              return (
                (C.TAG = 'RangeLoader'),
                (C._seekHandler = L),
                (C._config = D),
                (C._needStash = !1),
                (C._chunkSizeKBList = [128, 256, 384, 512, 768, 1024, 1536, 2048, 3072, 4096, 5120, 6144, 7168, 8192]),
                (C._currentChunkSizeKB = 384),
                (C._currentSpeedNormalized = 0),
                (C._zeroSpeedChunkCount = 0),
                (C._xhr = null),
                (C._speedSampler = new s()),
                (C._requestAbort = !1),
                (C._waitForTotalLength = !1),
                (C._totalLengthReceived = !1),
                (C._currentRequestURL = null),
                (C._currentRedirectedURL = null),
                (C._currentRequestRange = null),
                (C._totalLength = null),
                (C._contentLength = null),
                (C._receivedLength = 0),
                (C._lastTimeLoaded = 0),
                C
              );
            }
            return (
              g(x, O),
              (x.isSupported = function () {
                try {
                  var L = new XMLHttpRequest();
                  return L.open('GET', 'https://example.com', !0), (L.responseType = 'arraybuffer'), L.responseType === 'arraybuffer';
                } catch (D) {
                  return a.a.w('RangeLoader', D.message), !1;
                }
              }),
              (x.prototype.destroy = function () {
                this.isWorking() && this.abort(),
                  this._xhr && ((this._xhr.onreadystatechange = null), (this._xhr.onprogress = null), (this._xhr.onload = null), (this._xhr.onerror = null), (this._xhr = null)),
                  O.prototype.destroy.call(this);
              }),
              Object.defineProperty(x.prototype, 'currentSpeed', {
                get: function () {
                  return this._speedSampler.lastSecondKBps;
                },
                enumerable: !1,
                configurable: !0,
              }),
              (x.prototype.open = function (L, D) {
                (this._dataSource = L), (this._range = D), (this._status = l.c.kConnecting);
                var C = !1;
                this._dataSource.filesize != null && this._dataSource.filesize !== 0 && ((C = !0), (this._totalLength = this._dataSource.filesize)),
                  this._totalLengthReceived || C ? this._openSubRange() : ((this._waitForTotalLength = !0), this._internalOpen(this._dataSource, { from: 0, to: -1 }));
              }),
              (x.prototype._openSubRange = function () {
                var L = 1024 * this._currentChunkSizeKB,
                  D = this._range.from + this._receivedLength,
                  C = D + L;
                this._contentLength != null && C - this._range.from >= this._contentLength && (C = this._range.from + this._contentLength - 1),
                  (this._currentRequestRange = { from: D, to: C }),
                  this._internalOpen(this._dataSource, this._currentRequestRange);
              }),
              (x.prototype._internalOpen = function (L, D) {
                this._lastTimeLoaded = 0;
                var C = L.url;
                this._config.reuseRedirectedURL && (this._currentRedirectedURL != null ? (C = this._currentRedirectedURL) : L.redirectedURL != null && (C = L.redirectedURL));
                var G = this._seekHandler.getConfig(C, D);
                this._currentRequestURL = G.url;
                var M = (this._xhr = new XMLHttpRequest());
                if (
                  (M.open('GET', G.url, !0),
                  (M.responseType = 'arraybuffer'),
                  (M.onreadystatechange = this._onReadyStateChange.bind(this)),
                  (M.onprogress = this._onProgress.bind(this)),
                  (M.onload = this._onLoad.bind(this)),
                  (M.onerror = this._onXhrError.bind(this)),
                  L.withCredentials && (M.withCredentials = !0),
                  typeof G.headers == 'object')
                ) {
                  var B = G.headers;
                  for (var z in B) B.hasOwnProperty(z) && M.setRequestHeader(z, B[z]);
                }
                if (typeof this._config.headers == 'object') {
                  B = this._config.headers;
                  for (var z in B) B.hasOwnProperty(z) && M.setRequestHeader(z, B[z]);
                }
                M.send();
              }),
              (x.prototype.abort = function () {
                (this._requestAbort = !0), this._internalAbort(), (this._status = l.c.kComplete);
              }),
              (x.prototype._internalAbort = function () {
                this._xhr && ((this._xhr.onreadystatechange = null), (this._xhr.onprogress = null), (this._xhr.onload = null), (this._xhr.onerror = null), this._xhr.abort(), (this._xhr = null));
              }),
              (x.prototype._onReadyStateChange = function (L) {
                var D = L.target;
                if (D.readyState === 2) {
                  if (D.responseURL != null) {
                    var C = this._seekHandler.removeURLParameters(D.responseURL);
                    D.responseURL !== this._currentRequestURL && C !== this._currentRedirectedURL && ((this._currentRedirectedURL = C), this._onURLRedirect && this._onURLRedirect(C));
                  }
                  if (D.status >= 200 && D.status <= 299) {
                    if (this._waitForTotalLength) return;
                    this._status = l.c.kBuffering;
                  } else {
                    if (((this._status = l.c.kError), !this._onError)) throw new c.d('RangeLoader: Http code invalid, ' + D.status + ' ' + D.statusText);
                    this._onError(l.b.HTTP_STATUS_CODE_INVALID, { code: D.status, msg: D.statusText });
                  }
                }
              }),
              (x.prototype._onProgress = function (L) {
                if (this._status !== l.c.kError) {
                  if (this._contentLength === null) {
                    var D = !1;
                    if (this._waitForTotalLength) {
                      (this._waitForTotalLength = !1), (this._totalLengthReceived = !0), (D = !0);
                      var C = L.total;
                      this._internalAbort(), (C != null) & (C !== 0) && (this._totalLength = C);
                    }
                    if ((this._range.to === -1 ? (this._contentLength = this._totalLength - this._range.from) : (this._contentLength = this._range.to - this._range.from + 1), D))
                      return void this._openSubRange();
                    this._onContentLengthKnown && this._onContentLengthKnown(this._contentLength);
                  }
                  var G = L.loaded - this._lastTimeLoaded;
                  (this._lastTimeLoaded = L.loaded), this._speedSampler.addBytes(G);
                }
              }),
              (x.prototype._normalizeSpeed = function (L) {
                var D = this._chunkSizeKBList,
                  C = D.length - 1,
                  G = 0,
                  M = 0,
                  B = C;
                if (L < D[0]) return D[0];
                for (; M <= B; ) {
                  if ((G = M + Math.floor((B - M) / 2)) === C || (L >= D[G] && L < D[G + 1])) return D[G];
                  D[G] < L ? (M = G + 1) : (B = G - 1);
                }
              }),
              (x.prototype._onLoad = function (L) {
                if (this._status !== l.c.kError)
                  if (this._waitForTotalLength) this._waitForTotalLength = !1;
                  else {
                    this._lastTimeLoaded = 0;
                    var D = this._speedSampler.lastSecondKBps;
                    if ((D === 0 && (this._zeroSpeedChunkCount++, this._zeroSpeedChunkCount >= 3 && (D = this._speedSampler.currentKBps)), D !== 0)) {
                      var C = this._normalizeSpeed(D);
                      this._currentSpeedNormalized !== C && ((this._currentSpeedNormalized = C), (this._currentChunkSizeKB = C));
                    }
                    var G = L.target.response,
                      M = this._range.from + this._receivedLength;
                    this._receivedLength += G.byteLength;
                    var B = !1;
                    this._contentLength != null && this._receivedLength < this._contentLength ? this._openSubRange() : (B = !0),
                      this._onDataArrival && this._onDataArrival(G, M, this._receivedLength),
                      B && ((this._status = l.c.kComplete), this._onComplete && this._onComplete(this._range.from, this._range.from + this._receivedLength - 1));
                  }
              }),
              (x.prototype._onXhrError = function (L) {
                this._status = l.c.kError;
                var D = 0,
                  C = null;
                if (
                  (this._contentLength && this._receivedLength > 0 && this._receivedLength < this._contentLength
                    ? ((D = l.b.EARLY_EOF), (C = { code: -1, msg: 'RangeLoader meet Early-Eof' }))
                    : ((D = l.b.EXCEPTION), (C = { code: -1, msg: L.constructor.name + ' ' + L.type })),
                  !this._onError)
                )
                  throw new c.d(C.msg);
                this._onError(D, C);
              }),
              x
            );
          })(l.a),
          _ = (function () {
            var O = function (x, L) {
              return (O =
                Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array &&
                  function (D, C) {
                    D.__proto__ = C;
                  }) ||
                function (D, C) {
                  for (var G in C) C.hasOwnProperty(G) && (D[G] = C[G]);
                })(x, L);
            };
            return function (x, L) {
              function D() {
                this.constructor = x;
              }
              O(x, L), (x.prototype = L === null ? Object.create(L) : ((D.prototype = L.prototype), new D()));
            };
          })(),
          y = (function (O) {
            function x() {
              var L = O.call(this, 'websocket-loader') || this;
              return (L.TAG = 'WebSocketLoader'), (L._needStash = !0), (L._ws = null), (L._requestAbort = !1), (L._receivedLength = 0), L;
            }
            return (
              _(x, O),
              (x.isSupported = function () {
                try {
                  return self.WebSocket !== void 0;
                } catch {
                  return !1;
                }
              }),
              (x.prototype.destroy = function () {
                this._ws && this.abort(), O.prototype.destroy.call(this);
              }),
              (x.prototype.open = function (L) {
                try {
                  var D = (this._ws = new self.WebSocket(L.url));
                  (D.binaryType = 'arraybuffer'),
                    (D.onopen = this._onWebSocketOpen.bind(this)),
                    (D.onclose = this._onWebSocketClose.bind(this)),
                    (D.onmessage = this._onWebSocketMessage.bind(this)),
                    (D.onerror = this._onWebSocketError.bind(this)),
                    (this._status = l.c.kConnecting);
                } catch (G) {
                  this._status = l.c.kError;
                  var C = { code: G.code, msg: G.message };
                  if (!this._onError) throw new c.d(C.msg);
                  this._onError(l.b.EXCEPTION, C);
                }
              }),
              (x.prototype.abort = function () {
                var L = this._ws;
                !L || (L.readyState !== 0 && L.readyState !== 1) || ((this._requestAbort = !0), L.close()), (this._ws = null), (this._status = l.c.kComplete);
              }),
              (x.prototype._onWebSocketOpen = function (L) {
                this._status = l.c.kBuffering;
              }),
              (x.prototype._onWebSocketClose = function (L) {
                this._requestAbort !== !0 ? ((this._status = l.c.kComplete), this._onComplete && this._onComplete(0, this._receivedLength - 1)) : (this._requestAbort = !1);
              }),
              (x.prototype._onWebSocketMessage = function (L) {
                var D = this;
                if (L.data instanceof ArrayBuffer) this._dispatchArrayBuffer(L.data);
                else if (L.data instanceof Blob) {
                  var C = new FileReader();
                  (C.onload = function () {
                    D._dispatchArrayBuffer(C.result);
                  }),
                    C.readAsArrayBuffer(L.data);
                } else {
                  this._status = l.c.kError;
                  var G = { code: -1, msg: 'Unsupported WebSocket message type: ' + L.data.constructor.name };
                  if (!this._onError) throw new c.d(G.msg);
                  this._onError(l.b.EXCEPTION, G);
                }
              }),
              (x.prototype._dispatchArrayBuffer = function (L) {
                var D = L,
                  C = this._receivedLength;
                (this._receivedLength += D.byteLength), this._onDataArrival && this._onDataArrival(D, C, this._receivedLength);
              }),
              (x.prototype._onWebSocketError = function (L) {
                this._status = l.c.kError;
                var D = { code: L.code, msg: L.message };
                if (!this._onError) throw new c.d(D.msg);
                this._onError(l.b.EXCEPTION, D);
              }),
              x
            );
          })(l.a),
          T = (function () {
            function O(x) {
              this._zeroStart = x || !1;
            }
            return (
              (O.prototype.getConfig = function (x, L) {
                var D = {};
                if (L.from !== 0 || L.to !== -1) {
                  var C = void 0;
                  (C = L.to !== -1 ? 'bytes=' + L.from.toString() + '-' + L.to.toString() : 'bytes=' + L.from.toString() + '-'), (D.Range = C);
                } else this._zeroStart && (D.Range = 'bytes=0-');
                return { url: x, headers: D };
              }),
              (O.prototype.removeURLParameters = function (x) {
                return x;
              }),
              O
            );
          })(),
          w = (function () {
            function O(x, L) {
              (this._startName = x), (this._endName = L);
            }
            return (
              (O.prototype.getConfig = function (x, L) {
                var D = x;
                if (L.from !== 0 || L.to !== -1) {
                  var C = !0;
                  D.indexOf('?') === -1 && ((D += '?'), (C = !1)), C && (D += '&'), (D += this._startName + '=' + L.from.toString()), L.to !== -1 && (D += '&' + this._endName + '=' + L.to.toString());
                }
                return { url: D, headers: {} };
              }),
              (O.prototype.removeURLParameters = function (x) {
                var L = x.split('?')[0],
                  D = void 0,
                  C = x.indexOf('?');
                C !== -1 && (D = x.substring(C + 1));
                var G = '';
                if (D != null && D.length > 0)
                  for (var M = D.split('&'), B = 0; B < M.length; B++) {
                    var z = M[B].split('='),
                      H = B > 0;
                    z[0] !== this._startName && z[0] !== this._endName && (H && (G += '&'), (G += M[B]));
                  }
                return G.length === 0 ? L : L + '?' + G;
              }),
              O
            );
          })(),
          I = (function () {
            function O(x, L, D) {
              (this.TAG = 'IOController'),
                (this._config = L),
                (this._extraData = D),
                (this._stashInitialSize = 65536),
                L.stashInitialSize != null && L.stashInitialSize > 0 && (this._stashInitialSize = L.stashInitialSize),
                (this._stashUsed = 0),
                (this._stashSize = this._stashInitialSize),
                (this._bufferSize = 3145728),
                (this._stashBuffer = new ArrayBuffer(this._bufferSize)),
                (this._stashByteStart = 0),
                (this._enableStash = !0),
                L.enableStashBuffer === !1 && (this._enableStash = !1),
                (this._loader = null),
                (this._loaderClass = null),
                (this._seekHandler = null),
                (this._dataSource = x),
                (this._isWebSocketURL = /wss?:\/\/(.+?)/.test(x.url)),
                (this._refTotalLength = x.filesize ? x.filesize : null),
                (this._totalLength = this._refTotalLength),
                (this._fullRequestFlag = !1),
                (this._currentRange = null),
                (this._redirectedURL = null),
                (this._speedNormalized = 0),
                (this._speedSampler = new s()),
                (this._speedNormalizeList = [32, 64, 96, 128, 192, 256, 384, 512, 768, 1024, 1536, 2048, 3072, 4096]),
                (this._isEarlyEofReconnecting = !1),
                (this._paused = !1),
                (this._resumeFrom = 0),
                (this._onDataArrival = null),
                (this._onSeeked = null),
                (this._onError = null),
                (this._onComplete = null),
                (this._onRedirect = null),
                (this._onRecoveredEarlyEof = null),
                this._selectSeekHandler(),
                this._selectLoader(),
                this._createLoader();
            }
            return (
              (O.prototype.destroy = function () {
                this._loader.isWorking() && this._loader.abort(),
                  this._loader.destroy(),
                  (this._loader = null),
                  (this._loaderClass = null),
                  (this._dataSource = null),
                  (this._stashBuffer = null),
                  (this._stashUsed = this._stashSize = this._bufferSize = this._stashByteStart = 0),
                  (this._currentRange = null),
                  (this._speedSampler = null),
                  (this._isEarlyEofReconnecting = !1),
                  (this._onDataArrival = null),
                  (this._onSeeked = null),
                  (this._onError = null),
                  (this._onComplete = null),
                  (this._onRedirect = null),
                  (this._onRecoveredEarlyEof = null),
                  (this._extraData = null);
              }),
              (O.prototype.isWorking = function () {
                return this._loader && this._loader.isWorking() && !this._paused;
              }),
              (O.prototype.isPaused = function () {
                return this._paused;
              }),
              Object.defineProperty(O.prototype, 'status', {
                get: function () {
                  return this._loader.status;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(O.prototype, 'extraData', {
                get: function () {
                  return this._extraData;
                },
                set: function (x) {
                  this._extraData = x;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(O.prototype, 'onDataArrival', {
                get: function () {
                  return this._onDataArrival;
                },
                set: function (x) {
                  this._onDataArrival = x;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(O.prototype, 'onSeeked', {
                get: function () {
                  return this._onSeeked;
                },
                set: function (x) {
                  this._onSeeked = x;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(O.prototype, 'onError', {
                get: function () {
                  return this._onError;
                },
                set: function (x) {
                  this._onError = x;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(O.prototype, 'onComplete', {
                get: function () {
                  return this._onComplete;
                },
                set: function (x) {
                  this._onComplete = x;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(O.prototype, 'onRedirect', {
                get: function () {
                  return this._onRedirect;
                },
                set: function (x) {
                  this._onRedirect = x;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(O.prototype, 'onRecoveredEarlyEof', {
                get: function () {
                  return this._onRecoveredEarlyEof;
                },
                set: function (x) {
                  this._onRecoveredEarlyEof = x;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(O.prototype, 'currentURL', {
                get: function () {
                  return this._dataSource.url;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(O.prototype, 'hasRedirect', {
                get: function () {
                  return this._redirectedURL != null || this._dataSource.redirectedURL != null;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(O.prototype, 'currentRedirectedURL', {
                get: function () {
                  return this._redirectedURL || this._dataSource.redirectedURL;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(O.prototype, 'currentSpeed', {
                get: function () {
                  return this._loaderClass === b ? this._loader.currentSpeed : this._speedSampler.lastSecondKBps;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(O.prototype, 'loaderType', {
                get: function () {
                  return this._loader.type;
                },
                enumerable: !1,
                configurable: !0,
              }),
              (O.prototype._selectSeekHandler = function () {
                var x = this._config;
                if (x.seekType === 'range') this._seekHandler = new T(this._config.rangeLoadZeroStart);
                else if (x.seekType === 'param') {
                  var L = x.seekParamStart || 'bstart',
                    D = x.seekParamEnd || 'bend';
                  this._seekHandler = new w(L, D);
                } else {
                  if (x.seekType !== 'custom') throw new c.b('Invalid seekType in config: ' + x.seekType);
                  if (typeof x.customSeekHandler != 'function') throw new c.b('Custom seekType specified in config but invalid customSeekHandler!');
                  this._seekHandler = new x.customSeekHandler();
                }
              }),
              (O.prototype._selectLoader = function () {
                if (this._config.customLoader != null) this._loaderClass = this._config.customLoader;
                else if (this._isWebSocketURL) this._loaderClass = y;
                else if (f.isSupported()) this._loaderClass = f;
                else if (m.isSupported()) this._loaderClass = m;
                else {
                  if (!b.isSupported()) throw new c.d("Your browser doesn't support xhr with arraybuffer responseType!");
                  this._loaderClass = b;
                }
              }),
              (O.prototype._createLoader = function () {
                (this._loader = new this._loaderClass(this._seekHandler, this._config)),
                  this._loader.needStashBuffer === !1 && (this._enableStash = !1),
                  (this._loader.onContentLengthKnown = this._onContentLengthKnown.bind(this)),
                  (this._loader.onURLRedirect = this._onURLRedirect.bind(this)),
                  (this._loader.onDataArrival = this._onLoaderChunkArrival.bind(this)),
                  (this._loader.onComplete = this._onLoaderComplete.bind(this)),
                  (this._loader.onError = this._onLoaderError.bind(this));
              }),
              (O.prototype.open = function (x) {
                (this._currentRange = { from: 0, to: -1 }),
                  x && (this._currentRange.from = x),
                  this._speedSampler.reset(),
                  x || (this._fullRequestFlag = !0),
                  this._loader.open(this._dataSource, Object.assign({}, this._currentRange));
              }),
              (O.prototype.abort = function () {
                this._loader.abort(), this._paused && ((this._paused = !1), (this._resumeFrom = 0));
              }),
              (O.prototype.pause = function () {
                this.isWorking() &&
                  (this._loader.abort(),
                  this._stashUsed !== 0 ? ((this._resumeFrom = this._stashByteStart), (this._currentRange.to = this._stashByteStart - 1)) : (this._resumeFrom = this._currentRange.to + 1),
                  (this._stashUsed = 0),
                  (this._stashByteStart = 0),
                  (this._paused = !0));
              }),
              (O.prototype.resume = function () {
                if (this._paused) {
                  this._paused = !1;
                  var x = this._resumeFrom;
                  (this._resumeFrom = 0), this._internalSeek(x, !0);
                }
              }),
              (O.prototype.seek = function (x) {
                (this._paused = !1), (this._stashUsed = 0), (this._stashByteStart = 0), this._internalSeek(x, !0);
              }),
              (O.prototype._internalSeek = function (x, L) {
                this._loader.isWorking() && this._loader.abort(), this._flushStashBuffer(L), this._loader.destroy(), (this._loader = null);
                var D = { from: x, to: -1 };
                (this._currentRange = { from: D.from, to: -1 }),
                  this._speedSampler.reset(),
                  (this._stashSize = this._stashInitialSize),
                  this._createLoader(),
                  this._loader.open(this._dataSource, D),
                  this._onSeeked && this._onSeeked();
              }),
              (O.prototype.updateUrl = function (x) {
                if (!x || typeof x != 'string' || x.length === 0) throw new c.b('Url must be a non-empty string!');
                this._dataSource.url = x;
              }),
              (O.prototype._expandBuffer = function (x) {
                for (var L = this._stashSize; L + 1048576 < x; ) L *= 2;
                if ((L += 1048576) !== this._bufferSize) {
                  var D = new ArrayBuffer(L);
                  if (this._stashUsed > 0) {
                    var C = new Uint8Array(this._stashBuffer, 0, this._stashUsed);
                    new Uint8Array(D, 0, L).set(C, 0);
                  }
                  (this._stashBuffer = D), (this._bufferSize = L);
                }
              }),
              (O.prototype._normalizeSpeed = function (x) {
                var L = this._speedNormalizeList,
                  D = L.length - 1,
                  C = 0,
                  G = 0,
                  M = D;
                if (x < L[0]) return L[0];
                for (; G <= M; ) {
                  if ((C = G + Math.floor((M - G) / 2)) === D || (x >= L[C] && x < L[C + 1])) return L[C];
                  L[C] < x ? (G = C + 1) : (M = C - 1);
                }
              }),
              (O.prototype._adjustStashSize = function (x) {
                var L = 0;
                (L = this._config.isLive ? x / 8 : x < 512 ? x : x >= 512 && x <= 1024 ? Math.floor(1.5 * x) : 2 * x) > 8192 && (L = 8192);
                var D = 1024 * L + 1048576;
                this._bufferSize < D && this._expandBuffer(D), (this._stashSize = 1024 * L);
              }),
              (O.prototype._dispatchChunks = function (x, L) {
                return (this._currentRange.to = L + x.byteLength - 1), this._onDataArrival(x, L);
              }),
              (O.prototype._onURLRedirect = function (x) {
                (this._redirectedURL = x), this._onRedirect && this._onRedirect(x);
              }),
              (O.prototype._onContentLengthKnown = function (x) {
                x && this._fullRequestFlag && ((this._totalLength = x), (this._fullRequestFlag = !1));
              }),
              (O.prototype._onLoaderChunkArrival = function (x, L, D) {
                if (!this._onDataArrival) throw new c.a('IOController: No existing consumer (onDataArrival) callback!');
                if (!this._paused) {
                  this._isEarlyEofReconnecting && ((this._isEarlyEofReconnecting = !1), this._onRecoveredEarlyEof && this._onRecoveredEarlyEof()), this._speedSampler.addBytes(x.byteLength);
                  var C = this._speedSampler.lastSecondKBps;
                  if (C !== 0) {
                    var G = this._normalizeSpeed(C);
                    this._speedNormalized !== G && ((this._speedNormalized = G), this._adjustStashSize(G));
                  }
                  if (this._enableStash)
                    if ((this._stashUsed === 0 && this._stashByteStart === 0 && (this._stashByteStart = L), this._stashUsed + x.byteLength <= this._stashSize))
                      (z = new Uint8Array(this._stashBuffer, 0, this._stashSize)).set(new Uint8Array(x), this._stashUsed), (this._stashUsed += x.byteLength);
                    else if (((z = new Uint8Array(this._stashBuffer, 0, this._bufferSize)), this._stashUsed > 0)) {
                      var M = this._stashBuffer.slice(0, this._stashUsed);
                      (H = this._dispatchChunks(M, this._stashByteStart)) < M.byteLength
                        ? H > 0 && ((q = new Uint8Array(M, H)), z.set(q, 0), (this._stashUsed = q.byteLength), (this._stashByteStart += H))
                        : ((this._stashUsed = 0), (this._stashByteStart += H)),
                        this._stashUsed + x.byteLength > this._bufferSize && (this._expandBuffer(this._stashUsed + x.byteLength), (z = new Uint8Array(this._stashBuffer, 0, this._bufferSize))),
                        z.set(new Uint8Array(x), this._stashUsed),
                        (this._stashUsed += x.byteLength);
                    } else
                      (H = this._dispatchChunks(x, L)) < x.byteLength &&
                        ((B = x.byteLength - H) > this._bufferSize && (this._expandBuffer(B), (z = new Uint8Array(this._stashBuffer, 0, this._bufferSize))),
                        z.set(new Uint8Array(x, H), 0),
                        (this._stashUsed += B),
                        (this._stashByteStart = L + H));
                  else if (this._stashUsed === 0) {
                    var B;
                    (H = this._dispatchChunks(x, L)) < x.byteLength &&
                      ((B = x.byteLength - H) > this._bufferSize && this._expandBuffer(B),
                      (z = new Uint8Array(this._stashBuffer, 0, this._bufferSize)).set(new Uint8Array(x, H), 0),
                      (this._stashUsed += B),
                      (this._stashByteStart = L + H));
                  } else {
                    var z, H;
                    if (
                      (this._stashUsed + x.byteLength > this._bufferSize && this._expandBuffer(this._stashUsed + x.byteLength),
                      (z = new Uint8Array(this._stashBuffer, 0, this._bufferSize)).set(new Uint8Array(x), this._stashUsed),
                      (this._stashUsed += x.byteLength),
                      (H = this._dispatchChunks(this._stashBuffer.slice(0, this._stashUsed), this._stashByteStart)) < this._stashUsed && H > 0)
                    ) {
                      var q = new Uint8Array(this._stashBuffer, H);
                      z.set(q, 0);
                    }
                    (this._stashUsed -= H), (this._stashByteStart += H);
                  }
                }
              }),
              (O.prototype._flushStashBuffer = function (x) {
                if (this._stashUsed > 0) {
                  var L = this._stashBuffer.slice(0, this._stashUsed),
                    D = this._dispatchChunks(L, this._stashByteStart),
                    C = L.byteLength - D;
                  if (D < L.byteLength) {
                    if (!x) {
                      if (D > 0) {
                        var G = new Uint8Array(this._stashBuffer, 0, this._bufferSize),
                          M = new Uint8Array(L, D);
                        G.set(M, 0), (this._stashUsed = M.byteLength), (this._stashByteStart += D);
                      }
                      return 0;
                    }
                    a.a.w(this.TAG, C + ' bytes unconsumed data remain when flush buffer, dropped');
                  }
                  return (this._stashUsed = 0), (this._stashByteStart = 0), C;
                }
                return 0;
              }),
              (O.prototype._onLoaderComplete = function (x, L) {
                this._flushStashBuffer(!0), this._onComplete && this._onComplete(this._extraData);
              }),
              (O.prototype._onLoaderError = function (x, L) {
                switch (
                  (a.a.e(this.TAG, 'Loader error, code = ' + L.code + ', msg = ' + L.msg),
                  this._flushStashBuffer(!1),
                  this._isEarlyEofReconnecting && ((this._isEarlyEofReconnecting = !1), (x = l.b.UNRECOVERABLE_EARLY_EOF)),
                  x)
                ) {
                  case l.b.EARLY_EOF:
                    if (!this._config.isLive && this._totalLength) {
                      var D = this._currentRange.to + 1;
                      return void (D < this._totalLength && (a.a.w(this.TAG, 'Connection lost, trying reconnect...'), (this._isEarlyEofReconnecting = !0), this._internalSeek(D, !1)));
                    }
                    x = l.b.UNRECOVERABLE_EARLY_EOF;
                    break;
                  case l.b.UNRECOVERABLE_EARLY_EOF:
                  case l.b.CONNECTING_TIMEOUT:
                  case l.b.HTTP_STATUS_CODE_INVALID:
                  case l.b.EXCEPTION:
                }
                if (!this._onError) throw new c.d('IOException: ' + L.msg);
                this._onError(x, L);
              }),
              O
            );
          })();
        r.a = I;
      },
      function (n, r, i) {
        var o = (function () {
          function a() {}
          return (
            (a.install = function () {
              (Object.setPrototypeOf =
                Object.setPrototypeOf ||
                function (s, l) {
                  return (s.__proto__ = l), s;
                }),
                (Object.assign =
                  Object.assign ||
                  function (s) {
                    if (s == null) throw new TypeError('Cannot convert undefined or null to object');
                    for (var l = Object(s), u = 1; u < arguments.length; u++) {
                      var c = arguments[u];
                      if (c != null) for (var d in c) c.hasOwnProperty(d) && (l[d] = c[d]);
                    }
                    return l;
                  }),
                typeof self.Promise != 'function' && i(16).polyfill();
            }),
            a
          );
        })();
        o.install(), (r.a = o);
      },
      function (n, r, i) {
        function o(u) {
          var c = {};
          function d(h) {
            if (c[h]) return c[h].exports;
            var m = (c[h] = { i: h, l: !1, exports: {} });
            return u[h].call(m.exports, m, m.exports, d), (m.l = !0), m.exports;
          }
          (d.m = u),
            (d.c = c),
            (d.i = function (h) {
              return h;
            }),
            (d.d = function (h, m, g) {
              d.o(h, m) || Object.defineProperty(h, m, { configurable: !1, enumerable: !0, get: g });
            }),
            (d.r = function (h) {
              Object.defineProperty(h, '__esModule', { value: !0 });
            }),
            (d.n = function (h) {
              var m =
                h && h.__esModule
                  ? function () {
                      return h.default;
                    }
                  : function () {
                      return h;
                    };
              return d.d(m, 'a', m), m;
            }),
            (d.o = function (h, m) {
              return Object.prototype.hasOwnProperty.call(h, m);
            }),
            (d.p = '/'),
            (d.oe = function (h) {
              throw (console.error(h), h);
            });
          var f = d((d.s = ENTRY_MODULE));
          return f.default || f;
        }
        function a(u) {
          return (u + '').replace(/[.?*+^$[\]\\(){}|-]/g, '\\$&');
        }
        function s(u, c, d) {
          var f = {};
          f[d] = [];
          var h = c.toString(),
            m = h.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);
          if (!m) return f;
          for (var g, b = m[1], _ = new RegExp('(\\\\n|\\W)' + a(b) + '\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)', 'g'); (g = _.exec(h)); )
            g[3] !== 'dll-reference' && f[d].push(g[3]);
          for (_ = new RegExp('\\(' + a(b) + '\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)', 'g'); (g = _.exec(h)); )
            u[g[2]] || (f[d].push(g[1]), (u[g[2]] = i(g[1]).m)), (f[g[2]] = f[g[2]] || []), f[g[2]].push(g[4]);
          for (var y, T = Object.keys(f), w = 0; w < T.length; w++) for (var I = 0; I < f[T[w]].length; I++) (y = f[T[w]][I]), isNaN(1 * y) || (f[T[w]][I] = 1 * f[T[w]][I]);
          return f;
        }
        function l(u) {
          return Object.keys(u).reduce(function (c, d) {
            return c || u[d].length > 0;
          }, !1);
        }
        n.exports = function (u, c) {
          c = c || {};
          var d = { main: i.m },
            f = c.all
              ? { main: Object.keys(d.main) }
              : (function (_, y) {
                  for (var T = { main: [y] }, w = { main: [] }, I = { main: {} }; l(T); )
                    for (var O = Object.keys(T), x = 0; x < O.length; x++) {
                      var L = O[x],
                        D = T[L].pop();
                      if (((I[L] = I[L] || {}), !I[L][D] && _[L][D])) {
                        (I[L][D] = !0), (w[L] = w[L] || []), w[L].push(D);
                        for (var C = s(_, _[L][D], L), G = Object.keys(C), M = 0; M < G.length; M++) (T[G[M]] = T[G[M]] || []), (T[G[M]] = T[G[M]].concat(C[G[M]]));
                      }
                    }
                  return w;
                })(d, u),
            h = '';
          Object.keys(f)
            .filter(function (_) {
              return _ !== 'main';
            })
            .forEach(function (_) {
              for (var y = 0; f[_][y]; ) y++;
              f[_].push(y),
                (d[_][y] = '(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })'),
                (h =
                  h +
                  'var ' +
                  _ +
                  ' = (' +
                  o.toString().replace('ENTRY_MODULE', JSON.stringify(y)) +
                  ')({' +
                  f[_].map(function (T) {
                    return JSON.stringify(T) + ': ' + d[_][T].toString();
                  }).join(',') +
                  `});
`);
            }),
            (h =
              h +
              'new ((' +
              o.toString().replace('ENTRY_MODULE', JSON.stringify(u)) +
              ')({' +
              f.main
                .map(function (_) {
                  return JSON.stringify(_) + ': ' + d.main[_].toString();
                })
                .join(',') +
              '}))(self);');
          var m = new window.Blob([h], { type: 'text/javascript' });
          if (c.bare) return m;
          var g = (window.URL || window.webkitURL || window.mozURL || window.msURL).createObjectURL(m),
            b = new window.Worker(g);
          return (b.objectURL = g), b;
        };
      },
      function (n, r, i) {
        /*! MIT License. Copyright 2015-2018 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */ (function (o) {
          function a(W) {
            return parseInt(W) === W;
          }
          function s(W) {
            if (!a(W.length)) return !1;
            for (var Y = 0; Y < W.length; Y++) if (!a(W[Y]) || W[Y] < 0 || W[Y] > 255) return !1;
            return !0;
          }
          function l(W, Y) {
            if (W.buffer && W.name === 'Uint8Array') return Y && (W = W.slice ? W.slice() : Array.prototype.slice.call(W)), W;
            if (Array.isArray(W)) {
              if (!s(W)) throw new Error('Array contains invalid value: ' + W);
              return new Uint8Array(W);
            }
            if (a(W.length) && s(W)) return new Uint8Array(W);
            throw new Error('unsupported array-like object');
          }
          function u(W) {
            return new Uint8Array(W);
          }
          function c(W, Y, ne, te, K) {
            (te == null && K == null) || (W = W.slice ? W.slice(te, K) : Array.prototype.slice.call(W, te, K)), Y.set(W, ne);
          }
          var d,
            f = {
              toBytes: function (W) {
                var Y = [],
                  ne = 0;
                for (W = encodeURI(W); ne < W.length; ) {
                  var te = W.charCodeAt(ne++);
                  te === 37 ? (Y.push(parseInt(W.substr(ne, 2), 16)), (ne += 2)) : Y.push(te);
                }
                return l(Y);
              },
              fromBytes: function (W) {
                for (var Y = [], ne = 0; ne < W.length; ) {
                  var te = W[ne];
                  te < 128
                    ? (Y.push(String.fromCharCode(te)), ne++)
                    : te > 191 && te < 224
                    ? (Y.push(String.fromCharCode(((31 & te) << 6) | (63 & W[ne + 1]))), (ne += 2))
                    : (Y.push(String.fromCharCode(((15 & te) << 12) | ((63 & W[ne + 1]) << 6) | (63 & W[ne + 2]))), (ne += 3));
                }
                return Y.join('');
              },
            },
            h =
              ((d = '0123456789abcdef'),
              {
                toBytes: function (W) {
                  for (var Y = [], ne = 0; ne < W.length; ne += 2) Y.push(parseInt(W.substr(ne, 2), 16));
                  return Y;
                },
                fromBytes: function (W) {
                  for (var Y = [], ne = 0; ne < W.length; ne++) {
                    var te = W[ne];
                    Y.push(d[(240 & te) >> 4] + d[15 & te]);
                  }
                  return Y.join('');
                },
              }),
            m = { 16: 10, 24: 12, 32: 14 },
            g = [1, 2, 4, 8, 16, 32, 64, 128, 27, 54, 108, 216, 171, 77, 154, 47, 94, 188, 99, 198, 151, 53, 106, 212, 179, 125, 250, 239, 197, 145],
            b = [
              99, 124, 119, 123, 242, 107, 111, 197, 48, 1, 103, 43, 254, 215, 171, 118, 202, 130, 201, 125, 250, 89, 71, 240, 173, 212, 162, 175, 156, 164, 114, 192, 183, 253, 147, 38, 54, 63, 247,
              204, 52, 165, 229, 241, 113, 216, 49, 21, 4, 199, 35, 195, 24, 150, 5, 154, 7, 18, 128, 226, 235, 39, 178, 117, 9, 131, 44, 26, 27, 110, 90, 160, 82, 59, 214, 179, 41, 227, 47, 132, 83,
              209, 0, 237, 32, 252, 177, 91, 106, 203, 190, 57, 74, 76, 88, 207, 208, 239, 170, 251, 67, 77, 51, 133, 69, 249, 2, 127, 80, 60, 159, 168, 81, 163, 64, 143, 146, 157, 56, 245, 188, 182,
              218, 33, 16, 255, 243, 210, 205, 12, 19, 236, 95, 151, 68, 23, 196, 167, 126, 61, 100, 93, 25, 115, 96, 129, 79, 220, 34, 42, 144, 136, 70, 238, 184, 20, 222, 94, 11, 219, 224, 50, 58,
              10, 73, 6, 36, 92, 194, 211, 172, 98, 145, 149, 228, 121, 231, 200, 55, 109, 141, 213, 78, 169, 108, 86, 244, 234, 101, 122, 174, 8, 186, 120, 37, 46, 28, 166, 180, 198, 232, 221, 116,
              31, 75, 189, 139, 138, 112, 62, 181, 102, 72, 3, 246, 14, 97, 53, 87, 185, 134, 193, 29, 158, 225, 248, 152, 17, 105, 217, 142, 148, 155, 30, 135, 233, 206, 85, 40, 223, 140, 161, 137,
              13, 191, 230, 66, 104, 65, 153, 45, 15, 176, 84, 187, 22,
            ],
            _ = [
              82, 9, 106, 213, 48, 54, 165, 56, 191, 64, 163, 158, 129, 243, 215, 251, 124, 227, 57, 130, 155, 47, 255, 135, 52, 142, 67, 68, 196, 222, 233, 203, 84, 123, 148, 50, 166, 194, 35, 61,
              238, 76, 149, 11, 66, 250, 195, 78, 8, 46, 161, 102, 40, 217, 36, 178, 118, 91, 162, 73, 109, 139, 209, 37, 114, 248, 246, 100, 134, 104, 152, 22, 212, 164, 92, 204, 93, 101, 182, 146,
              108, 112, 72, 80, 253, 237, 185, 218, 94, 21, 70, 87, 167, 141, 157, 132, 144, 216, 171, 0, 140, 188, 211, 10, 247, 228, 88, 5, 184, 179, 69, 6, 208, 44, 30, 143, 202, 63, 15, 2, 193,
              175, 189, 3, 1, 19, 138, 107, 58, 145, 17, 65, 79, 103, 220, 234, 151, 242, 207, 206, 240, 180, 230, 115, 150, 172, 116, 34, 231, 173, 53, 133, 226, 249, 55, 232, 28, 117, 223, 110, 71,
              241, 26, 113, 29, 41, 197, 137, 111, 183, 98, 14, 170, 24, 190, 27, 252, 86, 62, 75, 198, 210, 121, 32, 154, 219, 192, 254, 120, 205, 90, 244, 31, 221, 168, 51, 136, 7, 199, 49, 177, 18,
              16, 89, 39, 128, 236, 95, 96, 81, 127, 169, 25, 181, 74, 13, 45, 229, 122, 159, 147, 201, 156, 239, 160, 224, 59, 77, 174, 42, 245, 176, 200, 235, 187, 60, 131, 83, 153, 97, 23, 43, 4,
              126, 186, 119, 214, 38, 225, 105, 20, 99, 85, 33, 12, 125,
            ],
            y = [
              3328402341, 4168907908, 4000806809, 4135287693, 4294111757, 3597364157, 3731845041, 2445657428, 1613770832, 33620227, 3462883241, 1445669757, 3892248089, 3050821474, 1303096294,
              3967186586, 2412431941, 528646813, 2311702848, 4202528135, 4026202645, 2992200171, 2387036105, 4226871307, 1101901292, 3017069671, 1604494077, 1169141738, 597466303, 1403299063,
              3832705686, 2613100635, 1974974402, 3791519004, 1033081774, 1277568618, 1815492186, 2118074177, 4126668546, 2211236943, 1748251740, 1369810420, 3521504564, 4193382664, 3799085459,
              2883115123, 1647391059, 706024767, 134480908, 2512897874, 1176707941, 2646852446, 806885416, 932615841, 168101135, 798661301, 235341577, 605164086, 461406363, 3756188221, 3454790438,
              1311188841, 2142417613, 3933566367, 302582043, 495158174, 1479289972, 874125870, 907746093, 3698224818, 3025820398, 1537253627, 2756858614, 1983593293, 3084310113, 2108928974,
              1378429307, 3722699582, 1580150641, 327451799, 2790478837, 3117535592, 0, 3253595436, 1075847264, 3825007647, 2041688520, 3059440621, 3563743934, 2378943302, 1740553945, 1916352843,
              2487896798, 2555137236, 2958579944, 2244988746, 3151024235, 3320835882, 1336584933, 3992714006, 2252555205, 2588757463, 1714631509, 293963156, 2319795663, 3925473552, 67240454,
              4269768577, 2689618160, 2017213508, 631218106, 1269344483, 2723238387, 1571005438, 2151694528, 93294474, 1066570413, 563977660, 1882732616, 4059428100, 1673313503, 2008463041,
              2950355573, 1109467491, 537923632, 3858759450, 4260623118, 3218264685, 2177748300, 403442708, 638784309, 3287084079, 3193921505, 899127202, 2286175436, 773265209, 2479146071, 1437050866,
              4236148354, 2050833735, 3362022572, 3126681063, 840505643, 3866325909, 3227541664, 427917720, 2655997905, 2749160575, 1143087718, 1412049534, 999329963, 193497219, 2353415882,
              3354324521, 1807268051, 672404540, 2816401017, 3160301282, 369822493, 2916866934, 3688947771, 1681011286, 1949973070, 336202270, 2454276571, 201721354, 1210328172, 3093060836,
              2680341085, 3184776046, 1135389935, 3294782118, 965841320, 831886756, 3554993207, 4068047243, 3588745010, 2345191491, 1849112409, 3664604599, 26054028, 2983581028, 2622377682,
              1235855840, 3630984372, 2891339514, 4092916743, 3488279077, 3395642799, 4101667470, 1202630377, 268961816, 1874508501, 4034427016, 1243948399, 1546530418, 941366308, 1470539505,
              1941222599, 2546386513, 3421038627, 2715671932, 3899946140, 1042226977, 2521517021, 1639824860, 227249030, 260737669, 3765465232, 2084453954, 1907733956, 3429263018, 2420656344,
              100860677, 4160157185, 470683154, 3261161891, 1781871967, 2924959737, 1773779408, 394692241, 2579611992, 974986535, 664706745, 3655459128, 3958962195, 731420851, 571543859, 3530123707,
              2849626480, 126783113, 865375399, 765172662, 1008606754, 361203602, 3387549984, 2278477385, 2857719295, 1344809080, 2782912378, 59542671, 1503764984, 160008576, 437062935, 1707065306,
              3622233649, 2218934982, 3496503480, 2185314755, 697932208, 1512910199, 504303377, 2075177163, 2824099068, 1841019862, 739644986,
            ],
            T = [
              2781242211, 2230877308, 2582542199, 2381740923, 234877682, 3184946027, 2984144751, 1418839493, 1348481072, 50462977, 2848876391, 2102799147, 434634494, 1656084439, 3863849899,
              2599188086, 1167051466, 2636087938, 1082771913, 2281340285, 368048890, 3954334041, 3381544775, 201060592, 3963727277, 1739838676, 4250903202, 3930435503, 3206782108, 4149453988,
              2531553906, 1536934080, 3262494647, 484572669, 2923271059, 1783375398, 1517041206, 1098792767, 49674231, 1334037708, 1550332980, 4098991525, 886171109, 150598129, 2481090929, 1940642008,
              1398944049, 1059722517, 201851908, 1385547719, 1699095331, 1587397571, 674240536, 2704774806, 252314885, 3039795866, 151914247, 908333586, 2602270848, 1038082786, 651029483, 1766729511,
              3447698098, 2682942837, 454166793, 2652734339, 1951935532, 775166490, 758520603, 3000790638, 4004797018, 4217086112, 4137964114, 1299594043, 1639438038, 3464344499, 2068982057,
              1054729187, 1901997871, 2534638724, 4121318227, 1757008337, 0, 750906861, 1614815264, 535035132, 3363418545, 3988151131, 3201591914, 1183697867, 3647454910, 1265776953, 3734260298,
              3566750796, 3903871064, 1250283471, 1807470800, 717615087, 3847203498, 384695291, 3313910595, 3617213773, 1432761139, 2484176261, 3481945413, 283769337, 100925954, 2180939647,
              4037038160, 1148730428, 3123027871, 3813386408, 4087501137, 4267549603, 3229630528, 2315620239, 2906624658, 3156319645, 1215313976, 82966005, 3747855548, 3245848246, 1974459098,
              1665278241, 807407632, 451280895, 251524083, 1841287890, 1283575245, 337120268, 891687699, 801369324, 3787349855, 2721421207, 3431482436, 959321879, 1469301956, 4065699751, 2197585534,
              1199193405, 2898814052, 3887750493, 724703513, 2514908019, 2696962144, 2551808385, 3516813135, 2141445340, 1715741218, 2119445034, 2872807568, 2198571144, 3398190662, 700968686,
              3547052216, 1009259540, 2041044702, 3803995742, 487983883, 1991105499, 1004265696, 1449407026, 1316239930, 504629770, 3683797321, 168560134, 1816667172, 3837287516, 1570751170,
              1857934291, 4014189740, 2797888098, 2822345105, 2754712981, 936633572, 2347923833, 852879335, 1133234376, 1500395319, 3084545389, 2348912013, 1689376213, 3533459022, 3762923945,
              3034082412, 4205598294, 133428468, 634383082, 2949277029, 2398386810, 3913789102, 403703816, 3580869306, 2297460856, 1867130149, 1918643758, 607656988, 4049053350, 3346248884,
              1368901318, 600565992, 2090982877, 2632479860, 557719327, 3717614411, 3697393085, 2249034635, 2232388234, 2430627952, 1115438654, 3295786421, 2865522278, 3633334344, 84280067, 33027830,
              303828494, 2747425121, 1600795957, 4188952407, 3496589753, 2434238086, 1486471617, 658119965, 3106381470, 953803233, 334231800, 3005978776, 857870609, 3151128937, 1890179545, 2298973838,
              2805175444, 3056442267, 574365214, 2450884487, 550103529, 1233637070, 4289353045, 2018519080, 2057691103, 2399374476, 4166623649, 2148108681, 387583245, 3664101311, 836232934,
              3330556482, 3100665960, 3280093505, 2955516313, 2002398509, 287182607, 3413881008, 4238890068, 3597515707, 975967766,
            ],
            w = [
              1671808611, 2089089148, 2006576759, 2072901243, 4061003762, 1807603307, 1873927791, 3310653893, 810573872, 16974337, 1739181671, 729634347, 4263110654, 3613570519, 2883997099,
              1989864566, 3393556426, 2191335298, 3376449993, 2106063485, 4195741690, 1508618841, 1204391495, 4027317232, 2917941677, 3563566036, 2734514082, 2951366063, 2629772188, 2767672228,
              1922491506, 3227229120, 3082974647, 4246528509, 2477669779, 644500518, 911895606, 1061256767, 4144166391, 3427763148, 878471220, 2784252325, 3845444069, 4043897329, 1905517169,
              3631459288, 827548209, 356461077, 67897348, 3344078279, 593839651, 3277757891, 405286936, 2527147926, 84871685, 2595565466, 118033927, 305538066, 2157648768, 3795705826, 3945188843,
              661212711, 2999812018, 1973414517, 152769033, 2208177539, 745822252, 439235610, 455947803, 1857215598, 1525593178, 2700827552, 1391895634, 994932283, 3596728278, 3016654259, 695947817,
              3812548067, 795958831, 2224493444, 1408607827, 3513301457, 0, 3979133421, 543178784, 4229948412, 2982705585, 1542305371, 1790891114, 3410398667, 3201918910, 961245753, 1256100938,
              1289001036, 1491644504, 3477767631, 3496721360, 4012557807, 2867154858, 4212583931, 1137018435, 1305975373, 861234739, 2241073541, 1171229253, 4178635257, 33948674, 2139225727,
              1357946960, 1011120188, 2679776671, 2833468328, 1374921297, 2751356323, 1086357568, 2408187279, 2460827538, 2646352285, 944271416, 4110742005, 3168756668, 3066132406, 3665145818,
              560153121, 271589392, 4279952895, 4077846003, 3530407890, 3444343245, 202643468, 322250259, 3962553324, 1608629855, 2543990167, 1154254916, 389623319, 3294073796, 2817676711, 2122513534,
              1028094525, 1689045092, 1575467613, 422261273, 1939203699, 1621147744, 2174228865, 1339137615, 3699352540, 577127458, 712922154, 2427141008, 2290289544, 1187679302, 3995715566,
              3100863416, 339486740, 3732514782, 1591917662, 186455563, 3681988059, 3762019296, 844522546, 978220090, 169743370, 1239126601, 101321734, 611076132, 1558493276, 3260915650, 3547250131,
              2901361580, 1655096418, 2443721105, 2510565781, 3828863972, 2039214713, 3878868455, 3359869896, 928607799, 1840765549, 2374762893, 3580146133, 1322425422, 2850048425, 1823791212,
              1459268694, 4094161908, 3928346602, 1706019429, 2056189050, 2934523822, 135794696, 3134549946, 2022240376, 628050469, 779246638, 472135708, 2800834470, 3032970164, 3327236038,
              3894660072, 3715932637, 1956440180, 522272287, 1272813131, 3185336765, 2340818315, 2323976074, 1888542832, 1044544574, 3049550261, 1722469478, 1222152264, 50660867, 4127324150,
              236067854, 1638122081, 895445557, 1475980887, 3117443513, 2257655686, 3243809217, 489110045, 2662934430, 3778599393, 4162055160, 2561878936, 288563729, 1773916777, 3648039385,
              2391345038, 2493985684, 2612407707, 505560094, 2274497927, 3911240169, 3460925390, 1442818645, 678973480, 3749357023, 2358182796, 2717407649, 2306869641, 219617805, 3218761151,
              3862026214, 1120306242, 1756942440, 1103331905, 2578459033, 762796589, 252780047, 2966125488, 1425844308, 3151392187, 372911126,
            ],
            I = [
              1667474886, 2088535288, 2004326894, 2071694838, 4075949567, 1802223062, 1869591006, 3318043793, 808472672, 16843522, 1734846926, 724270422, 4278065639, 3621216949, 2880169549,
              1987484396, 3402253711, 2189597983, 3385409673, 2105378810, 4210693615, 1499065266, 1195886990, 4042263547, 2913856577, 3570689971, 2728590687, 2947541573, 2627518243, 2762274643,
              1920112356, 3233831835, 3082273397, 4261223649, 2475929149, 640051788, 909531756, 1061110142, 4160160501, 3435941763, 875846760, 2779116625, 3857003729, 4059105529, 1903268834,
              3638064043, 825316194, 353713962, 67374088, 3351728789, 589522246, 3284360861, 404236336, 2526454071, 84217610, 2593830191, 117901582, 303183396, 2155911963, 3806477791, 3958056653,
              656894286, 2998062463, 1970642922, 151591698, 2206440989, 741110872, 437923380, 454765878, 1852748508, 1515908788, 2694904667, 1381168804, 993742198, 3604373943, 3014905469, 690584402,
              3823320797, 791638366, 2223281939, 1398011302, 3520161977, 0, 3991743681, 538992704, 4244381667, 2981218425, 1532751286, 1785380564, 3419096717, 3200178535, 960056178, 1246420628,
              1280103576, 1482221744, 3486468741, 3503319995, 4025428677, 2863326543, 4227536621, 1128514950, 1296947098, 859002214, 2240123921, 1162203018, 4193849577, 33687044, 2139062782,
              1347481760, 1010582648, 2678045221, 2829640523, 1364325282, 2745433693, 1077985408, 2408548869, 2459086143, 2644360225, 943212656, 4126475505, 3166494563, 3065430391, 3671750063,
              555836226, 269496352, 4294908645, 4092792573, 3537006015, 3452783745, 202118168, 320025894, 3974901699, 1600119230, 2543297077, 1145359496, 387397934, 3301201811, 2812801621, 2122220284,
              1027426170, 1684319432, 1566435258, 421079858, 1936954854, 1616945344, 2172753945, 1330631070, 3705438115, 572679748, 707427924, 2425400123, 2290647819, 1179044492, 4008585671,
              3099120491, 336870440, 3739122087, 1583276732, 185277718, 3688593069, 3772791771, 842159716, 976899700, 168435220, 1229577106, 101059084, 606366792, 1549591736, 3267517855, 3553849021,
              2897014595, 1650632388, 2442242105, 2509612081, 3840161747, 2038008818, 3890688725, 3368567691, 926374254, 1835907034, 2374863873, 3587531953, 1313788572, 2846482505, 1819063512,
              1448540844, 4109633523, 3941213647, 1701162954, 2054852340, 2930698567, 134748176, 3132806511, 2021165296, 623210314, 774795868, 471606328, 2795958615, 3031746419, 3334885783,
              3907527627, 3722280097, 1953799400, 522133822, 1263263126, 3183336545, 2341176845, 2324333839, 1886425312, 1044267644, 3048588401, 1718004428, 1212733584, 50529542, 4143317495,
              235803164, 1633788866, 892690282, 1465383342, 3115962473, 2256965911, 3250673817, 488449850, 2661202215, 3789633753, 4177007595, 2560144171, 286339874, 1768537042, 3654906025,
              2391705863, 2492770099, 2610673197, 505291324, 2273808917, 3924369609, 3469625735, 1431699370, 673740880, 3755965093, 2358021891, 2711746649, 2307489801, 218961690, 3217021541,
              3873845719, 1111672452, 1751693520, 1094828930, 2576986153, 757954394, 252645662, 2964376443, 1414855848, 3149649517, 370555436,
            ],
            O = [
              1374988112, 2118214995, 437757123, 975658646, 1001089995, 530400753, 2902087851, 1273168787, 540080725, 2910219766, 2295101073, 4110568485, 1340463100, 3307916247, 641025152, 3043140495,
              3736164937, 632953703, 1172967064, 1576976609, 3274667266, 2169303058, 2370213795, 1809054150, 59727847, 361929877, 3211623147, 2505202138, 3569255213, 1484005843, 1239443753,
              2395588676, 1975683434, 4102977912, 2572697195, 666464733, 3202437046, 4035489047, 3374361702, 2110667444, 1675577880, 3843699074, 2538681184, 1649639237, 2976151520, 3144396420,
              4269907996, 4178062228, 1883793496, 2403728665, 2497604743, 1383856311, 2876494627, 1917518562, 3810496343, 1716890410, 3001755655, 800440835, 2261089178, 3543599269, 807962610,
              599762354, 33778362, 3977675356, 2328828971, 2809771154, 4077384432, 1315562145, 1708848333, 101039829, 3509871135, 3299278474, 875451293, 2733856160, 92987698, 2767645557, 193195065,
              1080094634, 1584504582, 3178106961, 1042385657, 2531067453, 3711829422, 1306967366, 2438237621, 1908694277, 67556463, 1615861247, 429456164, 3602770327, 2302690252, 1742315127,
              2968011453, 126454664, 3877198648, 2043211483, 2709260871, 2084704233, 4169408201, 0, 159417987, 841739592, 504459436, 1817866830, 4245618683, 260388950, 1034867998, 908933415,
              168810852, 1750902305, 2606453969, 607530554, 202008497, 2472011535, 3035535058, 463180190, 2160117071, 1641816226, 1517767529, 470948374, 3801332234, 3231722213, 1008918595, 303765277,
              235474187, 4069246893, 766945465, 337553864, 1475418501, 2943682380, 4003061179, 2743034109, 4144047775, 1551037884, 1147550661, 1543208500, 2336434550, 3408119516, 3069049960,
              3102011747, 3610369226, 1113818384, 328671808, 2227573024, 2236228733, 3535486456, 2935566865, 3341394285, 496906059, 3702665459, 226906860, 2009195472, 733156972, 2842737049, 294930682,
              1206477858, 2835123396, 2700099354, 1451044056, 573804783, 2269728455, 3644379585, 2362090238, 2564033334, 2801107407, 2776292904, 3669462566, 1068351396, 742039012, 1350078989,
              1784663195, 1417561698, 4136440770, 2430122216, 775550814, 2193862645, 2673705150, 1775276924, 1876241833, 3475313331, 3366754619, 270040487, 3902563182, 3678124923, 3441850377,
              1851332852, 3969562369, 2203032232, 3868552805, 2868897406, 566021896, 4011190502, 3135740889, 1248802510, 3936291284, 699432150, 832877231, 708780849, 3332740144, 899835584, 1951317047,
              4236429990, 3767586992, 866637845, 4043610186, 1106041591, 2144161806, 395441711, 1984812685, 1139781709, 3433712980, 3835036895, 2664543715, 1282050075, 3240894392, 1181045119,
              2640243204, 25965917, 4203181171, 4211818798, 3009879386, 2463879762, 3910161971, 1842759443, 2597806476, 933301370, 1509430414, 3943906441, 3467192302, 3076639029, 3776767469,
              2051518780, 2631065433, 1441952575, 404016761, 1942435775, 1408749034, 1610459739, 3745345300, 2017778566, 3400528769, 3110650942, 941896748, 3265478751, 371049330, 3168937228,
              675039627, 4279080257, 967311729, 135050206, 3635733660, 1683407248, 2076935265, 3576870512, 1215061108, 3501741890,
            ],
            x = [
              1347548327, 1400783205, 3273267108, 2520393566, 3409685355, 4045380933, 2880240216, 2471224067, 1428173050, 4138563181, 2441661558, 636813900, 4233094615, 3620022987, 2149987652,
              2411029155, 1239331162, 1730525723, 2554718734, 3781033664, 46346101, 310463728, 2743944855, 3328955385, 3875770207, 2501218972, 3955191162, 3667219033, 768917123, 3545789473, 692707433,
              1150208456, 1786102409, 2029293177, 1805211710, 3710368113, 3065962831, 401639597, 1724457132, 3028143674, 409198410, 2196052529, 1620529459, 1164071807, 3769721975, 2226875310,
              486441376, 2499348523, 1483753576, 428819965, 2274680428, 3075636216, 598438867, 3799141122, 1474502543, 711349675, 129166120, 53458370, 2592523643, 2782082824, 4063242375, 2988687269,
              3120694122, 1559041666, 730517276, 2460449204, 4042459122, 2706270690, 3446004468, 3573941694, 533804130, 2328143614, 2637442643, 2695033685, 839224033, 1973745387, 957055980,
              2856345839, 106852767, 1371368976, 4181598602, 1033297158, 2933734917, 1179510461, 3046200461, 91341917, 1862534868, 4284502037, 605657339, 2547432937, 3431546947, 2003294622,
              3182487618, 2282195339, 954669403, 3682191598, 1201765386, 3917234703, 3388507166, 0, 2198438022, 1211247597, 2887651696, 1315723890, 4227665663, 1443857720, 507358933, 657861945,
              1678381017, 560487590, 3516619604, 975451694, 2970356327, 261314535, 3535072918, 2652609425, 1333838021, 2724322336, 1767536459, 370938394, 182621114, 3854606378, 1128014560, 487725847,
              185469197, 2918353863, 3106780840, 3356761769, 2237133081, 1286567175, 3152976349, 4255350624, 2683765030, 3160175349, 3309594171, 878443390, 1988838185, 3704300486, 1756818940,
              1673061617, 3403100636, 272786309, 1075025698, 545572369, 2105887268, 4174560061, 296679730, 1841768865, 1260232239, 4091327024, 3960309330, 3497509347, 1814803222, 2578018489,
              4195456072, 575138148, 3299409036, 446754879, 3629546796, 4011996048, 3347532110, 3252238545, 4270639778, 915985419, 3483825537, 681933534, 651868046, 2755636671, 3828103837, 223377554,
              2607439820, 1649704518, 3270937875, 3901806776, 1580087799, 4118987695, 3198115200, 2087309459, 2842678573, 3016697106, 1003007129, 2802849917, 1860738147, 2077965243, 164439672,
              4100872472, 32283319, 2827177882, 1709610350, 2125135846, 136428751, 3874428392, 3652904859, 3460984630, 3572145929, 3593056380, 2939266226, 824852259, 818324884, 3224740454, 930369212,
              2801566410, 2967507152, 355706840, 1257309336, 4148292826, 243256656, 790073846, 2373340630, 1296297904, 1422699085, 3756299780, 3818836405, 457992840, 3099667487, 2135319889, 77422314,
              1560382517, 1945798516, 788204353, 1521706781, 1385356242, 870912086, 325965383, 2358957921, 2050466060, 2388260884, 2313884476, 4006521127, 901210569, 3990953189, 1014646705,
              1503449823, 1062597235, 2031621326, 3212035895, 3931371469, 1533017514, 350174575, 2256028891, 2177544179, 1052338372, 741876788, 1606591296, 1914052035, 213705253, 2334669897,
              1107234197, 1899603969, 3725069491, 2631447780, 2422494913, 1635502980, 1893020342, 1950903388, 1120974935,
            ],
            L = [
              2807058932, 1699970625, 2764249623, 1586903591, 1808481195, 1173430173, 1487645946, 59984867, 4199882800, 1844882806, 1989249228, 1277555970, 3623636965, 3419915562, 1149249077,
              2744104290, 1514790577, 459744698, 244860394, 3235995134, 1963115311, 4027744588, 2544078150, 4190530515, 1608975247, 2627016082, 2062270317, 1507497298, 2200818878, 567498868,
              1764313568, 3359936201, 2305455554, 2037970062, 1047239e3, 1910319033, 1337376481, 2904027272, 2892417312, 984907214, 1243112415, 830661914, 861968209, 2135253587, 2011214180,
              2927934315, 2686254721, 731183368, 1750626376, 4246310725, 1820824798, 4172763771, 3542330227, 48394827, 2404901663, 2871682645, 671593195, 3254988725, 2073724613, 145085239, 2280796200,
              2779915199, 1790575107, 2187128086, 472615631, 3029510009, 4075877127, 3802222185, 4107101658, 3201631749, 1646252340, 4270507174, 1402811438, 1436590835, 3778151818, 3950355702,
              3963161475, 4020912224, 2667994737, 273792366, 2331590177, 104699613, 95345982, 3175501286, 2377486676, 1560637892, 3564045318, 369057872, 4213447064, 3919042237, 1137477952, 2658625497,
              1119727848, 2340947849, 1530455833, 4007360968, 172466556, 266959938, 516552836, 0, 2256734592, 3980931627, 1890328081, 1917742170, 4294704398, 945164165, 3575528878, 958871085,
              3647212047, 2787207260, 1423022939, 775562294, 1739656202, 3876557655, 2530391278, 2443058075, 3310321856, 547512796, 1265195639, 437656594, 3121275539, 719700128, 3762502690, 387781147,
              218828297, 3350065803, 2830708150, 2848461854, 428169201, 122466165, 3720081049, 1627235199, 648017665, 4122762354, 1002783846, 2117360635, 695634755, 3336358691, 4234721005, 4049844452,
              3704280881, 2232435299, 574624663, 287343814, 612205898, 1039717051, 840019705, 2708326185, 793451934, 821288114, 1391201670, 3822090177, 376187827, 3113855344, 1224348052, 1679968233,
              2361698556, 1058709744, 752375421, 2431590963, 1321699145, 3519142200, 2734591178, 188127444, 2177869557, 3727205754, 2384911031, 3215212461, 2648976442, 2450346104, 3432737375,
              1180849278, 331544205, 3102249176, 4150144569, 2952102595, 2159976285, 2474404304, 766078933, 313773861, 2570832044, 2108100632, 1668212892, 3145456443, 2013908262, 418672217,
              3070356634, 2594734927, 1852171925, 3867060991, 3473416636, 3907448597, 2614737639, 919489135, 164948639, 2094410160, 2997825956, 590424639, 2486224549, 1723872674, 3157750862,
              3399941250, 3501252752, 3625268135, 2555048196, 3673637356, 1343127501, 4130281361, 3599595085, 2957853679, 1297403050, 81781910, 3051593425, 2283490410, 532201772, 1367295589,
              3926170974, 895287692, 1953757831, 1093597963, 492483431, 3528626907, 1446242576, 1192455638, 1636604631, 209336225, 344873464, 1015671571, 669961897, 3375740769, 3857572124, 2973530695,
              3747192018, 1933530610, 3464042516, 935293895, 3454686199, 2858115069, 1863638845, 3683022916, 4085369519, 3292445032, 875313188, 1080017571, 3279033885, 621591778, 1233856572,
              2504130317, 24197544, 3017672716, 3835484340, 3247465558, 2220981195, 3060847922, 1551124588, 1463996600,
            ],
            D = [
              4104605777, 1097159550, 396673818, 660510266, 2875968315, 2638606623, 4200115116, 3808662347, 821712160, 1986918061, 3430322568, 38544885, 3856137295, 718002117, 893681702, 1654886325,
              2975484382, 3122358053, 3926825029, 4274053469, 796197571, 1290801793, 1184342925, 3556361835, 2405426947, 2459735317, 1836772287, 1381620373, 3196267988, 1948373848, 3764988233,
              3385345166, 3263785589, 2390325492, 1480485785, 3111247143, 3780097726, 2293045232, 548169417, 3459953789, 3746175075, 439452389, 1362321559, 1400849762, 1685577905, 1806599355,
              2174754046, 137073913, 1214797936, 1174215055, 3731654548, 2079897426, 1943217067, 1258480242, 529487843, 1437280870, 3945269170, 3049390895, 3313212038, 923313619, 679998e3, 3215307299,
              57326082, 377642221, 3474729866, 2041877159, 133361907, 1776460110, 3673476453, 96392454, 878845905, 2801699524, 777231668, 4082475170, 2330014213, 4142626212, 2213296395, 1626319424,
              1906247262, 1846563261, 562755902, 3708173718, 1040559837, 3871163981, 1418573201, 3294430577, 114585348, 1343618912, 2566595609, 3186202582, 1078185097, 3651041127, 3896688048,
              2307622919, 425408743, 3371096953, 2081048481, 1108339068, 2216610296, 0, 2156299017, 736970802, 292596766, 1517440620, 251657213, 2235061775, 2933202493, 758720310, 265905162,
              1554391400, 1532285339, 908999204, 174567692, 1474760595, 4002861748, 2610011675, 3234156416, 3693126241, 2001430874, 303699484, 2478443234, 2687165888, 585122620, 454499602, 151849742,
              2345119218, 3064510765, 514443284, 4044981591, 1963412655, 2581445614, 2137062819, 19308535, 1928707164, 1715193156, 4219352155, 1126790795, 600235211, 3992742070, 3841024952, 836553431,
              1669664834, 2535604243, 3323011204, 1243905413, 3141400786, 4180808110, 698445255, 2653899549, 2989552604, 2253581325, 3252932727, 3004591147, 1891211689, 2487810577, 3915653703,
              4237083816, 4030667424, 2100090966, 865136418, 1229899655, 953270745, 3399679628, 3557504664, 4118925222, 2061379749, 3079546586, 2915017791, 983426092, 2022837584, 1607244650,
              2118541908, 2366882550, 3635996816, 972512814, 3283088770, 1568718495, 3499326569, 3576539503, 621982671, 2895723464, 410887952, 2623762152, 1002142683, 645401037, 1494807662,
              2595684844, 1335535747, 2507040230, 4293295786, 3167684641, 367585007, 3885750714, 1865862730, 2668221674, 2960971305, 2763173681, 1059270954, 2777952454, 2724642869, 1320957812,
              2194319100, 2429595872, 2815956275, 77089521, 3973773121, 3444575871, 2448830231, 1305906550, 4021308739, 2857194700, 2516901860, 3518358430, 1787304780, 740276417, 1699839814,
              1592394909, 2352307457, 2272556026, 188821243, 1729977011, 3687994002, 274084841, 3594982253, 3613494426, 2701949495, 4162096729, 322734571, 2837966542, 1640576439, 484830689,
              1202797690, 3537852828, 4067639125, 349075736, 3342319475, 4157467219, 4255800159, 1030690015, 1155237496, 2951971274, 1757691577, 607398968, 2738905026, 499347990, 3794078908,
              1011452712, 227885567, 2818666809, 213114376, 3034881240, 1455525988, 3414450555, 850817237, 1817998408, 3092726480,
            ],
            C = [
              0, 235474187, 470948374, 303765277, 941896748, 908933415, 607530554, 708780849, 1883793496, 2118214995, 1817866830, 1649639237, 1215061108, 1181045119, 1417561698, 1517767529,
              3767586992, 4003061179, 4236429990, 4069246893, 3635733660, 3602770327, 3299278474, 3400528769, 2430122216, 2664543715, 2362090238, 2193862645, 2835123396, 2801107407, 3035535058,
              3135740889, 3678124923, 3576870512, 3341394285, 3374361702, 3810496343, 3977675356, 4279080257, 4043610186, 2876494627, 2776292904, 3076639029, 3110650942, 2472011535, 2640243204,
              2403728665, 2169303058, 1001089995, 899835584, 666464733, 699432150, 59727847, 226906860, 530400753, 294930682, 1273168787, 1172967064, 1475418501, 1509430414, 1942435775, 2110667444,
              1876241833, 1641816226, 2910219766, 2743034109, 2976151520, 3211623147, 2505202138, 2606453969, 2302690252, 2269728455, 3711829422, 3543599269, 3240894392, 3475313331, 3843699074,
              3943906441, 4178062228, 4144047775, 1306967366, 1139781709, 1374988112, 1610459739, 1975683434, 2076935265, 1775276924, 1742315127, 1034867998, 866637845, 566021896, 800440835, 92987698,
              193195065, 429456164, 395441711, 1984812685, 2017778566, 1784663195, 1683407248, 1315562145, 1080094634, 1383856311, 1551037884, 101039829, 135050206, 437757123, 337553864, 1042385657,
              807962610, 573804783, 742039012, 2531067453, 2564033334, 2328828971, 2227573024, 2935566865, 2700099354, 3001755655, 3168937228, 3868552805, 3902563182, 4203181171, 4102977912,
              3736164937, 3501741890, 3265478751, 3433712980, 1106041591, 1340463100, 1576976609, 1408749034, 2043211483, 2009195472, 1708848333, 1809054150, 832877231, 1068351396, 766945465,
              599762354, 159417987, 126454664, 361929877, 463180190, 2709260871, 2943682380, 3178106961, 3009879386, 2572697195, 2538681184, 2236228733, 2336434550, 3509871135, 3745345300, 3441850377,
              3274667266, 3910161971, 3877198648, 4110568485, 4211818798, 2597806476, 2497604743, 2261089178, 2295101073, 2733856160, 2902087851, 3202437046, 2968011453, 3936291284, 3835036895,
              4136440770, 4169408201, 3535486456, 3702665459, 3467192302, 3231722213, 2051518780, 1951317047, 1716890410, 1750902305, 1113818384, 1282050075, 1584504582, 1350078989, 168810852,
              67556463, 371049330, 404016761, 841739592, 1008918595, 775550814, 540080725, 3969562369, 3801332234, 4035489047, 4269907996, 3569255213, 3669462566, 3366754619, 3332740144, 2631065433,
              2463879762, 2160117071, 2395588676, 2767645557, 2868897406, 3102011747, 3069049960, 202008497, 33778362, 270040487, 504459436, 875451293, 975658646, 675039627, 641025152, 2084704233,
              1917518562, 1615861247, 1851332852, 1147550661, 1248802510, 1484005843, 1451044056, 933301370, 967311729, 733156972, 632953703, 260388950, 25965917, 328671808, 496906059, 1206477858,
              1239443753, 1543208500, 1441952575, 2144161806, 1908694277, 1675577880, 1842759443, 3610369226, 3644379585, 3408119516, 3307916247, 4011190502, 3776767469, 4077384432, 4245618683,
              2809771154, 2842737049, 3144396420, 3043140495, 2673705150, 2438237621, 2203032232, 2370213795,
            ],
            G = [
              0, 185469197, 370938394, 487725847, 741876788, 657861945, 975451694, 824852259, 1483753576, 1400783205, 1315723890, 1164071807, 1950903388, 2135319889, 1649704518, 1767536459,
              2967507152, 3152976349, 2801566410, 2918353863, 2631447780, 2547432937, 2328143614, 2177544179, 3901806776, 3818836405, 4270639778, 4118987695, 3299409036, 3483825537, 3535072918,
              3652904859, 2077965243, 1893020342, 1841768865, 1724457132, 1474502543, 1559041666, 1107234197, 1257309336, 598438867, 681933534, 901210569, 1052338372, 261314535, 77422314, 428819965,
              310463728, 3409685355, 3224740454, 3710368113, 3593056380, 3875770207, 3960309330, 4045380933, 4195456072, 2471224067, 2554718734, 2237133081, 2388260884, 3212035895, 3028143674,
              2842678573, 2724322336, 4138563181, 4255350624, 3769721975, 3955191162, 3667219033, 3516619604, 3431546947, 3347532110, 2933734917, 2782082824, 3099667487, 3016697106, 2196052529,
              2313884476, 2499348523, 2683765030, 1179510461, 1296297904, 1347548327, 1533017514, 1786102409, 1635502980, 2087309459, 2003294622, 507358933, 355706840, 136428751, 53458370, 839224033,
              957055980, 605657339, 790073846, 2373340630, 2256028891, 2607439820, 2422494913, 2706270690, 2856345839, 3075636216, 3160175349, 3573941694, 3725069491, 3273267108, 3356761769,
              4181598602, 4063242375, 4011996048, 3828103837, 1033297158, 915985419, 730517276, 545572369, 296679730, 446754879, 129166120, 213705253, 1709610350, 1860738147, 1945798516, 2029293177,
              1239331162, 1120974935, 1606591296, 1422699085, 4148292826, 4233094615, 3781033664, 3931371469, 3682191598, 3497509347, 3446004468, 3328955385, 2939266226, 2755636671, 3106780840,
              2988687269, 2198438022, 2282195339, 2501218972, 2652609425, 1201765386, 1286567175, 1371368976, 1521706781, 1805211710, 1620529459, 2105887268, 1988838185, 533804130, 350174575,
              164439672, 46346101, 870912086, 954669403, 636813900, 788204353, 2358957921, 2274680428, 2592523643, 2441661558, 2695033685, 2880240216, 3065962831, 3182487618, 3572145929, 3756299780,
              3270937875, 3388507166, 4174560061, 4091327024, 4006521127, 3854606378, 1014646705, 930369212, 711349675, 560487590, 272786309, 457992840, 106852767, 223377554, 1678381017, 1862534868,
              1914052035, 2031621326, 1211247597, 1128014560, 1580087799, 1428173050, 32283319, 182621114, 401639597, 486441376, 768917123, 651868046, 1003007129, 818324884, 1503449823, 1385356242,
              1333838021, 1150208456, 1973745387, 2125135846, 1673061617, 1756818940, 2970356327, 3120694122, 2802849917, 2887651696, 2637442643, 2520393566, 2334669897, 2149987652, 3917234703,
              3799141122, 4284502037, 4100872472, 3309594171, 3460984630, 3545789473, 3629546796, 2050466060, 1899603969, 1814803222, 1730525723, 1443857720, 1560382517, 1075025698, 1260232239,
              575138148, 692707433, 878443390, 1062597235, 243256656, 91341917, 409198410, 325965383, 3403100636, 3252238545, 3704300486, 3620022987, 3874428392, 3990953189, 4042459122, 4227665663,
              2460449204, 2578018489, 2226875310, 2411029155, 3198115200, 3046200461, 2827177882, 2743944855,
            ],
            M = [
              0, 218828297, 437656594, 387781147, 875313188, 958871085, 775562294, 590424639, 1750626376, 1699970625, 1917742170, 2135253587, 1551124588, 1367295589, 1180849278, 1265195639,
              3501252752, 3720081049, 3399941250, 3350065803, 3835484340, 3919042237, 4270507174, 4085369519, 3102249176, 3051593425, 2734591178, 2952102595, 2361698556, 2177869557, 2530391278,
              2614737639, 3145456443, 3060847922, 2708326185, 2892417312, 2404901663, 2187128086, 2504130317, 2555048196, 3542330227, 3727205754, 3375740769, 3292445032, 3876557655, 3926170974,
              4246310725, 4027744588, 1808481195, 1723872674, 1910319033, 2094410160, 1608975247, 1391201670, 1173430173, 1224348052, 59984867, 244860394, 428169201, 344873464, 935293895, 984907214,
              766078933, 547512796, 1844882806, 1627235199, 2011214180, 2062270317, 1507497298, 1423022939, 1137477952, 1321699145, 95345982, 145085239, 532201772, 313773861, 830661914, 1015671571,
              731183368, 648017665, 3175501286, 2957853679, 2807058932, 2858115069, 2305455554, 2220981195, 2474404304, 2658625497, 3575528878, 3625268135, 3473416636, 3254988725, 3778151818,
              3963161475, 4213447064, 4130281361, 3599595085, 3683022916, 3432737375, 3247465558, 3802222185, 4020912224, 4172763771, 4122762354, 3201631749, 3017672716, 2764249623, 2848461854,
              2331590177, 2280796200, 2431590963, 2648976442, 104699613, 188127444, 472615631, 287343814, 840019705, 1058709744, 671593195, 621591778, 1852171925, 1668212892, 1953757831, 2037970062,
              1514790577, 1463996600, 1080017571, 1297403050, 3673637356, 3623636965, 3235995134, 3454686199, 4007360968, 3822090177, 4107101658, 4190530515, 2997825956, 3215212461, 2830708150,
              2779915199, 2256734592, 2340947849, 2627016082, 2443058075, 172466556, 122466165, 273792366, 492483431, 1047239e3, 861968209, 612205898, 695634755, 1646252340, 1863638845, 2013908262,
              1963115311, 1446242576, 1530455833, 1277555970, 1093597963, 1636604631, 1820824798, 2073724613, 1989249228, 1436590835, 1487645946, 1337376481, 1119727848, 164948639, 81781910,
              331544205, 516552836, 1039717051, 821288114, 669961897, 719700128, 2973530695, 3157750862, 2871682645, 2787207260, 2232435299, 2283490410, 2667994737, 2450346104, 3647212047, 3564045318,
              3279033885, 3464042516, 3980931627, 3762502690, 4150144569, 4199882800, 3070356634, 3121275539, 2904027272, 2686254721, 2200818878, 2384911031, 2570832044, 2486224549, 3747192018,
              3528626907, 3310321856, 3359936201, 3950355702, 3867060991, 4049844452, 4234721005, 1739656202, 1790575107, 2108100632, 1890328081, 1402811438, 1586903591, 1233856572, 1149249077,
              266959938, 48394827, 369057872, 418672217, 1002783846, 919489135, 567498868, 752375421, 209336225, 24197544, 376187827, 459744698, 945164165, 895287692, 574624663, 793451934, 1679968233,
              1764313568, 2117360635, 1933530610, 1343127501, 1560637892, 1243112415, 1192455638, 3704280881, 3519142200, 3336358691, 3419915562, 3907448597, 3857572124, 4075877127, 4294704398,
              3029510009, 3113855344, 2927934315, 2744104290, 2159976285, 2377486676, 2594734927, 2544078150,
            ],
            B = [
              0, 151849742, 303699484, 454499602, 607398968, 758720310, 908999204, 1059270954, 1214797936, 1097159550, 1517440620, 1400849762, 1817998408, 1699839814, 2118541908, 2001430874,
              2429595872, 2581445614, 2194319100, 2345119218, 3034881240, 3186202582, 2801699524, 2951971274, 3635996816, 3518358430, 3399679628, 3283088770, 4237083816, 4118925222, 4002861748,
              3885750714, 1002142683, 850817237, 698445255, 548169417, 529487843, 377642221, 227885567, 77089521, 1943217067, 2061379749, 1640576439, 1757691577, 1474760595, 1592394909, 1174215055,
              1290801793, 2875968315, 2724642869, 3111247143, 2960971305, 2405426947, 2253581325, 2638606623, 2487810577, 3808662347, 3926825029, 4044981591, 4162096729, 3342319475, 3459953789,
              3576539503, 3693126241, 1986918061, 2137062819, 1685577905, 1836772287, 1381620373, 1532285339, 1078185097, 1229899655, 1040559837, 923313619, 740276417, 621982671, 439452389, 322734571,
              137073913, 19308535, 3871163981, 4021308739, 4104605777, 4255800159, 3263785589, 3414450555, 3499326569, 3651041127, 2933202493, 2815956275, 3167684641, 3049390895, 2330014213,
              2213296395, 2566595609, 2448830231, 1305906550, 1155237496, 1607244650, 1455525988, 1776460110, 1626319424, 2079897426, 1928707164, 96392454, 213114376, 396673818, 514443284, 562755902,
              679998e3, 865136418, 983426092, 3708173718, 3557504664, 3474729866, 3323011204, 4180808110, 4030667424, 3945269170, 3794078908, 2507040230, 2623762152, 2272556026, 2390325492,
              2975484382, 3092726480, 2738905026, 2857194700, 3973773121, 3856137295, 4274053469, 4157467219, 3371096953, 3252932727, 3673476453, 3556361835, 2763173681, 2915017791, 3064510765,
              3215307299, 2156299017, 2307622919, 2459735317, 2610011675, 2081048481, 1963412655, 1846563261, 1729977011, 1480485785, 1362321559, 1243905413, 1126790795, 878845905, 1030690015,
              645401037, 796197571, 274084841, 425408743, 38544885, 188821243, 3613494426, 3731654548, 3313212038, 3430322568, 4082475170, 4200115116, 3780097726, 3896688048, 2668221674, 2516901860,
              2366882550, 2216610296, 3141400786, 2989552604, 2837966542, 2687165888, 1202797690, 1320957812, 1437280870, 1554391400, 1669664834, 1787304780, 1906247262, 2022837584, 265905162,
              114585348, 499347990, 349075736, 736970802, 585122620, 972512814, 821712160, 2595684844, 2478443234, 2293045232, 2174754046, 3196267988, 3079546586, 2895723464, 2777952454, 3537852828,
              3687994002, 3234156416, 3385345166, 4142626212, 4293295786, 3841024952, 3992742070, 174567692, 57326082, 410887952, 292596766, 777231668, 660510266, 1011452712, 893681702, 1108339068,
              1258480242, 1343618912, 1494807662, 1715193156, 1865862730, 1948373848, 2100090966, 2701949495, 2818666809, 3004591147, 3122358053, 2235061775, 2352307457, 2535604243, 2653899549,
              3915653703, 3764988233, 4219352155, 4067639125, 3444575871, 3294430577, 3746175075, 3594982253, 836553431, 953270745, 600235211, 718002117, 367585007, 484830689, 133361907, 251657213,
              2041877159, 1891211689, 1806599355, 1654886325, 1568718495, 1418573201, 1335535747, 1184342925,
            ];
          function z(W) {
            for (var Y = [], ne = 0; ne < W.length; ne += 4) Y.push((W[ne] << 24) | (W[ne + 1] << 16) | (W[ne + 2] << 8) | W[ne + 3]);
            return Y;
          }
          var H = function (W) {
            if (!(this instanceof H)) throw Error('AES must be instanitated with `new`');
            Object.defineProperty(this, 'key', { value: l(W, !0) }), this._prepare();
          };
          (H.prototype._prepare = function () {
            var W = m[this.key.length];
            if (W == null) throw new Error('invalid key size (must be 16, 24 or 32 bytes)');
            (this._Ke = []), (this._Kd = []);
            for (var Y = 0; Y <= W; Y++) this._Ke.push([0, 0, 0, 0]), this._Kd.push([0, 0, 0, 0]);
            var ne,
              te = 4 * (W + 1),
              K = this.key.length / 4,
              ee = z(this.key);
            for (Y = 0; Y < K; Y++) (ne = Y >> 2), (this._Ke[ne][Y % 4] = ee[Y]), (this._Kd[W - ne][Y % 4] = ee[Y]);
            for (var oe, de = 0, me = K; me < te; ) {
              if (((oe = ee[K - 1]), (ee[0] ^= (b[(oe >> 16) & 255] << 24) ^ (b[(oe >> 8) & 255] << 16) ^ (b[255 & oe] << 8) ^ b[(oe >> 24) & 255] ^ (g[de] << 24)), (de += 1), K != 8))
                for (Y = 1; Y < K; Y++) ee[Y] ^= ee[Y - 1];
              else {
                for (Y = 1; Y < K / 2; Y++) ee[Y] ^= ee[Y - 1];
                for (oe = ee[K / 2 - 1], ee[K / 2] ^= b[255 & oe] ^ (b[(oe >> 8) & 255] << 8) ^ (b[(oe >> 16) & 255] << 16) ^ (b[(oe >> 24) & 255] << 24), Y = K / 2 + 1; Y < K; Y++)
                  ee[Y] ^= ee[Y - 1];
              }
              for (Y = 0; Y < K && me < te; ) (pe = me >> 2), (ge = me % 4), (this._Ke[pe][ge] = ee[Y]), (this._Kd[W - pe][ge] = ee[Y++]), me++;
            }
            for (var pe = 1; pe < W; pe++) for (var ge = 0; ge < 4; ge++) (oe = this._Kd[pe][ge]), (this._Kd[pe][ge] = C[(oe >> 24) & 255] ^ G[(oe >> 16) & 255] ^ M[(oe >> 8) & 255] ^ B[255 & oe]);
          }),
            (H.prototype.encrypt = function (W) {
              if (W.length != 16) throw new Error('invalid plaintext size (must be 16 bytes)');
              for (var Y = this._Ke.length - 1, ne = [0, 0, 0, 0], te = z(W), K = 0; K < 4; K++) te[K] ^= this._Ke[0][K];
              for (var ee = 1; ee < Y; ee++) {
                for (K = 0; K < 4; K++) ne[K] = y[(te[K] >> 24) & 255] ^ T[(te[(K + 1) % 4] >> 16) & 255] ^ w[(te[(K + 2) % 4] >> 8) & 255] ^ I[255 & te[(K + 3) % 4]] ^ this._Ke[ee][K];
                te = ne.slice();
              }
              var oe,
                de = u(16);
              for (K = 0; K < 4; K++)
                (oe = this._Ke[Y][K]),
                  (de[4 * K] = 255 & (b[(te[K] >> 24) & 255] ^ (oe >> 24))),
                  (de[4 * K + 1] = 255 & (b[(te[(K + 1) % 4] >> 16) & 255] ^ (oe >> 16))),
                  (de[4 * K + 2] = 255 & (b[(te[(K + 2) % 4] >> 8) & 255] ^ (oe >> 8))),
                  (de[4 * K + 3] = 255 & (b[255 & te[(K + 3) % 4]] ^ oe));
              return de;
            }),
            (H.prototype.decrypt = function (W) {
              if (W.length != 16) throw new Error('invalid ciphertext size (must be 16 bytes)');
              for (var Y = this._Kd.length - 1, ne = [0, 0, 0, 0], te = z(W), K = 0; K < 4; K++) te[K] ^= this._Kd[0][K];
              for (var ee = 1; ee < Y; ee++) {
                for (K = 0; K < 4; K++) ne[K] = O[(te[K] >> 24) & 255] ^ x[(te[(K + 3) % 4] >> 16) & 255] ^ L[(te[(K + 2) % 4] >> 8) & 255] ^ D[255 & te[(K + 1) % 4]] ^ this._Kd[ee][K];
                te = ne.slice();
              }
              var oe,
                de = u(16);
              for (K = 0; K < 4; K++)
                (oe = this._Kd[Y][K]),
                  (de[4 * K] = 255 & (_[(te[K] >> 24) & 255] ^ (oe >> 24))),
                  (de[4 * K + 1] = 255 & (_[(te[(K + 3) % 4] >> 16) & 255] ^ (oe >> 16))),
                  (de[4 * K + 2] = 255 & (_[(te[(K + 2) % 4] >> 8) & 255] ^ (oe >> 8))),
                  (de[4 * K + 3] = 255 & (_[255 & te[(K + 1) % 4]] ^ oe));
              return de;
            });
          var q = function (W) {
            if (!(this instanceof q)) throw Error('AES must be instanitated with `new`');
            (this.description = 'Electronic Code Block'), (this.name = 'ecb'), (this._aes = new H(W));
          };
          (q.prototype.encrypt = function (W) {
            if ((W = l(W)).length % 16 != 0) throw new Error('invalid plaintext size (must be multiple of 16 bytes)');
            for (var Y = u(W.length), ne = u(16), te = 0; te < W.length; te += 16) c(W, ne, 0, te, te + 16), c((ne = this._aes.encrypt(ne)), Y, te);
            return Y;
          }),
            (q.prototype.decrypt = function (W) {
              if ((W = l(W)).length % 16 != 0) throw new Error('invalid ciphertext size (must be multiple of 16 bytes)');
              for (var Y = u(W.length), ne = u(16), te = 0; te < W.length; te += 16) c(W, ne, 0, te, te + 16), c((ne = this._aes.decrypt(ne)), Y, te);
              return Y;
            });
          var F = function (W, Y) {
            if (!(this instanceof F)) throw Error('AES must be instanitated with `new`');
            if (((this.description = 'Cipher Block Chaining'), (this.name = 'cbc'), Y)) {
              if (Y.length != 16) throw new Error('invalid initialation vector size (must be 16 bytes)');
            } else Y = u(16);
            (this._lastCipherblock = l(Y, !0)), (this._aes = new H(W));
          };
          (F.prototype.encrypt = function (W) {
            if ((W = l(W)).length % 16 != 0) throw new Error('invalid plaintext size (must be multiple of 16 bytes)');
            for (var Y = u(W.length), ne = u(16), te = 0; te < W.length; te += 16) {
              c(W, ne, 0, te, te + 16);
              for (var K = 0; K < 16; K++) ne[K] ^= this._lastCipherblock[K];
              (this._lastCipherblock = this._aes.encrypt(ne)), c(this._lastCipherblock, Y, te);
            }
            return Y;
          }),
            (F.prototype.decrypt = function (W) {
              if ((W = l(W)).length % 16 != 0) throw new Error('invalid ciphertext size (must be multiple of 16 bytes)');
              for (var Y = u(W.length), ne = u(16), te = 0; te < W.length; te += 16) {
                c(W, ne, 0, te, te + 16), (ne = this._aes.decrypt(ne));
                for (var K = 0; K < 16; K++) Y[te + K] = ne[K] ^ this._lastCipherblock[K];
                c(W, this._lastCipherblock, 0, te, te + 16);
              }
              return Y;
            });
          var A = function (W, Y, ne) {
            if (!(this instanceof A)) throw Error('AES must be instanitated with `new`');
            if (((this.description = 'Cipher Feedback'), (this.name = 'cfb'), Y)) {
              if (Y.length != 16) throw new Error('invalid initialation vector size (must be 16 size)');
            } else Y = u(16);
            ne || (ne = 1), (this.segmentSize = ne), (this._shiftRegister = l(Y, !0)), (this._aes = new H(W));
          };
          (A.prototype.encrypt = function (W) {
            if (W.length % this.segmentSize != 0) throw new Error('invalid plaintext size (must be segmentSize bytes)');
            for (var Y, ne = l(W, !0), te = 0; te < ne.length; te += this.segmentSize) {
              Y = this._aes.encrypt(this._shiftRegister);
              for (var K = 0; K < this.segmentSize; K++) ne[te + K] ^= Y[K];
              c(this._shiftRegister, this._shiftRegister, 0, this.segmentSize), c(ne, this._shiftRegister, 16 - this.segmentSize, te, te + this.segmentSize);
            }
            return ne;
          }),
            (A.prototype.decrypt = function (W) {
              if (W.length % this.segmentSize != 0) throw new Error('invalid ciphertext size (must be segmentSize bytes)');
              for (var Y, ne = l(W, !0), te = 0; te < ne.length; te += this.segmentSize) {
                Y = this._aes.encrypt(this._shiftRegister);
                for (var K = 0; K < this.segmentSize; K++) ne[te + K] ^= Y[K];
                c(this._shiftRegister, this._shiftRegister, 0, this.segmentSize), c(W, this._shiftRegister, 16 - this.segmentSize, te, te + this.segmentSize);
              }
              return ne;
            });
          var k = function (W, Y) {
            if (!(this instanceof k)) throw Error('AES must be instanitated with `new`');
            if (((this.description = 'Output Feedback'), (this.name = 'ofb'), Y)) {
              if (Y.length != 16) throw new Error('invalid initialation vector size (must be 16 bytes)');
            } else Y = u(16);
            (this._lastPrecipher = l(Y, !0)), (this._lastPrecipherIndex = 16), (this._aes = new H(W));
          };
          (k.prototype.encrypt = function (W) {
            for (var Y = l(W, !0), ne = 0; ne < Y.length; ne++)
              this._lastPrecipherIndex === 16 && ((this._lastPrecipher = this._aes.encrypt(this._lastPrecipher)), (this._lastPrecipherIndex = 0)),
                (Y[ne] ^= this._lastPrecipher[this._lastPrecipherIndex++]);
            return Y;
          }),
            (k.prototype.decrypt = k.prototype.encrypt);
          var U = function (W) {
            if (!(this instanceof U)) throw Error('Counter must be instanitated with `new`');
            W === 0 || W || (W = 1), typeof W == 'number' ? ((this._counter = u(16)), this.setValue(W)) : this.setBytes(W);
          };
          (U.prototype.setValue = function (W) {
            if (typeof W != 'number' || parseInt(W) != W) throw new Error('invalid counter value (must be an integer)');
            if (W > Number.MAX_SAFE_INTEGER) throw new Error('integer value out of safe range');
            for (var Y = 15; Y >= 0; --Y) (this._counter[Y] = W % 256), (W = parseInt(W / 256));
          }),
            (U.prototype.setBytes = function (W) {
              if ((W = l(W, !0)).length != 16) throw new Error('invalid counter bytes size (must be 16 bytes)');
              this._counter = W;
            }),
            (U.prototype.increment = function () {
              for (var W = 15; W >= 0; W--) {
                if (this._counter[W] !== 255) {
                  this._counter[W]++;
                  break;
                }
                this._counter[W] = 0;
              }
            });
          var X = function (W, Y) {
            if (!(this instanceof X)) throw Error('AES must be instanitated with `new`');
            (this.description = 'Counter'),
              (this.name = 'ctr'),
              Y instanceof U || (Y = new U(Y)),
              (this._counter = Y),
              (this._remainingCounter = null),
              (this._remainingCounterIndex = 16),
              (this._aes = new H(W));
          };
          (X.prototype.encrypt = function (W) {
            for (var Y = l(W, !0), ne = 0; ne < Y.length; ne++)
              this._remainingCounterIndex === 16 && ((this._remainingCounter = this._aes.encrypt(this._counter._counter)), (this._remainingCounterIndex = 0), this._counter.increment()),
                (Y[ne] ^= this._remainingCounter[this._remainingCounterIndex++]);
            return Y;
          }),
            (X.prototype.decrypt = X.prototype.encrypt);
          var Q = {
            AES: H,
            Counter: U,
            ModeOfOperation: { ecb: q, cbc: F, cfb: A, ofb: k, ctr: X },
            utils: { hex: h, utf8: f },
            padding: {
              pkcs7: {
                pad: function (W) {
                  var Y = 16 - ((W = l(W, !0)).length % 16),
                    ne = u(W.length + Y);
                  c(W, ne);
                  for (var te = W.length; te < ne.length; te++) ne[te] = Y;
                  return ne;
                },
                strip: function (W) {
                  if ((W = l(W, !0)).length < 16) throw new Error('PKCS#7 invalid length');
                  var Y = W[W.length - 1];
                  if (Y > 16) throw new Error('PKCS#7 padding byte out of range');
                  for (var ne = W.length - Y, te = 0; te < Y; te++) if (W[ne + te] !== Y) throw new Error('PKCS#7 invalid padding byte');
                  var K = u(ne);
                  return c(W, K, 0, 0, ne), K;
                },
              },
            },
            _arrayTest: { coerceArray: l, createArray: u, copyArray: c },
          };
          n.exports = Q;
        })();
      },
      function (n, r, i) {
        n.exports = i(20).default;
      },
      function (n, r, i) {
        (function (o, a) {
          /*!
           * @overview es6-promise - a tiny implementation of Promises/A+.
           * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
           * @license   Licensed under MIT license
           *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
           * @version   v4.2.8+1e68dce6
           */ var s;
          (s = function () {
            function l(K) {
              return typeof K == 'function';
            }
            var u = Array.isArray
                ? Array.isArray
                : function (K) {
                    return Object.prototype.toString.call(K) === '[object Array]';
                  },
              c = 0,
              d = void 0,
              f = void 0,
              h = function (K, ee) {
                (w[c] = K), (w[c + 1] = ee), (c += 2) === 2 && (f ? f(I) : C());
              },
              m = typeof window < 'u' ? window : void 0,
              g = m || {},
              b = g.MutationObserver || g.WebKitMutationObserver,
              _ = typeof self > 'u' && o !== void 0 && {}.toString.call(o) === '[object process]',
              y = typeof Uint8ClampedArray < 'u' && typeof importScripts < 'u' && typeof MessageChannel < 'u';
            function T() {
              var K = setTimeout;
              return function () {
                return K(I, 1);
              };
            }
            var w = new Array(1e3);
            function I() {
              for (var K = 0; K < c; K += 2) (0, w[K])(w[K + 1]), (w[K] = void 0), (w[K + 1] = void 0);
              c = 0;
            }
            var O,
              x,
              L,
              D,
              C = void 0;
            function G(K, ee) {
              var oe = this,
                de = new this.constructor(z);
              de[B] === void 0 && Y(de);
              var me = oe._state;
              if (me) {
                var pe = arguments[me - 1];
                h(function () {
                  return Q(me, de, pe, oe._result);
                });
              } else U(oe, de, K, ee);
              return de;
            }
            function M(K) {
              if (K && typeof K == 'object' && K.constructor === this) return K;
              var ee = new this(z);
              return q(ee, K), ee;
            }
            _
              ? (C = function () {
                  return o.nextTick(I);
                })
              : b
              ? ((x = 0),
                (L = new b(I)),
                (D = document.createTextNode('')),
                L.observe(D, { characterData: !0 }),
                (C = function () {
                  D.data = x = ++x % 2;
                }))
              : y
              ? (((O = new MessageChannel()).port1.onmessage = I),
                (C = function () {
                  return O.port2.postMessage(0);
                }))
              : (C =
                  m === void 0
                    ? (function () {
                        try {
                          var K = Function('return this')().require('vertx');
                          return (d = K.runOnLoop || K.runOnContext) !== void 0
                            ? function () {
                                d(I);
                              }
                            : T();
                        } catch {
                          return T();
                        }
                      })()
                    : T());
            var B = Math.random().toString(36).substring(2);
            function z() {}
            function H(K, ee, oe) {
              ee.constructor === K.constructor && oe === G && ee.constructor.resolve === M
                ? (function (de, me) {
                    me._state === 1
                      ? A(de, me._result)
                      : me._state === 2
                      ? k(de, me._result)
                      : U(
                          me,
                          void 0,
                          function (pe) {
                            return q(de, pe);
                          },
                          function (pe) {
                            return k(de, pe);
                          },
                        );
                  })(K, ee)
                : oe === void 0
                ? A(K, ee)
                : l(oe)
                ? (function (de, me, pe) {
                    h(function (ge) {
                      var Le = !1,
                        Me = (function (ze, Ge, Te, Ne) {
                          try {
                            ze.call(Ge, Te, Ne);
                          } catch (we) {
                            return we;
                          }
                        })(
                          pe,
                          me,
                          function (ze) {
                            Le || ((Le = !0), me !== ze ? q(ge, ze) : A(ge, ze));
                          },
                          function (ze) {
                            Le || ((Le = !0), k(ge, ze));
                          },
                          ge._label,
                        );
                      !Le && Me && ((Le = !0), k(ge, Me));
                    }, de);
                  })(K, ee, oe)
                : A(K, ee);
            }
            function q(K, ee) {
              if (K === ee) k(K, new TypeError('You cannot resolve a promise with itself'));
              else if (((me = typeof (de = ee)), de === null || (me !== 'object' && me !== 'function'))) A(K, ee);
              else {
                var oe = void 0;
                try {
                  oe = ee.then;
                } catch (pe) {
                  return void k(K, pe);
                }
                H(K, ee, oe);
              }
              var de, me;
            }
            function F(K) {
              K._onerror && K._onerror(K._result), X(K);
            }
            function A(K, ee) {
              K._state === void 0 && ((K._result = ee), (K._state = 1), K._subscribers.length !== 0 && h(X, K));
            }
            function k(K, ee) {
              K._state === void 0 && ((K._state = 2), (K._result = ee), h(F, K));
            }
            function U(K, ee, oe, de) {
              var me = K._subscribers,
                pe = me.length;
              (K._onerror = null), (me[pe] = ee), (me[pe + 1] = oe), (me[pe + 2] = de), pe === 0 && K._state && h(X, K);
            }
            function X(K) {
              var ee = K._subscribers,
                oe = K._state;
              if (ee.length !== 0) {
                for (var de = void 0, me = void 0, pe = K._result, ge = 0; ge < ee.length; ge += 3) (de = ee[ge]), (me = ee[ge + oe]), de ? Q(oe, de, me, pe) : me(pe);
                K._subscribers.length = 0;
              }
            }
            function Q(K, ee, oe, de) {
              var me = l(oe),
                pe = void 0,
                ge = void 0,
                Le = !0;
              if (me) {
                try {
                  pe = oe(de);
                } catch (Me) {
                  (Le = !1), (ge = Me);
                }
                if (ee === pe) return void k(ee, new TypeError('A promises callback cannot return that same promise.'));
              } else pe = de;
              ee._state !== void 0 || (me && Le ? q(ee, pe) : Le === !1 ? k(ee, ge) : K === 1 ? A(ee, pe) : K === 2 && k(ee, pe));
            }
            var W = 0;
            function Y(K) {
              (K[B] = W++), (K._state = void 0), (K._result = void 0), (K._subscribers = []);
            }
            var ne = (function () {
                function K(ee, oe) {
                  (this._instanceConstructor = ee),
                    (this.promise = new ee(z)),
                    this.promise[B] || Y(this.promise),
                    u(oe)
                      ? ((this.length = oe.length),
                        (this._remaining = oe.length),
                        (this._result = new Array(this.length)),
                        this.length === 0 ? A(this.promise, this._result) : ((this.length = this.length || 0), this._enumerate(oe), this._remaining === 0 && A(this.promise, this._result)))
                      : k(this.promise, new Error('Array Methods must be provided an Array'));
                }
                return (
                  (K.prototype._enumerate = function (ee) {
                    for (var oe = 0; this._state === void 0 && oe < ee.length; oe++) this._eachEntry(ee[oe], oe);
                  }),
                  (K.prototype._eachEntry = function (ee, oe) {
                    var de = this._instanceConstructor,
                      me = de.resolve;
                    if (me === M) {
                      var pe = void 0,
                        ge = void 0,
                        Le = !1;
                      try {
                        pe = ee.then;
                      } catch (ze) {
                        (Le = !0), (ge = ze);
                      }
                      if (pe === G && ee._state !== void 0) this._settledAt(ee._state, oe, ee._result);
                      else if (typeof pe != 'function') this._remaining--, (this._result[oe] = ee);
                      else if (de === te) {
                        var Me = new de(z);
                        Le ? k(Me, ge) : H(Me, ee, pe), this._willSettleAt(Me, oe);
                      } else
                        this._willSettleAt(
                          new de(function (ze) {
                            return ze(ee);
                          }),
                          oe,
                        );
                    } else this._willSettleAt(me(ee), oe);
                  }),
                  (K.prototype._settledAt = function (ee, oe, de) {
                    var me = this.promise;
                    me._state === void 0 && (this._remaining--, ee === 2 ? k(me, de) : (this._result[oe] = de)), this._remaining === 0 && A(me, this._result);
                  }),
                  (K.prototype._willSettleAt = function (ee, oe) {
                    var de = this;
                    U(
                      ee,
                      void 0,
                      function (me) {
                        return de._settledAt(1, oe, me);
                      },
                      function (me) {
                        return de._settledAt(2, oe, me);
                      },
                    );
                  }),
                  K
                );
              })(),
              te = (function () {
                function K(ee) {
                  (this[B] = W++),
                    (this._result = this._state = void 0),
                    (this._subscribers = []),
                    z !== ee &&
                      (typeof ee != 'function' &&
                        (function () {
                          throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');
                        })(),
                      this instanceof K
                        ? (function (oe, de) {
                            try {
                              de(
                                function (me) {
                                  q(oe, me);
                                },
                                function (me) {
                                  k(oe, me);
                                },
                              );
                            } catch (me) {
                              k(oe, me);
                            }
                          })(this, ee)
                        : (function () {
                            throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
                          })());
                }
                return (
                  (K.prototype.catch = function (ee) {
                    return this.then(null, ee);
                  }),
                  (K.prototype.finally = function (ee) {
                    var oe = this.constructor;
                    return l(ee)
                      ? this.then(
                          function (de) {
                            return oe.resolve(ee()).then(function () {
                              return de;
                            });
                          },
                          function (de) {
                            return oe.resolve(ee()).then(function () {
                              throw de;
                            });
                          },
                        )
                      : this.then(ee, ee);
                  }),
                  K
                );
              })();
            return (
              (te.prototype.then = G),
              (te.all = function (K) {
                return new ne(this, K).promise;
              }),
              (te.race = function (K) {
                var ee = this;
                return u(K)
                  ? new ee(function (oe, de) {
                      for (var me = K.length, pe = 0; pe < me; pe++) ee.resolve(K[pe]).then(oe, de);
                    })
                  : new ee(function (oe, de) {
                      return de(new TypeError('You must pass an array to race.'));
                    });
              }),
              (te.resolve = M),
              (te.reject = function (K) {
                var ee = new this(z);
                return k(ee, K), ee;
              }),
              (te._setScheduler = function (K) {
                f = K;
              }),
              (te._setAsap = function (K) {
                h = K;
              }),
              (te._asap = h),
              (te.polyfill = function () {
                var K = void 0;
                if (a !== void 0) K = a;
                else if (typeof self < 'u') K = self;
                else
                  try {
                    K = Function('return this')();
                  } catch {
                    throw new Error('polyfill failed because global object is unavailable in this environment');
                  }
                var ee = K.Promise;
                if (ee) {
                  var oe = null;
                  try {
                    oe = Object.prototype.toString.call(ee.resolve());
                  } catch {}
                  if (oe === '[object Promise]' && !ee.cast) return;
                }
                K.Promise = te;
              }),
              (te.Promise = te),
              te
            );
          }),
            (n.exports = s());
        }).call(this, i(17), i(18));
      },
      function (n, r) {
        var i,
          o,
          a = (n.exports = {});
        function s() {
          throw new Error('setTimeout has not been defined');
        }
        function l() {
          throw new Error('clearTimeout has not been defined');
        }
        function u(y) {
          if (i === setTimeout) return setTimeout(y, 0);
          if ((i === s || !i) && setTimeout) return (i = setTimeout), setTimeout(y, 0);
          try {
            return i(y, 0);
          } catch {
            try {
              return i.call(null, y, 0);
            } catch {
              return i.call(this, y, 0);
            }
          }
        }
        (function () {
          try {
            i = typeof setTimeout == 'function' ? setTimeout : s;
          } catch {
            i = s;
          }
          try {
            o = typeof clearTimeout == 'function' ? clearTimeout : l;
          } catch {
            o = l;
          }
        })();
        var c,
          d = [],
          f = !1,
          h = -1;
        function m() {
          f && c && ((f = !1), c.length ? (d = c.concat(d)) : (h = -1), d.length && g());
        }
        function g() {
          if (!f) {
            var y = u(m);
            f = !0;
            for (var T = d.length; T; ) {
              for (c = d, d = []; ++h < T; ) c && c[h].run();
              (h = -1), (T = d.length);
            }
            (c = null),
              (f = !1),
              (function (w) {
                if (o === clearTimeout) return clearTimeout(w);
                if ((o === l || !o) && clearTimeout) return (o = clearTimeout), clearTimeout(w);
                try {
                  o(w);
                } catch {
                  try {
                    return o.call(null, w);
                  } catch {
                    return o.call(this, w);
                  }
                }
              })(y);
          }
        }
        function b(y, T) {
          (this.fun = y), (this.array = T);
        }
        function _() {}
        (a.nextTick = function (y) {
          var T = new Array(arguments.length - 1);
          if (arguments.length > 1) for (var w = 1; w < arguments.length; w++) T[w - 1] = arguments[w];
          d.push(new b(y, T)), d.length !== 1 || f || u(g);
        }),
          (b.prototype.run = function () {
            this.fun.apply(null, this.array);
          }),
          (a.title = 'browser'),
          (a.browser = !0),
          (a.env = {}),
          (a.argv = []),
          (a.version = ''),
          (a.versions = {}),
          (a.on = _),
          (a.addListener = _),
          (a.once = _),
          (a.off = _),
          (a.removeListener = _),
          (a.removeAllListeners = _),
          (a.emit = _),
          (a.prependListener = _),
          (a.prependOnceListener = _),
          (a.listeners = function (y) {
            return [];
          }),
          (a.binding = function (y) {
            throw new Error('process.binding is not supported');
          }),
          (a.cwd = function () {
            return '/';
          }),
          (a.chdir = function (y) {
            throw new Error('process.chdir is not supported');
          }),
          (a.umask = function () {
            return 0;
          });
      },
      function (n, r) {
        var i;
        i = (function () {
          return this;
        })();
        try {
          i = i || new Function('return this')();
        } catch {
          typeof window == 'object' && (i = window);
        }
        n.exports = i;
      },
      function (n, r, i) {
        i.r(r);
        var o = i(9),
          a = i(12),
          s = i(10),
          l = i(1);
        r.default = function (u) {
          var c = null,
            d = function (M, B) {
              u.postMessage({ msg: 'logcat_callback', data: { type: M, logcat: B } });
            }.bind(this);
          function f(M, B) {
            var z = { msg: l.a.INIT_SEGMENT, data: { type: M, data: B } };
            u.postMessage(z, [B.data]);
          }
          function h(M, B) {
            var z = { msg: l.a.MEDIA_SEGMENT, data: { type: M, data: B } };
            u.postMessage(z, [B.data]);
          }
          function m() {
            var M = { msg: l.a.LOADING_COMPLETE };
            u.postMessage(M);
          }
          function g() {
            var M = { msg: l.a.RECOVERED_EARLY_EOF };
            u.postMessage(M);
          }
          function b(M) {
            var B = { msg: l.a.MEDIA_INFO, data: M };
            u.postMessage(B);
          }
          function _(M) {
            var B = { msg: l.a.METADATA_ARRIVED, data: M };
            u.postMessage(B);
          }
          function y(M) {
            var B = { msg: l.a.SCRIPTDATA_ARRIVED, data: M };
            u.postMessage(B);
          }
          function T(M) {
            var B = { msg: l.a.TIMED_ID3_METADATA_ARRIVED, data: M };
            u.postMessage(B);
          }
          function w(M) {
            var B = { msg: l.a.SMPTE2038_METADATA_ARRIVED, data: M };
            u.postMessage(B);
          }
          function I(M) {
            var B = { msg: l.a.SCTE35_METADATA_ARRIVED, data: M };
            u.postMessage(B);
          }
          function O(M) {
            var B = { msg: l.a.PES_PRIVATE_DATA_DESCRIPTOR, data: M };
            u.postMessage(B);
          }
          function x(M) {
            var B = { msg: l.a.PES_PRIVATE_DATA_ARRIVED, data: M };
            u.postMessage(B);
          }
          function L(M) {
            var B = { msg: l.a.STATISTICS_INFO, data: M };
            u.postMessage(B);
          }
          function D(M, B) {
            u.postMessage({ msg: l.a.IO_ERROR, data: { type: M, info: B } });
          }
          function C(M, B) {
            u.postMessage({ msg: l.a.DEMUX_ERROR, data: { type: M, info: B } });
          }
          function G(M) {
            u.postMessage({ msg: l.a.RECOMMEND_SEEKPOINT, data: M });
          }
          a.a.install(),
            u.addEventListener('message', function (M) {
              switch (M.data.cmd) {
                case 'init':
                  (c = new s.a(M.data.param[0], M.data.param[1])).on(l.a.IO_ERROR, D.bind(this)),
                    c.on(l.a.DEMUX_ERROR, C.bind(this)),
                    c.on(l.a.INIT_SEGMENT, f.bind(this)),
                    c.on(l.a.MEDIA_SEGMENT, h.bind(this)),
                    c.on(l.a.LOADING_COMPLETE, m.bind(this)),
                    c.on(l.a.RECOVERED_EARLY_EOF, g.bind(this)),
                    c.on(l.a.MEDIA_INFO, b.bind(this)),
                    c.on(l.a.METADATA_ARRIVED, _.bind(this)),
                    c.on(l.a.SCRIPTDATA_ARRIVED, y.bind(this)),
                    c.on(l.a.TIMED_ID3_METADATA_ARRIVED, T.bind(this)),
                    c.on(l.a.SMPTE2038_METADATA_ARRIVED, w.bind(this)),
                    c.on(l.a.SCTE35_METADATA_ARRIVED, I.bind(this)),
                    c.on(l.a.PES_PRIVATE_DATA_DESCRIPTOR, O.bind(this)),
                    c.on(l.a.PES_PRIVATE_DATA_ARRIVED, x.bind(this)),
                    c.on(l.a.STATISTICS_INFO, L.bind(this)),
                    c.on(l.a.RECOMMEND_SEEKPOINT, G.bind(this));
                  break;
                case 'destroy':
                  c && (c.destroy(), (c = null)), u.postMessage({ msg: 'destroyed' });
                  break;
                case 'start':
                  c.start();
                  break;
                case 'stop':
                  c.stop();
                  break;
                case 'seek':
                  c.seek(M.data.param);
                  break;
                case 'pause':
                  c.pause();
                  break;
                case 'resume':
                  c.resume();
                  break;
                case 'logging_config':
                  var B = M.data.param;
                  o.a.applyConfig(B), B.enableCallback === !0 ? o.a.addLogListener(d) : o.a.removeLogListener(d);
              }
            });
        };
      },
      function (n, r, i) {
        i.r(r);
        var o = i(12),
          a = i(11),
          s = {
            enableWorker: !1,
            enableStashBuffer: !0,
            stashInitialSize: void 0,
            isLive: !1,
            liveBufferLatencyChasing: !1,
            liveBufferLatencyMaxLatency: 1.5,
            liveBufferLatencyMinRemain: 0.5,
            lazyLoad: !0,
            lazyLoadMaxDuration: 180,
            lazyLoadRecoverDuration: 30,
            deferLoadAfterSourceOpen: !0,
            autoCleanupMaxBackwardDuration: 180,
            autoCleanupMinBackwardDuration: 120,
            statisticsInfoReportInterval: 600,
            fixAudioTimestampGap: !0,
            accurateSeek: !1,
            seekType: 'range',
            seekParamStart: 'bstart',
            seekParamEnd: 'bend',
            rangeLoadZeroStart: !1,
            customSeekHandler: void 0,
            reuseRedirectedURL: !1,
            headers: void 0,
            customLoader: void 0,
          };
        function l() {
          return Object.assign({}, s);
        }
        var u = (function () {
            function F() {}
            return (
              (F.supportMSEH264Playback = function () {
                return window.MediaSource && window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"');
              }),
              (F.supportMSEH265Playback = function () {
                return window.MediaSource && window.MediaSource.isTypeSupported('video/mp4; codecs="hvc1.1.6.L93.B0"');
              }),
              (F.supportNetworkStreamIO = function () {
                var A = new a.a({}, l()),
                  k = A.loaderType;
                return A.destroy(), k == 'fetch-stream-loader' || k == 'xhr-moz-chunked-loader';
              }),
              (F.getNetworkLoaderTypeName = function () {
                var A = new a.a({}, l()),
                  k = A.loaderType;
                return A.destroy(), k;
              }),
              (F.supportNativeMediaPlayback = function (A) {
                F.videoElement == null && (F.videoElement = window.document.createElement('video'));
                var k = F.videoElement.canPlayType(A);
                return k === 'probably' || k == 'maybe';
              }),
              (F.getFeatureList = function () {
                var A = {
                  msePlayback: !1,
                  mseLivePlayback: !1,
                  mseH265Playback: !1,
                  networkStreamIO: !1,
                  networkLoaderName: '',
                  nativeMP4H264Playback: !1,
                  nativeMP4H265Playback: !1,
                  nativeWebmVP8Playback: !1,
                  nativeWebmVP9Playback: !1,
                };
                return (
                  (A.msePlayback = F.supportMSEH264Playback()),
                  (A.networkStreamIO = F.supportNetworkStreamIO()),
                  (A.networkLoaderName = F.getNetworkLoaderTypeName()),
                  (A.mseLivePlayback = A.msePlayback && A.networkStreamIO),
                  (A.mseH265Playback = F.supportMSEH265Playback()),
                  (A.nativeMP4H264Playback = F.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"')),
                  (A.nativeMP4H265Playback = F.supportNativeMediaPlayback('video/mp4; codecs="hvc1.1.6.L93.B0"')),
                  (A.nativeWebmVP8Playback = F.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"')),
                  (A.nativeWebmVP9Playback = F.supportNativeMediaPlayback('video/webm; codecs="vp9"')),
                  A
                );
              }),
              F
            );
          })(),
          c = i(2),
          d = i(6),
          f = i.n(d),
          h = i(0),
          m = i(4),
          g = {
            ERROR: 'error',
            LOADING_COMPLETE: 'loading_complete',
            RECOVERED_EARLY_EOF: 'recovered_early_eof',
            MEDIA_INFO: 'media_info',
            METADATA_ARRIVED: 'metadata_arrived',
            SCRIPTDATA_ARRIVED: 'scriptdata_arrived',
            TIMED_ID3_METADATA_ARRIVED: 'timed_id3_metadata_arrived',
            SMPTE2038_METADATA_ARRIVED: 'smpte2038_metadata_arrived',
            SCTE35_METADATA_ARRIVED: 'scte35_metadata_arrived',
            PES_PRIVATE_DATA_DESCRIPTOR: 'pes_private_data_descriptor',
            PES_PRIVATE_DATA_ARRIVED: 'pes_private_data_arrived',
            STATISTICS_INFO: 'statistics_info',
          },
          b = i(13),
          _ = i.n(b),
          y = i(9),
          T = i(10),
          w = i(1),
          I = i(8),
          O = (function () {
            function F(A, k) {
              if (((this.TAG = 'Transmuxer'), (this._emitter = new f.a()), k.enableWorker && typeof Worker < 'u'))
                try {
                  (this._worker = _()(19)),
                    (this._workerDestroying = !1),
                    this._worker.addEventListener('message', this._onWorkerMessage.bind(this)),
                    this._worker.postMessage({ cmd: 'init', param: [A, k] }),
                    (this.e = { onLoggingConfigChanged: this._onLoggingConfigChanged.bind(this) }),
                    y.a.registerListener(this.e.onLoggingConfigChanged),
                    this._worker.postMessage({ cmd: 'logging_config', param: y.a.getConfig() });
                } catch {
                  h.a.e(this.TAG, 'Error while initialize transmuxing worker, fallback to inline transmuxing'), (this._worker = null), (this._controller = new T.a(A, k));
                }
              else this._controller = new T.a(A, k);
              if (this._controller) {
                var U = this._controller;
                U.on(w.a.IO_ERROR, this._onIOError.bind(this)),
                  U.on(w.a.DEMUX_ERROR, this._onDemuxError.bind(this)),
                  U.on(w.a.INIT_SEGMENT, this._onInitSegment.bind(this)),
                  U.on(w.a.MEDIA_SEGMENT, this._onMediaSegment.bind(this)),
                  U.on(w.a.LOADING_COMPLETE, this._onLoadingComplete.bind(this)),
                  U.on(w.a.RECOVERED_EARLY_EOF, this._onRecoveredEarlyEof.bind(this)),
                  U.on(w.a.MEDIA_INFO, this._onMediaInfo.bind(this)),
                  U.on(w.a.METADATA_ARRIVED, this._onMetaDataArrived.bind(this)),
                  U.on(w.a.SCRIPTDATA_ARRIVED, this._onScriptDataArrived.bind(this)),
                  U.on(w.a.TIMED_ID3_METADATA_ARRIVED, this._onTimedID3MetadataArrived.bind(this)),
                  U.on(w.a.SMPTE2038_METADATA_ARRIVED, this._onSMPTE2038MetadataArrived.bind(this)),
                  U.on(w.a.SCTE35_METADATA_ARRIVED, this._onSCTE35MetadataArrived.bind(this)),
                  U.on(w.a.PES_PRIVATE_DATA_DESCRIPTOR, this._onPESPrivateDataDescriptor.bind(this)),
                  U.on(w.a.PES_PRIVATE_DATA_ARRIVED, this._onPESPrivateDataArrived.bind(this)),
                  U.on(w.a.STATISTICS_INFO, this._onStatisticsInfo.bind(this)),
                  U.on(w.a.RECOMMEND_SEEKPOINT, this._onRecommendSeekpoint.bind(this));
              }
            }
            return (
              (F.prototype.destroy = function () {
                this._worker
                  ? this._workerDestroying || ((this._workerDestroying = !0), this._worker.postMessage({ cmd: 'destroy' }), y.a.removeListener(this.e.onLoggingConfigChanged), (this.e = null))
                  : (this._controller.destroy(), (this._controller = null)),
                  this._emitter.removeAllListeners(),
                  (this._emitter = null);
              }),
              (F.prototype.on = function (A, k) {
                this._emitter.addListener(A, k);
              }),
              (F.prototype.off = function (A, k) {
                this._emitter.removeListener(A, k);
              }),
              (F.prototype.hasWorker = function () {
                return this._worker != null;
              }),
              (F.prototype.open = function () {
                this._worker ? this._worker.postMessage({ cmd: 'start' }) : this._controller.start();
              }),
              (F.prototype.close = function () {
                this._worker ? this._worker.postMessage({ cmd: 'stop' }) : this._controller.stop();
              }),
              (F.prototype.seek = function (A) {
                this._worker ? this._worker.postMessage({ cmd: 'seek', param: A }) : this._controller.seek(A);
              }),
              (F.prototype.pause = function () {
                this._worker ? this._worker.postMessage({ cmd: 'pause' }) : this._controller.pause();
              }),
              (F.prototype.resume = function () {
                this._worker ? this._worker.postMessage({ cmd: 'resume' }) : this._controller.resume();
              }),
              (F.prototype._onInitSegment = function (A, k) {
                var U = this;
                Promise.resolve().then(function () {
                  U._emitter.emit(w.a.INIT_SEGMENT, A, k);
                });
              }),
              (F.prototype._onMediaSegment = function (A, k) {
                var U = this;
                Promise.resolve().then(function () {
                  U._emitter.emit(w.a.MEDIA_SEGMENT, A, k);
                });
              }),
              (F.prototype._onLoadingComplete = function () {
                var A = this;
                Promise.resolve().then(function () {
                  A._emitter.emit(w.a.LOADING_COMPLETE);
                });
              }),
              (F.prototype._onRecoveredEarlyEof = function () {
                var A = this;
                Promise.resolve().then(function () {
                  A._emitter.emit(w.a.RECOVERED_EARLY_EOF);
                });
              }),
              (F.prototype._onMediaInfo = function (A) {
                var k = this;
                Promise.resolve().then(function () {
                  k._emitter.emit(w.a.MEDIA_INFO, A);
                });
              }),
              (F.prototype._onMetaDataArrived = function (A) {
                var k = this;
                Promise.resolve().then(function () {
                  k._emitter.emit(w.a.METADATA_ARRIVED, A);
                });
              }),
              (F.prototype._onScriptDataArrived = function (A) {
                var k = this;
                Promise.resolve().then(function () {
                  k._emitter.emit(w.a.SCRIPTDATA_ARRIVED, A);
                });
              }),
              (F.prototype._onTimedID3MetadataArrived = function (A) {
                var k = this;
                Promise.resolve().then(function () {
                  k._emitter.emit(w.a.TIMED_ID3_METADATA_ARRIVED, A);
                });
              }),
              (F.prototype._onSMPTE2038MetadataArrived = function (A) {
                var k = this;
                Promise.resolve().then(function () {
                  k._emitter.emit(w.a.SMPTE2038_METADATA_ARRIVED, A);
                });
              }),
              (F.prototype._onSCTE35MetadataArrived = function (A) {
                var k = this;
                Promise.resolve().then(function () {
                  k._emitter.emit(w.a.SCTE35_METADATA_ARRIVED, A);
                });
              }),
              (F.prototype._onPESPrivateDataDescriptor = function (A) {
                var k = this;
                Promise.resolve().then(function () {
                  k._emitter.emit(w.a.PES_PRIVATE_DATA_DESCRIPTOR, A);
                });
              }),
              (F.prototype._onPESPrivateDataArrived = function (A) {
                var k = this;
                Promise.resolve().then(function () {
                  k._emitter.emit(w.a.PES_PRIVATE_DATA_ARRIVED, A);
                });
              }),
              (F.prototype._onStatisticsInfo = function (A) {
                var k = this;
                Promise.resolve().then(function () {
                  k._emitter.emit(w.a.STATISTICS_INFO, A);
                });
              }),
              (F.prototype._onIOError = function (A, k) {
                var U = this;
                Promise.resolve().then(function () {
                  U._emitter.emit(w.a.IO_ERROR, A, k);
                });
              }),
              (F.prototype._onDemuxError = function (A, k) {
                var U = this;
                Promise.resolve().then(function () {
                  U._emitter.emit(w.a.DEMUX_ERROR, A, k);
                });
              }),
              (F.prototype._onRecommendSeekpoint = function (A) {
                var k = this;
                Promise.resolve().then(function () {
                  k._emitter.emit(w.a.RECOMMEND_SEEKPOINT, A);
                });
              }),
              (F.prototype._onLoggingConfigChanged = function (A) {
                this._worker && this._worker.postMessage({ cmd: 'logging_config', param: A });
              }),
              (F.prototype._onWorkerMessage = function (A) {
                var k = A.data,
                  U = k.data;
                if (k.msg === 'destroyed' || this._workerDestroying) return (this._workerDestroying = !1), this._worker.terminate(), void (this._worker = null);
                switch (k.msg) {
                  case w.a.INIT_SEGMENT:
                  case w.a.MEDIA_SEGMENT:
                    this._emitter.emit(k.msg, U.type, U.data);
                    break;
                  case w.a.LOADING_COMPLETE:
                  case w.a.RECOVERED_EARLY_EOF:
                    this._emitter.emit(k.msg);
                    break;
                  case w.a.MEDIA_INFO:
                    Object.setPrototypeOf(U, I.a.prototype), this._emitter.emit(k.msg, U);
                    break;
                  case w.a.METADATA_ARRIVED:
                  case w.a.SCRIPTDATA_ARRIVED:
                  case w.a.TIMED_ID3_METADATA_ARRIVED:
                  case w.a.SMPTE2038_METADATA_ARRIVED:
                  case w.a.SCTE35_METADATA_ARRIVED:
                  case w.a.PES_PRIVATE_DATA_DESCRIPTOR:
                  case w.a.PES_PRIVATE_DATA_ARRIVED:
                  case w.a.STATISTICS_INFO:
                    this._emitter.emit(k.msg, U);
                    break;
                  case w.a.IO_ERROR:
                  case w.a.DEMUX_ERROR:
                    this._emitter.emit(k.msg, U.type, U.info);
                    break;
                  case w.a.RECOMMEND_SEEKPOINT:
                    this._emitter.emit(k.msg, U);
                    break;
                  case 'logcat_callback':
                    h.a.emitter.emit('log', U.type, U.logcat);
                }
              }),
              F
            );
          })(),
          x = { ERROR: 'error', SOURCE_OPEN: 'source_open', UPDATE_END: 'update_end', BUFFER_FULL: 'buffer_full' },
          L = i(7),
          D = i(3),
          C = (function () {
            function F(A) {
              (this.TAG = 'MSEController'),
                (this._config = A),
                (this._emitter = new f.a()),
                this._config.isLive && this._config.autoCleanupSourceBuffer == null && (this._config.autoCleanupSourceBuffer = !0),
                (this.e = {
                  onSourceOpen: this._onSourceOpen.bind(this),
                  onSourceEnded: this._onSourceEnded.bind(this),
                  onSourceClose: this._onSourceClose.bind(this),
                  onSourceBufferError: this._onSourceBufferError.bind(this),
                  onSourceBufferUpdateEnd: this._onSourceBufferUpdateEnd.bind(this),
                }),
                (this._mediaSource = null),
                (this._mediaSourceObjectURL = null),
                (this._mediaElement = null),
                (this._isBufferFull = !1),
                (this._hasPendingEos = !1),
                (this._requireSetMediaDuration = !1),
                (this._pendingMediaDuration = 0),
                (this._pendingSourceBufferInit = []),
                (this._mimeTypes = { video: null, audio: null }),
                (this._sourceBuffers = { video: null, audio: null }),
                (this._lastInitSegments = { video: null, audio: null }),
                (this._pendingSegments = { video: [], audio: [] }),
                (this._pendingRemoveRanges = { video: [], audio: [] }),
                (this._idrList = new L.a());
            }
            return (
              (F.prototype.destroy = function () {
                (this._mediaElement || this._mediaSource) && this.detachMediaElement(), (this.e = null), this._emitter.removeAllListeners(), (this._emitter = null);
              }),
              (F.prototype.on = function (A, k) {
                this._emitter.addListener(A, k);
              }),
              (F.prototype.off = function (A, k) {
                this._emitter.removeListener(A, k);
              }),
              (F.prototype.attachMediaElement = function (A) {
                if (this._mediaSource) throw new D.a('MediaSource has been attached to an HTMLMediaElement!');
                var k = (this._mediaSource = new window.MediaSource());
                k.addEventListener('sourceopen', this.e.onSourceOpen),
                  k.addEventListener('sourceended', this.e.onSourceEnded),
                  k.addEventListener('sourceclose', this.e.onSourceClose),
                  (this._mediaElement = A),
                  (this._mediaSourceObjectURL = window.URL.createObjectURL(this._mediaSource)),
                  (A.src = this._mediaSourceObjectURL);
              }),
              (F.prototype.detachMediaElement = function () {
                if (this._mediaSource) {
                  var A = this._mediaSource;
                  for (var k in this._sourceBuffers) {
                    var U = this._pendingSegments[k];
                    U.splice(0, U.length), (this._pendingSegments[k] = null), (this._pendingRemoveRanges[k] = null), (this._lastInitSegments[k] = null);
                    var X = this._sourceBuffers[k];
                    if (X) {
                      if (A.readyState !== 'closed') {
                        try {
                          A.removeSourceBuffer(X);
                        } catch (Q) {
                          h.a.e(this.TAG, Q.message);
                        }
                        X.removeEventListener('error', this.e.onSourceBufferError), X.removeEventListener('updateend', this.e.onSourceBufferUpdateEnd);
                      }
                      (this._mimeTypes[k] = null), (this._sourceBuffers[k] = null);
                    }
                  }
                  if (A.readyState === 'open')
                    try {
                      A.endOfStream();
                    } catch (Q) {
                      h.a.e(this.TAG, Q.message);
                    }
                  A.removeEventListener('sourceopen', this.e.onSourceOpen),
                    A.removeEventListener('sourceended', this.e.onSourceEnded),
                    A.removeEventListener('sourceclose', this.e.onSourceClose),
                    (this._pendingSourceBufferInit = []),
                    (this._isBufferFull = !1),
                    this._idrList.clear(),
                    (this._mediaSource = null);
                }
                this._mediaElement && ((this._mediaElement.src = ''), this._mediaElement.removeAttribute('src'), (this._mediaElement = null)),
                  this._mediaSourceObjectURL && (window.URL.revokeObjectURL(this._mediaSourceObjectURL), (this._mediaSourceObjectURL = null));
              }),
              (F.prototype.appendInitSegment = function (A, k) {
                if (!this._mediaSource || this._mediaSource.readyState !== 'open') return this._pendingSourceBufferInit.push(A), void this._pendingSegments[A.type].push(A);
                var U = A,
                  X = '' + U.container;
                U.codec && U.codec.length > 0 && (X += ';codecs=' + U.codec);
                var Q = !1;
                if ((h.a.v(this.TAG, 'Received Initialization Segment, mimeType: ' + X), (this._lastInitSegments[U.type] = U), X !== this._mimeTypes[U.type])) {
                  if (this._mimeTypes[U.type]) h.a.v(this.TAG, 'Notice: ' + U.type + ' mimeType changed, origin: ' + this._mimeTypes[U.type] + ', target: ' + X);
                  else {
                    Q = !0;
                    try {
                      var W = (this._sourceBuffers[U.type] = this._mediaSource.addSourceBuffer(X));
                      W.addEventListener('error', this.e.onSourceBufferError), W.addEventListener('updateend', this.e.onSourceBufferUpdateEnd);
                    } catch (Y) {
                      return h.a.e(this.TAG, Y.message), void this._emitter.emit(x.ERROR, { code: Y.code, msg: Y.message });
                    }
                  }
                  this._mimeTypes[U.type] = X;
                }
                k || this._pendingSegments[U.type].push(U),
                  Q || (this._sourceBuffers[U.type] && !this._sourceBuffers[U.type].updating && this._doAppendSegments()),
                  m.a.safari &&
                    U.container === 'audio/mpeg' &&
                    U.mediaDuration > 0 &&
                    ((this._requireSetMediaDuration = !0), (this._pendingMediaDuration = U.mediaDuration / 1e3), this._updateMediaSourceDuration());
              }),
              (F.prototype.appendMediaSegment = function (A) {
                var k = A;
                this._pendingSegments[k.type].push(k), this._config.autoCleanupSourceBuffer && this._needCleanupSourceBuffer() && this._doCleanupSourceBuffer();
                var U = this._sourceBuffers[k.type];
                !U || U.updating || this._hasPendingRemoveRanges() || this._doAppendSegments();
              }),
              (F.prototype.seek = function (A) {
                for (var k in this._sourceBuffers)
                  if (this._sourceBuffers[k]) {
                    var U = this._sourceBuffers[k];
                    if (this._mediaSource.readyState === 'open')
                      try {
                        U.abort();
                      } catch (te) {
                        h.a.e(this.TAG, te.message);
                      }
                    this._idrList.clear();
                    var X = this._pendingSegments[k];
                    if ((X.splice(0, X.length), this._mediaSource.readyState !== 'closed')) {
                      for (var Q = 0; Q < U.buffered.length; Q++) {
                        var W = U.buffered.start(Q),
                          Y = U.buffered.end(Q);
                        this._pendingRemoveRanges[k].push({ start: W, end: Y });
                      }
                      if ((U.updating || this._doRemoveRanges(), m.a.safari)) {
                        var ne = this._lastInitSegments[k];
                        ne && (this._pendingSegments[k].push(ne), U.updating || this._doAppendSegments());
                      }
                    }
                  }
              }),
              (F.prototype.endOfStream = function () {
                var A = this._mediaSource,
                  k = this._sourceBuffers;
                A && A.readyState === 'open'
                  ? (k.video && k.video.updating) || (k.audio && k.audio.updating)
                    ? (this._hasPendingEos = !0)
                    : ((this._hasPendingEos = !1), A.endOfStream())
                  : A && A.readyState === 'closed' && this._hasPendingSegments() && (this._hasPendingEos = !0);
              }),
              (F.prototype.getNearestKeyframe = function (A) {
                return this._idrList.getLastSyncPointBeforeDts(A);
              }),
              (F.prototype._needCleanupSourceBuffer = function () {
                if (!this._config.autoCleanupSourceBuffer) return !1;
                var A = this._mediaElement.currentTime;
                for (var k in this._sourceBuffers) {
                  var U = this._sourceBuffers[k];
                  if (U) {
                    var X = U.buffered;
                    if (X.length >= 1 && A - X.start(0) >= this._config.autoCleanupMaxBackwardDuration) return !0;
                  }
                }
                return !1;
              }),
              (F.prototype._doCleanupSourceBuffer = function () {
                var A = this._mediaElement.currentTime;
                for (var k in this._sourceBuffers) {
                  var U = this._sourceBuffers[k];
                  if (U) {
                    for (var X = U.buffered, Q = !1, W = 0; W < X.length; W++) {
                      var Y = X.start(W),
                        ne = X.end(W);
                      if (Y <= A && A < ne + 3) {
                        if (A - Y >= this._config.autoCleanupMaxBackwardDuration) {
                          Q = !0;
                          var te = A - this._config.autoCleanupMinBackwardDuration;
                          this._pendingRemoveRanges[k].push({ start: Y, end: te });
                        }
                      } else ne < A && ((Q = !0), this._pendingRemoveRanges[k].push({ start: Y, end: ne }));
                    }
                    Q && !U.updating && this._doRemoveRanges();
                  }
                }
              }),
              (F.prototype._updateMediaSourceDuration = function () {
                var A = this._sourceBuffers;
                if (this._mediaElement.readyState !== 0 && this._mediaSource.readyState === 'open' && !((A.video && A.video.updating) || (A.audio && A.audio.updating))) {
                  var k = this._mediaSource.duration,
                    U = this._pendingMediaDuration;
                  U > 0 && (isNaN(k) || U > k) && (h.a.v(this.TAG, 'Update MediaSource duration from ' + k + ' to ' + U), (this._mediaSource.duration = U)),
                    (this._requireSetMediaDuration = !1),
                    (this._pendingMediaDuration = 0);
                }
              }),
              (F.prototype._doRemoveRanges = function () {
                for (var A in this._pendingRemoveRanges)
                  if (this._sourceBuffers[A] && !this._sourceBuffers[A].updating)
                    for (var k = this._sourceBuffers[A], U = this._pendingRemoveRanges[A]; U.length && !k.updating; ) {
                      var X = U.shift();
                      k.remove(X.start, X.end);
                    }
              }),
              (F.prototype._doAppendSegments = function () {
                var A = this._pendingSegments;
                for (var k in A)
                  if (this._sourceBuffers[k] && !this._sourceBuffers[k].updating && A[k].length > 0) {
                    var U = A[k].shift();
                    if (U.timestampOffset) {
                      var X = this._sourceBuffers[k].timestampOffset,
                        Q = U.timestampOffset / 1e3;
                      Math.abs(X - Q) > 0.1 && (h.a.v(this.TAG, 'Update MPEG audio timestampOffset from ' + X + ' to ' + Q), (this._sourceBuffers[k].timestampOffset = Q)), delete U.timestampOffset;
                    }
                    if (!U.data || U.data.byteLength === 0) continue;
                    try {
                      this._sourceBuffers[k].appendBuffer(U.data), (this._isBufferFull = !1), k === 'video' && U.hasOwnProperty('info') && this._idrList.appendArray(U.info.syncPoints);
                    } catch (W) {
                      this._pendingSegments[k].unshift(U),
                        W.code === 22
                          ? (this._isBufferFull || this._emitter.emit(x.BUFFER_FULL), (this._isBufferFull = !0))
                          : (h.a.e(this.TAG, W.message), this._emitter.emit(x.ERROR, { code: W.code, msg: W.message }));
                    }
                  }
              }),
              (F.prototype._onSourceOpen = function () {
                if ((h.a.v(this.TAG, 'MediaSource onSourceOpen'), this._mediaSource.removeEventListener('sourceopen', this.e.onSourceOpen), this._pendingSourceBufferInit.length > 0))
                  for (var A = this._pendingSourceBufferInit; A.length; ) {
                    var k = A.shift();
                    this.appendInitSegment(k, !0);
                  }
                this._hasPendingSegments() && this._doAppendSegments(), this._emitter.emit(x.SOURCE_OPEN);
              }),
              (F.prototype._onSourceEnded = function () {
                h.a.v(this.TAG, 'MediaSource onSourceEnded');
              }),
              (F.prototype._onSourceClose = function () {
                h.a.v(this.TAG, 'MediaSource onSourceClose'),
                  this._mediaSource &&
                    this.e != null &&
                    (this._mediaSource.removeEventListener('sourceopen', this.e.onSourceOpen),
                    this._mediaSource.removeEventListener('sourceended', this.e.onSourceEnded),
                    this._mediaSource.removeEventListener('sourceclose', this.e.onSourceClose));
              }),
              (F.prototype._hasPendingSegments = function () {
                var A = this._pendingSegments;
                return A.video.length > 0 || A.audio.length > 0;
              }),
              (F.prototype._hasPendingRemoveRanges = function () {
                var A = this._pendingRemoveRanges;
                return A.video.length > 0 || A.audio.length > 0;
              }),
              (F.prototype._onSourceBufferUpdateEnd = function () {
                this._requireSetMediaDuration
                  ? this._updateMediaSourceDuration()
                  : this._hasPendingRemoveRanges()
                  ? this._doRemoveRanges()
                  : this._hasPendingSegments()
                  ? this._doAppendSegments()
                  : this._hasPendingEos && this.endOfStream(),
                  this._emitter.emit(x.UPDATE_END);
              }),
              (F.prototype._onSourceBufferError = function (A) {
                h.a.e(this.TAG, 'SourceBuffer Error: ' + A);
              }),
              F
            );
          })(),
          G = i(5),
          M = { NETWORK_ERROR: 'NetworkError', MEDIA_ERROR: 'MediaError', OTHER_ERROR: 'OtherError' },
          B = {
            NETWORK_EXCEPTION: c.b.EXCEPTION,
            NETWORK_STATUS_CODE_INVALID: c.b.HTTP_STATUS_CODE_INVALID,
            NETWORK_TIMEOUT: c.b.CONNECTING_TIMEOUT,
            NETWORK_UNRECOVERABLE_EARLY_EOF: c.b.UNRECOVERABLE_EARLY_EOF,
            MEDIA_MSE_ERROR: 'MediaMSEError',
            MEDIA_FORMAT_ERROR: G.a.FORMAT_ERROR,
            MEDIA_FORMAT_UNSUPPORTED: G.a.FORMAT_UNSUPPORTED,
            MEDIA_CODEC_UNSUPPORTED: G.a.CODEC_UNSUPPORTED,
          },
          z = (function () {
            function F(A, k) {
              (this.TAG = 'MSEPlayer'), (this._type = 'MSEPlayer'), (this._emitter = new f.a()), (this._config = l()), typeof k == 'object' && Object.assign(this._config, k);
              var U = A.type.toLowerCase();
              if (U !== 'mse' && U !== 'mpegts' && U !== 'm2ts' && U !== 'flv') throw new D.b('MSEPlayer requires an mpegts/m2ts/flv MediaDataSource input!');
              A.isLive === !0 && (this._config.isLive = !0),
                (this.e = {
                  onvLoadedMetadata: this._onvLoadedMetadata.bind(this),
                  onvSeeking: this._onvSeeking.bind(this),
                  onvCanPlay: this._onvCanPlay.bind(this),
                  onvStalled: this._onvStalled.bind(this),
                  onvProgress: this._onvProgress.bind(this),
                }),
                self.performance && self.performance.now ? (this._now = self.performance.now.bind(self.performance)) : (this._now = Date.now),
                (this._pendingSeekTime = null),
                (this._requestSetTime = !1),
                (this._seekpointRecord = null),
                (this._progressChecker = null),
                (this._mediaDataSource = A),
                (this._mediaElement = null),
                (this._msectl = null),
                (this._transmuxer = null),
                (this._mseSourceOpened = !1),
                (this._hasPendingLoad = !1),
                (this._receivedCanPlay = !1),
                (this._mediaInfo = null),
                (this._statisticsInfo = null);
              var X = m.a.chrome && (m.a.version.major < 50 || (m.a.version.major === 50 && m.a.version.build < 2661));
              (this._alwaysSeekKeyframe = !!(X || m.a.msedge || m.a.msie)), this._alwaysSeekKeyframe && (this._config.accurateSeek = !1);
            }
            return (
              (F.prototype.destroy = function () {
                this._progressChecker != null && (window.clearInterval(this._progressChecker), (this._progressChecker = null)),
                  this._transmuxer && this.unload(),
                  this._mediaElement && this.detachMediaElement(),
                  (this.e = null),
                  (this._mediaDataSource = null),
                  this._emitter.removeAllListeners(),
                  (this._emitter = null);
              }),
              (F.prototype.on = function (A, k) {
                var U = this;
                A === g.MEDIA_INFO
                  ? this._mediaInfo != null &&
                    Promise.resolve().then(function () {
                      U._emitter.emit(g.MEDIA_INFO, U.mediaInfo);
                    })
                  : A === g.STATISTICS_INFO &&
                    this._statisticsInfo != null &&
                    Promise.resolve().then(function () {
                      U._emitter.emit(g.STATISTICS_INFO, U.statisticsInfo);
                    }),
                  this._emitter.addListener(A, k);
              }),
              (F.prototype.off = function (A, k) {
                this._emitter.removeListener(A, k);
              }),
              (F.prototype.attachMediaElement = function (A) {
                var k = this;
                if (
                  ((this._mediaElement = A),
                  A.addEventListener('loadedmetadata', this.e.onvLoadedMetadata),
                  A.addEventListener('seeking', this.e.onvSeeking),
                  A.addEventListener('canplay', this.e.onvCanPlay),
                  A.addEventListener('stalled', this.e.onvStalled),
                  A.addEventListener('progress', this.e.onvProgress),
                  (this._msectl = new C(this._config)),
                  this._msectl.on(x.UPDATE_END, this._onmseUpdateEnd.bind(this)),
                  this._msectl.on(x.BUFFER_FULL, this._onmseBufferFull.bind(this)),
                  this._msectl.on(x.SOURCE_OPEN, function () {
                    (k._mseSourceOpened = !0), k._hasPendingLoad && ((k._hasPendingLoad = !1), k.load());
                  }),
                  this._msectl.on(x.ERROR, function (U) {
                    k._emitter.emit(g.ERROR, M.MEDIA_ERROR, B.MEDIA_MSE_ERROR, U);
                  }),
                  this._msectl.attachMediaElement(A),
                  this._pendingSeekTime != null)
                )
                  try {
                    (A.currentTime = this._pendingSeekTime), (this._pendingSeekTime = null);
                  } catch {}
              }),
              (F.prototype.detachMediaElement = function () {
                this._mediaElement &&
                  (this._msectl.detachMediaElement(),
                  this._mediaElement.removeEventListener('loadedmetadata', this.e.onvLoadedMetadata),
                  this._mediaElement.removeEventListener('seeking', this.e.onvSeeking),
                  this._mediaElement.removeEventListener('canplay', this.e.onvCanPlay),
                  this._mediaElement.removeEventListener('stalled', this.e.onvStalled),
                  this._mediaElement.removeEventListener('progress', this.e.onvProgress),
                  (this._mediaElement = null)),
                  this._msectl && (this._msectl.destroy(), (this._msectl = null));
              }),
              (F.prototype.load = function () {
                var A = this;
                if (!this._mediaElement) throw new D.a('HTMLMediaElement must be attached before load()!');
                if (this._transmuxer) throw new D.a('MSEPlayer.load() has been called, please call unload() first!');
                this._hasPendingLoad ||
                  (this._config.deferLoadAfterSourceOpen && this._mseSourceOpened === !1
                    ? (this._hasPendingLoad = !0)
                    : (this._mediaElement.readyState > 0 && ((this._requestSetTime = !0), (this._mediaElement.currentTime = 0)),
                      (this._transmuxer = new O(this._mediaDataSource, this._config)),
                      this._transmuxer.on(w.a.INIT_SEGMENT, function (k, U) {
                        A._msectl.appendInitSegment(U);
                      }),
                      this._transmuxer.on(w.a.MEDIA_SEGMENT, function (k, U) {
                        if ((A._msectl.appendMediaSegment(U), A._config.lazyLoad && !A._config.isLive)) {
                          var X = A._mediaElement.currentTime;
                          U.info.endDts >= 1e3 * (X + A._config.lazyLoadMaxDuration) &&
                            A._progressChecker == null &&
                            (h.a.v(A.TAG, 'Maximum buffering duration exceeded, suspend transmuxing task'), A._suspendTransmuxer());
                        }
                      }),
                      this._transmuxer.on(w.a.LOADING_COMPLETE, function () {
                        A._msectl.endOfStream(), A._emitter.emit(g.LOADING_COMPLETE);
                      }),
                      this._transmuxer.on(w.a.RECOVERED_EARLY_EOF, function () {
                        A._emitter.emit(g.RECOVERED_EARLY_EOF);
                      }),
                      this._transmuxer.on(w.a.IO_ERROR, function (k, U) {
                        A._emitter.emit(g.ERROR, M.NETWORK_ERROR, k, U);
                      }),
                      this._transmuxer.on(w.a.DEMUX_ERROR, function (k, U) {
                        A._emitter.emit(g.ERROR, M.MEDIA_ERROR, k, { code: -1, msg: U });
                      }),
                      this._transmuxer.on(w.a.MEDIA_INFO, function (k) {
                        (A._mediaInfo = k), A._emitter.emit(g.MEDIA_INFO, Object.assign({}, k));
                      }),
                      this._transmuxer.on(w.a.METADATA_ARRIVED, function (k) {
                        A._emitter.emit(g.METADATA_ARRIVED, k);
                      }),
                      this._transmuxer.on(w.a.SCRIPTDATA_ARRIVED, function (k) {
                        A._emitter.emit(g.SCRIPTDATA_ARRIVED, k);
                      }),
                      this._transmuxer.on(w.a.TIMED_ID3_METADATA_ARRIVED, function (k) {
                        A._emitter.emit(g.TIMED_ID3_METADATA_ARRIVED, k);
                      }),
                      this._transmuxer.on(w.a.SMPTE2038_METADATA_ARRIVED, function (k) {
                        A._emitter.emit(g.SMPTE2038_METADATA_ARRIVED, k);
                      }),
                      this._transmuxer.on(w.a.SCTE35_METADATA_ARRIVED, function (k) {
                        A._emitter.emit(g.SCTE35_METADATA_ARRIVED, k);
                      }),
                      this._transmuxer.on(w.a.PES_PRIVATE_DATA_DESCRIPTOR, function (k) {
                        A._emitter.emit(g.PES_PRIVATE_DATA_DESCRIPTOR, k);
                      }),
                      this._transmuxer.on(w.a.PES_PRIVATE_DATA_ARRIVED, function (k) {
                        A._emitter.emit(g.PES_PRIVATE_DATA_ARRIVED, k);
                      }),
                      this._transmuxer.on(w.a.STATISTICS_INFO, function (k) {
                        (A._statisticsInfo = A._fillStatisticsInfo(k)), A._emitter.emit(g.STATISTICS_INFO, Object.assign({}, A._statisticsInfo));
                      }),
                      this._transmuxer.on(w.a.RECOMMEND_SEEKPOINT, function (k) {
                        A._mediaElement && !A._config.accurateSeek && ((A._requestSetTime = !0), (A._mediaElement.currentTime = k / 1e3));
                      }),
                      this._transmuxer.open()));
              }),
              (F.prototype.unload = function () {
                this._mediaElement && this._mediaElement.pause(),
                  this._msectl && this._msectl.seek(0),
                  this._transmuxer && (this._transmuxer.close(), this._transmuxer.destroy(), (this._transmuxer = null));
              }),
              (F.prototype.play = function () {
                return this._mediaElement.play();
              }),
              (F.prototype.pause = function () {
                this._mediaElement.pause();
              }),
              Object.defineProperty(F.prototype, 'type', {
                get: function () {
                  return this._type;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(F.prototype, 'buffered', {
                get: function () {
                  return this._mediaElement.buffered;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(F.prototype, 'duration', {
                get: function () {
                  return this._mediaElement.duration;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(F.prototype, 'volume', {
                get: function () {
                  return this._mediaElement.volume;
                },
                set: function (A) {
                  this._mediaElement.volume = A;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(F.prototype, 'muted', {
                get: function () {
                  return this._mediaElement.muted;
                },
                set: function (A) {
                  this._mediaElement.muted = A;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(F.prototype, 'currentTime', {
                get: function () {
                  return this._mediaElement ? this._mediaElement.currentTime : 0;
                },
                set: function (A) {
                  this._mediaElement ? this._internalSeek(A) : (this._pendingSeekTime = A);
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(F.prototype, 'mediaInfo', {
                get: function () {
                  return Object.assign({}, this._mediaInfo);
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(F.prototype, 'statisticsInfo', {
                get: function () {
                  return this._statisticsInfo == null && (this._statisticsInfo = {}), (this._statisticsInfo = this._fillStatisticsInfo(this._statisticsInfo)), Object.assign({}, this._statisticsInfo);
                },
                enumerable: !1,
                configurable: !0,
              }),
              (F.prototype._fillStatisticsInfo = function (A) {
                if (((A.playerType = this._type), !(this._mediaElement instanceof HTMLVideoElement))) return A;
                var k = !0,
                  U = 0,
                  X = 0;
                if (this._mediaElement.getVideoPlaybackQuality) {
                  var Q = this._mediaElement.getVideoPlaybackQuality();
                  (U = Q.totalVideoFrames), (X = Q.droppedVideoFrames);
                } else this._mediaElement.webkitDecodedFrameCount != null ? ((U = this._mediaElement.webkitDecodedFrameCount), (X = this._mediaElement.webkitDroppedFrameCount)) : (k = !1);
                return k && ((A.decodedFrames = U), (A.droppedFrames = X)), A;
              }),
              (F.prototype._onmseUpdateEnd = function () {
                var A = this._mediaElement.buffered,
                  k = this._mediaElement.currentTime;
                if (this._config.isLive && this._config.liveBufferLatencyChasing && A.length > 0 && !this._mediaElement.paused) {
                  var U = A.end(A.length - 1);
                  if (U > this._config.liveBufferLatencyMaxLatency && U - k > this._config.liveBufferLatencyMaxLatency) {
                    var X = U - this._config.liveBufferLatencyMinRemain;
                    this.currentTime = X;
                  }
                }
                if (this._config.lazyLoad && !this._config.isLive) {
                  for (var Q = 0, W = 0; W < A.length; W++) {
                    var Y = A.start(W),
                      ne = A.end(W);
                    if (Y <= k && k < ne) {
                      Q = ne;
                      break;
                    }
                  }
                  Q >= k + this._config.lazyLoadMaxDuration &&
                    this._progressChecker == null &&
                    (h.a.v(this.TAG, 'Maximum buffering duration exceeded, suspend transmuxing task'), this._suspendTransmuxer());
                }
              }),
              (F.prototype._onmseBufferFull = function () {
                h.a.v(this.TAG, 'MSE SourceBuffer is full, suspend transmuxing task'), this._progressChecker == null && this._suspendTransmuxer();
              }),
              (F.prototype._suspendTransmuxer = function () {
                this._transmuxer && (this._transmuxer.pause(), this._progressChecker == null && (this._progressChecker = window.setInterval(this._checkProgressAndResume.bind(this), 1e3)));
              }),
              (F.prototype._checkProgressAndResume = function () {
                for (var A = this._mediaElement.currentTime, k = this._mediaElement.buffered, U = !1, X = 0; X < k.length; X++) {
                  var Q = k.start(X),
                    W = k.end(X);
                  if (A >= Q && A < W) {
                    A >= W - this._config.lazyLoadRecoverDuration && (U = !0);
                    break;
                  }
                }
                U && (window.clearInterval(this._progressChecker), (this._progressChecker = null), U && (h.a.v(this.TAG, 'Continue loading from paused position'), this._transmuxer.resume()));
              }),
              (F.prototype._isTimepointBuffered = function (A) {
                for (var k = this._mediaElement.buffered, U = 0; U < k.length; U++) {
                  var X = k.start(U),
                    Q = k.end(U);
                  if (A >= X && A < Q) return !0;
                }
                return !1;
              }),
              (F.prototype._internalSeek = function (A) {
                var k = this._isTimepointBuffered(A),
                  U = !1,
                  X = 0;
                if (A < 1 && this._mediaElement.buffered.length > 0) {
                  var Q = this._mediaElement.buffered.start(0);
                  ((Q < 1 && A < Q) || m.a.safari) && ((U = !0), (X = m.a.safari ? 0.1 : Q));
                }
                if (U) (this._requestSetTime = !0), (this._mediaElement.currentTime = X);
                else if (k) {
                  if (this._alwaysSeekKeyframe) {
                    var W = this._msectl.getNearestKeyframe(Math.floor(1e3 * A));
                    (this._requestSetTime = !0), (this._mediaElement.currentTime = W != null ? W.dts / 1e3 : A);
                  } else (this._requestSetTime = !0), (this._mediaElement.currentTime = A);
                  this._progressChecker != null && this._checkProgressAndResume();
                } else
                  this._progressChecker != null && (window.clearInterval(this._progressChecker), (this._progressChecker = null)),
                    this._msectl.seek(A),
                    this._transmuxer.seek(Math.floor(1e3 * A)),
                    this._config.accurateSeek && ((this._requestSetTime = !0), (this._mediaElement.currentTime = A));
              }),
              (F.prototype._checkAndApplyUnbufferedSeekpoint = function () {
                if (this._seekpointRecord)
                  if (this._seekpointRecord.recordTime <= this._now() - 100) {
                    var A = this._mediaElement.currentTime;
                    (this._seekpointRecord = null),
                      this._isTimepointBuffered(A) ||
                        (this._progressChecker != null && (window.clearTimeout(this._progressChecker), (this._progressChecker = null)),
                        this._msectl.seek(A),
                        this._transmuxer.seek(Math.floor(1e3 * A)),
                        this._config.accurateSeek && ((this._requestSetTime = !0), (this._mediaElement.currentTime = A)));
                  } else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this), 50);
              }),
              (F.prototype._checkAndResumeStuckPlayback = function (A) {
                var k = this._mediaElement;
                if (A || !this._receivedCanPlay || k.readyState < 2) {
                  var U = k.buffered;
                  U.length > 0 &&
                    k.currentTime < U.start(0) &&
                    (h.a.w(this.TAG, 'Playback seems stuck at ' + k.currentTime + ', seek to ' + U.start(0)),
                    (this._requestSetTime = !0),
                    (this._mediaElement.currentTime = U.start(0)),
                    this._mediaElement.removeEventListener('progress', this.e.onvProgress));
                } else this._mediaElement.removeEventListener('progress', this.e.onvProgress);
              }),
              (F.prototype._onvLoadedMetadata = function (A) {
                this._pendingSeekTime != null && ((this._mediaElement.currentTime = this._pendingSeekTime), (this._pendingSeekTime = null));
              }),
              (F.prototype._onvSeeking = function (A) {
                var k = this._mediaElement.currentTime,
                  U = this._mediaElement.buffered;
                if (this._requestSetTime) this._requestSetTime = !1;
                else {
                  if (k < 1 && U.length > 0) {
                    var X = U.start(0);
                    if ((X < 1 && k < X) || m.a.safari) return (this._requestSetTime = !0), void (this._mediaElement.currentTime = m.a.safari ? 0.1 : X);
                  }
                  if (this._isTimepointBuffered(k)) {
                    if (this._alwaysSeekKeyframe) {
                      var Q = this._msectl.getNearestKeyframe(Math.floor(1e3 * k));
                      Q != null && ((this._requestSetTime = !0), (this._mediaElement.currentTime = Q.dts / 1e3));
                    }
                    this._progressChecker != null && this._checkProgressAndResume();
                  } else (this._seekpointRecord = { seekPoint: k, recordTime: this._now() }), window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this), 50);
                }
              }),
              (F.prototype._onvCanPlay = function (A) {
                (this._receivedCanPlay = !0), this._mediaElement.removeEventListener('canplay', this.e.onvCanPlay);
              }),
              (F.prototype._onvStalled = function (A) {
                this._checkAndResumeStuckPlayback(!0);
              }),
              (F.prototype._onvProgress = function (A) {
                this._checkAndResumeStuckPlayback();
              }),
              F
            );
          })(),
          H = (function () {
            function F(A, k) {
              (this.TAG = 'NativePlayer'), (this._type = 'NativePlayer'), (this._emitter = new f.a()), (this._config = l()), typeof k == 'object' && Object.assign(this._config, k);
              var U = A.type.toLowerCase();
              if (U === 'mse' || U === 'mpegts' || U === 'm2ts' || U === 'flv') throw new D.b("NativePlayer does't support mse/mpegts/m2ts/flv MediaDataSource input!");
              if (A.hasOwnProperty('segments')) throw new D.b('NativePlayer(' + A.type + ") doesn't support multipart playback!");
              (this.e = { onvLoadedMetadata: this._onvLoadedMetadata.bind(this) }),
                (this._pendingSeekTime = null),
                (this._statisticsReporter = null),
                (this._mediaDataSource = A),
                (this._mediaElement = null);
            }
            return (
              (F.prototype.destroy = function () {
                this._mediaElement && (this.unload(), this.detachMediaElement()), (this.e = null), (this._mediaDataSource = null), this._emitter.removeAllListeners(), (this._emitter = null);
              }),
              (F.prototype.on = function (A, k) {
                var U = this;
                A === g.MEDIA_INFO
                  ? this._mediaElement != null &&
                    this._mediaElement.readyState !== 0 &&
                    Promise.resolve().then(function () {
                      U._emitter.emit(g.MEDIA_INFO, U.mediaInfo);
                    })
                  : A === g.STATISTICS_INFO &&
                    this._mediaElement != null &&
                    this._mediaElement.readyState !== 0 &&
                    Promise.resolve().then(function () {
                      U._emitter.emit(g.STATISTICS_INFO, U.statisticsInfo);
                    }),
                  this._emitter.addListener(A, k);
              }),
              (F.prototype.off = function (A, k) {
                this._emitter.removeListener(A, k);
              }),
              (F.prototype.attachMediaElement = function (A) {
                if (((this._mediaElement = A), A.addEventListener('loadedmetadata', this.e.onvLoadedMetadata), this._pendingSeekTime != null))
                  try {
                    (A.currentTime = this._pendingSeekTime), (this._pendingSeekTime = null);
                  } catch {}
              }),
              (F.prototype.detachMediaElement = function () {
                this._mediaElement &&
                  ((this._mediaElement.src = ''),
                  this._mediaElement.removeAttribute('src'),
                  this._mediaElement.removeEventListener('loadedmetadata', this.e.onvLoadedMetadata),
                  (this._mediaElement = null)),
                  this._statisticsReporter != null && (window.clearInterval(this._statisticsReporter), (this._statisticsReporter = null));
              }),
              (F.prototype.load = function () {
                if (!this._mediaElement) throw new D.a('HTMLMediaElement must be attached before load()!');
                (this._mediaElement.src = this._mediaDataSource.url),
                  this._mediaElement.readyState > 0 && (this._mediaElement.currentTime = 0),
                  (this._mediaElement.preload = 'auto'),
                  this._mediaElement.load(),
                  (this._statisticsReporter = window.setInterval(this._reportStatisticsInfo.bind(this), this._config.statisticsInfoReportInterval));
              }),
              (F.prototype.unload = function () {
                this._mediaElement && ((this._mediaElement.src = ''), this._mediaElement.removeAttribute('src')),
                  this._statisticsReporter != null && (window.clearInterval(this._statisticsReporter), (this._statisticsReporter = null));
              }),
              (F.prototype.play = function () {
                return this._mediaElement.play();
              }),
              (F.prototype.pause = function () {
                this._mediaElement.pause();
              }),
              Object.defineProperty(F.prototype, 'type', {
                get: function () {
                  return this._type;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(F.prototype, 'buffered', {
                get: function () {
                  return this._mediaElement.buffered;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(F.prototype, 'duration', {
                get: function () {
                  return this._mediaElement.duration;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(F.prototype, 'volume', {
                get: function () {
                  return this._mediaElement.volume;
                },
                set: function (A) {
                  this._mediaElement.volume = A;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(F.prototype, 'muted', {
                get: function () {
                  return this._mediaElement.muted;
                },
                set: function (A) {
                  this._mediaElement.muted = A;
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(F.prototype, 'currentTime', {
                get: function () {
                  return this._mediaElement ? this._mediaElement.currentTime : 0;
                },
                set: function (A) {
                  this._mediaElement ? (this._mediaElement.currentTime = A) : (this._pendingSeekTime = A);
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(F.prototype, 'mediaInfo', {
                get: function () {
                  var A = { mimeType: (this._mediaElement instanceof HTMLAudioElement ? 'audio/' : 'video/') + this._mediaDataSource.type };
                  return (
                    this._mediaElement &&
                      ((A.duration = Math.floor(1e3 * this._mediaElement.duration)),
                      this._mediaElement instanceof HTMLVideoElement && ((A.width = this._mediaElement.videoWidth), (A.height = this._mediaElement.videoHeight))),
                    A
                  );
                },
                enumerable: !1,
                configurable: !0,
              }),
              Object.defineProperty(F.prototype, 'statisticsInfo', {
                get: function () {
                  var A = { playerType: this._type, url: this._mediaDataSource.url };
                  if (!(this._mediaElement instanceof HTMLVideoElement)) return A;
                  var k = !0,
                    U = 0,
                    X = 0;
                  if (this._mediaElement.getVideoPlaybackQuality) {
                    var Q = this._mediaElement.getVideoPlaybackQuality();
                    (U = Q.totalVideoFrames), (X = Q.droppedVideoFrames);
                  } else this._mediaElement.webkitDecodedFrameCount != null ? ((U = this._mediaElement.webkitDecodedFrameCount), (X = this._mediaElement.webkitDroppedFrameCount)) : (k = !1);
                  return k && ((A.decodedFrames = U), (A.droppedFrames = X)), A;
                },
                enumerable: !1,
                configurable: !0,
              }),
              (F.prototype._onvLoadedMetadata = function (A) {
                this._pendingSeekTime != null && ((this._mediaElement.currentTime = this._pendingSeekTime), (this._pendingSeekTime = null)), this._emitter.emit(g.MEDIA_INFO, this.mediaInfo);
              }),
              (F.prototype._reportStatisticsInfo = function () {
                this._emitter.emit(g.STATISTICS_INFO, this.statisticsInfo);
              }),
              F
            );
          })();
        o.a.install();
        var q = {
          createPlayer: function (F, A) {
            var k = F;
            if (k == null || typeof k != 'object') throw new D.b('MediaDataSource must be an javascript object!');
            if (!k.hasOwnProperty('type')) throw new D.b('MediaDataSource must has type field to indicate video file type!');
            switch (k.type) {
              case 'mse':
              case 'mpegts':
              case 'm2ts':
              case 'flv':
                return new z(k, A);
              default:
                return new H(k, A);
            }
          },
          isSupported: function () {
            return u.supportMSEH264Playback();
          },
          getFeatureList: function () {
            return u.getFeatureList();
          },
        };
        (q.BaseLoader = c.a),
          (q.LoaderStatus = c.c),
          (q.LoaderErrors = c.b),
          (q.Events = g),
          (q.ErrorTypes = M),
          (q.ErrorDetails = B),
          (q.MSEPlayer = z),
          (q.NativePlayer = H),
          (q.LoggingControl = y.a),
          Object.defineProperty(q, 'version', {
            enumerable: !0,
            get: function () {
              return '1.7.3';
            },
          }),
          (r.default = q);
      },
    ]);
  });
})(c_);
var RL = c_.exports;
const ma = Gc(RL);
function AL(t) {
  return t && t.__esModule && Object.prototype.hasOwnProperty.call(t, 'default') ? t.default : t;
}
var d_ = { exports: {} };
(function (t, e) {
  (function (n) {
    var r = /^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,
      i = /^(?=([^\/?#]*))\1([^]*)$/,
      o = /(?:\/|^)\.(?=\/)/g,
      a = /(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,
      s = {
        buildAbsoluteURL: function (l, u, c) {
          if (((c = c || {}), (l = l.trim()), (u = u.trim()), !u)) {
            if (!c.alwaysNormalize) return l;
            var d = s.parseURL(l);
            if (!d) throw new Error('Error trying to parse base URL.');
            return (d.path = s.normalizePath(d.path)), s.buildURLFromParts(d);
          }
          var f = s.parseURL(u);
          if (!f) throw new Error('Error trying to parse relative URL.');
          if (f.scheme) return c.alwaysNormalize ? ((f.path = s.normalizePath(f.path)), s.buildURLFromParts(f)) : u;
          var h = s.parseURL(l);
          if (!h) throw new Error('Error trying to parse base URL.');
          if (!h.netLoc && h.path && h.path[0] !== '/') {
            var m = i.exec(h.path);
            (h.netLoc = m[1]), (h.path = m[2]);
          }
          h.netLoc && !h.path && (h.path = '/');
          var g = { scheme: h.scheme, netLoc: f.netLoc, path: null, params: f.params, query: f.query, fragment: f.fragment };
          if (!f.netLoc && ((g.netLoc = h.netLoc), f.path[0] !== '/'))
            if (!f.path) (g.path = h.path), f.params || ((g.params = h.params), f.query || (g.query = h.query));
            else {
              var b = h.path,
                _ = b.substring(0, b.lastIndexOf('/') + 1) + f.path;
              g.path = s.normalizePath(_);
            }
          return g.path === null && (g.path = c.alwaysNormalize ? s.normalizePath(f.path) : f.path), s.buildURLFromParts(g);
        },
        parseURL: function (l) {
          var u = r.exec(l);
          return u ? { scheme: u[1] || '', netLoc: u[2] || '', path: u[3] || '', params: u[4] || '', query: u[5] || '', fragment: u[6] || '' } : null;
        },
        normalizePath: function (l) {
          for (l = l.split('').reverse().join('').replace(o, ''); l.length !== (l = l.replace(a, '')).length; );
          return l.split('').reverse().join('');
        },
        buildURLFromParts: function (l) {
          return l.scheme + l.netLoc + l.path + l.params + l.query + l.fragment;
        },
      };
    t.exports = s;
  })();
})(d_);
var Fp = d_.exports;
function Pv(t, e) {
  var n = Object.keys(t);
  if (Object.getOwnPropertySymbols) {
    var r = Object.getOwnPropertySymbols(t);
    e &&
      (r = r.filter(function (i) {
        return Object.getOwnPropertyDescriptor(t, i).enumerable;
      })),
      n.push.apply(n, r);
  }
  return n;
}
function cr(t) {
  for (var e = 1; e < arguments.length; e++) {
    var n = arguments[e] != null ? arguments[e] : {};
    e % 2
      ? Pv(Object(n), !0).forEach(function (r) {
          LL(t, r, n[r]);
        })
      : Object.getOwnPropertyDescriptors
      ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n))
      : Pv(Object(n)).forEach(function (r) {
          Object.defineProperty(t, r, Object.getOwnPropertyDescriptor(n, r));
        });
  }
  return t;
}
function LL(t, e, n) {
  return (e = DL(e)), e in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : (t[e] = n), t;
}
function Pn() {
  return (
    (Pn = Object.assign
      ? Object.assign.bind()
      : function (t) {
          for (var e = 1; e < arguments.length; e++) {
            var n = arguments[e];
            for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (t[r] = n[r]);
          }
          return t;
        }),
    Pn.apply(this, arguments)
  );
}
function IL(t, e) {
  if (typeof t != 'object' || t === null) return t;
  var n = t[Symbol.toPrimitive];
  if (n !== void 0) {
    var r = n.call(t, e || 'default');
    if (typeof r != 'object') return r;
    throw new TypeError('@@toPrimitive must return a primitive value.');
  }
  return (e === 'string' ? String : Number)(t);
}
function DL(t) {
  var e = IL(t, 'string');
  return typeof e == 'symbol' ? e : String(e);
}
const rt =
  Number.isFinite ||
  function (t) {
    return typeof t == 'number' && isFinite(t);
  };
let V = (function (t) {
    return (
      (t.MEDIA_ATTACHING = 'hlsMediaAttaching'),
      (t.MEDIA_ATTACHED = 'hlsMediaAttached'),
      (t.MEDIA_DETACHING = 'hlsMediaDetaching'),
      (t.MEDIA_DETACHED = 'hlsMediaDetached'),
      (t.BUFFER_RESET = 'hlsBufferReset'),
      (t.BUFFER_CODECS = 'hlsBufferCodecs'),
      (t.BUFFER_CREATED = 'hlsBufferCreated'),
      (t.BUFFER_APPENDING = 'hlsBufferAppending'),
      (t.BUFFER_APPENDED = 'hlsBufferAppended'),
      (t.BUFFER_EOS = 'hlsBufferEos'),
      (t.BUFFER_FLUSHING = 'hlsBufferFlushing'),
      (t.BUFFER_FLUSHED = 'hlsBufferFlushed'),
      (t.MANIFEST_LOADING = 'hlsManifestLoading'),
      (t.MANIFEST_LOADED = 'hlsManifestLoaded'),
      (t.MANIFEST_PARSED = 'hlsManifestParsed'),
      (t.LEVEL_SWITCHING = 'hlsLevelSwitching'),
      (t.LEVEL_SWITCHED = 'hlsLevelSwitched'),
      (t.LEVEL_LOADING = 'hlsLevelLoading'),
      (t.LEVEL_LOADED = 'hlsLevelLoaded'),
      (t.LEVEL_UPDATED = 'hlsLevelUpdated'),
      (t.LEVEL_PTS_UPDATED = 'hlsLevelPtsUpdated'),
      (t.LEVELS_UPDATED = 'hlsLevelsUpdated'),
      (t.AUDIO_TRACKS_UPDATED = 'hlsAudioTracksUpdated'),
      (t.AUDIO_TRACK_SWITCHING = 'hlsAudioTrackSwitching'),
      (t.AUDIO_TRACK_SWITCHED = 'hlsAudioTrackSwitched'),
      (t.AUDIO_TRACK_LOADING = 'hlsAudioTrackLoading'),
      (t.AUDIO_TRACK_LOADED = 'hlsAudioTrackLoaded'),
      (t.SUBTITLE_TRACKS_UPDATED = 'hlsSubtitleTracksUpdated'),
      (t.SUBTITLE_TRACKS_CLEARED = 'hlsSubtitleTracksCleared'),
      (t.SUBTITLE_TRACK_SWITCH = 'hlsSubtitleTrackSwitch'),
      (t.SUBTITLE_TRACK_LOADING = 'hlsSubtitleTrackLoading'),
      (t.SUBTITLE_TRACK_LOADED = 'hlsSubtitleTrackLoaded'),
      (t.SUBTITLE_FRAG_PROCESSED = 'hlsSubtitleFragProcessed'),
      (t.CUES_PARSED = 'hlsCuesParsed'),
      (t.NON_NATIVE_TEXT_TRACKS_FOUND = 'hlsNonNativeTextTracksFound'),
      (t.INIT_PTS_FOUND = 'hlsInitPtsFound'),
      (t.FRAG_LOADING = 'hlsFragLoading'),
      (t.FRAG_LOAD_EMERGENCY_ABORTED = 'hlsFragLoadEmergencyAborted'),
      (t.FRAG_LOADED = 'hlsFragLoaded'),
      (t.FRAG_DECRYPTED = 'hlsFragDecrypted'),
      (t.FRAG_PARSING_INIT_SEGMENT = 'hlsFragParsingInitSegment'),
      (t.FRAG_PARSING_USERDATA = 'hlsFragParsingUserdata'),
      (t.FRAG_PARSING_METADATA = 'hlsFragParsingMetadata'),
      (t.FRAG_PARSED = 'hlsFragParsed'),
      (t.FRAG_BUFFERED = 'hlsFragBuffered'),
      (t.FRAG_CHANGED = 'hlsFragChanged'),
      (t.FPS_DROP = 'hlsFpsDrop'),
      (t.FPS_DROP_LEVEL_CAPPING = 'hlsFpsDropLevelCapping'),
      (t.ERROR = 'hlsError'),
      (t.DESTROYING = 'hlsDestroying'),
      (t.KEY_LOADING = 'hlsKeyLoading'),
      (t.KEY_LOADED = 'hlsKeyLoaded'),
      (t.LIVE_BACK_BUFFER_REACHED = 'hlsLiveBackBufferReached'),
      (t.BACK_BUFFER_REACHED = 'hlsBackBufferReached'),
      t
    );
  })({}),
  at = (function (t) {
    return (t.NETWORK_ERROR = 'networkError'), (t.MEDIA_ERROR = 'mediaError'), (t.KEY_SYSTEM_ERROR = 'keySystemError'), (t.MUX_ERROR = 'muxError'), (t.OTHER_ERROR = 'otherError'), t;
  })({}),
  he = (function (t) {
    return (
      (t.KEY_SYSTEM_NO_KEYS = 'keySystemNoKeys'),
      (t.KEY_SYSTEM_NO_ACCESS = 'keySystemNoAccess'),
      (t.KEY_SYSTEM_NO_SESSION = 'keySystemNoSession'),
      (t.KEY_SYSTEM_NO_CONFIGURED_LICENSE = 'keySystemNoConfiguredLicense'),
      (t.KEY_SYSTEM_LICENSE_REQUEST_FAILED = 'keySystemLicenseRequestFailed'),
      (t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED = 'keySystemServerCertificateRequestFailed'),
      (t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED = 'keySystemServerCertificateUpdateFailed'),
      (t.KEY_SYSTEM_SESSION_UPDATE_FAILED = 'keySystemSessionUpdateFailed'),
      (t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED = 'keySystemStatusOutputRestricted'),
      (t.KEY_SYSTEM_STATUS_INTERNAL_ERROR = 'keySystemStatusInternalError'),
      (t.MANIFEST_LOAD_ERROR = 'manifestLoadError'),
      (t.MANIFEST_LOAD_TIMEOUT = 'manifestLoadTimeOut'),
      (t.MANIFEST_PARSING_ERROR = 'manifestParsingError'),
      (t.MANIFEST_INCOMPATIBLE_CODECS_ERROR = 'manifestIncompatibleCodecsError'),
      (t.LEVEL_EMPTY_ERROR = 'levelEmptyError'),
      (t.LEVEL_LOAD_ERROR = 'levelLoadError'),
      (t.LEVEL_LOAD_TIMEOUT = 'levelLoadTimeOut'),
      (t.LEVEL_PARSING_ERROR = 'levelParsingError'),
      (t.LEVEL_SWITCH_ERROR = 'levelSwitchError'),
      (t.AUDIO_TRACK_LOAD_ERROR = 'audioTrackLoadError'),
      (t.AUDIO_TRACK_LOAD_TIMEOUT = 'audioTrackLoadTimeOut'),
      (t.SUBTITLE_LOAD_ERROR = 'subtitleTrackLoadError'),
      (t.SUBTITLE_TRACK_LOAD_TIMEOUT = 'subtitleTrackLoadTimeOut'),
      (t.FRAG_LOAD_ERROR = 'fragLoadError'),
      (t.FRAG_LOAD_TIMEOUT = 'fragLoadTimeOut'),
      (t.FRAG_DECRYPT_ERROR = 'fragDecryptError'),
      (t.FRAG_PARSING_ERROR = 'fragParsingError'),
      (t.FRAG_GAP = 'fragGap'),
      (t.REMUX_ALLOC_ERROR = 'remuxAllocError'),
      (t.KEY_LOAD_ERROR = 'keyLoadError'),
      (t.KEY_LOAD_TIMEOUT = 'keyLoadTimeOut'),
      (t.BUFFER_ADD_CODEC_ERROR = 'bufferAddCodecError'),
      (t.BUFFER_INCOMPATIBLE_CODECS_ERROR = 'bufferIncompatibleCodecsError'),
      (t.BUFFER_APPEND_ERROR = 'bufferAppendError'),
      (t.BUFFER_APPENDING_ERROR = 'bufferAppendingError'),
      (t.BUFFER_STALLED_ERROR = 'bufferStalledError'),
      (t.BUFFER_FULL_ERROR = 'bufferFullError'),
      (t.BUFFER_SEEK_OVER_HOLE = 'bufferSeekOverHole'),
      (t.BUFFER_NUDGE_ON_STALL = 'bufferNudgeOnStall'),
      (t.INTERNAL_EXCEPTION = 'internalException'),
      (t.INTERNAL_ABORTED = 'aborted'),
      (t.UNKNOWN = 'unknown'),
      t
    );
  })({});
const To = function () {},
  W0 = { trace: To, debug: To, log: To, warn: To, info: To, error: To };
let Xs = W0;
function PL(t) {
  const e = self.console[t];
  return e ? e.bind(self.console, `[${t}] >`) : To;
}
function OL(t, ...e) {
  e.forEach(function (n) {
    Xs[n] = t[n] ? t[n].bind(t) : PL(n);
  });
}
function kL(t, e) {
  if ((self.console && t === !0) || typeof t == 'object') {
    OL(t, 'debug', 'log', 'info', 'warn', 'error');
    try {
      Xs.log(`Debug logs enabled for "${e}" in hls.js version 1.4.8`);
    } catch {
      Xs = W0;
    }
  } else Xs = W0;
}
const le = Xs,
  ML = /^(\d+)x(\d+)$/,
  Ov = /(.+?)=(".*?"|.*?)(?:,|$)/g;
class cn {
  constructor(e) {
    typeof e == 'string' && (e = cn.parseAttrList(e));
    for (const n in e) e.hasOwnProperty(n) && (n.substring(0, 2) === 'X-' && ((this.clientAttrs = this.clientAttrs || []), this.clientAttrs.push(n)), (this[n] = e[n]));
  }
  decimalInteger(e) {
    const n = parseInt(this[e], 10);
    return n > Number.MAX_SAFE_INTEGER ? 1 / 0 : n;
  }
  hexadecimalInteger(e) {
    if (this[e]) {
      let n = (this[e] || '0x').slice(2);
      n = (n.length & 1 ? '0' : '') + n;
      const r = new Uint8Array(n.length / 2);
      for (let i = 0; i < n.length / 2; i++) r[i] = parseInt(n.slice(i * 2, i * 2 + 2), 16);
      return r;
    } else return null;
  }
  hexadecimalIntegerAsNumber(e) {
    const n = parseInt(this[e], 16);
    return n > Number.MAX_SAFE_INTEGER ? 1 / 0 : n;
  }
  decimalFloatingPoint(e) {
    return parseFloat(this[e]);
  }
  optionalFloat(e, n) {
    const r = this[e];
    return r ? parseFloat(r) : n;
  }
  enumeratedString(e) {
    return this[e];
  }
  bool(e) {
    return this[e] === 'YES';
  }
  decimalResolution(e) {
    const n = ML.exec(this[e]);
    if (n !== null) return { width: parseInt(n[1], 10), height: parseInt(n[2], 10) };
  }
  static parseAttrList(e) {
    let n;
    const r = {},
      i = '"';
    for (Ov.lastIndex = 0; (n = Ov.exec(e)) !== null; ) {
      let o = n[2];
      o.indexOf(i) === 0 && o.lastIndexOf(i) === o.length - 1 && (o = o.slice(1, -1));
      const a = n[1].trim();
      r[a] = o;
    }
    return r;
  }
}
function FL(t) {
  return t !== 'ID' && t !== 'CLASS' && t !== 'START-DATE' && t !== 'DURATION' && t !== 'END-DATE' && t !== 'END-ON-NEXT';
}
function NL(t) {
  return t === 'SCTE35-OUT' || t === 'SCTE35-IN';
}
class f_ {
  constructor(e, n) {
    if (((this.attr = void 0), (this._startDate = void 0), (this._endDate = void 0), (this._badValueForSameId = void 0), n)) {
      const r = n.attr;
      for (const i in r)
        if (Object.prototype.hasOwnProperty.call(e, i) && e[i] !== r[i]) {
          le.warn(`DATERANGE tag attribute: "${i}" does not match for tags with ID: "${e.ID}"`), (this._badValueForSameId = i);
          break;
        }
      e = Pn(new cn({}), r, e);
    }
    if (((this.attr = e), (this._startDate = new Date(e['START-DATE'])), 'END-DATE' in this.attr)) {
      const r = new Date(this.attr['END-DATE']);
      rt(r.getTime()) && (this._endDate = r);
    }
  }
  get id() {
    return this.attr.ID;
  }
  get class() {
    return this.attr.CLASS;
  }
  get startDate() {
    return this._startDate;
  }
  get endDate() {
    if (this._endDate) return this._endDate;
    const e = this.duration;
    return e !== null ? new Date(this._startDate.getTime() + e * 1e3) : null;
  }
  get duration() {
    if ('DURATION' in this.attr) {
      const e = this.attr.decimalFloatingPoint('DURATION');
      if (rt(e)) return e;
    } else if (this._endDate) return (this._endDate.getTime() - this._startDate.getTime()) / 1e3;
    return null;
  }
  get plannedDuration() {
    return 'PLANNED-DURATION' in this.attr ? this.attr.decimalFloatingPoint('PLANNED-DURATION') : null;
  }
  get endOnNext() {
    return this.attr.bool('END-ON-NEXT');
  }
  get isValid() {
    return !!this.id && !this._badValueForSameId && rt(this.startDate.getTime()) && (this.duration === null || this.duration >= 0) && (!this.endOnNext || !!this.class);
  }
}
class Id {
  constructor() {
    (this.aborted = !1),
      (this.loaded = 0),
      (this.retry = 0),
      (this.total = 0),
      (this.chunkCount = 0),
      (this.bwEstimate = 0),
      (this.loading = { start: 0, first: 0, end: 0 }),
      (this.parsing = { start: 0, end: 0 }),
      (this.buffering = { start: 0, first: 0, end: 0 });
  }
}
var qt = { AUDIO: 'audio', VIDEO: 'video', AUDIOVIDEO: 'audiovideo' };
class h_ {
  constructor(e) {
    (this._byteRange = null),
      (this._url = null),
      (this.baseurl = void 0),
      (this.relurl = void 0),
      (this.elementaryStreams = { [qt.AUDIO]: null, [qt.VIDEO]: null, [qt.AUDIOVIDEO]: null }),
      (this.baseurl = e);
  }
  setByteRange(e, n) {
    const r = e.split('@', 2),
      i = [];
    r.length === 1 ? (i[0] = n ? n.byteRangeEndOffset : 0) : (i[0] = parseInt(r[1])), (i[1] = parseInt(r[0]) + i[0]), (this._byteRange = i);
  }
  get byteRange() {
    return this._byteRange ? this._byteRange : [];
  }
  get byteRangeStartOffset() {
    return this.byteRange[0];
  }
  get byteRangeEndOffset() {
    return this.byteRange[1];
  }
  get url() {
    return !this._url && this.baseurl && this.relurl && (this._url = Fp.buildAbsoluteURL(this.baseurl, this.relurl, { alwaysNormalize: !0 })), this._url || '';
  }
  set url(e) {
    this._url = e;
  }
}
class Ff extends h_ {
  constructor(e, n) {
    super(n),
      (this._decryptdata = null),
      (this.rawProgramDateTime = null),
      (this.programDateTime = null),
      (this.tagList = []),
      (this.duration = 0),
      (this.sn = 0),
      (this.levelkeys = void 0),
      (this.type = void 0),
      (this.loader = null),
      (this.keyLoader = null),
      (this.level = -1),
      (this.cc = 0),
      (this.startPTS = void 0),
      (this.endPTS = void 0),
      (this.startDTS = void 0),
      (this.endDTS = void 0),
      (this.start = 0),
      (this.deltaPTS = void 0),
      (this.maxStartPTS = void 0),
      (this.minEndPTS = void 0),
      (this.stats = new Id()),
      (this.urlId = 0),
      (this.data = void 0),
      (this.bitrateTest = !1),
      (this.title = null),
      (this.initSegment = null),
      (this.endList = void 0),
      (this.gap = void 0),
      (this.type = e);
  }
  get decryptdata() {
    const { levelkeys: e } = this;
    if (!e && !this._decryptdata) return null;
    if (!this._decryptdata && this.levelkeys && !this.levelkeys.NONE) {
      const n = this.levelkeys.identity;
      if (n) this._decryptdata = n.getDecryptData(this.sn);
      else {
        const r = Object.keys(this.levelkeys);
        if (r.length === 1) return (this._decryptdata = this.levelkeys[r[0]].getDecryptData(this.sn));
      }
    }
    return this._decryptdata;
  }
  get end() {
    return this.start + this.duration;
  }
  get endProgramDateTime() {
    if (this.programDateTime === null || !rt(this.programDateTime)) return null;
    const e = rt(this.duration) ? this.duration : 0;
    return this.programDateTime + e * 1e3;
  }
  get encrypted() {
    var e;
    if ((e = this._decryptdata) != null && e.encrypted) return !0;
    if (this.levelkeys) {
      const n = Object.keys(this.levelkeys),
        r = n.length;
      if (r > 1 || (r === 1 && this.levelkeys[n[0]].encrypted)) return !0;
    }
    return !1;
  }
  setKeyFormat(e) {
    if (this.levelkeys) {
      const n = this.levelkeys[e];
      n && !this._decryptdata && (this._decryptdata = n.getDecryptData(this.sn));
    }
  }
  abortRequests() {
    var e, n;
    (e = this.loader) == null || e.abort(), (n = this.keyLoader) == null || n.abort();
  }
  setElementaryStreamInfo(e, n, r, i, o, a = !1) {
    const { elementaryStreams: s } = this,
      l = s[e];
    if (!l) {
      s[e] = { startPTS: n, endPTS: r, startDTS: i, endDTS: o, partial: a };
      return;
    }
    (l.startPTS = Math.min(l.startPTS, n)), (l.endPTS = Math.max(l.endPTS, r)), (l.startDTS = Math.min(l.startDTS, i)), (l.endDTS = Math.max(l.endDTS, o));
  }
  clearElementaryStreamInfo() {
    const { elementaryStreams: e } = this;
    (e[qt.AUDIO] = null), (e[qt.VIDEO] = null), (e[qt.AUDIOVIDEO] = null);
  }
}
class $L extends h_ {
  constructor(e, n, r, i, o) {
    super(r),
      (this.fragOffset = 0),
      (this.duration = 0),
      (this.gap = !1),
      (this.independent = !1),
      (this.relurl = void 0),
      (this.fragment = void 0),
      (this.index = void 0),
      (this.stats = new Id()),
      (this.duration = e.decimalFloatingPoint('DURATION')),
      (this.gap = e.bool('GAP')),
      (this.independent = e.bool('INDEPENDENT')),
      (this.relurl = e.enumeratedString('URI')),
      (this.fragment = n),
      (this.index = i);
    const a = e.enumeratedString('BYTERANGE');
    a && this.setByteRange(a, o), o && (this.fragOffset = o.fragOffset + o.duration);
  }
  get start() {
    return this.fragment.start + this.fragOffset;
  }
  get end() {
    return this.start + this.duration;
  }
  get loaded() {
    const { elementaryStreams: e } = this;
    return !!(e.audio || e.video || e.audiovideo);
  }
}
const BL = 10;
class UL {
  constructor(e) {
    (this.PTSKnown = !1),
      (this.alignedSliding = !1),
      (this.averagetargetduration = void 0),
      (this.endCC = 0),
      (this.endSN = 0),
      (this.fragments = void 0),
      (this.fragmentHint = void 0),
      (this.partList = null),
      (this.dateRanges = void 0),
      (this.live = !0),
      (this.ageHeader = 0),
      (this.advancedDateTime = void 0),
      (this.updated = !0),
      (this.advanced = !0),
      (this.availabilityDelay = void 0),
      (this.misses = 0),
      (this.startCC = 0),
      (this.startSN = 0),
      (this.startTimeOffset = null),
      (this.targetduration = 0),
      (this.totalduration = 0),
      (this.type = null),
      (this.url = void 0),
      (this.m3u8 = ''),
      (this.version = null),
      (this.canBlockReload = !1),
      (this.canSkipUntil = 0),
      (this.canSkipDateRanges = !1),
      (this.skippedSegments = 0),
      (this.recentlyRemovedDateranges = void 0),
      (this.partHoldBack = 0),
      (this.holdBack = 0),
      (this.partTarget = 0),
      (this.preloadHint = void 0),
      (this.renditionReports = void 0),
      (this.tuneInGoal = 0),
      (this.deltaUpdateFailed = void 0),
      (this.driftStartTime = 0),
      (this.driftEndTime = 0),
      (this.driftStart = 0),
      (this.driftEnd = 0),
      (this.encryptedFragments = void 0),
      (this.playlistParsingError = null),
      (this.variableList = null),
      (this.hasVariableRefs = !1),
      (this.fragments = []),
      (this.encryptedFragments = []),
      (this.dateRanges = {}),
      (this.url = e);
  }
  reloaded(e) {
    if (!e) {
      (this.advanced = !0), (this.updated = !0);
      return;
    }
    const n = this.lastPartSn - e.lastPartSn,
      r = this.lastPartIndex - e.lastPartIndex;
    (this.updated = this.endSN !== e.endSN || !!r || !!n),
      (this.advanced = this.endSN > e.endSN || n > 0 || (n === 0 && r > 0)),
      this.updated || this.advanced ? (this.misses = Math.floor(e.misses * 0.6)) : (this.misses = e.misses + 1),
      (this.availabilityDelay = e.availabilityDelay);
  }
  get hasProgramDateTime() {
    return this.fragments.length ? rt(this.fragments[this.fragments.length - 1].programDateTime) : !1;
  }
  get levelTargetDuration() {
    return this.averagetargetduration || this.targetduration || BL;
  }
  get drift() {
    const e = this.driftEndTime - this.driftStartTime;
    return e > 0 ? ((this.driftEnd - this.driftStart) * 1e3) / e : 1;
  }
  get edge() {
    return this.partEnd || this.fragmentEnd;
  }
  get partEnd() {
    var e;
    return (e = this.partList) != null && e.length ? this.partList[this.partList.length - 1].end : this.fragmentEnd;
  }
  get fragmentEnd() {
    var e;
    return (e = this.fragments) != null && e.length ? this.fragments[this.fragments.length - 1].end : 0;
  }
  get age() {
    return this.advancedDateTime ? Math.max(Date.now() - this.advancedDateTime, 0) / 1e3 : 0;
  }
  get lastPartIndex() {
    var e;
    return (e = this.partList) != null && e.length ? this.partList[this.partList.length - 1].index : -1;
  }
  get lastPartSn() {
    var e;
    return (e = this.partList) != null && e.length ? this.partList[this.partList.length - 1].fragment.sn : this.endSN;
  }
}
function Np(t) {
  return Uint8Array.from(atob(t), (e) => e.charCodeAt(0));
}
function zL(t) {
  const e = m_(t).subarray(0, 16),
    n = new Uint8Array(16);
  return n.set(e, 16 - e.length), n;
}
function VL(t) {
  const e = function (r, i, o) {
    const a = r[i];
    (r[i] = r[o]), (r[o] = a);
  };
  e(t, 0, 3), e(t, 1, 2), e(t, 4, 5), e(t, 6, 7);
}
function HL(t) {
  const e = t.split(':');
  let n = null;
  if (e[0] === 'data' && e.length === 2) {
    const r = e[1].split(';'),
      i = r[r.length - 1].split(',');
    if (i.length === 2) {
      const o = i[0] === 'base64',
        a = i[1];
      o ? (r.splice(-1, 1), (n = Np(a))) : (n = zL(a));
    }
  }
  return n;
}
function m_(t) {
  return Uint8Array.from(unescape(encodeURIComponent(t)), (e) => e.charCodeAt(0));
}
var fn = { CLEARKEY: 'org.w3.clearkey', FAIRPLAY: 'com.apple.fps', PLAYREADY: 'com.microsoft.playready', WIDEVINE: 'com.widevine.alpha' },
  ir = { CLEARKEY: 'org.w3.clearkey', FAIRPLAY: 'com.apple.streamingkeydelivery', PLAYREADY: 'com.microsoft.playready', WIDEVINE: 'urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed' };
function kv(t) {
  switch (t) {
    case ir.FAIRPLAY:
      return fn.FAIRPLAY;
    case ir.PLAYREADY:
      return fn.PLAYREADY;
    case ir.WIDEVINE:
      return fn.WIDEVINE;
    case ir.CLEARKEY:
      return fn.CLEARKEY;
  }
}
var p_ = { WIDEVINE: 'edef8ba979d64acea3c827dcd51d21ed' };
function jL(t) {
  if (t === p_.WIDEVINE) return fn.WIDEVINE;
}
function Mv(t) {
  switch (t) {
    case fn.FAIRPLAY:
      return ir.FAIRPLAY;
    case fn.PLAYREADY:
      return ir.PLAYREADY;
    case fn.WIDEVINE:
      return ir.WIDEVINE;
    case fn.CLEARKEY:
      return ir.CLEARKEY;
  }
}
function Nf(t) {
  const { drmSystems: e, widevineLicenseUrl: n } = t,
    r = e ? [fn.FAIRPLAY, fn.WIDEVINE, fn.PLAYREADY, fn.CLEARKEY].filter((i) => !!e[i]) : [];
  return !r[fn.WIDEVINE] && n && r.push(fn.WIDEVINE), r;
}
const g_ = (function () {
  return typeof self < 'u' && self.navigator && self.navigator.requestMediaKeySystemAccess ? self.navigator.requestMediaKeySystemAccess.bind(self.navigator) : null;
})();
function GL(t, e, n, r) {
  let i;
  switch (t) {
    case fn.FAIRPLAY:
      i = ['cenc', 'sinf'];
      break;
    case fn.WIDEVINE:
    case fn.PLAYREADY:
      i = ['cenc'];
      break;
    case fn.CLEARKEY:
      i = ['cenc', 'keyids'];
      break;
    default:
      throw new Error(`Unknown key-system: ${t}`);
  }
  return WL(i, e, n, r);
}
function WL(t, e, n, r) {
  return [
    {
      initDataTypes: t,
      persistentState: r.persistentState || 'not-allowed',
      distinctiveIdentifier: r.distinctiveIdentifier || 'not-allowed',
      sessionTypes: r.sessionTypes || [r.sessionType || 'temporary'],
      audioCapabilities: e.map((o) => ({ contentType: `audio/mp4; codecs="${o}"`, robustness: r.audioRobustness || '', encryptionScheme: r.audioEncryptionScheme || null })),
      videoCapabilities: n.map((o) => ({ contentType: `video/mp4; codecs="${o}"`, robustness: r.videoRobustness || '', encryptionScheme: r.videoEncryptionScheme || null })),
    },
  ];
}
function Mo(t, e, n) {
  return Uint8Array.prototype.slice ? t.slice(e, n) : new Uint8Array(Array.prototype.slice.call(t, e, n));
}
const $p = (t, e) =>
    e + 10 <= t.length && t[e] === 73 && t[e + 1] === 68 && t[e + 2] === 51 && t[e + 3] < 255 && t[e + 4] < 255 && t[e + 6] < 128 && t[e + 7] < 128 && t[e + 8] < 128 && t[e + 9] < 128,
  v_ = (t, e) => e + 10 <= t.length && t[e] === 51 && t[e + 1] === 68 && t[e + 2] === 73 && t[e + 3] < 255 && t[e + 4] < 255 && t[e + 6] < 128 && t[e + 7] < 128 && t[e + 8] < 128 && t[e + 9] < 128,
  $c = (t, e) => {
    const n = e;
    let r = 0;
    for (; $p(t, e); ) {
      r += 10;
      const i = Dd(t, e + 6);
      (r += i), v_(t, e + 10) && (r += 10), (e += r);
    }
    if (r > 0) return t.subarray(n, n + r);
  },
  Dd = (t, e) => {
    let n = 0;
    return (n = (t[e] & 127) << 21), (n |= (t[e + 1] & 127) << 14), (n |= (t[e + 2] & 127) << 7), (n |= t[e + 3] & 127), n;
  },
  KL = (t, e) => $p(t, e) && Dd(t, e + 6) + 10 <= t.length - e,
  qL = (t) => {
    const e = __(t);
    for (let n = 0; n < e.length; n++) {
      const r = e[n];
      if (y_(r)) return eI(r);
    }
  },
  y_ = (t) => t && t.key === 'PRIV' && t.info === 'com.apple.streaming.transportStreamTimestamp',
  YL = (t) => {
    const e = String.fromCharCode(t[0], t[1], t[2], t[3]),
      n = Dd(t, 4),
      r = 10;
    return { type: e, size: n, data: t.subarray(r, r + n) };
  },
  __ = (t) => {
    let e = 0;
    const n = [];
    for (; $p(t, e); ) {
      const r = Dd(t, e + 6);
      e += 10;
      const i = e + r;
      for (; e + 8 < i; ) {
        const o = YL(t.subarray(e)),
          a = XL(o);
        a && n.push(a), (e += o.size + 10);
      }
      v_(t, e) && (e += 10);
    }
    return n;
  },
  XL = (t) => (t.type === 'PRIV' ? QL(t) : t.type[0] === 'W' ? JL(t) : ZL(t)),
  QL = (t) => {
    if (t.size < 2) return;
    const e = hi(t.data, !0),
      n = new Uint8Array(t.data.subarray(e.length + 1));
    return { key: t.type, info: e, data: n.buffer };
  },
  ZL = (t) => {
    if (t.size < 2) return;
    if (t.type === 'TXXX') {
      let n = 1;
      const r = hi(t.data.subarray(n), !0);
      n += r.length + 1;
      const i = hi(t.data.subarray(n));
      return { key: t.type, info: r, data: i };
    }
    const e = hi(t.data.subarray(1));
    return { key: t.type, data: e };
  },
  JL = (t) => {
    if (t.type === 'WXXX') {
      if (t.size < 2) return;
      let n = 1;
      const r = hi(t.data.subarray(n), !0);
      n += r.length + 1;
      const i = hi(t.data.subarray(n));
      return { key: t.type, info: r, data: i };
    }
    const e = hi(t.data);
    return { key: t.type, data: e };
  },
  eI = (t) => {
    if (t.data.byteLength === 8) {
      const e = new Uint8Array(t.data),
        n = e[3] & 1;
      let r = (e[4] << 23) + (e[5] << 15) + (e[6] << 7) + e[7];
      return (r /= 45), n && (r += 4772185884e-2), Math.round(r);
    }
  },
  hi = (t, e = !1) => {
    const n = tI();
    if (n) {
      const u = n.decode(t);
      if (e) {
        const c = u.indexOf('\0');
        return c !== -1 ? u.substring(0, c) : u;
      }
      return u.replace(/\0/g, '');
    }
    const r = t.length;
    let i,
      o,
      a,
      s = '',
      l = 0;
    for (; l < r; ) {
      if (((i = t[l++]), i === 0 && e)) return s;
      if (i === 0 || i === 3) continue;
      switch (i >> 4) {
        case 0:
        case 1:
        case 2:
        case 3:
        case 4:
        case 5:
        case 6:
        case 7:
          s += String.fromCharCode(i);
          break;
        case 12:
        case 13:
          (o = t[l++]), (s += String.fromCharCode(((i & 31) << 6) | (o & 63)));
          break;
        case 14:
          (o = t[l++]), (a = t[l++]), (s += String.fromCharCode(((i & 15) << 12) | ((o & 63) << 6) | ((a & 63) << 0)));
          break;
      }
    }
    return s;
  };
let $f;
function tI() {
  return !$f && typeof self.TextDecoder < 'u' && ($f = new self.TextDecoder('utf-8')), $f;
}
const ai = {
    hexDump: function (t) {
      let e = '';
      for (let n = 0; n < t.length; n++) {
        let r = t[n].toString(16);
        r.length < 2 && (r = '0' + r), (e += r);
      }
      return e;
    },
  },
  Bc = Math.pow(2, 32) - 1,
  nI = [].push,
  S_ = { video: 1, audio: 2, id3: 3, text: 4 };
function zn(t) {
  return String.fromCharCode.apply(null, t);
}
function E_(t, e) {
  const n = (t[e] << 8) | t[e + 1];
  return n < 0 ? 65536 + n : n;
}
function dt(t, e) {
  const n = b_(t, e);
  return n < 0 ? 4294967296 + n : n;
}
function b_(t, e) {
  return (t[e] << 24) | (t[e + 1] << 16) | (t[e + 2] << 8) | t[e + 3];
}
function Bf(t, e, n) {
  (t[e] = n >> 24), (t[e + 1] = (n >> 16) & 255), (t[e + 2] = (n >> 8) & 255), (t[e + 3] = n & 255);
}
function Dt(t, e) {
  const n = [];
  if (!e.length) return n;
  const r = t.byteLength;
  for (let i = 0; i < r; ) {
    const o = dt(t, i),
      a = zn(t.subarray(i + 4, i + 8)),
      s = o > 1 ? i + o : r;
    if (a === e[0])
      if (e.length === 1) n.push(t.subarray(i + 8, s));
      else {
        const l = Dt(t.subarray(i + 8, s), e.slice(1));
        l.length && nI.apply(n, l);
      }
    i = s;
  }
  return n;
}
function rI(t) {
  const e = [],
    n = t[0];
  let r = 8;
  const i = dt(t, r);
  r += 4;
  const o = 0,
    a = 0;
  n === 0 ? (r += 8) : (r += 16), (r += 2);
  let s = t.length + a;
  const l = E_(t, r);
  r += 2;
  for (let u = 0; u < l; u++) {
    let c = r;
    const d = dt(t, c);
    c += 4;
    const f = d & 2147483647;
    if ((d & 2147483648) >>> 31 === 1) return le.warn('SIDX has hierarchical references (not supported)'), null;
    const m = dt(t, c);
    (c += 4), e.push({ referenceSize: f, subsegmentDuration: m, info: { duration: m / i, start: s, end: s + f - 1 } }), (s += f), (c += 4), (r = c);
  }
  return { earliestPresentationTime: o, timescale: i, version: n, referencesCount: l, references: e };
}
function x_(t) {
  const e = [],
    n = Dt(t, ['moov', 'trak']);
  for (let i = 0; i < n.length; i++) {
    const o = n[i],
      a = Dt(o, ['tkhd'])[0];
    if (a) {
      let s = a[0],
        l = s === 0 ? 12 : 20;
      const u = dt(a, l),
        c = Dt(o, ['mdia', 'mdhd'])[0];
      if (c) {
        (s = c[0]), (l = s === 0 ? 12 : 20);
        const d = dt(c, l),
          f = Dt(o, ['mdia', 'hdlr'])[0];
        if (f) {
          const h = zn(f.subarray(8, 12)),
            m = { soun: qt.AUDIO, vide: qt.VIDEO }[h];
          if (m) {
            const g = Dt(o, ['mdia', 'minf', 'stbl', 'stsd'])[0];
            let b;
            g && (b = zn(g.subarray(12, 16))), (e[u] = { timescale: d, type: m }), (e[m] = { timescale: d, id: u, codec: b });
          }
        }
      }
    }
  }
  return (
    Dt(t, ['moov', 'mvex', 'trex']).forEach((i) => {
      const o = dt(i, 4),
        a = e[o];
      a && (a.default = { duration: dt(i, 12), flags: dt(i, 20) });
    }),
    e
  );
}
function iI(t, e) {
  if (!t || !e) return t;
  const n = e.keyId;
  return (
    n &&
      e.isCommonEncryption &&
      Dt(t, ['moov', 'trak']).forEach((i) => {
        const a = Dt(i, ['mdia', 'minf', 'stbl', 'stsd'])[0].subarray(8);
        let s = Dt(a, ['enca']);
        const l = s.length > 0;
        l || (s = Dt(a, ['encv'])),
          s.forEach((u) => {
            const c = l ? u.subarray(28) : u.subarray(78);
            Dt(c, ['sinf']).forEach((f) => {
              const h = T_(f);
              if (h) {
                const m = h.subarray(8, 24);
                m.some((g) => g !== 0) || (le.log(`[eme] Patching keyId in 'enc${l ? 'a' : 'v'}>sinf>>tenc' box: ${ai.hexDump(m)} -> ${ai.hexDump(n)}`), h.set(n, 8));
              }
            });
          });
      }),
    t
  );
}
function T_(t) {
  const e = Dt(t, ['schm'])[0];
  if (e) {
    const n = zn(e.subarray(4, 8));
    if (n === 'cbcs' || n === 'cenc') return Dt(t, ['schi', 'tenc'])[0];
  }
  return le.error("[eme] missing 'schm' box"), null;
}
function oI(t, e) {
  return Dt(e, ['moof', 'traf']).reduce((n, r) => {
    const i = Dt(r, ['tfdt'])[0],
      o = i[0],
      a = Dt(r, ['tfhd']).reduce((s, l) => {
        const u = dt(l, 4),
          c = t[u];
        if (c) {
          let d = dt(i, 4);
          if (o === 1) {
            if (d === Bc) return le.warn('[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time'), s;
            (d *= Bc + 1), (d += dt(i, 8));
          }
          const f = c.timescale || 9e4,
            h = d / f;
          if (isFinite(h) && (s === null || h < s)) return h;
        }
        return s;
      }, null);
    return a !== null && isFinite(a) && (n === null || a < n) ? a : n;
  }, null);
}
function aI(t, e) {
  let n = 0,
    r = 0,
    i = 0;
  const o = Dt(t, ['moof', 'traf']);
  for (let a = 0; a < o.length; a++) {
    const s = o[a],
      l = Dt(s, ['tfhd'])[0],
      u = dt(l, 4),
      c = e[u];
    if (!c) continue;
    const d = c.default,
      f = dt(l, 0) | (d == null ? void 0 : d.flags);
    let h = d == null ? void 0 : d.duration;
    f & 8 && (f & 2 ? (h = dt(l, 12)) : (h = dt(l, 8)));
    const m = c.timescale || 9e4,
      g = Dt(s, ['trun']);
    for (let b = 0; b < g.length; b++) {
      if (((n = sI(g[b])), !n && h)) {
        const _ = dt(g[b], 4);
        n = h * _;
      }
      c.type === qt.VIDEO ? (r += n / m) : c.type === qt.AUDIO && (i += n / m);
    }
  }
  if (r === 0 && i === 0) {
    let a = 0;
    const s = Dt(t, ['sidx']);
    for (let l = 0; l < s.length; l++) {
      const u = rI(s[l]);
      u != null && u.references && (a += u.references.reduce((c, d) => c + d.info.duration || 0, 0));
    }
    return a;
  }
  return r || i;
}
function sI(t) {
  const e = dt(t, 0);
  let n = 8;
  e & 1 && (n += 4), e & 4 && (n += 4);
  let r = 0;
  const i = dt(t, 4);
  for (let o = 0; o < i; o++) {
    if (e & 256) {
      const a = dt(t, n);
      (r += a), (n += 4);
    }
    e & 512 && (n += 4), e & 1024 && (n += 4), e & 2048 && (n += 4);
  }
  return r;
}
function lI(t, e, n) {
  Dt(e, ['moof', 'traf']).forEach((r) => {
    Dt(r, ['tfhd']).forEach((i) => {
      const o = dt(i, 4),
        a = t[o];
      if (!a) return;
      const s = a.timescale || 9e4;
      Dt(r, ['tfdt']).forEach((l) => {
        const u = l[0];
        let c = dt(l, 4);
        if (u === 0) (c -= n * s), (c = Math.max(c, 0)), Bf(l, 4, c);
        else {
          (c *= Math.pow(2, 32)), (c += dt(l, 8)), (c -= n * s), (c = Math.max(c, 0));
          const d = Math.floor(c / (Bc + 1)),
            f = Math.floor(c % (Bc + 1));
          Bf(l, 4, d), Bf(l, 8, f);
        }
      });
    });
  });
}
function uI(t) {
  const e = { valid: null, remainder: null },
    n = Dt(t, ['moof']);
  if (n) {
    if (n.length < 2) return (e.remainder = t), e;
  } else return e;
  const r = n[n.length - 1];
  return (e.valid = Mo(t, 0, r.byteOffset - 8)), (e.remainder = Mo(t, r.byteOffset - 8)), e;
}
function Vo(t, e) {
  const n = new Uint8Array(t.length + e.length);
  return n.set(t), n.set(e, t.length), n;
}
function Fv(t, e) {
  const n = [],
    r = e.samples,
    i = e.timescale,
    o = e.id;
  let a = !1;
  return (
    Dt(r, ['moof']).map((l) => {
      const u = l.byteOffset - 8;
      Dt(l, ['traf']).map((d) => {
        const f = Dt(d, ['tfdt']).map((h) => {
          const m = h[0];
          let g = dt(h, 4);
          return m === 1 && ((g *= Math.pow(2, 32)), (g += dt(h, 8))), g / i;
        })[0];
        return (
          f !== void 0 && (t = f),
          Dt(d, ['tfhd']).map((h) => {
            const m = dt(h, 4),
              g = dt(h, 0) & 16777215,
              b = (g & 1) !== 0,
              _ = (g & 2) !== 0,
              y = (g & 8) !== 0;
            let T = 0;
            const w = (g & 16) !== 0;
            let I = 0;
            const O = (g & 32) !== 0;
            let x = 8;
            m === o &&
              (b && (x += 8),
              _ && (x += 4),
              y && ((T = dt(h, x)), (x += 4)),
              w && ((I = dt(h, x)), (x += 4)),
              O && (x += 4),
              e.type === 'video' && (a = cI(e.codec)),
              Dt(d, ['trun']).map((L) => {
                const D = L[0],
                  C = dt(L, 0) & 16777215,
                  G = (C & 1) !== 0;
                let M = 0;
                const B = (C & 4) !== 0,
                  z = (C & 256) !== 0;
                let H = 0;
                const q = (C & 512) !== 0;
                let F = 0;
                const A = (C & 1024) !== 0,
                  k = (C & 2048) !== 0;
                let U = 0;
                const X = dt(L, 4);
                let Q = 8;
                G && ((M = dt(L, Q)), (Q += 4)), B && (Q += 4);
                let W = M + u;
                for (let Y = 0; Y < X; Y++) {
                  if (
                    (z ? ((H = dt(L, Q)), (Q += 4)) : (H = T), q ? ((F = dt(L, Q)), (Q += 4)) : (F = I), A && (Q += 4), k && (D === 0 ? (U = dt(L, Q)) : (U = b_(L, Q)), (Q += 4)), e.type === qt.VIDEO)
                  ) {
                    let ne = 0;
                    for (; ne < F; ) {
                      const te = dt(r, W);
                      if (((W += 4), dI(a, r[W]))) {
                        const K = r.subarray(W, W + te);
                        w_(K, a ? 2 : 1, t + U / i, n);
                      }
                      (W += te), (ne += te + 4);
                    }
                  }
                  t += H / i;
                }
              }));
          })
        );
      });
    }),
    n
  );
}
function cI(t) {
  if (!t) return !1;
  const e = t.indexOf('.'),
    n = e < 0 ? t : t.substring(0, e);
  return n === 'hvc1' || n === 'hev1' || n === 'dvh1' || n === 'dvhe';
}
function dI(t, e) {
  if (t) {
    const n = (e >> 1) & 63;
    return n === 39 || n === 40;
  } else return (e & 31) === 6;
}
function w_(t, e, n, r) {
  const i = C_(t);
  let o = 0;
  o += e;
  let a = 0,
    s = 0,
    l = !1,
    u = 0;
  for (; o < i.length; ) {
    a = 0;
    do {
      if (o >= i.length) break;
      (u = i[o++]), (a += u);
    } while (u === 255);
    s = 0;
    do {
      if (o >= i.length) break;
      (u = i[o++]), (s += u);
    } while (u === 255);
    const c = i.length - o;
    if (!l && a === 4 && o < i.length) {
      if (((l = !0), i[o++] === 181)) {
        const f = E_(i, o);
        if (((o += 2), f === 49)) {
          const h = dt(i, o);
          if (((o += 4), h === 1195456820)) {
            const m = i[o++];
            if (m === 3) {
              const g = i[o++],
                b = 31 & g,
                _ = 64 & g,
                y = _ ? 2 + b * 3 : 0,
                T = new Uint8Array(y);
              if (_) {
                T[0] = g;
                for (let w = 1; w < y; w++) T[w] = i[o++];
              }
              r.push({ type: m, payloadType: a, pts: n, bytes: T });
            }
          }
        }
      }
    } else if (a === 5 && s < c) {
      if (((l = !0), s > 16)) {
        const d = [];
        for (let m = 0; m < 16; m++) {
          const g = i[o++].toString(16);
          d.push(g.length == 1 ? '0' + g : g), (m === 3 || m === 5 || m === 7 || m === 9) && d.push('-');
        }
        const f = s - 16,
          h = new Uint8Array(f);
        for (let m = 0; m < f; m++) h[m] = i[o++];
        r.push({ payloadType: a, pts: n, uuid: d.join(''), userData: hi(h), userDataBytes: h });
      }
    } else if (s < c) o += s;
    else if (s > c) break;
  }
}
function C_(t) {
  const e = t.byteLength,
    n = [];
  let r = 1;
  for (; r < e - 2; ) t[r] === 0 && t[r + 1] === 0 && t[r + 2] === 3 ? (n.push(r + 2), (r += 2)) : r++;
  if (n.length === 0) return t;
  const i = e - n.length,
    o = new Uint8Array(i);
  let a = 0;
  for (r = 0; r < i; a++, r++) a === n[0] && (a++, n.shift()), (o[r] = t[a]);
  return o;
}
function fI(t) {
  const e = t[0];
  let n = '',
    r = '',
    i = 0,
    o = 0,
    a = 0,
    s = 0,
    l = 0,
    u = 0;
  if (e === 0) {
    for (; zn(t.subarray(u, u + 1)) !== '\0'; ) (n += zn(t.subarray(u, u + 1))), (u += 1);
    for (n += zn(t.subarray(u, u + 1)), u += 1; zn(t.subarray(u, u + 1)) !== '\0'; ) (r += zn(t.subarray(u, u + 1))), (u += 1);
    (r += zn(t.subarray(u, u + 1))), (u += 1), (i = dt(t, 12)), (o = dt(t, 16)), (s = dt(t, 20)), (l = dt(t, 24)), (u = 28);
  } else if (e === 1) {
    (u += 4), (i = dt(t, u)), (u += 4);
    const d = dt(t, u);
    u += 4;
    const f = dt(t, u);
    for (
      u += 4,
        a = 2 ** 32 * d + f,
        Number.isSafeInteger(a) || ((a = Number.MAX_SAFE_INTEGER), le.warn('Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box')),
        s = dt(t, u),
        u += 4,
        l = dt(t, u),
        u += 4;
      zn(t.subarray(u, u + 1)) !== '\0';

    )
      (n += zn(t.subarray(u, u + 1))), (u += 1);
    for (n += zn(t.subarray(u, u + 1)), u += 1; zn(t.subarray(u, u + 1)) !== '\0'; ) (r += zn(t.subarray(u, u + 1))), (u += 1);
    (r += zn(t.subarray(u, u + 1))), (u += 1);
  }
  const c = t.subarray(u, t.byteLength);
  return { schemeIdUri: n, value: r, timeScale: i, presentationTime: a, presentationTimeDelta: o, eventDuration: s, id: l, payload: c };
}
function hI(t, ...e) {
  const n = e.length;
  let r = 8,
    i = n;
  for (; i--; ) r += e[i].byteLength;
  const o = new Uint8Array(r);
  for (o[0] = (r >> 24) & 255, o[1] = (r >> 16) & 255, o[2] = (r >> 8) & 255, o[3] = r & 255, o.set(t, 4), i = 0, r = 8; i < n; i++) o.set(e[i], r), (r += e[i].byteLength);
  return o;
}
function mI(t, e, n) {
  if (t.byteLength !== 16) throw new RangeError('Invalid system id');
  let r, i;
  if (e) {
    (r = 1), (i = new Uint8Array(e.length * 16));
    for (let s = 0; s < e.length; s++) {
      const l = e[s];
      if (l.byteLength !== 16) throw new RangeError('Invalid key');
      i.set(l, s * 16);
    }
  } else (r = 0), (i = new Uint8Array());
  let o;
  r > 0 ? ((o = new Uint8Array(4)), e.length > 0 && new DataView(o.buffer).setUint32(0, e.length, !1)) : (o = new Uint8Array());
  const a = new Uint8Array(4);
  return n && n.byteLength > 0 && new DataView(a.buffer).setUint32(0, n.byteLength, !1), hI([112, 115, 115, 104], new Uint8Array([r, 0, 0, 0]), t, o, i, a, n || new Uint8Array());
}
function pI(t) {
  if (!(t instanceof ArrayBuffer) || t.byteLength < 32) return null;
  const e = { version: 0, systemId: '', kids: null, data: null },
    n = new DataView(t),
    r = n.getUint32(0);
  if ((t.byteLength !== r && r > 44) || n.getUint32(4) !== 1886614376 || ((e.version = n.getUint32(8) >>> 24), e.version > 1)) return null;
  e.systemId = ai.hexDump(new Uint8Array(t, 12, 16));
  const o = n.getUint32(28);
  if (e.version === 0) {
    if (r - 32 < o) return null;
    e.data = new Uint8Array(t, 32, o);
  } else if (e.version === 1) {
    e.kids = [];
    for (let a = 0; a < o; a++) e.kids.push(new Uint8Array(t, 32 + a * 16, 16));
  }
  return e;
}
let _u = {};
class bl {
  static clearKeyUriToKeyIdMap() {
    _u = {};
  }
  constructor(e, n, r, i = [1], o = null) {
    (this.uri = void 0),
      (this.method = void 0),
      (this.keyFormat = void 0),
      (this.keyFormatVersions = void 0),
      (this.encrypted = void 0),
      (this.isCommonEncryption = void 0),
      (this.iv = null),
      (this.key = null),
      (this.keyId = null),
      (this.pssh = null),
      (this.method = e),
      (this.uri = n),
      (this.keyFormat = r),
      (this.keyFormatVersions = i),
      (this.iv = o),
      (this.encrypted = e ? e !== 'NONE' : !1),
      (this.isCommonEncryption = this.encrypted && e !== 'AES-128');
  }
  isSupported() {
    if (this.method) {
      if (this.method === 'AES-128' || this.method === 'NONE') return !0;
      if (this.keyFormat === 'identity') return this.method === 'SAMPLE-AES';
      switch (this.keyFormat) {
        case ir.FAIRPLAY:
        case ir.WIDEVINE:
        case ir.PLAYREADY:
        case ir.CLEARKEY:
          return ['ISO-23001-7', 'SAMPLE-AES', 'SAMPLE-AES-CENC', 'SAMPLE-AES-CTR'].indexOf(this.method) !== -1;
      }
    }
    return !1;
  }
  getDecryptData(e) {
    if (!this.encrypted || !this.uri) return null;
    if (this.method === 'AES-128' && this.uri && !this.iv) {
      typeof e != 'number' && (this.method === 'AES-128' && !this.iv && le.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`), (e = 0));
      const r = gI(e);
      return new bl(this.method, this.uri, 'identity', this.keyFormatVersions, r);
    }
    const n = HL(this.uri);
    if (n)
      switch (this.keyFormat) {
        case ir.WIDEVINE:
          (this.pssh = n), n.length >= 22 && (this.keyId = n.subarray(n.length - 22, n.length - 6));
          break;
        case ir.PLAYREADY: {
          const r = new Uint8Array([154, 4, 240, 121, 152, 64, 66, 134, 171, 146, 230, 91, 224, 136, 95, 149]);
          this.pssh = mI(r, null, n);
          const i = new Uint16Array(n.buffer, n.byteOffset, n.byteLength / 2),
            o = String.fromCharCode.apply(null, Array.from(i)),
            a = o.substring(o.indexOf('<'), o.length),
            u = new DOMParser().parseFromString(a, 'text/xml').getElementsByTagName('KID')[0];
          if (u) {
            const c = u.childNodes[0] ? u.childNodes[0].nodeValue : u.getAttribute('VALUE');
            if (c) {
              const d = Np(c).subarray(0, 16);
              VL(d), (this.keyId = d);
            }
          }
          break;
        }
        default: {
          let r = n.subarray(0, 16);
          if (r.length !== 16) {
            const i = new Uint8Array(16);
            i.set(r, 16 - r.length), (r = i);
          }
          this.keyId = r;
          break;
        }
      }
    if (!this.keyId || this.keyId.byteLength !== 16) {
      let r = _u[this.uri];
      if (!r) {
        const i = Object.keys(_u).length % Number.MAX_SAFE_INTEGER;
        (r = new Uint8Array(16)), new DataView(r.buffer, 12, 4).setUint32(0, i), (_u[this.uri] = r);
      }
      this.keyId = r;
    }
    return this;
  }
}
function gI(t) {
  const e = new Uint8Array(16);
  for (let n = 12; n < 16; n++) e[n] = (t >> (8 * (15 - n))) & 255;
  return e;
}
const R_ = /\{\$([a-zA-Z0-9-_]+)\}/g;
function Nv(t) {
  return R_.test(t);
}
function nr(t, e, n) {
  if (t.variableList !== null || t.hasVariableRefs)
    for (let r = n.length; r--; ) {
      const i = n[r],
        o = e[i];
      o && (e[i] = K0(t, o));
    }
}
function K0(t, e) {
  if (t.variableList !== null || t.hasVariableRefs) {
    const n = t.variableList;
    return e.replace(R_, (r) => {
      const i = r.substring(2, r.length - 1),
        o = n == null ? void 0 : n[i];
      return o === void 0 ? (t.playlistParsingError || (t.playlistParsingError = new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${i}"`)), r) : o;
    });
  }
  return e;
}
function $v(t, e, n) {
  let r = t.variableList;
  r || (t.variableList = r = {});
  let i, o;
  if ('QUERYPARAM' in e) {
    i = e.QUERYPARAM;
    try {
      const a = new self.URL(n).searchParams;
      if (a.has(i)) o = a.get(i);
      else throw new Error(`"${i}" does not match any query parameter in URI: "${n}"`);
    } catch (a) {
      t.playlistParsingError || (t.playlistParsingError = new Error(`EXT-X-DEFINE QUERYPARAM: ${a.message}`));
    }
  } else (i = e.NAME), (o = e.VALUE);
  i in r ? t.playlistParsingError || (t.playlistParsingError = new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${i}"`)) : (r[i] = o || '');
}
function vI(t, e, n) {
  const r = e.IMPORT;
  if (n && r in n) {
    let i = t.variableList;
    i || (t.variableList = i = {}), (i[r] = n[r]);
  } else t.playlistParsingError || (t.playlistParsingError = new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${r}"`));
}
function Pd() {
  if (!(typeof self > 'u')) return self.MediaSource || self.WebKitMediaSource;
}
const yI = {
    audio: {
      a3ds: !0,
      'ac-3': !0,
      'ac-4': !0,
      alac: !0,
      alaw: !0,
      dra1: !0,
      'dts+': !0,
      'dts-': !0,
      dtsc: !0,
      dtse: !0,
      dtsh: !0,
      'ec-3': !0,
      enca: !0,
      g719: !0,
      g726: !0,
      m4ae: !0,
      mha1: !0,
      mha2: !0,
      mhm1: !0,
      mhm2: !0,
      mlpa: !0,
      mp4a: !0,
      'raw ': !0,
      Opus: !0,
      opus: !0,
      samr: !0,
      sawb: !0,
      sawp: !0,
      sevc: !0,
      sqcp: !0,
      ssmv: !0,
      twos: !0,
      ulaw: !0,
    },
    video: {
      avc1: !0,
      avc2: !0,
      avc3: !0,
      avc4: !0,
      avcp: !0,
      av01: !0,
      drac: !0,
      dva1: !0,
      dvav: !0,
      dvh1: !0,
      dvhe: !0,
      encv: !0,
      hev1: !0,
      hvc1: !0,
      mjp2: !0,
      mp4v: !0,
      mvc1: !0,
      mvc2: !0,
      mvc3: !0,
      mvc4: !0,
      resv: !0,
      rv60: !0,
      s263: !0,
      svc1: !0,
      svc2: !0,
      'vc-1': !0,
      vp08: !0,
      vp09: !0,
    },
    text: { stpp: !0, wvtt: !0 },
  },
  Bv = Pd();
function _I(t, e) {
  const n = yI[e];
  return !!n && n[t.slice(0, 4)] === !0;
}
function Uf(t, e) {
  var n;
  return (n = Bv == null ? void 0 : Bv.isTypeSupported(`${e || 'video'}/mp4;codecs="${t}"`)) != null ? n : !1;
}
const Uv = /#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,
  zv = /#EXT-X-MEDIA:(.*)/g,
  SI = /^#EXT(?:INF|-X-TARGETDURATION):/m,
  Vv = new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source, /(?!#) *(\S[\S ]*)/.source, /#EXT-X-BYTERANGE:*(.+)/.source, /#EXT-X-PROGRAM-DATE-TIME:(.+)/.source, /#.*/.source].join('|'), 'g'),
  EI = new RegExp(
    [
      /#(EXTM3U)/.source,
      /#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,
      /#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,
      /#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,
      /(#)([^:]*):(.*)/.source,
      /(#)(.*)(?:.*)\r?\n?/.source,
    ].join('|'),
  );
class Xr {
  static findGroup(e, n) {
    for (let r = 0; r < e.length; r++) {
      const i = e[r];
      if (i.id === n) return i;
    }
  }
  static convertAVC1ToAVCOTI(e) {
    const n = e.split('.');
    if (n.length > 2) {
      let r = n.shift() + '.';
      return (r += parseInt(n.shift()).toString(16)), (r += ('000' + parseInt(n.shift()).toString(16)).slice(-4)), r;
    }
    return e;
  }
  static resolve(e, n) {
    return Fp.buildAbsoluteURL(n, e, { alwaysNormalize: !0 });
  }
  static isMediaPlaylist(e) {
    return SI.test(e);
  }
  static parseMasterPlaylist(e, n) {
    const r = Nv(e),
      i = { contentSteering: null, levels: [], playlistParsingError: null, sessionData: null, sessionKeys: null, startTimeOffset: null, variableList: null, hasVariableRefs: r },
      o = [];
    Uv.lastIndex = 0;
    let a;
    for (; (a = Uv.exec(e)) != null; )
      if (a[1]) {
        var s;
        const u = new cn(a[1]);
        nr(i, u, ['CODECS', 'SUPPLEMENTAL-CODECS', 'ALLOWED-CPC', 'PATHWAY-ID', 'STABLE-VARIANT-ID', 'AUDIO', 'VIDEO', 'SUBTITLES', 'CLOSED-CAPTIONS', 'NAME']);
        const c = K0(i, a[2]),
          d = { attrs: u, bitrate: u.decimalInteger('AVERAGE-BANDWIDTH') || u.decimalInteger('BANDWIDTH'), name: u.NAME, url: Xr.resolve(c, n) },
          f = u.decimalResolution('RESOLUTION');
        f && ((d.width = f.width), (d.height = f.height)),
          bI(
            (u.CODECS || '').split(/[ ,]+/).filter((h) => h),
            d,
          ),
          d.videoCodec && d.videoCodec.indexOf('avc1') !== -1 && (d.videoCodec = Xr.convertAVC1ToAVCOTI(d.videoCodec)),
          ((s = d.unknownCodecs) != null && s.length) || o.push(d),
          i.levels.push(d);
      } else if (a[3]) {
        const u = a[3],
          c = a[4];
        switch (u) {
          case 'SESSION-DATA': {
            const d = new cn(c);
            nr(i, d, ['DATA-ID', 'LANGUAGE', 'VALUE', 'URI']);
            const f = d['DATA-ID'];
            f && (i.sessionData === null && (i.sessionData = {}), (i.sessionData[f] = d));
            break;
          }
          case 'SESSION-KEY': {
            const d = Hv(c, n, i);
            d.encrypted && d.isSupported() ? (i.sessionKeys === null && (i.sessionKeys = []), i.sessionKeys.push(d)) : le.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${c}"`);
            break;
          }
          case 'DEFINE': {
            {
              const d = new cn(c);
              nr(i, d, ['NAME', 'VALUE', 'QUERYPARAM']), $v(i, d, n);
            }
            break;
          }
          case 'CONTENT-STEERING': {
            const d = new cn(c);
            nr(i, d, ['SERVER-URI', 'PATHWAY-ID']), (i.contentSteering = { uri: Xr.resolve(d['SERVER-URI'], n), pathwayId: d['PATHWAY-ID'] || '.' });
            break;
          }
          case 'START': {
            i.startTimeOffset = jv(c);
            break;
          }
        }
      }
    const l = o.length > 0 && o.length < i.levels.length;
    return (i.levels = l ? o : i.levels), i.levels.length === 0 && (i.playlistParsingError = new Error('no levels found in manifest')), i;
  }
  static parseMasterPlaylistMedia(e, n, r) {
    let i;
    const o = {},
      a = r.levels,
      s = { AUDIO: a.map((u) => ({ id: u.attrs.AUDIO, audioCodec: u.audioCodec })), SUBTITLES: a.map((u) => ({ id: u.attrs.SUBTITLES, textCodec: u.textCodec })), 'CLOSED-CAPTIONS': [] };
    let l = 0;
    for (zv.lastIndex = 0; (i = zv.exec(e)) !== null; ) {
      const u = new cn(i[1]),
        c = u.TYPE;
      if (c) {
        const d = s[c],
          f = o[c] || [];
        (o[c] = f), nr(r, u, ['URI', 'GROUP-ID', 'LANGUAGE', 'ASSOC-LANGUAGE', 'STABLE-RENDITION-ID', 'NAME', 'INSTREAM-ID', 'CHARACTERISTICS', 'CHANNELS']);
        const h = {
          attrs: u,
          bitrate: 0,
          id: l++,
          groupId: u['GROUP-ID'] || '',
          instreamId: u['INSTREAM-ID'],
          name: u.NAME || u.LANGUAGE || '',
          type: c,
          default: u.bool('DEFAULT'),
          autoselect: u.bool('AUTOSELECT'),
          forced: u.bool('FORCED'),
          lang: u.LANGUAGE,
          url: u.URI ? Xr.resolve(u.URI, n) : '',
        };
        if (d != null && d.length) {
          const m = Xr.findGroup(d, h.groupId) || d[0];
          Gv(h, m, 'audioCodec'), Gv(h, m, 'textCodec');
        }
        f.push(h);
      }
    }
    return o;
  }
  static parseLevelPlaylist(e, n, r, i, o, a) {
    const s = new UL(n),
      l = s.fragments;
    let u = null,
      c = 0,
      d = 0,
      f = 0,
      h = 0,
      m = null,
      g = new Ff(i, n),
      b,
      _,
      y,
      T = -1,
      w = !1;
    for (Vv.lastIndex = 0, s.m3u8 = e, s.hasVariableRefs = Nv(e); (b = Vv.exec(e)) !== null; ) {
      w &&
        ((w = !1), (g = new Ff(i, n)), (g.start = f), (g.sn = c), (g.cc = h), (g.level = r), u && ((g.initSegment = u), (g.rawProgramDateTime = u.rawProgramDateTime), (u.rawProgramDateTime = null)));
      const L = b[1];
      if (L) {
        g.duration = parseFloat(L);
        const D = (' ' + b[2]).slice(1);
        (g.title = D || null), g.tagList.push(D ? ['INF', L, D] : ['INF', L]);
      } else if (b[3]) {
        if (rt(g.duration)) {
          (g.start = f), y && qv(g, y, s), (g.sn = c), (g.level = r), (g.cc = h), (g.urlId = o), l.push(g);
          const D = (' ' + b[3]).slice(1);
          (g.relurl = K0(s, D)), Wv(g, m), (m = g), (f += g.duration), c++, (d = 0), (w = !0);
        }
      } else if (b[4]) {
        const D = (' ' + b[4]).slice(1);
        m ? g.setByteRange(D, m) : g.setByteRange(D);
      } else if (b[5]) (g.rawProgramDateTime = (' ' + b[5]).slice(1)), g.tagList.push(['PROGRAM-DATE-TIME', g.rawProgramDateTime]), T === -1 && (T = l.length);
      else {
        if (((b = b[0].match(EI)), !b)) {
          le.warn('No matches on slow regex match for level playlist!');
          continue;
        }
        for (_ = 1; _ < b.length && !(typeof b[_] < 'u'); _++);
        const D = (' ' + b[_]).slice(1),
          C = (' ' + b[_ + 1]).slice(1),
          G = b[_ + 2] ? (' ' + b[_ + 2]).slice(1) : '';
        switch (D) {
          case 'PLAYLIST-TYPE':
            s.type = C.toUpperCase();
            break;
          case 'MEDIA-SEQUENCE':
            c = s.startSN = parseInt(C);
            break;
          case 'SKIP': {
            const M = new cn(C);
            nr(s, M, ['RECENTLY-REMOVED-DATERANGES']);
            const B = M.decimalInteger('SKIPPED-SEGMENTS');
            if (rt(B)) {
              s.skippedSegments = B;
              for (let H = B; H--; ) l.unshift(null);
              c += B;
            }
            const z = M.enumeratedString('RECENTLY-REMOVED-DATERANGES');
            z && (s.recentlyRemovedDateranges = z.split('	'));
            break;
          }
          case 'TARGETDURATION':
            s.targetduration = Math.max(parseInt(C), 1);
            break;
          case 'VERSION':
            s.version = parseInt(C);
            break;
          case 'EXTM3U':
            break;
          case 'ENDLIST':
            s.live = !1;
            break;
          case '#':
            (C || G) && g.tagList.push(G ? [C, G] : [C]);
            break;
          case 'DISCONTINUITY':
            h++, g.tagList.push(['DIS']);
            break;
          case 'GAP':
            (g.gap = !0), g.tagList.push([D]);
            break;
          case 'BITRATE':
            g.tagList.push([D, C]);
            break;
          case 'DATERANGE': {
            const M = new cn(C);
            nr(s, M, ['ID', 'CLASS', 'START-DATE', 'END-DATE', 'SCTE35-CMD', 'SCTE35-OUT', 'SCTE35-IN']), nr(s, M, M.clientAttrs);
            const B = new f_(M, s.dateRanges[M.ID]);
            B.isValid || s.skippedSegments ? (s.dateRanges[B.id] = B) : le.warn(`Ignoring invalid DATERANGE tag: "${C}"`), g.tagList.push(['EXT-X-DATERANGE', C]);
            break;
          }
          case 'DEFINE': {
            {
              const M = new cn(C);
              nr(s, M, ['NAME', 'VALUE', 'IMPORT', 'QUERYPARAM']), 'IMPORT' in M ? vI(s, M, a) : $v(s, M, n);
            }
            break;
          }
          case 'DISCONTINUITY-SEQUENCE':
            h = parseInt(C);
            break;
          case 'KEY': {
            const M = Hv(C, n, s);
            if (M.isSupported()) {
              if (M.method === 'NONE') {
                y = void 0;
                break;
              }
              y || (y = {}), y[M.keyFormat] && (y = Pn({}, y)), (y[M.keyFormat] = M);
            } else le.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${C}"`);
            break;
          }
          case 'START':
            s.startTimeOffset = jv(C);
            break;
          case 'MAP': {
            const M = new cn(C);
            if ((nr(s, M, ['BYTERANGE', 'URI']), g.duration)) {
              const B = new Ff(i, n);
              Kv(B, M, r, y), (u = B), (g.initSegment = u), u.rawProgramDateTime && !g.rawProgramDateTime && (g.rawProgramDateTime = u.rawProgramDateTime);
            } else Kv(g, M, r, y), (u = g), (w = !0);
            break;
          }
          case 'SERVER-CONTROL': {
            const M = new cn(C);
            (s.canBlockReload = M.bool('CAN-BLOCK-RELOAD')),
              (s.canSkipUntil = M.optionalFloat('CAN-SKIP-UNTIL', 0)),
              (s.canSkipDateRanges = s.canSkipUntil > 0 && M.bool('CAN-SKIP-DATERANGES')),
              (s.partHoldBack = M.optionalFloat('PART-HOLD-BACK', 0)),
              (s.holdBack = M.optionalFloat('HOLD-BACK', 0));
            break;
          }
          case 'PART-INF': {
            const M = new cn(C);
            s.partTarget = M.decimalFloatingPoint('PART-TARGET');
            break;
          }
          case 'PART': {
            let M = s.partList;
            M || (M = s.partList = []);
            const B = d > 0 ? M[M.length - 1] : void 0,
              z = d++,
              H = new cn(C);
            nr(s, H, ['BYTERANGE', 'URI']);
            const q = new $L(H, g, n, z, B);
            M.push(q), (g.duration += q.duration);
            break;
          }
          case 'PRELOAD-HINT': {
            const M = new cn(C);
            nr(s, M, ['URI']), (s.preloadHint = M);
            break;
          }
          case 'RENDITION-REPORT': {
            const M = new cn(C);
            nr(s, M, ['URI']), (s.renditionReports = s.renditionReports || []), s.renditionReports.push(M);
            break;
          }
          default:
            le.warn(`line parsed but not handled: ${b}`);
            break;
        }
      }
    }
    m && !m.relurl ? (l.pop(), (f -= m.duration), s.partList && (s.fragmentHint = m)) : s.partList && (Wv(g, m), (g.cc = h), (s.fragmentHint = g), y && qv(g, y, s));
    const I = l.length,
      O = l[0],
      x = l[I - 1];
    if (((f += s.skippedSegments * s.targetduration), f > 0 && I && x)) {
      s.averagetargetduration = f / I;
      const L = x.sn;
      (s.endSN = L !== 'initSegment' ? L : 0), s.live || (x.endList = !0), O && (s.startCC = O.cc);
    } else (s.endSN = 0), (s.startCC = 0);
    return s.fragmentHint && (f += s.fragmentHint.duration), (s.totalduration = f), (s.endCC = h), T > 0 && xI(l, T), s;
  }
}
function Hv(t, e, n) {
  var r, i;
  const o = new cn(t);
  nr(n, o, ['KEYFORMAT', 'KEYFORMATVERSIONS', 'URI', 'IV', 'URI']);
  const a = (r = o.METHOD) != null ? r : '',
    s = o.URI,
    l = o.hexadecimalInteger('IV'),
    u = o.KEYFORMATVERSIONS,
    c = (i = o.KEYFORMAT) != null ? i : 'identity';
  s && o.IV && !l && le.error(`Invalid IV: ${o.IV}`);
  const d = s ? Xr.resolve(s, e) : '',
    f = (u || '1').split('/').map(Number).filter(Number.isFinite);
  return new bl(a, d, c, f, l);
}
function jv(t) {
  const n = new cn(t).decimalFloatingPoint('TIME-OFFSET');
  return rt(n) ? n : null;
}
function bI(t, e) {
  ['video', 'audio', 'text'].forEach((n) => {
    const r = t.filter((i) => _I(i, n));
    if (r.length) {
      const i = r.filter((o) => o.lastIndexOf('avc1', 0) === 0 || o.lastIndexOf('mp4a', 0) === 0);
      (e[`${n}Codec`] = i.length > 0 ? i[0] : r[0]), (t = t.filter((o) => r.indexOf(o) === -1));
    }
  }),
    (e.unknownCodecs = t);
}
function Gv(t, e, n) {
  const r = e[n];
  r && (t[n] = r);
}
function xI(t, e) {
  let n = t[e];
  for (let r = e; r--; ) {
    const i = t[r];
    if (!i) return;
    (i.programDateTime = n.programDateTime - i.duration * 1e3), (n = i);
  }
}
function Wv(t, e) {
  t.rawProgramDateTime ? (t.programDateTime = Date.parse(t.rawProgramDateTime)) : e != null && e.programDateTime && (t.programDateTime = e.endProgramDateTime),
    rt(t.programDateTime) || ((t.programDateTime = null), (t.rawProgramDateTime = null));
}
function Kv(t, e, n, r) {
  (t.relurl = e.URI), e.BYTERANGE && t.setByteRange(e.BYTERANGE), (t.level = n), (t.sn = 'initSegment'), r && (t.levelkeys = r), (t.initSegment = null);
}
function qv(t, e, n) {
  t.levelkeys = e;
  const { encryptedFragments: r } = n;
  (!r.length || r[r.length - 1].levelkeys !== e) && Object.keys(e).some((i) => e[i].isCommonEncryption) && r.push(t);
}
var Ot = { MANIFEST: 'manifest', LEVEL: 'level', AUDIO_TRACK: 'audioTrack', SUBTITLE_TRACK: 'subtitleTrack' },
  lt = { MAIN: 'main', AUDIO: 'audio', SUBTITLE: 'subtitle' };
function Yv(t) {
  const { type: e } = t;
  switch (e) {
    case Ot.AUDIO_TRACK:
      return lt.AUDIO;
    case Ot.SUBTITLE_TRACK:
      return lt.SUBTITLE;
    default:
      return lt.MAIN;
  }
}
function zf(t, e) {
  let n = t.url;
  return (n === void 0 || n.indexOf('data:') === 0) && (n = e.url), n;
}
class TI {
  constructor(e) {
    (this.hls = void 0), (this.loaders = Object.create(null)), (this.variableList = null), (this.hls = e), this.registerListeners();
  }
  startLoad(e) {}
  stopLoad() {
    this.destroyInternalLoaders();
  }
  registerListeners() {
    const { hls: e } = this;
    e.on(V.MANIFEST_LOADING, this.onManifestLoading, this),
      e.on(V.LEVEL_LOADING, this.onLevelLoading, this),
      e.on(V.AUDIO_TRACK_LOADING, this.onAudioTrackLoading, this),
      e.on(V.SUBTITLE_TRACK_LOADING, this.onSubtitleTrackLoading, this);
  }
  unregisterListeners() {
    const { hls: e } = this;
    e.off(V.MANIFEST_LOADING, this.onManifestLoading, this),
      e.off(V.LEVEL_LOADING, this.onLevelLoading, this),
      e.off(V.AUDIO_TRACK_LOADING, this.onAudioTrackLoading, this),
      e.off(V.SUBTITLE_TRACK_LOADING, this.onSubtitleTrackLoading, this);
  }
  createInternalLoader(e) {
    const n = this.hls.config,
      r = n.pLoader,
      i = n.loader,
      o = r || i,
      a = new o(n);
    return (this.loaders[e.type] = a), a;
  }
  getInternalLoader(e) {
    return this.loaders[e.type];
  }
  resetInternalLoader(e) {
    this.loaders[e] && delete this.loaders[e];
  }
  destroyInternalLoaders() {
    for (const e in this.loaders) {
      const n = this.loaders[e];
      n && n.destroy(), this.resetInternalLoader(e);
    }
  }
  destroy() {
    (this.variableList = null), this.unregisterListeners(), this.destroyInternalLoaders();
  }
  onManifestLoading(e, n) {
    const { url: r } = n;
    (this.variableList = null), this.load({ id: null, level: 0, responseType: 'text', type: Ot.MANIFEST, url: r, deliveryDirectives: null });
  }
  onLevelLoading(e, n) {
    const { id: r, level: i, url: o, deliveryDirectives: a } = n;
    this.load({ id: r, level: i, responseType: 'text', type: Ot.LEVEL, url: o, deliveryDirectives: a });
  }
  onAudioTrackLoading(e, n) {
    const { id: r, groupId: i, url: o, deliveryDirectives: a } = n;
    this.load({ id: r, groupId: i, level: null, responseType: 'text', type: Ot.AUDIO_TRACK, url: o, deliveryDirectives: a });
  }
  onSubtitleTrackLoading(e, n) {
    const { id: r, groupId: i, url: o, deliveryDirectives: a } = n;
    this.load({ id: r, groupId: i, level: null, responseType: 'text', type: Ot.SUBTITLE_TRACK, url: o, deliveryDirectives: a });
  }
  load(e) {
    var n;
    const r = this.hls.config;
    let i = this.getInternalLoader(e);
    if (i) {
      const u = i.context;
      if (u && u.url === e.url) {
        le.trace('[playlist-loader]: playlist request ongoing');
        return;
      }
      le.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`), i.abort();
    }
    let o;
    if (
      (e.type === Ot.MANIFEST ? (o = r.manifestLoadPolicy.default) : (o = Pn({}, r.playlistLoadPolicy.default, { timeoutRetry: null, errorRetry: null })),
      (i = this.createInternalLoader(e)),
      (n = e.deliveryDirectives) != null && n.part)
    ) {
      let u;
      if (
        (e.type === Ot.LEVEL && e.level !== null
          ? (u = this.hls.levels[e.level].details)
          : e.type === Ot.AUDIO_TRACK && e.id !== null
          ? (u = this.hls.audioTracks[e.id].details)
          : e.type === Ot.SUBTITLE_TRACK && e.id !== null && (u = this.hls.subtitleTracks[e.id].details),
        u)
      ) {
        const c = u.partTarget,
          d = u.targetduration;
        if (c && d) {
          const f = Math.max(c * 3, d * 0.8) * 1e3;
          o = Pn({}, o, { maxTimeToFirstByteMs: Math.min(f, o.maxTimeToFirstByteMs), maxLoadTimeMs: Math.min(f, o.maxTimeToFirstByteMs) });
        }
      }
    }
    const a = o.errorRetry || o.timeoutRetry || {},
      s = { loadPolicy: o, timeout: o.maxLoadTimeMs, maxRetry: a.maxNumRetry || 0, retryDelay: a.retryDelayMs || 0, maxRetryDelay: a.maxRetryDelayMs || 0 },
      l = {
        onSuccess: (u, c, d, f) => {
          const h = this.getInternalLoader(d);
          this.resetInternalLoader(d.type);
          const m = u.data;
          if (m.indexOf('#EXTM3U') !== 0) {
            this.handleManifestParsingError(u, d, new Error('no EXTM3U delimiter'), f || null, c);
            return;
          }
          (c.parsing.start = performance.now()), Xr.isMediaPlaylist(m) ? this.handleTrackOrLevelPlaylist(u, c, d, f || null, h) : this.handleMasterPlaylist(u, c, d, f);
        },
        onError: (u, c, d, f) => {
          this.handleNetworkError(c, d, !1, u, f);
        },
        onTimeout: (u, c, d) => {
          this.handleNetworkError(c, d, !0, void 0, u);
        },
      };
    i.load(e, s, l);
  }
  handleMasterPlaylist(e, n, r, i) {
    const o = this.hls,
      a = e.data,
      s = zf(e, r),
      l = Xr.parseMasterPlaylist(a, s);
    if (l.playlistParsingError) {
      this.handleManifestParsingError(e, r, l.playlistParsingError, i, n);
      return;
    }
    const { contentSteering: u, levels: c, sessionData: d, sessionKeys: f, startTimeOffset: h, variableList: m } = l;
    this.variableList = m;
    const { AUDIO: g = [], SUBTITLES: b, 'CLOSED-CAPTIONS': _ } = Xr.parseMasterPlaylistMedia(a, s, l);
    g.length &&
      !g.some((T) => !T.url) &&
      c[0].audioCodec &&
      !c[0].attrs.AUDIO &&
      (le.log('[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one'),
      g.unshift({ type: 'main', name: 'main', groupId: 'main', default: !1, autoselect: !1, forced: !1, id: -1, attrs: new cn({}), bitrate: 0, url: '' })),
      o.trigger(V.MANIFEST_LOADED, {
        levels: c,
        audioTracks: g,
        subtitles: b,
        captions: _,
        contentSteering: u,
        url: s,
        stats: n,
        networkDetails: i,
        sessionData: d,
        sessionKeys: f,
        startTimeOffset: h,
        variableList: m,
      });
  }
  handleTrackOrLevelPlaylist(e, n, r, i, o) {
    const a = this.hls,
      { id: s, level: l, type: u } = r,
      c = zf(e, r),
      d = rt(s) ? s : 0,
      f = rt(l) ? l : d,
      h = Yv(r),
      m = Xr.parseLevelPlaylist(e.data, c, f, h, d, this.variableList);
    if (u === Ot.MANIFEST) {
      const g = { attrs: new cn({}), bitrate: 0, details: m, name: '', url: c };
      a.trigger(V.MANIFEST_LOADED, {
        levels: [g],
        audioTracks: [],
        url: c,
        stats: n,
        networkDetails: i,
        sessionData: null,
        sessionKeys: null,
        contentSteering: null,
        startTimeOffset: null,
        variableList: null,
      });
    }
    (n.parsing.end = performance.now()), (r.levelDetails = m), this.handlePlaylistLoaded(m, e, n, r, i, o);
  }
  handleManifestParsingError(e, n, r, i, o) {
    this.hls.trigger(V.ERROR, {
      type: at.NETWORK_ERROR,
      details: he.MANIFEST_PARSING_ERROR,
      fatal: n.type === Ot.MANIFEST,
      url: e.url,
      err: r,
      error: r,
      reason: r.message,
      response: e,
      context: n,
      networkDetails: i,
      stats: o,
    });
  }
  handleNetworkError(e, n, r = !1, i, o) {
    let a = `A network ${r ? 'timeout' : 'error' + (i ? ' (status ' + i.code + ')' : '')} occurred while loading ${e.type}`;
    e.type === Ot.LEVEL ? (a += `: ${e.level} id: ${e.id}`) : (e.type === Ot.AUDIO_TRACK || e.type === Ot.SUBTITLE_TRACK) && (a += ` id: ${e.id} group-id: "${e.groupId}"`);
    const s = new Error(a);
    le.warn(`[playlist-loader]: ${a}`);
    let l = he.UNKNOWN,
      u = !1;
    const c = this.getInternalLoader(e);
    switch (e.type) {
      case Ot.MANIFEST:
        (l = r ? he.MANIFEST_LOAD_TIMEOUT : he.MANIFEST_LOAD_ERROR), (u = !0);
        break;
      case Ot.LEVEL:
        (l = r ? he.LEVEL_LOAD_TIMEOUT : he.LEVEL_LOAD_ERROR), (u = !1);
        break;
      case Ot.AUDIO_TRACK:
        (l = r ? he.AUDIO_TRACK_LOAD_TIMEOUT : he.AUDIO_TRACK_LOAD_ERROR), (u = !1);
        break;
      case Ot.SUBTITLE_TRACK:
        (l = r ? he.SUBTITLE_TRACK_LOAD_TIMEOUT : he.SUBTITLE_LOAD_ERROR), (u = !1);
        break;
    }
    c && this.resetInternalLoader(e.type);
    const d = { type: at.NETWORK_ERROR, details: l, fatal: u, url: e.url, loader: c, context: e, error: s, networkDetails: n, stats: o };
    if (i) {
      const f = (n == null ? void 0 : n.url) || e.url;
      d.response = cr({ url: f, data: void 0 }, i);
    }
    this.hls.trigger(V.ERROR, d);
  }
  handlePlaylistLoaded(e, n, r, i, o, a) {
    const s = this.hls,
      { type: l, level: u, id: c, groupId: d, deliveryDirectives: f } = i,
      h = zf(n, i),
      m = Yv(i),
      g = typeof i.level == 'number' && m === lt.MAIN ? u : void 0;
    if (!e.fragments.length) {
      const _ = new Error('No Segments found in Playlist');
      s.trigger(V.ERROR, {
        type: at.NETWORK_ERROR,
        details: he.LEVEL_EMPTY_ERROR,
        fatal: !1,
        url: h,
        error: _,
        reason: _.message,
        response: n,
        context: i,
        level: g,
        parent: m,
        networkDetails: o,
        stats: r,
      });
      return;
    }
    e.targetduration || (e.playlistParsingError = new Error('Missing Target Duration'));
    const b = e.playlistParsingError;
    if (b) {
      s.trigger(V.ERROR, {
        type: at.NETWORK_ERROR,
        details: he.LEVEL_PARSING_ERROR,
        fatal: !1,
        url: h,
        error: b,
        reason: b.message,
        response: n,
        context: i,
        level: g,
        parent: m,
        networkDetails: o,
        stats: r,
      });
      return;
    }
    switch ((e.live && a && (a.getCacheAge && (e.ageHeader = a.getCacheAge() || 0), (!a.getCacheAge || isNaN(e.ageHeader)) && (e.ageHeader = 0)), l)) {
      case Ot.MANIFEST:
      case Ot.LEVEL:
        s.trigger(V.LEVEL_LOADED, { details: e, level: g || 0, id: c || 0, stats: r, networkDetails: o, deliveryDirectives: f });
        break;
      case Ot.AUDIO_TRACK:
        s.trigger(V.AUDIO_TRACK_LOADED, { details: e, id: c || 0, groupId: d || '', stats: r, networkDetails: o, deliveryDirectives: f });
        break;
      case Ot.SUBTITLE_TRACK:
        s.trigger(V.SUBTITLE_TRACK_LOADED, { details: e, id: c || 0, groupId: d || '', stats: r, networkDetails: o, deliveryDirectives: f });
        break;
    }
  }
}
function A_(t, e) {
  let n;
  try {
    n = new Event('addtrack');
  } catch {
    (n = document.createEvent('Event')), n.initEvent('addtrack', !1, !1);
  }
  (n.track = t), e.dispatchEvent(n);
}
function L_(t, e) {
  const n = t.mode;
  if ((n === 'disabled' && (t.mode = 'hidden'), t.cues && !t.cues.getCueById(e.id)))
    try {
      if ((t.addCue(e), !t.cues.getCueById(e.id))) throw new Error(`addCue is failed for: ${e}`);
    } catch (r) {
      le.debug(`[texttrack-utils]: ${r}`);
      const i = new self.TextTrackCue(e.startTime, e.endTime, e.text);
      (i.id = e.id), t.addCue(i);
    }
  n === 'disabled' && (t.mode = n);
}
function Pa(t) {
  const e = t.mode;
  if ((e === 'disabled' && (t.mode = 'hidden'), t.cues)) for (let n = t.cues.length; n--; ) t.removeCue(t.cues[n]);
  e === 'disabled' && (t.mode = e);
}
function q0(t, e, n, r) {
  const i = t.mode;
  if ((i === 'disabled' && (t.mode = 'hidden'), t.cues && t.cues.length > 0)) {
    const o = CI(t.cues, e, n);
    for (let a = 0; a < o.length; a++) (!r || r(o[a])) && t.removeCue(o[a]);
  }
  i === 'disabled' && (t.mode = i);
}
function wI(t, e) {
  if (e < t[0].startTime) return 0;
  const n = t.length - 1;
  if (e > t[n].endTime) return -1;
  let r = 0,
    i = n;
  for (; r <= i; ) {
    const o = Math.floor((i + r) / 2);
    if (e < t[o].startTime) i = o - 1;
    else if (e > t[o].startTime && r < n) r = o + 1;
    else return o;
  }
  return t[r].startTime - e < e - t[i].startTime ? r : i;
}
function CI(t, e, n) {
  const r = [],
    i = wI(t, e);
  if (i > -1)
    for (let o = i, a = t.length; o < a; o++) {
      const s = t[o];
      if (s.startTime >= e && s.endTime <= n) r.push(s);
      else if (s.startTime > n) return r;
    }
  return r;
}
var Yr = { audioId3: 'org.id3', dateRange: 'com.apple.quicktime.HLS', emsg: 'https://aomedia.org/emsg/ID3' };
const RI = 0.25;
function Y0() {
  if (!(typeof self > 'u')) return self.WebKitDataCue || self.VTTCue || self.TextTrackCue;
}
const Su = (() => {
  const t = Y0();
  try {
    new t(0, Number.POSITIVE_INFINITY, '');
  } catch {
    return Number.MAX_VALUE;
  }
  return Number.POSITIVE_INFINITY;
})();
function Vf(t, e) {
  return t.getTime() / 1e3 - e;
}
function AI(t) {
  return Uint8Array.from(
    t
      .replace(/^0x/, '')
      .replace(/([\da-fA-F]{2}) ?/g, '0x$1 ')
      .replace(/ +$/, '')
      .split(' '),
  ).buffer;
}
class LI {
  constructor(e) {
    (this.hls = void 0), (this.id3Track = null), (this.media = null), (this.dateRangeCuesAppended = {}), (this.hls = e), this._registerListeners();
  }
  destroy() {
    this._unregisterListeners(), (this.id3Track = null), (this.media = null), (this.dateRangeCuesAppended = {}), (this.hls = null);
  }
  _registerListeners() {
    const { hls: e } = this;
    e.on(V.MEDIA_ATTACHED, this.onMediaAttached, this),
      e.on(V.MEDIA_DETACHING, this.onMediaDetaching, this),
      e.on(V.MANIFEST_LOADING, this.onManifestLoading, this),
      e.on(V.FRAG_PARSING_METADATA, this.onFragParsingMetadata, this),
      e.on(V.BUFFER_FLUSHING, this.onBufferFlushing, this),
      e.on(V.LEVEL_UPDATED, this.onLevelUpdated, this);
  }
  _unregisterListeners() {
    const { hls: e } = this;
    e.off(V.MEDIA_ATTACHED, this.onMediaAttached, this),
      e.off(V.MEDIA_DETACHING, this.onMediaDetaching, this),
      e.off(V.MANIFEST_LOADING, this.onManifestLoading, this),
      e.off(V.FRAG_PARSING_METADATA, this.onFragParsingMetadata, this),
      e.off(V.BUFFER_FLUSHING, this.onBufferFlushing, this),
      e.off(V.LEVEL_UPDATED, this.onLevelUpdated, this);
  }
  onMediaAttached(e, n) {
    this.media = n.media;
  }
  onMediaDetaching() {
    this.id3Track && (Pa(this.id3Track), (this.id3Track = null), (this.media = null), (this.dateRangeCuesAppended = {}));
  }
  onManifestLoading() {
    this.dateRangeCuesAppended = {};
  }
  createTrack(e) {
    const n = this.getID3Track(e.textTracks);
    return (n.mode = 'hidden'), n;
  }
  getID3Track(e) {
    if (this.media) {
      for (let n = 0; n < e.length; n++) {
        const r = e[n];
        if (r.kind === 'metadata' && r.label === 'id3') return A_(r, this.media), r;
      }
      return this.media.addTextTrack('metadata', 'id3');
    }
  }
  onFragParsingMetadata(e, n) {
    if (!this.media) return;
    const {
      hls: {
        config: { enableEmsgMetadataCues: r, enableID3MetadataCues: i },
      },
    } = this;
    if (!r && !i) return;
    const { samples: o } = n;
    this.id3Track || (this.id3Track = this.createTrack(this.media));
    const a = Y0();
    for (let s = 0; s < o.length; s++) {
      const l = o[s].type;
      if ((l === Yr.emsg && !r) || !i) continue;
      const u = __(o[s].data);
      if (u) {
        const c = o[s].pts;
        let d = c + o[s].duration;
        d > Su && (d = Su), d - c <= 0 && (d = c + RI);
        for (let h = 0; h < u.length; h++) {
          const m = u[h];
          if (!y_(m)) {
            this.updateId3CueEnds(c, l);
            const g = new a(c, d, '');
            (g.value = m), l && (g.type = l), this.id3Track.addCue(g);
          }
        }
      }
    }
  }
  updateId3CueEnds(e, n) {
    var r;
    const i = (r = this.id3Track) == null ? void 0 : r.cues;
    if (i)
      for (let o = i.length; o--; ) {
        const a = i[o];
        a.type === n && a.startTime < e && a.endTime === Su && (a.endTime = e);
      }
  }
  onBufferFlushing(e, { startOffset: n, endOffset: r, type: i }) {
    const { id3Track: o, hls: a } = this;
    if (!a) return;
    const {
      config: { enableEmsgMetadataCues: s, enableID3MetadataCues: l },
    } = a;
    if (o && (s || l)) {
      let u;
      i === 'audio' ? (u = (c) => c.type === Yr.audioId3 && l) : i === 'video' ? (u = (c) => c.type === Yr.emsg && s) : (u = (c) => (c.type === Yr.audioId3 && l) || (c.type === Yr.emsg && s)),
        q0(o, n, r, u);
    }
  }
  onLevelUpdated(e, { details: n }) {
    if (!this.media || !n.hasProgramDateTime || !this.hls.config.enableDateRangeMetadataCues) return;
    const { dateRangeCuesAppended: r, id3Track: i } = this,
      { dateRanges: o } = n,
      a = Object.keys(o);
    if (i) {
      const c = Object.keys(r).filter((d) => !a.includes(d));
      for (let d = c.length; d--; ) {
        const f = c[d];
        Object.keys(r[f].cues).forEach((h) => {
          i.removeCue(r[f].cues[h]);
        }),
          delete r[f];
      }
    }
    const s = n.fragments[n.fragments.length - 1];
    if (a.length === 0 || !rt(s == null ? void 0 : s.programDateTime)) return;
    this.id3Track || (this.id3Track = this.createTrack(this.media));
    const l = s.programDateTime / 1e3 - s.start,
      u = Y0();
    for (let c = 0; c < a.length; c++) {
      const d = a[c],
        f = o[d],
        h = r[d],
        m = (h == null ? void 0 : h.cues) || {};
      let g = (h == null ? void 0 : h.durationKnown) || !1;
      const b = Vf(f.startDate, l);
      let _ = Su;
      const y = f.endDate;
      if (y) (_ = Vf(y, l)), (g = !0);
      else if (f.endOnNext && !g) {
        const w = a
          .reduce((I, O) => {
            const x = o[O];
            return x.class === f.class && x.id !== O && x.startDate > f.startDate && I.push(x), I;
          }, [])
          .sort((I, O) => I.startDate.getTime() - O.startDate.getTime())[0];
        w && ((_ = Vf(w.startDate, l)), (g = !0));
      }
      const T = Object.keys(f.attr);
      for (let w = 0; w < T.length; w++) {
        const I = T[w];
        if (!FL(I)) continue;
        let O = m[I];
        if (O) g && !h.durationKnown && (O.endTime = _);
        else {
          let x = f.attr[I];
          (O = new u(b, _, '')), NL(I) && (x = AI(x)), (O.value = { key: I, data: x }), (O.type = Yr.dateRange), (O.id = d), this.id3Track.addCue(O), (m[I] = O);
        }
      }
      r[d] = { cues: m, dateRange: f, durationKnown: g };
    }
  }
}
class II {
  constructor(e) {
    (this.hls = void 0),
      (this.config = void 0),
      (this.media = null),
      (this.levelDetails = null),
      (this.currentTime = 0),
      (this.stallCount = 0),
      (this._latency = null),
      (this.timeupdateHandler = () => this.timeupdate()),
      (this.hls = e),
      (this.config = e.config),
      this.registerListeners();
  }
  get latency() {
    return this._latency || 0;
  }
  get maxLatency() {
    const { config: e, levelDetails: n } = this;
    return e.liveMaxLatencyDuration !== void 0 ? e.liveMaxLatencyDuration : n ? e.liveMaxLatencyDurationCount * n.targetduration : 0;
  }
  get targetLatency() {
    const { levelDetails: e } = this;
    if (e === null) return null;
    const { holdBack: n, partHoldBack: r, targetduration: i } = e,
      { liveSyncDuration: o, liveSyncDurationCount: a, lowLatencyMode: s } = this.config,
      l = this.hls.userConfig;
    let u = (s && r) || n;
    (l.liveSyncDuration || l.liveSyncDurationCount || u === 0) && (u = o !== void 0 ? o : a * i);
    const c = i,
      d = 1;
    return u + Math.min(this.stallCount * d, c);
  }
  get liveSyncPosition() {
    const e = this.estimateLiveEdge(),
      n = this.targetLatency,
      r = this.levelDetails;
    if (e === null || n === null || r === null) return null;
    const i = r.edge,
      o = e - n - this.edgeStalled,
      a = i - r.totalduration,
      s = i - ((this.config.lowLatencyMode && r.partTarget) || r.targetduration);
    return Math.min(Math.max(a, o), s);
  }
  get drift() {
    const { levelDetails: e } = this;
    return e === null ? 1 : e.drift;
  }
  get edgeStalled() {
    const { levelDetails: e } = this;
    if (e === null) return 0;
    const n = ((this.config.lowLatencyMode && e.partTarget) || e.targetduration) * 3;
    return Math.max(e.age - n, 0);
  }
  get forwardBufferLength() {
    const { media: e, levelDetails: n } = this;
    if (!e || !n) return 0;
    const r = e.buffered.length;
    return (r ? e.buffered.end(r - 1) : n.edge) - this.currentTime;
  }
  destroy() {
    this.unregisterListeners(), this.onMediaDetaching(), (this.levelDetails = null), (this.hls = this.timeupdateHandler = null);
  }
  registerListeners() {
    this.hls.on(V.MEDIA_ATTACHED, this.onMediaAttached, this),
      this.hls.on(V.MEDIA_DETACHING, this.onMediaDetaching, this),
      this.hls.on(V.MANIFEST_LOADING, this.onManifestLoading, this),
      this.hls.on(V.LEVEL_UPDATED, this.onLevelUpdated, this),
      this.hls.on(V.ERROR, this.onError, this);
  }
  unregisterListeners() {
    this.hls.off(V.MEDIA_ATTACHED, this.onMediaAttached, this),
      this.hls.off(V.MEDIA_DETACHING, this.onMediaDetaching, this),
      this.hls.off(V.MANIFEST_LOADING, this.onManifestLoading, this),
      this.hls.off(V.LEVEL_UPDATED, this.onLevelUpdated, this),
      this.hls.off(V.ERROR, this.onError, this);
  }
  onMediaAttached(e, n) {
    (this.media = n.media), this.media.addEventListener('timeupdate', this.timeupdateHandler);
  }
  onMediaDetaching() {
    this.media && (this.media.removeEventListener('timeupdate', this.timeupdateHandler), (this.media = null));
  }
  onManifestLoading() {
    (this.levelDetails = null), (this._latency = null), (this.stallCount = 0);
  }
  onLevelUpdated(e, { details: n }) {
    (this.levelDetails = n), n.advanced && this.timeupdate(), !n.live && this.media && this.media.removeEventListener('timeupdate', this.timeupdateHandler);
  }
  onError(e, n) {
    var r;
    n.details === he.BUFFER_STALLED_ERROR && (this.stallCount++, (r = this.levelDetails) != null && r.live && le.warn('[playback-rate-controller]: Stall detected, adjusting target latency'));
  }
  timeupdate() {
    const { media: e, levelDetails: n } = this;
    if (!e || !n) return;
    this.currentTime = e.currentTime;
    const r = this.computeLatency();
    if (r === null) return;
    this._latency = r;
    const { lowLatencyMode: i, maxLiveSyncPlaybackRate: o } = this.config;
    if (!i || o === 1) return;
    const a = this.targetLatency;
    if (a === null) return;
    const s = r - a,
      l = Math.min(this.maxLatency, a + n.targetduration),
      u = s < l;
    if (n.live && u && s > 0.05 && this.forwardBufferLength > 1) {
      const c = Math.min(2, Math.max(1, o)),
        d = Math.round((2 / (1 + Math.exp(-0.75 * s - this.edgeStalled))) * 20) / 20;
      e.playbackRate = Math.min(c, Math.max(1, d));
    } else e.playbackRate !== 1 && e.playbackRate !== 0 && (e.playbackRate = 1);
  }
  estimateLiveEdge() {
    const { levelDetails: e } = this;
    return e === null ? null : e.edge + e.age;
  }
  computeLatency() {
    const e = this.estimateLiveEdge();
    return e === null ? null : e - this.currentTime;
  }
}
const X0 = ['NONE', 'TYPE-0', 'TYPE-1', null];
var Qs = { No: '', Yes: 'YES', v2: 'v2' };
function DI(t, e) {
  const { canSkipUntil: n, canSkipDateRanges: r, endSN: i } = t,
    o = e !== void 0 ? e - i : 0;
  return n && o < n ? (r ? Qs.v2 : Qs.Yes) : Qs.No;
}
class Xv {
  constructor(e, n, r) {
    (this.msn = void 0), (this.part = void 0), (this.skip = void 0), (this.msn = e), (this.part = n), (this.skip = r);
  }
  addDirectives(e) {
    const n = new self.URL(e);
    return (
      this.msn !== void 0 && n.searchParams.set('_HLS_msn', this.msn.toString()),
      this.part !== void 0 && n.searchParams.set('_HLS_part', this.part.toString()),
      this.skip && n.searchParams.set('_HLS_skip', this.skip),
      n.href
    );
  }
}
class xl {
  constructor(e) {
    (this._attrs = void 0),
      (this.audioCodec = void 0),
      (this.bitrate = void 0),
      (this.codecSet = void 0),
      (this.height = void 0),
      (this.id = void 0),
      (this.name = void 0),
      (this.videoCodec = void 0),
      (this.width = void 0),
      (this.unknownCodecs = void 0),
      (this.audioGroupIds = void 0),
      (this.details = void 0),
      (this.fragmentError = 0),
      (this.loadError = 0),
      (this.loaded = void 0),
      (this.realBitrate = 0),
      (this.textGroupIds = void 0),
      (this.url = void 0),
      (this._urlId = 0),
      (this.url = [e.url]),
      (this._attrs = [e.attrs]),
      (this.bitrate = e.bitrate),
      e.details && (this.details = e.details),
      (this.id = e.id || 0),
      (this.name = e.name),
      (this.width = e.width || 0),
      (this.height = e.height || 0),
      (this.audioCodec = e.audioCodec),
      (this.videoCodec = e.videoCodec),
      (this.unknownCodecs = e.unknownCodecs),
      (this.codecSet = [e.videoCodec, e.audioCodec]
        .filter((n) => n)
        .join(',')
        .replace(/\.[^.,]+/g, ''));
  }
  get maxBitrate() {
    return Math.max(this.realBitrate, this.bitrate);
  }
  get attrs() {
    return this._attrs[this._urlId];
  }
  get pathwayId() {
    return this.attrs['PATHWAY-ID'] || '.';
  }
  get uri() {
    return this.url[this._urlId] || '';
  }
  get urlId() {
    return this._urlId;
  }
  set urlId(e) {
    const n = e % this.url.length;
    this._urlId !== n && ((this.fragmentError = 0), (this.loadError = 0), (this.details = void 0), (this._urlId = n));
  }
  get audioGroupId() {
    var e;
    return (e = this.audioGroupIds) == null ? void 0 : e[this.urlId];
  }
  get textGroupId() {
    var e;
    return (e = this.textGroupIds) == null ? void 0 : e[this.urlId];
  }
  addFallback(e) {
    this.url.push(e.url), this._attrs.push(e.attrs);
  }
}
function Hf(t, e) {
  const n = e.startPTS;
  if (rt(n)) {
    let r = 0,
      i;
    e.sn > t.sn ? ((r = n - t.start), (i = t)) : ((r = t.start - n), (i = e)), i.duration !== r && (i.duration = r);
  } else e.sn > t.sn ? (t.cc === e.cc && t.minEndPTS ? (e.start = t.start + (t.minEndPTS - t.start)) : (e.start = t.start + t.duration)) : (e.start = Math.max(t.start - e.duration, 0));
}
function I_(t, e, n, r, i, o) {
  r - n <= 0 && (le.warn('Fragment should have a positive duration', e), (r = n + e.duration), (o = i + e.duration));
  let s = n,
    l = r;
  const u = e.startPTS,
    c = e.endPTS;
  if (rt(u)) {
    const b = Math.abs(u - n);
    rt(e.deltaPTS) ? (e.deltaPTS = Math.max(b, e.deltaPTS)) : (e.deltaPTS = b),
      (s = Math.max(n, u)),
      (n = Math.min(n, u)),
      (i = Math.min(i, e.startDTS)),
      (l = Math.min(r, c)),
      (r = Math.max(r, c)),
      (o = Math.max(o, e.endDTS));
  }
  const d = n - e.start;
  e.start !== 0 && (e.start = n), (e.duration = r - e.start), (e.startPTS = n), (e.maxStartPTS = s), (e.startDTS = i), (e.endPTS = r), (e.minEndPTS = l), (e.endDTS = o);
  const f = e.sn;
  if (!t || f < t.startSN || f > t.endSN) return 0;
  let h;
  const m = f - t.startSN,
    g = t.fragments;
  for (g[m] = e, h = m; h > 0; h--) Hf(g[h], g[h - 1]);
  for (h = m; h < g.length - 1; h++) Hf(g[h], g[h + 1]);
  return t.fragmentHint && Hf(g[g.length - 1], t.fragmentHint), (t.PTSKnown = t.alignedSliding = !0), d;
}
function PI(t, e) {
  let n = null;
  const r = t.fragments;
  for (let l = r.length - 1; l >= 0; l--) {
    const u = r[l].initSegment;
    if (u) {
      n = u;
      break;
    }
  }
  t.fragmentHint && delete t.fragmentHint.endPTS;
  let i = 0,
    o;
  if (
    (MI(t, e, (l, u) => {
      l.relurl && (i = l.cc - u.cc),
        rt(l.startPTS) &&
          rt(l.endPTS) &&
          ((u.start = u.startPTS = l.startPTS),
          (u.startDTS = l.startDTS),
          (u.maxStartPTS = l.maxStartPTS),
          (u.endPTS = l.endPTS),
          (u.endDTS = l.endDTS),
          (u.minEndPTS = l.minEndPTS),
          (u.duration = l.endPTS - l.startPTS),
          u.duration && (o = u),
          (e.PTSKnown = e.alignedSliding = !0)),
        (u.elementaryStreams = l.elementaryStreams),
        (u.loader = l.loader),
        (u.stats = l.stats),
        (u.urlId = l.urlId),
        l.initSegment && ((u.initSegment = l.initSegment), (n = l.initSegment));
    }),
    n &&
      (e.fragmentHint ? e.fragments.concat(e.fragmentHint) : e.fragments).forEach((u) => {
        var c;
        (!u.initSegment || u.initSegment.relurl === ((c = n) == null ? void 0 : c.relurl)) && (u.initSegment = n);
      }),
    e.skippedSegments)
  )
    if (((e.deltaUpdateFailed = e.fragments.some((l) => !l)), e.deltaUpdateFailed)) {
      le.warn('[level-helper] Previous playlist missing segments skipped in delta playlist');
      for (let l = e.skippedSegments; l--; ) e.fragments.shift();
      (e.startSN = e.fragments[0].sn), (e.startCC = e.fragments[0].cc);
    } else e.canSkipDateRanges && (e.dateRanges = OI(t.dateRanges, e.dateRanges, e.recentlyRemovedDateranges));
  const a = e.fragments;
  if (i) {
    le.warn('discontinuity sliding from playlist, take drift into account');
    for (let l = 0; l < a.length; l++) a[l].cc += i;
  }
  e.skippedSegments && (e.startCC = e.fragments[0].cc),
    kI(t.partList, e.partList, (l, u) => {
      (u.elementaryStreams = l.elementaryStreams), (u.stats = l.stats);
    }),
    o ? I_(e, o, o.startPTS, o.endPTS, o.startDTS, o.endDTS) : D_(t, e),
    a.length && (e.totalduration = e.edge - a[0].start),
    (e.driftStartTime = t.driftStartTime),
    (e.driftStart = t.driftStart);
  const s = e.advancedDateTime;
  if (e.advanced && s) {
    const l = e.edge;
    e.driftStart || ((e.driftStartTime = s), (e.driftStart = l)), (e.driftEndTime = s), (e.driftEnd = l);
  } else (e.driftEndTime = t.driftEndTime), (e.driftEnd = t.driftEnd), (e.advancedDateTime = t.advancedDateTime);
}
function OI(t, e, n) {
  const r = Pn({}, t);
  return (
    n &&
      n.forEach((i) => {
        delete r[i];
      }),
    Object.keys(e).forEach((i) => {
      const o = new f_(e[i].attr, r[i]);
      o.isValid ? (r[i] = o) : le.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(e[i].attr)}"`);
    }),
    r
  );
}
function kI(t, e, n) {
  if (t && e) {
    let r = 0;
    for (let i = 0, o = t.length; i <= o; i++) {
      const a = t[i],
        s = e[i + r];
      a && s && a.index === s.index && a.fragment.sn === s.fragment.sn ? n(a, s) : r--;
    }
  }
}
function MI(t, e, n) {
  const r = e.skippedSegments,
    i = Math.max(t.startSN, e.startSN) - e.startSN,
    o = (t.fragmentHint ? 1 : 0) + (r ? e.endSN : Math.min(t.endSN, e.endSN)) - e.startSN,
    a = e.startSN - t.startSN,
    s = e.fragmentHint ? e.fragments.concat(e.fragmentHint) : e.fragments,
    l = t.fragmentHint ? t.fragments.concat(t.fragmentHint) : t.fragments;
  for (let u = i; u <= o; u++) {
    const c = l[a + u];
    let d = s[u];
    r && !d && u < r && (d = e.fragments[u] = c), c && d && n(c, d);
  }
}
function D_(t, e) {
  const n = e.startSN + e.skippedSegments - t.startSN,
    r = t.fragments;
  n < 0 || n >= r.length || Q0(e, r[n].start);
}
function Q0(t, e) {
  if (e) {
    const n = t.fragments;
    for (let r = t.skippedSegments; r < n.length; r++) n[r].start += e;
    t.fragmentHint && (t.fragmentHint.start += e);
  }
}
function FI(t, e = 1 / 0) {
  let n = 1e3 * t.targetduration;
  if (t.updated) {
    const r = t.fragments,
      i = 4;
    if (r.length && n * i > e) {
      const o = r[r.length - 1].duration * 1e3;
      o < n && (n = o);
    }
  } else n /= 2;
  return Math.round(n);
}
function NI(t, e, n) {
  if (!(t != null && t.details)) return null;
  const r = t.details;
  let i = r.fragments[e - r.startSN];
  return i || ((i = r.fragmentHint), i && i.sn === e) ? i : e < r.startSN && n && n.sn === e ? n : null;
}
function Qv(t, e, n) {
  var r;
  return t != null && t.details ? P_((r = t.details) == null ? void 0 : r.partList, e, n) : null;
}
function P_(t, e, n) {
  if (t)
    for (let r = t.length; r--; ) {
      const i = t[r];
      if (i.index === n && i.fragment.sn === e) return i;
    }
  return null;
}
function Uc(t) {
  switch (t.details) {
    case he.FRAG_LOAD_TIMEOUT:
    case he.KEY_LOAD_TIMEOUT:
    case he.LEVEL_LOAD_TIMEOUT:
    case he.MANIFEST_LOAD_TIMEOUT:
      return !0;
  }
  return !1;
}
function Zv(t, e) {
  const n = Uc(e);
  return t.default[`${n ? 'timeout' : 'error'}Retry`];
}
function Bp(t, e) {
  const n = t.backoff === 'linear' ? 1 : Math.pow(2, e);
  return Math.min(n * t.retryDelayMs, t.maxRetryDelayMs);
}
function Jv(t) {
  return cr(cr({}, t), { errorRetry: null, timeoutRetry: null });
}
function zc(t, e, n, r) {
  return !!t && e < t.maxNumRetry && ($I(r) || !!n);
}
function $I(t) {
  return (t === 0 && navigator.onLine === !1) || (!!t && (t < 400 || t > 499));
}
const O_ = {
  search: function (t, e) {
    let n = 0,
      r = t.length - 1,
      i = null,
      o = null;
    for (; n <= r; ) {
      (i = ((n + r) / 2) | 0), (o = t[i]);
      const a = e(o);
      if (a > 0) n = i + 1;
      else if (a < 0) r = i - 1;
      else return o;
    }
    return null;
  },
};
function BI(t, e, n) {
  if (e === null || !Array.isArray(t) || !t.length || !rt(e)) return null;
  const r = t[0].programDateTime;
  if (e < (r || 0)) return null;
  const i = t[t.length - 1].endProgramDateTime;
  if (e >= (i || 0)) return null;
  n = n || 0;
  for (let o = 0; o < t.length; ++o) {
    const a = t[o];
    if (UI(e, n, a)) return a;
  }
  return null;
}
function Tl(t, e, n = 0, r = 0) {
  let i = null;
  if ((t ? (i = e[t.sn - e[0].sn + 1] || null) : n === 0 && e[0].start === 0 && (i = e[0]), i && Z0(n, r, i) === 0)) return i;
  const o = O_.search(e, Z0.bind(null, n, r));
  return o && (o !== t || !i) ? o : i;
}
function Z0(t = 0, e = 0, n) {
  if (n.start <= t && n.start + n.duration > t) return 0;
  const r = Math.min(e, n.duration + (n.deltaPTS ? n.deltaPTS : 0));
  return n.start + n.duration - r <= t ? 1 : n.start - r > t && n.start ? -1 : 0;
}
function UI(t, e, n) {
  const r = Math.min(e, n.duration + (n.deltaPTS ? n.deltaPTS : 0)) * 1e3;
  return (n.endProgramDateTime || 0) - r > t;
}
function zI(t, e) {
  return O_.search(t, (n) => (n.cc < e ? 1 : n.cc > e ? -1 : 0));
}
const VI = 3e5;
var Xn = { DoNothing: 0, SendEndCallback: 1, SendAlternateToPenaltyBox: 2, RemoveAlternatePermanently: 3, InsertDiscontinuity: 4, RetryRequest: 5 },
  Vr = { None: 0, MoveAllAlternatesMatchingHost: 1, MoveAllAlternatesMatchingHDCP: 2, SwitchToSDR: 4 };
class HI {
  constructor(e) {
    (this.hls = void 0),
      (this.playlistError = 0),
      (this.penalizedRenditions = {}),
      (this.log = void 0),
      (this.warn = void 0),
      (this.error = void 0),
      (this.hls = e),
      (this.log = le.log.bind(le, '[info]:')),
      (this.warn = le.warn.bind(le, '[warning]:')),
      (this.error = le.error.bind(le, '[error]:')),
      this.registerListeners();
  }
  registerListeners() {
    const e = this.hls;
    e.on(V.ERROR, this.onError, this), e.on(V.MANIFEST_LOADING, this.onManifestLoading, this), e.on(V.LEVEL_UPDATED, this.onLevelUpdated, this);
  }
  unregisterListeners() {
    const e = this.hls;
    e && (e.off(V.ERROR, this.onError, this), e.off(V.ERROR, this.onErrorOut, this), e.off(V.MANIFEST_LOADING, this.onManifestLoading, this), e.off(V.LEVEL_UPDATED, this.onLevelUpdated, this));
  }
  destroy() {
    this.unregisterListeners(), (this.hls = null), (this.penalizedRenditions = {});
  }
  startLoad(e) {
    this.playlistError = 0;
  }
  stopLoad() {}
  getVariantLevelIndex(e) {
    return (e == null ? void 0 : e.type) === lt.MAIN ? e.level : this.hls.loadLevel;
  }
  onManifestLoading() {
    (this.playlistError = 0), (this.penalizedRenditions = {});
  }
  onLevelUpdated() {
    this.playlistError = 0;
  }
  onError(e, n) {
    var r;
    if (n.fatal) return;
    const i = this.hls,
      o = n.context;
    switch (n.details) {
      case he.FRAG_LOAD_ERROR:
      case he.FRAG_LOAD_TIMEOUT:
      case he.KEY_LOAD_ERROR:
      case he.KEY_LOAD_TIMEOUT:
        n.errorAction = this.getFragRetryOrSwitchAction(n);
        return;
      case he.FRAG_GAP:
      case he.FRAG_PARSING_ERROR:
      case he.FRAG_DECRYPT_ERROR: {
        (n.errorAction = this.getFragRetryOrSwitchAction(n)), (n.errorAction.action = Xn.SendAlternateToPenaltyBox);
        return;
      }
      case he.LEVEL_EMPTY_ERROR:
      case he.LEVEL_PARSING_ERROR:
        {
          var a, s;
          const l = n.parent === lt.MAIN ? n.level : i.loadLevel;
          n.details === he.LEVEL_EMPTY_ERROR && (a = n.context) != null && (s = a.levelDetails) != null && s.live
            ? (n.errorAction = this.getPlaylistRetryOrSwitchAction(n, l))
            : ((n.levelRetry = !1), (n.errorAction = this.getLevelSwitchAction(n, l)));
        }
        return;
      case he.LEVEL_LOAD_ERROR:
      case he.LEVEL_LOAD_TIMEOUT:
        typeof (o == null ? void 0 : o.level) == 'number' && (n.errorAction = this.getPlaylistRetryOrSwitchAction(n, o.level));
        return;
      case he.AUDIO_TRACK_LOAD_ERROR:
      case he.AUDIO_TRACK_LOAD_TIMEOUT:
      case he.SUBTITLE_LOAD_ERROR:
      case he.SUBTITLE_TRACK_LOAD_TIMEOUT:
        if (o) {
          const l = i.levels[i.loadLevel];
          if (l && ((o.type === Ot.AUDIO_TRACK && o.groupId === l.audioGroupId) || (o.type === Ot.SUBTITLE_TRACK && o.groupId === l.textGroupId))) {
            (n.errorAction = this.getPlaylistRetryOrSwitchAction(n, i.loadLevel)), (n.errorAction.action = Xn.SendAlternateToPenaltyBox), (n.errorAction.flags = Vr.MoveAllAlternatesMatchingHost);
            return;
          }
        }
        return;
      case he.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:
        {
          const l = i.levels[i.loadLevel],
            u = l == null ? void 0 : l.attrs['HDCP-LEVEL'];
          u && (n.errorAction = { action: Xn.SendAlternateToPenaltyBox, flags: Vr.MoveAllAlternatesMatchingHDCP, hdcpLevel: u });
        }
        return;
      case he.BUFFER_ADD_CODEC_ERROR:
      case he.REMUX_ALLOC_ERROR:
        n.errorAction = this.getLevelSwitchAction(n, (r = n.level) != null ? r : i.loadLevel);
        return;
      case he.INTERNAL_EXCEPTION:
      case he.BUFFER_APPENDING_ERROR:
      case he.BUFFER_APPEND_ERROR:
      case he.BUFFER_FULL_ERROR:
      case he.LEVEL_SWITCH_ERROR:
      case he.BUFFER_STALLED_ERROR:
      case he.BUFFER_SEEK_OVER_HOLE:
      case he.BUFFER_NUDGE_ON_STALL:
        n.errorAction = { action: Xn.DoNothing, flags: Vr.None };
        return;
    }
    if (n.type === at.KEY_SYSTEM_ERROR) {
      const l = this.getVariantLevelIndex(n.frag);
      (n.levelRetry = !1), (n.errorAction = this.getLevelSwitchAction(n, l));
      return;
    }
  }
  getPlaylistRetryOrSwitchAction(e, n) {
    var r;
    const i = this.hls,
      o = Zv(i.config.playlistLoadPolicy, e),
      a = this.playlistError++,
      s = (r = e.response) == null ? void 0 : r.code;
    if (zc(o, a, Uc(e), s)) return { action: Xn.RetryRequest, flags: Vr.None, retryConfig: o, retryCount: a };
    const u = this.getLevelSwitchAction(e, n);
    return o && ((u.retryConfig = o), (u.retryCount = a)), u;
  }
  getFragRetryOrSwitchAction(e) {
    const n = this.hls,
      r = this.getVariantLevelIndex(e.frag),
      i = n.levels[r],
      { fragLoadPolicy: o, keyLoadPolicy: a } = n.config,
      s = Zv(e.details.startsWith('key') ? a : o, e),
      l = n.levels.reduce((d, f) => d + f.fragmentError, 0);
    if (i) {
      var u;
      e.details !== he.FRAG_GAP && i.fragmentError++;
      const d = (u = e.response) == null ? void 0 : u.code;
      if (zc(s, l, Uc(e), d)) return { action: Xn.RetryRequest, flags: Vr.None, retryConfig: s, retryCount: l };
    }
    const c = this.getLevelSwitchAction(e, r);
    return s && ((c.retryConfig = s), (c.retryCount = l)), c;
  }
  getLevelSwitchAction(e, n) {
    const r = this.hls;
    n == null && (n = r.loadLevel);
    const i = this.hls.levels[n];
    if (i && (i.loadError++, r.autoLevelEnabled)) {
      var o, a;
      let s = -1;
      const { levels: l, loadLevel: u, minAutoLevel: c, maxAutoLevel: d } = r,
        f = (o = e.frag) == null ? void 0 : o.type,
        { type: h, groupId: m } = (a = e.context) != null ? a : {};
      for (let g = l.length; g--; ) {
        const b = (g + u) % l.length;
        if (b !== u && b >= c && b <= d && l[b].loadError === 0) {
          const _ = l[b];
          if (e.details === he.FRAG_GAP && e.frag) {
            const y = l[b].details;
            if (y) {
              const T = Tl(e.frag, y.fragments, e.frag.start);
              if (T != null && T.gap) continue;
            }
          } else {
            if ((h === Ot.AUDIO_TRACK && m === _.audioGroupId) || (h === Ot.SUBTITLE_TRACK && m === _.textGroupId)) continue;
            if ((f === lt.AUDIO && i.audioGroupId === _.audioGroupId) || (f === lt.SUBTITLE && i.textGroupId === _.textGroupId)) continue;
          }
          s = b;
          break;
        }
      }
      if (s > -1 && r.loadLevel !== s) return (e.levelRetry = !0), (this.playlistError = 0), { action: Xn.SendAlternateToPenaltyBox, flags: Vr.None, nextAutoLevel: s };
    }
    return { action: Xn.SendAlternateToPenaltyBox, flags: Vr.MoveAllAlternatesMatchingHost };
  }
  onErrorOut(e, n) {
    var r;
    switch ((r = n.errorAction) == null ? void 0 : r.action) {
      case Xn.DoNothing:
        break;
      case Xn.SendAlternateToPenaltyBox:
        this.sendAlternateToPenaltyBox(n), !n.errorAction.resolved && n.details !== he.FRAG_GAP && (n.fatal = !0);
        break;
    }
    if (n.fatal) {
      this.hls.stopLoad();
      return;
    }
  }
  sendAlternateToPenaltyBox(e) {
    const n = this.hls,
      r = e.errorAction;
    if (!r) return;
    const { flags: i, hdcpLevel: o, nextAutoLevel: a } = r;
    switch (i) {
      case Vr.None:
        this.switchLevel(e, a);
        break;
      case Vr.MoveAllAlternatesMatchingHost:
        r.resolved || (r.resolved = this.redundantFailover(e));
        break;
      case Vr.MoveAllAlternatesMatchingHDCP:
        o && ((n.maxHdcpLevel = X0[X0.indexOf(o) - 1]), (r.resolved = !0)), this.warn(`Restricting playback to HDCP-LEVEL of "${n.maxHdcpLevel}" or lower`);
        break;
    }
    r.resolved || this.switchLevel(e, a);
  }
  switchLevel(e, n) {
    n !== void 0 &&
      e.errorAction &&
      (this.warn(`switching to level ${n} after ${e.details}`), (this.hls.nextAutoLevel = n), (e.errorAction.resolved = !0), (this.hls.nextLoadLevel = this.hls.nextAutoLevel));
  }
  redundantFailover(e) {
    const { hls: n, penalizedRenditions: r } = this,
      i = e.parent === lt.MAIN ? e.level : n.loadLevel,
      o = n.levels[i],
      a = o.url.length,
      s = e.frag ? e.frag.urlId : o.urlId;
    o.urlId === s && (!e.frag || o.details) && this.penalizeRendition(o, e);
    for (let l = 1; l < a; l++) {
      const u = (s + l) % a,
        c = r[u];
      if (!c || jI(c, e, r[s]))
        return (
          this.warn(`Switching to Redundant Stream ${u + 1}/${a}: "${o.url[u]}" after ${e.details}`),
          (this.playlistError = 0),
          n.levels.forEach((d) => {
            d.urlId = u;
          }),
          (n.nextLoadLevel = i),
          !0
        );
    }
    return !1;
  }
  penalizeRendition(e, n) {
    const { penalizedRenditions: r } = this,
      i = r[e.urlId] || { lastErrorPerfMs: 0, errors: [], details: void 0 };
    (i.lastErrorPerfMs = performance.now()), i.errors.push(n), (i.details = e.details), (r[e.urlId] = i);
  }
}
function jI(t, e, n) {
  if (performance.now() - t.lastErrorPerfMs > VI) return !0;
  const r = t.details;
  if (e.details === he.FRAG_GAP && r && e.frag) {
    const i = e.frag.start,
      o = Tl(null, r.fragments, i);
    if (o && !o.gap) return !0;
  }
  if (n && t.errors.length < n.errors.length) {
    const i = t.errors[t.errors.length - 1];
    if (r && i.frag && e.frag && Math.abs(i.frag.start - e.frag.start) > r.targetduration * 3) return !0;
  }
  return !1;
}
class Up {
  constructor(e, n) {
    (this.hls = void 0),
      (this.timer = -1),
      (this.requestScheduled = -1),
      (this.canLoad = !1),
      (this.log = void 0),
      (this.warn = void 0),
      (this.log = le.log.bind(le, `${n}:`)),
      (this.warn = le.warn.bind(le, `${n}:`)),
      (this.hls = e);
  }
  destroy() {
    this.clearTimer(), (this.hls = this.log = this.warn = null);
  }
  clearTimer() {
    clearTimeout(this.timer), (this.timer = -1);
  }
  startLoad() {
    (this.canLoad = !0), (this.requestScheduled = -1), this.loadPlaylist();
  }
  stopLoad() {
    (this.canLoad = !1), this.clearTimer();
  }
  switchParams(e, n) {
    const r = n == null ? void 0 : n.renditionReports;
    if (r) {
      let i = -1;
      for (let o = 0; o < r.length; o++) {
        const a = r[o];
        let s;
        try {
          s = new self.URL(a.URI, n.url).href;
        } catch (l) {
          le.warn(`Could not construct new URL for Rendition Report: ${l}`), (s = a.URI || '');
        }
        if (s === e) {
          i = o;
          break;
        } else s === e.substring(0, s.length) && (i = o);
      }
      if (i !== -1) {
        const o = r[i],
          a = parseInt(o['LAST-MSN']) || (n == null ? void 0 : n.lastPartSn);
        let s = parseInt(o['LAST-PART']) || (n == null ? void 0 : n.lastPartIndex);
        if (this.hls.config.lowLatencyMode) {
          const l = Math.min(n.age - n.partTarget, n.targetduration);
          s >= 0 && l > n.partTarget && (s += 1);
        }
        return new Xv(a, s >= 0 ? s : void 0, Qs.No);
      }
    }
  }
  loadPlaylist(e) {
    this.requestScheduled === -1 && (this.requestScheduled = self.performance.now());
  }
  shouldLoadPlaylist(e) {
    return this.canLoad && !!e && !!e.url && (!e.details || e.details.live);
  }
  shouldReloadPlaylist(e) {
    return this.timer === -1 && this.requestScheduled === -1 && this.shouldLoadPlaylist(e);
  }
  playlistLoaded(e, n, r) {
    const { details: i, stats: o } = n,
      a = self.performance.now(),
      s = o.loading.first ? Math.max(0, a - o.loading.first) : 0;
    if (((i.advancedDateTime = Date.now() - s), i.live || (r != null && r.live))) {
      if (
        (i.reloaded(r),
        r && this.log(`live playlist ${e} ${i.advanced ? 'REFRESHED ' + i.lastPartSn + '-' + i.lastPartIndex : 'MISSED'}`),
        r && i.fragments.length > 0 && PI(r, i),
        !this.canLoad || !i.live)
      )
        return;
      let l, u, c;
      if (i.canBlockReload && i.endSN && i.advanced) {
        const b = this.hls.config.lowLatencyMode,
          _ = i.lastPartSn,
          y = i.endSN,
          T = i.lastPartIndex,
          w = T !== -1,
          I = _ === y,
          O = b ? 0 : T;
        w ? ((u = I ? y + 1 : _), (c = I ? O : T + 1)) : (u = y + 1);
        const x = i.age,
          L = x + i.ageHeader;
        let D = Math.min(L - i.partTarget, i.targetduration * 1.5);
        if (D > 0) {
          if (r && D > r.tuneInGoal) this.warn(`CDN Tune-in goal increased from: ${r.tuneInGoal} to: ${D} with playlist age: ${i.age}`), (D = 0);
          else {
            const C = Math.floor(D / i.targetduration);
            if (((u += C), c !== void 0)) {
              const G = Math.round((D % i.targetduration) / i.partTarget);
              c += G;
            }
            this.log(`CDN Tune-in age: ${i.ageHeader}s last advanced ${x.toFixed(2)}s goal: ${D} skip sn ${C} to part ${c}`);
          }
          i.tuneInGoal = D;
        }
        if (((l = this.getDeliveryDirectives(i, n.deliveryDirectives, u, c)), b || !I)) {
          this.loadPlaylist(l);
          return;
        }
      } else i.canBlockReload && (l = this.getDeliveryDirectives(i, n.deliveryDirectives, u, c));
      const d = this.hls.mainForwardBufferInfo,
        f = d ? d.end - d.len : 0,
        h = (i.edge - f) * 1e3,
        m = FI(i, h);
      i.updated && a > this.requestScheduled + m && (this.requestScheduled = o.loading.start),
        u !== void 0 && i.canBlockReload
          ? (this.requestScheduled = o.loading.first + m - (i.partTarget * 1e3 || 1e3))
          : this.requestScheduled === -1 || this.requestScheduled + m < a
          ? (this.requestScheduled = a)
          : this.requestScheduled - a <= 0 && (this.requestScheduled += m);
      let g = this.requestScheduled - a;
      (g = Math.max(0, g)), this.log(`reload live playlist ${e} in ${Math.round(g)} ms`), (this.timer = self.setTimeout(() => this.loadPlaylist(l), g));
    } else this.clearTimer();
  }
  getDeliveryDirectives(e, n, r, i) {
    let o = DI(e, r);
    return n != null && n.skip && e.deltaUpdateFailed && ((r = n.msn), (i = n.part), (o = Qs.No)), new Xv(r, i, o);
  }
  checkRetry(e) {
    const n = e.details,
      r = Uc(e),
      i = e.errorAction,
      { action: o, retryCount: a = 0, retryConfig: s } = i || {},
      l = !!i && !!s && (o === Xn.RetryRequest || (!i.resolved && o === Xn.SendAlternateToPenaltyBox));
    if (l) {
      var u;
      if (((this.requestScheduled = -1), a >= s.maxNumRetry)) return !1;
      if (r && (u = e.context) != null && u.deliveryDirectives) this.warn(`Retrying playlist loading ${a + 1}/${s.maxNumRetry} after "${n}" without delivery-directives`), this.loadPlaylist();
      else {
        const c = Bp(s, a);
        (this.timer = self.setTimeout(() => this.loadPlaylist(), c)), this.warn(`Retrying playlist loading ${a + 1}/${s.maxNumRetry} after "${n}" in ${c}ms`);
      }
      (e.levelRetry = !0), (i.resolved = !0);
    }
    return l;
  }
}
let jf;
class GI extends Up {
  constructor(e, n) {
    super(e, '[level-controller]'),
      (this._levels = []),
      (this._firstLevel = -1),
      (this._startLevel = void 0),
      (this.currentLevel = null),
      (this.currentLevelIndex = -1),
      (this.manualLevelIndex = -1),
      (this.steering = void 0),
      (this.onParsedComplete = void 0),
      (this.steering = n),
      this._registerListeners();
  }
  _registerListeners() {
    const { hls: e } = this;
    e.on(V.MANIFEST_LOADING, this.onManifestLoading, this),
      e.on(V.MANIFEST_LOADED, this.onManifestLoaded, this),
      e.on(V.LEVEL_LOADED, this.onLevelLoaded, this),
      e.on(V.LEVELS_UPDATED, this.onLevelsUpdated, this),
      e.on(V.AUDIO_TRACK_SWITCHED, this.onAudioTrackSwitched, this),
      e.on(V.FRAG_LOADED, this.onFragLoaded, this),
      e.on(V.ERROR, this.onError, this);
  }
  _unregisterListeners() {
    const { hls: e } = this;
    e.off(V.MANIFEST_LOADING, this.onManifestLoading, this),
      e.off(V.MANIFEST_LOADED, this.onManifestLoaded, this),
      e.off(V.LEVEL_LOADED, this.onLevelLoaded, this),
      e.off(V.LEVELS_UPDATED, this.onLevelsUpdated, this),
      e.off(V.AUDIO_TRACK_SWITCHED, this.onAudioTrackSwitched, this),
      e.off(V.FRAG_LOADED, this.onFragLoaded, this),
      e.off(V.ERROR, this.onError, this);
  }
  destroy() {
    this._unregisterListeners(), (this.steering = null), this.resetLevels(), super.destroy();
  }
  startLoad() {
    this._levels.forEach((n) => {
      (n.loadError = 0), (n.fragmentError = 0);
    }),
      super.startLoad();
  }
  resetLevels() {
    (this._startLevel = void 0), (this.manualLevelIndex = -1), (this.currentLevelIndex = -1), (this.currentLevel = null), (this._levels = []);
  }
  onManifestLoading(e, n) {
    this.resetLevels();
  }
  onManifestLoaded(e, n) {
    const r = [],
      i = {};
    let o;
    n.levels.forEach((a) => {
      var s;
      const l = a.attrs;
      ((s = a.audioCodec) == null ? void 0 : s.indexOf('mp4a.40.34')) !== -1 && (jf || (jf = /chrome|firefox/i.test(navigator.userAgent)), jf && (a.audioCodec = void 0));
      const { AUDIO: u, CODECS: c, 'FRAME-RATE': d, 'PATHWAY-ID': f, RESOLUTION: h, SUBTITLES: m } = l,
        b = `${`${f || '.'}-`}${a.bitrate}-${h}-${d}-${c}`;
      (o = i[b]), o ? o.addFallback(a) : ((o = new xl(a)), (i[b] = o), r.push(o)), Vc(o, 'audio', u), Vc(o, 'text', m);
    }),
      this.filterAndSortMediaOptions(r, n);
  }
  filterAndSortMediaOptions(e, n) {
    let r = [],
      i = [],
      o = !1,
      a = !1,
      s = !1,
      l = e.filter(
        ({ audioCodec: h, videoCodec: m, width: g, height: b, unknownCodecs: _ }) => (
          o || (o = !!(g && b)), a || (a = !!m), s || (s = !!h), !(_ != null && _.length) && (!h || Uf(h, 'audio')) && (!m || Uf(m, 'video'))
        ),
      );
    if (((o || a) && s && (l = l.filter(({ videoCodec: h, width: m, height: g }) => !!h || !!(m && g))), l.length === 0)) {
      Promise.resolve().then(() => {
        if (this.hls) {
          const h = new Error('no level with compatible codecs found in manifest');
          this.hls.trigger(V.ERROR, { type: at.MEDIA_ERROR, details: he.MANIFEST_INCOMPATIBLE_CODECS_ERROR, fatal: !0, url: n.url, error: h, reason: h.message });
        }
      });
      return;
    }
    n.audioTracks && ((r = n.audioTracks.filter((h) => !h.audioCodec || Uf(h.audioCodec, 'audio'))), e2(r)), n.subtitles && ((i = n.subtitles), e2(i));
    const u = l.slice(0);
    l.sort((h, m) =>
      h.attrs['HDCP-LEVEL'] !== m.attrs['HDCP-LEVEL']
        ? (h.attrs['HDCP-LEVEL'] || '') > (m.attrs['HDCP-LEVEL'] || '')
          ? 1
          : -1
        : h.bitrate !== m.bitrate
        ? h.bitrate - m.bitrate
        : h.attrs['FRAME-RATE'] !== m.attrs['FRAME-RATE']
        ? h.attrs.decimalFloatingPoint('FRAME-RATE') - m.attrs.decimalFloatingPoint('FRAME-RATE')
        : h.attrs.SCORE !== m.attrs.SCORE
        ? h.attrs.decimalFloatingPoint('SCORE') - m.attrs.decimalFloatingPoint('SCORE')
        : o && h.height !== m.height
        ? h.height - m.height
        : 0,
    );
    let c = u[0];
    if (this.steering && ((l = this.steering.filterParsedLevels(l)), l.length !== u.length)) {
      for (let h = 0; h < u.length; h++)
        if (u[h].pathwayId === l[0].pathwayId) {
          c = u[h];
          break;
        }
    }
    this._levels = l;
    for (let h = 0; h < l.length; h++)
      if (l[h] === c) {
        (this._firstLevel = h), this.log(`manifest loaded, ${l.length} level(s) found, first bitrate: ${c.bitrate}`);
        break;
      }
    const d = s && !a,
      f = {
        levels: l,
        audioTracks: r,
        subtitleTracks: i,
        sessionData: n.sessionData,
        sessionKeys: n.sessionKeys,
        firstLevel: this._firstLevel,
        stats: n.stats,
        audio: s,
        video: a,
        altAudio: !d && r.some((h) => !!h.url),
      };
    this.hls.trigger(V.MANIFEST_PARSED, f), (this.hls.config.autoStartLoad || this.hls.forceStartLoad) && this.hls.startLoad(this.hls.config.startPosition);
  }
  get levels() {
    return this._levels.length === 0 ? null : this._levels;
  }
  get level() {
    return this.currentLevelIndex;
  }
  set level(e) {
    const n = this._levels;
    if (n.length === 0) return;
    if (e < 0 || e >= n.length) {
      const c = new Error('invalid level idx'),
        d = e < 0;
      if ((this.hls.trigger(V.ERROR, { type: at.OTHER_ERROR, details: he.LEVEL_SWITCH_ERROR, level: e, fatal: d, error: c, reason: c.message }), d)) return;
      e = Math.min(e, n.length - 1);
    }
    const r = this.currentLevelIndex,
      i = this.currentLevel,
      o = i ? i.attrs['PATHWAY-ID'] : void 0,
      a = n[e],
      s = a.attrs['PATHWAY-ID'];
    if (((this.currentLevelIndex = e), (this.currentLevel = a), r === e && a.details && i && o === s)) return;
    this.log(`Switching to level ${e}${s ? ' with Pathway ' + s : ''} from level ${r}${o ? ' with Pathway ' + o : ''}`);
    const l = Pn({}, a, { level: e, maxBitrate: a.maxBitrate, attrs: a.attrs, uri: a.uri, urlId: a.urlId });
    delete l._attrs, delete l._urlId, this.hls.trigger(V.LEVEL_SWITCHING, l);
    const u = a.details;
    if (!u || u.live) {
      const c = this.switchParams(a.uri, i == null ? void 0 : i.details);
      this.loadPlaylist(c);
    }
  }
  get manualLevel() {
    return this.manualLevelIndex;
  }
  set manualLevel(e) {
    (this.manualLevelIndex = e), this._startLevel === void 0 && (this._startLevel = e), e !== -1 && (this.level = e);
  }
  get firstLevel() {
    return this._firstLevel;
  }
  set firstLevel(e) {
    this._firstLevel = e;
  }
  get startLevel() {
    if (this._startLevel === void 0) {
      const e = this.hls.config.startLevel;
      return e !== void 0 ? e : this._firstLevel;
    } else return this._startLevel;
  }
  set startLevel(e) {
    this._startLevel = e;
  }
  onError(e, n) {
    n.fatal || !n.context || (n.context.type === Ot.LEVEL && n.context.level === this.level && this.checkRetry(n));
  }
  onFragLoaded(e, { frag: n }) {
    if (n !== void 0 && n.type === lt.MAIN) {
      const r = this._levels[n.level];
      r !== void 0 && (r.loadError = 0);
    }
  }
  onLevelLoaded(e, n) {
    var r;
    const { level: i, details: o } = n,
      a = this._levels[i];
    if (!a) {
      var s;
      this.warn(`Invalid level index ${i}`), (s = n.deliveryDirectives) != null && s.skip && (o.deltaUpdateFailed = !0);
      return;
    }
    i === this.currentLevelIndex ? (a.fragmentError === 0 && (a.loadError = 0), this.playlistLoaded(i, n, a.details)) : (r = n.deliveryDirectives) != null && r.skip && (o.deltaUpdateFailed = !0);
  }
  onAudioTrackSwitched(e, n) {
    const r = this.currentLevel;
    if (!r) return;
    const i = this.hls.audioTracks[n.id].groupId;
    if (r.audioGroupIds && r.audioGroupId !== i) {
      let o = -1;
      for (let a = 0; a < r.audioGroupIds.length; a++)
        if (r.audioGroupIds[a] === i) {
          o = a;
          break;
        }
      o !== -1 && o !== r.urlId && ((r.urlId = o), this.canLoad && this.startLoad());
    }
  }
  loadPlaylist(e) {
    super.loadPlaylist();
    const n = this.currentLevelIndex,
      r = this.currentLevel;
    if (r && this.shouldLoadPlaylist(r)) {
      const i = r.urlId;
      let o = r.uri;
      if (e)
        try {
          o = e.addDirectives(o);
        } catch (s) {
          this.warn(`Could not construct new URL with HLS Delivery Directives: ${s}`);
        }
      const a = r.attrs['PATHWAY-ID'];
      this.log(`Loading level index ${n}${(e == null ? void 0 : e.msn) !== void 0 ? ' at sn ' + e.msn + ' part ' + e.part : ''} with${a ? ' Pathway ' + a : ''} URI ${i + 1}/${r.url.length} ${o}`),
        this.clearTimer(),
        this.hls.trigger(V.LEVEL_LOADING, { url: o, level: n, id: i, deliveryDirectives: e || null });
    }
  }
  get nextLoadLevel() {
    return this.manualLevelIndex !== -1 ? this.manualLevelIndex : this.hls.nextAutoLevel;
  }
  set nextLoadLevel(e) {
    (this.level = e), this.manualLevelIndex === -1 && (this.hls.nextAutoLevel = e);
  }
  removeLevel(e, n) {
    const r = (o, a) => a !== n,
      i = this._levels.filter((o, a) =>
        a !== e
          ? !0
          : o.url.length > 1 && n !== void 0
          ? ((o.url = o.url.filter(r)), o.audioGroupIds && (o.audioGroupIds = o.audioGroupIds.filter(r)), o.textGroupIds && (o.textGroupIds = o.textGroupIds.filter(r)), (o.urlId = 0), !0)
          : (this.steering && this.steering.removeLevel(o), !1),
      );
    this.hls.trigger(V.LEVELS_UPDATED, { levels: i });
  }
  onLevelsUpdated(e, { levels: n }) {
    n.forEach((r, i) => {
      const { details: o } = r;
      o != null &&
        o.fragments &&
        o.fragments.forEach((a) => {
          a.level = i;
        });
    }),
      (this._levels = n);
  }
}
function Vc(t, e, n) {
  n &&
    (e === 'audio'
      ? (t.audioGroupIds || (t.audioGroupIds = []), (t.audioGroupIds[t.url.length - 1] = n))
      : e === 'text' && (t.textGroupIds || (t.textGroupIds = []), (t.textGroupIds[t.url.length - 1] = n)));
}
function e2(t) {
  const e = {};
  t.forEach((n) => {
    const r = n.groupId || '';
    (n.id = e[r] = e[r] || 0), e[r]++;
  });
}
var Nn = { NOT_LOADED: 'NOT_LOADED', APPENDING: 'APPENDING', PARTIAL: 'PARTIAL', OK: 'OK' };
class WI {
  constructor(e) {
    (this.activePartLists = Object.create(null)),
      (this.endListFragments = Object.create(null)),
      (this.fragments = Object.create(null)),
      (this.timeRanges = Object.create(null)),
      (this.bufferPadding = 0.2),
      (this.hls = void 0),
      (this.hasGaps = !1),
      (this.hls = e),
      this._registerListeners();
  }
  _registerListeners() {
    const { hls: e } = this;
    e.on(V.BUFFER_APPENDED, this.onBufferAppended, this), e.on(V.FRAG_BUFFERED, this.onFragBuffered, this), e.on(V.FRAG_LOADED, this.onFragLoaded, this);
  }
  _unregisterListeners() {
    const { hls: e } = this;
    e.off(V.BUFFER_APPENDED, this.onBufferAppended, this), e.off(V.FRAG_BUFFERED, this.onFragBuffered, this), e.off(V.FRAG_LOADED, this.onFragLoaded, this);
  }
  destroy() {
    this._unregisterListeners(), (this.fragments = this.activePartLists = this.endListFragments = this.timeRanges = null);
  }
  getAppendedFrag(e, n) {
    const r = this.activePartLists[n];
    if (r)
      for (let i = r.length; i--; ) {
        const o = r[i];
        if (!o) break;
        const a = o.end;
        if (o.start <= e && a !== null && e <= a) return o;
      }
    return this.getBufferedFrag(e, n);
  }
  getBufferedFrag(e, n) {
    const { fragments: r } = this,
      i = Object.keys(r);
    for (let o = i.length; o--; ) {
      const a = r[i[o]];
      if ((a == null ? void 0 : a.body.type) === n && a.buffered) {
        const s = a.body;
        if (s.start <= e && e <= s.end) return s;
      }
    }
    return null;
  }
  detectEvictedFragments(e, n, r, i) {
    this.timeRanges && (this.timeRanges[e] = n);
    const o = (i == null ? void 0 : i.fragment.sn) || -1;
    Object.keys(this.fragments).forEach((a) => {
      const s = this.fragments[a];
      if (!s || o >= s.body.sn) return;
      if (!s.buffered && !s.loaded) {
        s.body.type === r && this.removeFragment(s.body);
        return;
      }
      const l = s.range[e];
      l &&
        l.time.some((u) => {
          const c = !this.isTimeBuffered(u.startPTS, u.endPTS, n);
          return c && this.removeFragment(s.body), c;
        });
    });
  }
  detectPartialFragments(e) {
    const n = this.timeRanges,
      { frag: r, part: i } = e;
    if (!n || r.sn === 'initSegment') return;
    const o = ua(r),
      a = this.fragments[o];
    if (!a) return;
    const s = !r.relurl;
    Object.keys(n).forEach((l) => {
      const u = r.elementaryStreams[l];
      if (!u) return;
      const c = n[l],
        d = s || u.partial === !0;
      a.range[l] = this.getBufferedTimes(r, i, d, c);
    }),
      (a.loaded = null),
      Object.keys(a.range).length ? ((a.buffered = !0), a.body.endList && (this.endListFragments[a.body.type] = a), Eu(a) || this.removeParts(r.sn - 1, r.type)) : this.removeFragment(a.body);
  }
  removeParts(e, n) {
    const r = this.activePartLists[n];
    r && (this.activePartLists[n] = r.filter((i) => i.fragment.sn >= e));
  }
  fragBuffered(e, n) {
    const r = ua(e);
    let i = this.fragments[r];
    !i && n && ((i = this.fragments[r] = { body: e, appendedPTS: null, loaded: null, buffered: !1, range: Object.create(null) }), e.gap && (this.hasGaps = !0)),
      i && ((i.loaded = null), (i.buffered = !0));
  }
  getBufferedTimes(e, n, r, i) {
    const o = { time: [], partial: r },
      a = e.start,
      s = e.end,
      l = e.minEndPTS || s,
      u = e.maxStartPTS || a;
    for (let c = 0; c < i.length; c++) {
      const d = i.start(c) - this.bufferPadding,
        f = i.end(c) + this.bufferPadding;
      if (u >= d && l <= f) {
        o.time.push({ startPTS: Math.max(a, i.start(c)), endPTS: Math.min(s, i.end(c)) });
        break;
      } else if (a < f && s > d) (o.partial = !0), o.time.push({ startPTS: Math.max(a, i.start(c)), endPTS: Math.min(s, i.end(c)) });
      else if (s <= d) break;
    }
    return o;
  }
  getPartialFragment(e) {
    let n = null,
      r,
      i,
      o,
      a = 0;
    const { bufferPadding: s, fragments: l } = this;
    return (
      Object.keys(l).forEach((u) => {
        const c = l[u];
        c && Eu(c) && ((i = c.body.start - s), (o = c.body.end + s), e >= i && e <= o && ((r = Math.min(e - i, o - e)), a <= r && ((n = c.body), (a = r))));
      }),
      n
    );
  }
  isEndListAppended(e) {
    const n = this.endListFragments[e];
    return n !== void 0 && (n.buffered || Eu(n));
  }
  getState(e) {
    const n = ua(e),
      r = this.fragments[n];
    return r ? (r.buffered ? (Eu(r) ? Nn.PARTIAL : Nn.OK) : Nn.APPENDING) : Nn.NOT_LOADED;
  }
  isTimeBuffered(e, n, r) {
    let i, o;
    for (let a = 0; a < r.length; a++) {
      if (((i = r.start(a) - this.bufferPadding), (o = r.end(a) + this.bufferPadding), e >= i && n <= o)) return !0;
      if (n <= i) return !1;
    }
    return !1;
  }
  onFragLoaded(e, n) {
    const { frag: r, part: i } = n;
    if (r.sn === 'initSegment' || r.bitrateTest) return;
    const o = i ? null : n,
      a = ua(r);
    this.fragments[a] = { body: r, appendedPTS: null, loaded: o, buffered: !1, range: Object.create(null) };
  }
  onBufferAppended(e, n) {
    const { frag: r, part: i, timeRanges: o } = n;
    if (r.sn === 'initSegment') return;
    const a = r.type;
    if (i) {
      let s = this.activePartLists[a];
      s || (this.activePartLists[a] = s = []), s.push(i);
    }
    (this.timeRanges = o),
      Object.keys(o).forEach((s) => {
        const l = o[s];
        this.detectEvictedFragments(s, l, a, i);
      });
  }
  onFragBuffered(e, n) {
    this.detectPartialFragments(n);
  }
  hasFragment(e) {
    const n = ua(e);
    return !!this.fragments[n];
  }
  hasParts(e) {
    var n;
    return !!((n = this.activePartLists[e]) != null && n.length);
  }
  removeFragmentsInRange(e, n, r, i, o) {
    (i && !this.hasGaps) ||
      Object.keys(this.fragments).forEach((a) => {
        const s = this.fragments[a];
        if (!s) return;
        const l = s.body;
        l.type !== r || (i && !l.gap) || (l.start < n && l.end > e && (s.buffered || o) && this.removeFragment(l));
      });
  }
  removeFragment(e) {
    const n = ua(e);
    (e.stats.loaded = 0), e.clearElementaryStreamInfo();
    const r = this.activePartLists[e.type];
    if (r) {
      const i = e.sn;
      this.activePartLists[e.type] = r.filter((o) => o.fragment.sn !== i);
    }
    delete this.fragments[n], e.endList && delete this.endListFragments[e.type];
  }
  removeAllFragments() {
    (this.fragments = Object.create(null)), (this.endListFragments = Object.create(null)), (this.activePartLists = Object.create(null)), (this.hasGaps = !1);
  }
}
function Eu(t) {
  var e, n, r;
  return (
    t.buffered && (t.body.gap || ((e = t.range.video) == null ? void 0 : e.partial) || ((n = t.range.audio) == null ? void 0 : n.partial) || ((r = t.range.audiovideo) == null ? void 0 : r.partial))
  );
}
function ua(t) {
  return `${t.type}_${t.level}_${t.urlId}_${t.sn}`;
}
const t2 = Math.pow(2, 17);
class KI {
  constructor(e) {
    (this.config = void 0), (this.loader = null), (this.partLoadTimeout = -1), (this.config = e);
  }
  destroy() {
    this.loader && (this.loader.destroy(), (this.loader = null));
  }
  abort() {
    this.loader && this.loader.abort();
  }
  load(e, n) {
    const r = e.url;
    if (!r)
      return Promise.reject(
        new xi({ type: at.NETWORK_ERROR, details: he.FRAG_LOAD_ERROR, fatal: !1, frag: e, error: new Error(`Fragment does not have a ${r ? 'part list' : 'url'}`), networkDetails: null }),
      );
    this.abort();
    const i = this.config,
      o = i.fLoader,
      a = i.loader;
    return new Promise((s, l) => {
      if ((this.loader && this.loader.destroy(), e.gap)) {
        l(r2(e));
        return;
      }
      const u = (this.loader = e.loader = o ? new o(i) : new a(i)),
        c = n2(e),
        d = Jv(i.fragLoadPolicy.default),
        f = { loadPolicy: d, timeout: d.maxLoadTimeMs, maxRetry: 0, retryDelay: 0, maxRetryDelay: 0, highWaterMark: e.sn === 'initSegment' ? 1 / 0 : t2 };
      (e.stats = u.stats),
        u.load(c, f, {
          onSuccess: (h, m, g, b) => {
            this.resetLoader(e, u);
            let _ = h.data;
            g.resetIV && e.decryptdata && ((e.decryptdata.iv = new Uint8Array(_.slice(0, 16))), (_ = _.slice(16))), s({ frag: e, part: null, payload: _, networkDetails: b });
          },
          onError: (h, m, g, b) => {
            this.resetLoader(e, u),
              l(
                new xi({
                  type: at.NETWORK_ERROR,
                  details: he.FRAG_LOAD_ERROR,
                  fatal: !1,
                  frag: e,
                  response: cr({ url: r, data: void 0 }, h),
                  error: new Error(`HTTP Error ${h.code} ${h.text}`),
                  networkDetails: g,
                  stats: b,
                }),
              );
          },
          onAbort: (h, m, g) => {
            this.resetLoader(e, u), l(new xi({ type: at.NETWORK_ERROR, details: he.INTERNAL_ABORTED, fatal: !1, frag: e, error: new Error('Aborted'), networkDetails: g, stats: h }));
          },
          onTimeout: (h, m, g) => {
            this.resetLoader(e, u),
              l(new xi({ type: at.NETWORK_ERROR, details: he.FRAG_LOAD_TIMEOUT, fatal: !1, frag: e, error: new Error(`Timeout after ${f.timeout}ms`), networkDetails: g, stats: h }));
          },
          onProgress: (h, m, g, b) => {
            n && n({ frag: e, part: null, payload: g, networkDetails: b });
          },
        });
    });
  }
  loadPart(e, n, r) {
    this.abort();
    const i = this.config,
      o = i.fLoader,
      a = i.loader;
    return new Promise((s, l) => {
      if ((this.loader && this.loader.destroy(), e.gap || n.gap)) {
        l(r2(e, n));
        return;
      }
      const u = (this.loader = e.loader = o ? new o(i) : new a(i)),
        c = n2(e, n),
        d = Jv(i.fragLoadPolicy.default),
        f = { loadPolicy: d, timeout: d.maxLoadTimeMs, maxRetry: 0, retryDelay: 0, maxRetryDelay: 0, highWaterMark: t2 };
      (n.stats = u.stats),
        u.load(c, f, {
          onSuccess: (h, m, g, b) => {
            this.resetLoader(e, u), this.updateStatsFromPart(e, n);
            const _ = { frag: e, part: n, payload: h.data, networkDetails: b };
            r(_), s(_);
          },
          onError: (h, m, g, b) => {
            this.resetLoader(e, u),
              l(
                new xi({
                  type: at.NETWORK_ERROR,
                  details: he.FRAG_LOAD_ERROR,
                  fatal: !1,
                  frag: e,
                  part: n,
                  response: cr({ url: c.url, data: void 0 }, h),
                  error: new Error(`HTTP Error ${h.code} ${h.text}`),
                  networkDetails: g,
                  stats: b,
                }),
              );
          },
          onAbort: (h, m, g) => {
            (e.stats.aborted = n.stats.aborted),
              this.resetLoader(e, u),
              l(new xi({ type: at.NETWORK_ERROR, details: he.INTERNAL_ABORTED, fatal: !1, frag: e, part: n, error: new Error('Aborted'), networkDetails: g, stats: h }));
          },
          onTimeout: (h, m, g) => {
            this.resetLoader(e, u),
              l(new xi({ type: at.NETWORK_ERROR, details: he.FRAG_LOAD_TIMEOUT, fatal: !1, frag: e, part: n, error: new Error(`Timeout after ${f.timeout}ms`), networkDetails: g, stats: h }));
          },
        });
    });
  }
  updateStatsFromPart(e, n) {
    const r = e.stats,
      i = n.stats,
      o = i.total;
    if (((r.loaded += i.loaded), o)) {
      const l = Math.round(e.duration / n.duration),
        u = Math.min(Math.round(r.loaded / o), l),
        d = (l - u) * Math.round(r.loaded / u);
      r.total = r.loaded + d;
    } else r.total = Math.max(r.loaded, r.total);
    const a = r.loading,
      s = i.loading;
    a.start ? (a.first += s.first - s.start) : ((a.start = s.start), (a.first = s.first)), (a.end = s.end);
  }
  resetLoader(e, n) {
    (e.loader = null), this.loader === n && (self.clearTimeout(this.partLoadTimeout), (this.loader = null)), n.destroy();
  }
}
function n2(t, e = null) {
  const n = e || t,
    r = { frag: t, part: e, responseType: 'arraybuffer', url: n.url, headers: {}, rangeStart: 0, rangeEnd: 0 },
    i = n.byteRangeStartOffset,
    o = n.byteRangeEndOffset;
  if (rt(i) && rt(o)) {
    var a;
    let s = i,
      l = o;
    if (t.sn === 'initSegment' && ((a = t.decryptdata) == null ? void 0 : a.method) === 'AES-128') {
      const u = o - i;
      u % 16 && (l = o + (16 - (u % 16))), i !== 0 && ((r.resetIV = !0), (s = i - 16));
    }
    (r.rangeStart = s), (r.rangeEnd = l);
  }
  return r;
}
function r2(t, e) {
  const n = new Error(`GAP ${t.gap ? 'tag' : 'attribute'} found`),
    r = { type: at.MEDIA_ERROR, details: he.FRAG_GAP, fatal: !1, frag: t, error: n, networkDetails: null };
  return e && (r.part = e), ((e || t).stats.aborted = !0), new xi(r);
}
class xi extends Error {
  constructor(e) {
    super(e.error.message), (this.data = void 0), (this.data = e);
  }
}
class qI {
  constructor(e) {
    (this.config = void 0), (this.keyUriToKeyInfo = {}), (this.emeController = null), (this.config = e);
  }
  abort(e) {
    for (const n in this.keyUriToKeyInfo) {
      const r = this.keyUriToKeyInfo[n].loader;
      if (r) {
        if (e && e !== r.context.frag.type) return;
        r.abort();
      }
    }
  }
  detach() {
    for (const e in this.keyUriToKeyInfo) {
      const n = this.keyUriToKeyInfo[e];
      (n.mediaKeySessionContext || n.decryptdata.isCommonEncryption) && delete this.keyUriToKeyInfo[e];
    }
  }
  destroy() {
    this.detach();
    for (const e in this.keyUriToKeyInfo) {
      const n = this.keyUriToKeyInfo[e].loader;
      n && n.destroy();
    }
    this.keyUriToKeyInfo = {};
  }
  createKeyLoadError(e, n = he.KEY_LOAD_ERROR, r, i, o) {
    return new xi({ type: at.NETWORK_ERROR, details: n, fatal: !1, frag: e, response: o, error: r, networkDetails: i });
  }
  loadClear(e, n) {
    if (this.emeController && this.config.emeEnabled) {
      const { sn: r, cc: i } = e;
      for (let o = 0; o < n.length; o++) {
        const a = n[o];
        if (i <= a.cc && (r === 'initSegment' || a.sn === 'initSegment' || r < a.sn)) {
          this.emeController.selectKeySystemFormat(a).then((s) => {
            a.setKeyFormat(s);
          });
          break;
        }
      }
    }
  }
  load(e) {
    return !e.decryptdata && e.encrypted && this.emeController ? this.emeController.selectKeySystemFormat(e).then((n) => this.loadInternal(e, n)) : this.loadInternal(e);
  }
  loadInternal(e, n) {
    var r, i;
    n && e.setKeyFormat(n);
    const o = e.decryptdata;
    if (!o) {
      const u = new Error(n ? `Expected frag.decryptdata to be defined after setting format ${n}` : 'Missing decryption data on fragment in onKeyLoading');
      return Promise.reject(this.createKeyLoadError(e, he.KEY_LOAD_ERROR, u));
    }
    const a = o.uri;
    if (!a) return Promise.reject(this.createKeyLoadError(e, he.KEY_LOAD_ERROR, new Error(`Invalid key URI: "${a}"`)));
    let s = this.keyUriToKeyInfo[a];
    if ((r = s) != null && r.decryptdata.key) return (o.key = s.decryptdata.key), Promise.resolve({ frag: e, keyInfo: s });
    if ((i = s) != null && i.keyLoadPromise) {
      var l;
      switch ((l = s.mediaKeySessionContext) == null ? void 0 : l.keyStatus) {
        case void 0:
        case 'status-pending':
        case 'usable':
        case 'usable-in-future':
          return s.keyLoadPromise.then((u) => ((o.key = u.keyInfo.decryptdata.key), { frag: e, keyInfo: s }));
      }
    }
    switch (((s = this.keyUriToKeyInfo[a] = { decryptdata: o, keyLoadPromise: null, loader: null, mediaKeySessionContext: null }), o.method)) {
      case 'ISO-23001-7':
      case 'SAMPLE-AES':
      case 'SAMPLE-AES-CENC':
      case 'SAMPLE-AES-CTR':
        return o.keyFormat === 'identity' ? this.loadKeyHTTP(s, e) : this.loadKeyEME(s, e);
      case 'AES-128':
        return this.loadKeyHTTP(s, e);
      default:
        return Promise.reject(this.createKeyLoadError(e, he.KEY_LOAD_ERROR, new Error(`Key supplied with unsupported METHOD: "${o.method}"`)));
    }
  }
  loadKeyEME(e, n) {
    const r = { frag: n, keyInfo: e };
    if (this.emeController && this.config.emeEnabled) {
      const i = this.emeController.loadKey(r);
      if (i)
        return (e.keyLoadPromise = i.then((o) => ((e.mediaKeySessionContext = o), r))).catch((o) => {
          throw ((e.keyLoadPromise = null), o);
        });
    }
    return Promise.resolve(r);
  }
  loadKeyHTTP(e, n) {
    const r = this.config,
      i = r.loader,
      o = new i(r);
    return (
      (n.keyLoader = e.loader = o),
      (e.keyLoadPromise = new Promise((a, s) => {
        const l = { keyInfo: e, frag: n, responseType: 'arraybuffer', url: e.decryptdata.uri },
          u = r.keyLoadPolicy.default,
          c = { loadPolicy: u, timeout: u.maxLoadTimeMs, maxRetry: 0, retryDelay: 0, maxRetryDelay: 0 },
          d = {
            onSuccess: (f, h, m, g) => {
              const { frag: b, keyInfo: _, url: y } = m;
              if (!b.decryptdata || _ !== this.keyUriToKeyInfo[y]) return s(this.createKeyLoadError(b, he.KEY_LOAD_ERROR, new Error('after key load, decryptdata unset or changed'), g));
              (_.decryptdata.key = b.decryptdata.key = new Uint8Array(f.data)), (b.keyLoader = null), (_.loader = null), a({ frag: b, keyInfo: _ });
            },
            onError: (f, h, m, g) => {
              this.resetLoader(h), s(this.createKeyLoadError(n, he.KEY_LOAD_ERROR, new Error(`HTTP Error ${f.code} loading key ${f.text}`), m, cr({ url: l.url, data: void 0 }, f)));
            },
            onTimeout: (f, h, m) => {
              this.resetLoader(h), s(this.createKeyLoadError(n, he.KEY_LOAD_TIMEOUT, new Error('key loading timed out'), m));
            },
            onAbort: (f, h, m) => {
              this.resetLoader(h), s(this.createKeyLoadError(n, he.INTERNAL_ABORTED, new Error('key loading aborted'), m));
            },
          };
        o.load(l, c, d);
      }))
    );
  }
  resetLoader(e) {
    const { frag: n, keyInfo: r, url: i } = e,
      o = r.loader;
    n.keyLoader === o && ((n.keyLoader = null), (r.loader = null)), delete this.keyUriToKeyInfo[i], o && o.destroy();
  }
}
class YI {
  constructor() {
    (this._boundTick = void 0), (this._tickTimer = null), (this._tickInterval = null), (this._tickCallCount = 0), (this._boundTick = this.tick.bind(this));
  }
  destroy() {
    this.onHandlerDestroying(), this.onHandlerDestroyed();
  }
  onHandlerDestroying() {
    this.clearNextTick(), this.clearInterval();
  }
  onHandlerDestroyed() {}
  hasInterval() {
    return !!this._tickInterval;
  }
  hasNextTick() {
    return !!this._tickTimer;
  }
  setInterval(e) {
    return this._tickInterval ? !1 : ((this._tickCallCount = 0), (this._tickInterval = self.setInterval(this._boundTick, e)), !0);
  }
  clearInterval() {
    return this._tickInterval ? (self.clearInterval(this._tickInterval), (this._tickInterval = null), !0) : !1;
  }
  clearNextTick() {
    return this._tickTimer ? (self.clearTimeout(this._tickTimer), (this._tickTimer = null), !0) : !1;
  }
  tick() {
    this._tickCallCount++, this._tickCallCount === 1 && (this.doTick(), this._tickCallCount > 1 && this.tickImmediate(), (this._tickCallCount = 0));
  }
  tickImmediate() {
    this.clearNextTick(), (this._tickTimer = self.setTimeout(this._boundTick, 0));
  }
  doTick() {}
}
const XI = { length: 0, start: () => 0, end: () => 0 };
class on {
  static isBuffered(e, n) {
    try {
      if (e) {
        const r = on.getBuffered(e);
        for (let i = 0; i < r.length; i++) if (n >= r.start(i) && n <= r.end(i)) return !0;
      }
    } catch {}
    return !1;
  }
  static bufferInfo(e, n, r) {
    try {
      if (e) {
        const i = on.getBuffered(e),
          o = [];
        let a;
        for (a = 0; a < i.length; a++) o.push({ start: i.start(a), end: i.end(a) });
        return this.bufferedInfo(o, n, r);
      }
    } catch {}
    return { len: 0, start: n, end: n, nextStart: void 0 };
  }
  static bufferedInfo(e, n, r) {
    (n = Math.max(0, n)),
      e.sort(function (u, c) {
        const d = u.start - c.start;
        return d || c.end - u.end;
      });
    let i = [];
    if (r)
      for (let u = 0; u < e.length; u++) {
        const c = i.length;
        if (c) {
          const d = i[c - 1].end;
          e[u].start - d < r ? e[u].end > d && (i[c - 1].end = e[u].end) : i.push(e[u]);
        } else i.push(e[u]);
      }
    else i = e;
    let o = 0,
      a,
      s = n,
      l = n;
    for (let u = 0; u < i.length; u++) {
      const c = i[u].start,
        d = i[u].end;
      if (n + r >= c && n < d) (s = c), (l = d), (o = l - n);
      else if (n + r < c) {
        a = c;
        break;
      }
    }
    return { len: o, start: s || 0, end: l || 0, nextStart: a };
  }
  static getBuffered(e) {
    try {
      return e.buffered;
    } catch (n) {
      return le.log('failed to get media.buffered', n), XI;
    }
  }
}
class zp {
  constructor(e, n, r, i = 0, o = -1, a = !1) {
    (this.level = void 0),
      (this.sn = void 0),
      (this.part = void 0),
      (this.id = void 0),
      (this.size = void 0),
      (this.partial = void 0),
      (this.transmuxing = bu()),
      (this.buffering = { audio: bu(), video: bu(), audiovideo: bu() }),
      (this.level = e),
      (this.sn = n),
      (this.id = r),
      (this.size = i),
      (this.part = o),
      (this.partial = a);
  }
}
function bu() {
  return { start: 0, executeStart: 0, executeEnd: 0, end: 0 };
}
function k_(t, e) {
  let n = null;
  for (let r = 0, i = t.length; r < i; r++) {
    const o = t[r];
    if (o && o.cc === e) {
      n = o;
      break;
    }
  }
  return n;
}
function QI(t, e, n) {
  return !!(e.details && (n.endCC > n.startCC || (t && t.cc < n.startCC)));
}
function ZI(t, e, n = 0) {
  const r = t.fragments,
    i = e.fragments;
  if (!i.length || !r.length) {
    le.log('No fragments to align');
    return;
  }
  const o = k_(r, i[0].cc);
  if (!o || (o && !o.startPTS)) {
    le.log('No frag in previous level to align on');
    return;
  }
  return o;
}
function i2(t, e) {
  if (t) {
    const n = t.start + e;
    (t.start = t.startPTS = n), (t.endPTS = n + t.duration);
  }
}
function Vp(t, e) {
  const n = e.fragments;
  for (let r = 0, i = n.length; r < i; r++) i2(n[r], t);
  e.fragmentHint && i2(e.fragmentHint, t), (e.alignedSliding = !0);
}
function JI(t, e, n) {
  e && (eD(t, n, e), !n.alignedSliding && e.details && tD(n, e.details), !n.alignedSliding && e.details && !n.skippedSegments && D_(e.details, n));
}
function eD(t, e, n) {
  if (QI(t, n, e)) {
    const r = ZI(n.details, e);
    r && rt(r.start) && (le.log(`Adjusting PTS using last level due to CC increase within current level ${e.url}`), Vp(r.start, e));
  }
}
function tD(t, e) {
  if (!e.fragments.length || !t.hasProgramDateTime || !e.hasProgramDateTime) return;
  const n = e.fragments[0].programDateTime,
    r = t.fragments[0].programDateTime,
    i = (r - n) / 1e3 + e.fragments[0].start;
  i && rt(i) && (le.log(`Adjusting PTS using programDateTime delta ${r - n}ms, sliding:${i.toFixed(3)} ${t.url} `), Vp(i, t));
}
function M_(t, e) {
  if (!t.hasProgramDateTime || !e.hasProgramDateTime) return;
  const n = t.fragments,
    r = e.fragments;
  if (!n.length || !r.length) return;
  const i = Math.round(r.length / 2) - 1,
    o = r[i],
    a = k_(n, o.cc) || n[Math.round(n.length / 2) - 1],
    s = o.programDateTime,
    l = a.programDateTime;
  if (s === null || l === null) return;
  const u = (l - s) / 1e3 - (a.start - o.start);
  Vp(u, t);
}
class nD {
  constructor(e, n) {
    (this.subtle = void 0), (this.aesIV = void 0), (this.subtle = e), (this.aesIV = n);
  }
  decrypt(e, n) {
    return this.subtle.decrypt({ name: 'AES-CBC', iv: this.aesIV }, n, e);
  }
}
class rD {
  constructor(e, n) {
    (this.subtle = void 0), (this.key = void 0), (this.subtle = e), (this.key = n);
  }
  expandKey() {
    return this.subtle.importKey('raw', this.key, { name: 'AES-CBC' }, !1, ['encrypt', 'decrypt']);
  }
}
function iD(t) {
  const e = t.byteLength,
    n = e && new DataView(t.buffer).getUint8(e - 1);
  return n ? Mo(t, 0, e - n) : t;
}
class oD {
  constructor() {
    (this.rcon = [0, 1, 2, 4, 8, 16, 32, 64, 128, 27, 54]),
      (this.subMix = [new Uint32Array(256), new Uint32Array(256), new Uint32Array(256), new Uint32Array(256)]),
      (this.invSubMix = [new Uint32Array(256), new Uint32Array(256), new Uint32Array(256), new Uint32Array(256)]),
      (this.sBox = new Uint32Array(256)),
      (this.invSBox = new Uint32Array(256)),
      (this.key = new Uint32Array(0)),
      (this.ksRows = 0),
      (this.keySize = 0),
      (this.keySchedule = void 0),
      (this.invKeySchedule = void 0),
      this.initTable();
  }
  uint8ArrayToUint32Array_(e) {
    const n = new DataView(e),
      r = new Uint32Array(4);
    for (let i = 0; i < 4; i++) r[i] = n.getUint32(i * 4);
    return r;
  }
  initTable() {
    const e = this.sBox,
      n = this.invSBox,
      r = this.subMix,
      i = r[0],
      o = r[1],
      a = r[2],
      s = r[3],
      l = this.invSubMix,
      u = l[0],
      c = l[1],
      d = l[2],
      f = l[3],
      h = new Uint32Array(256);
    let m = 0,
      g = 0,
      b = 0;
    for (b = 0; b < 256; b++) b < 128 ? (h[b] = b << 1) : (h[b] = (b << 1) ^ 283);
    for (b = 0; b < 256; b++) {
      let _ = g ^ (g << 1) ^ (g << 2) ^ (g << 3) ^ (g << 4);
      (_ = (_ >>> 8) ^ (_ & 255) ^ 99), (e[m] = _), (n[_] = m);
      const y = h[m],
        T = h[y],
        w = h[T];
      let I = (h[_] * 257) ^ (_ * 16843008);
      (i[m] = (I << 24) | (I >>> 8)),
        (o[m] = (I << 16) | (I >>> 16)),
        (a[m] = (I << 8) | (I >>> 24)),
        (s[m] = I),
        (I = (w * 16843009) ^ (T * 65537) ^ (y * 257) ^ (m * 16843008)),
        (u[_] = (I << 24) | (I >>> 8)),
        (c[_] = (I << 16) | (I >>> 16)),
        (d[_] = (I << 8) | (I >>> 24)),
        (f[_] = I),
        m ? ((m = y ^ h[h[h[w ^ y]]]), (g ^= h[h[g]])) : (m = g = 1);
    }
  }
  expandKey(e) {
    const n = this.uint8ArrayToUint32Array_(e);
    let r = !0,
      i = 0;
    for (; i < n.length && r; ) (r = n[i] === this.key[i]), i++;
    if (r) return;
    this.key = n;
    const o = (this.keySize = n.length);
    if (o !== 4 && o !== 6 && o !== 8) throw new Error('Invalid aes key size=' + o);
    const a = (this.ksRows = (o + 6 + 1) * 4);
    let s, l;
    const u = (this.keySchedule = new Uint32Array(a)),
      c = (this.invKeySchedule = new Uint32Array(a)),
      d = this.sBox,
      f = this.rcon,
      h = this.invSubMix,
      m = h[0],
      g = h[1],
      b = h[2],
      _ = h[3];
    let y, T;
    for (s = 0; s < a; s++) {
      if (s < o) {
        y = u[s] = n[s];
        continue;
      }
      (T = y),
        s % o === 0
          ? ((T = (T << 8) | (T >>> 24)), (T = (d[T >>> 24] << 24) | (d[(T >>> 16) & 255] << 16) | (d[(T >>> 8) & 255] << 8) | d[T & 255]), (T ^= f[(s / o) | 0] << 24))
          : o > 6 && s % o === 4 && (T = (d[T >>> 24] << 24) | (d[(T >>> 16) & 255] << 16) | (d[(T >>> 8) & 255] << 8) | d[T & 255]),
        (u[s] = y = (u[s - o] ^ T) >>> 0);
    }
    for (l = 0; l < a; l++)
      (s = a - l), l & 3 ? (T = u[s]) : (T = u[s - 4]), l < 4 || s <= 4 ? (c[l] = T) : (c[l] = m[d[T >>> 24]] ^ g[d[(T >>> 16) & 255]] ^ b[d[(T >>> 8) & 255]] ^ _[d[T & 255]]), (c[l] = c[l] >>> 0);
  }
  networkToHostOrderSwap(e) {
    return (e << 24) | ((e & 65280) << 8) | ((e & 16711680) >> 8) | (e >>> 24);
  }
  decrypt(e, n, r) {
    const i = this.keySize + 6,
      o = this.invKeySchedule,
      a = this.invSBox,
      s = this.invSubMix,
      l = s[0],
      u = s[1],
      c = s[2],
      d = s[3],
      f = this.uint8ArrayToUint32Array_(r);
    let h = f[0],
      m = f[1],
      g = f[2],
      b = f[3];
    const _ = new Int32Array(e),
      y = new Int32Array(_.length);
    let T, w, I, O, x, L, D, C, G, M, B, z, H, q;
    const F = this.networkToHostOrderSwap;
    for (; n < _.length; ) {
      for (G = F(_[n]), M = F(_[n + 1]), B = F(_[n + 2]), z = F(_[n + 3]), x = G ^ o[0], L = z ^ o[1], D = B ^ o[2], C = M ^ o[3], H = 4, q = 1; q < i; q++)
        (T = l[x >>> 24] ^ u[(L >> 16) & 255] ^ c[(D >> 8) & 255] ^ d[C & 255] ^ o[H]),
          (w = l[L >>> 24] ^ u[(D >> 16) & 255] ^ c[(C >> 8) & 255] ^ d[x & 255] ^ o[H + 1]),
          (I = l[D >>> 24] ^ u[(C >> 16) & 255] ^ c[(x >> 8) & 255] ^ d[L & 255] ^ o[H + 2]),
          (O = l[C >>> 24] ^ u[(x >> 16) & 255] ^ c[(L >> 8) & 255] ^ d[D & 255] ^ o[H + 3]),
          (x = T),
          (L = w),
          (D = I),
          (C = O),
          (H = H + 4);
      (T = (a[x >>> 24] << 24) ^ (a[(L >> 16) & 255] << 16) ^ (a[(D >> 8) & 255] << 8) ^ a[C & 255] ^ o[H]),
        (w = (a[L >>> 24] << 24) ^ (a[(D >> 16) & 255] << 16) ^ (a[(C >> 8) & 255] << 8) ^ a[x & 255] ^ o[H + 1]),
        (I = (a[D >>> 24] << 24) ^ (a[(C >> 16) & 255] << 16) ^ (a[(x >> 8) & 255] << 8) ^ a[L & 255] ^ o[H + 2]),
        (O = (a[C >>> 24] << 24) ^ (a[(x >> 16) & 255] << 16) ^ (a[(L >> 8) & 255] << 8) ^ a[D & 255] ^ o[H + 3]),
        (y[n] = F(T ^ h)),
        (y[n + 1] = F(O ^ m)),
        (y[n + 2] = F(I ^ g)),
        (y[n + 3] = F(w ^ b)),
        (h = G),
        (m = M),
        (g = B),
        (b = z),
        (n = n + 4);
    }
    return y.buffer;
  }
}
const aD = 16;
class Hp {
  constructor(e, { removePKCS7Padding: n = !0 } = {}) {
    if (
      ((this.logEnabled = !0),
      (this.removePKCS7Padding = void 0),
      (this.subtle = null),
      (this.softwareDecrypter = null),
      (this.key = null),
      (this.fastAesKey = null),
      (this.remainderData = null),
      (this.currentIV = null),
      (this.currentResult = null),
      (this.useSoftware = void 0),
      (this.useSoftware = e.enableSoftwareAES),
      (this.removePKCS7Padding = n),
      n)
    )
      try {
        const r = self.crypto;
        r && (this.subtle = r.subtle || r.webkitSubtle);
      } catch {}
    this.subtle === null && (this.useSoftware = !0);
  }
  destroy() {
    (this.subtle = null), (this.softwareDecrypter = null), (this.key = null), (this.fastAesKey = null), (this.remainderData = null), (this.currentIV = null), (this.currentResult = null);
  }
  isSync() {
    return this.useSoftware;
  }
  flush() {
    const { currentResult: e, remainderData: n } = this;
    if (!e || n) return this.reset(), null;
    const r = new Uint8Array(e);
    return this.reset(), this.removePKCS7Padding ? iD(r) : r;
  }
  reset() {
    (this.currentResult = null), (this.currentIV = null), (this.remainderData = null), this.softwareDecrypter && (this.softwareDecrypter = null);
  }
  decrypt(e, n, r) {
    return this.useSoftware
      ? new Promise((i, o) => {
          this.softwareDecrypt(new Uint8Array(e), n, r);
          const a = this.flush();
          a ? i(a.buffer) : o(new Error('[softwareDecrypt] Failed to decrypt data'));
        })
      : this.webCryptoDecrypt(new Uint8Array(e), n, r);
  }
  softwareDecrypt(e, n, r) {
    const { currentIV: i, currentResult: o, remainderData: a } = this;
    this.logOnce('JS AES decrypt'), a && ((e = Vo(a, e)), (this.remainderData = null));
    const s = this.getValidChunk(e);
    if (!s.length) return null;
    i && (r = i);
    let l = this.softwareDecrypter;
    l || (l = this.softwareDecrypter = new oD()), l.expandKey(n);
    const u = o;
    return (this.currentResult = l.decrypt(s.buffer, 0, r)), (this.currentIV = Mo(s, -16).buffer), u || null;
  }
  webCryptoDecrypt(e, n, r) {
    const i = this.subtle;
    return (
      (this.key !== n || !this.fastAesKey) && ((this.key = n), (this.fastAesKey = new rD(i, n))),
      this.fastAesKey
        .expandKey()
        .then((o) => (i ? (this.logOnce('WebCrypto AES decrypt'), new nD(i, new Uint8Array(r)).decrypt(e.buffer, o)) : Promise.reject(new Error('web crypto not initialized'))))
        .catch((o) => (le.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${o.name}: ${o.message}`), this.onWebCryptoError(e, n, r)))
    );
  }
  onWebCryptoError(e, n, r) {
    (this.useSoftware = !0), (this.logEnabled = !0), this.softwareDecrypt(e, n, r);
    const i = this.flush();
    if (i) return i.buffer;
    throw new Error('WebCrypto and softwareDecrypt: failed to decrypt data');
  }
  getValidChunk(e) {
    let n = e;
    const r = e.length - (e.length % aD);
    return r !== e.length && ((n = Mo(e, 0, r)), (this.remainderData = Mo(e, r))), n;
  }
  logOnce(e) {
    this.logEnabled && (le.log(`[decrypter]: ${e}`), (this.logEnabled = !1));
  }
}
const sD = {
    toString: function (t) {
      let e = '';
      const n = t.length;
      for (let r = 0; r < n; r++) e += `[${t.start(r).toFixed(3)}-${t.end(r).toFixed(3)}]`;
      return e;
    },
  },
  _e = {
    STOPPED: 'STOPPED',
    IDLE: 'IDLE',
    KEY_LOADING: 'KEY_LOADING',
    FRAG_LOADING: 'FRAG_LOADING',
    FRAG_LOADING_WAITING_RETRY: 'FRAG_LOADING_WAITING_RETRY',
    WAITING_TRACK: 'WAITING_TRACK',
    PARSING: 'PARSING',
    PARSED: 'PARSED',
    ENDED: 'ENDED',
    ERROR: 'ERROR',
    WAITING_INIT_PTS: 'WAITING_INIT_PTS',
    WAITING_LEVEL: 'WAITING_LEVEL',
  };
class jp extends YI {
  constructor(e, n, r, i, o) {
    super(),
      (this.hls = void 0),
      (this.fragPrevious = null),
      (this.fragCurrent = null),
      (this.fragmentTracker = void 0),
      (this.transmuxer = null),
      (this._state = _e.STOPPED),
      (this.playlistType = void 0),
      (this.media = null),
      (this.mediaBuffer = null),
      (this.config = void 0),
      (this.bitrateTest = !1),
      (this.lastCurrentTime = 0),
      (this.nextLoadPosition = 0),
      (this.startPosition = 0),
      (this.startTimeOffset = null),
      (this.loadedmetadata = !1),
      (this.retryDate = 0),
      (this.levels = null),
      (this.fragmentLoader = void 0),
      (this.keyLoader = void 0),
      (this.levelLastLoaded = null),
      (this.startFragRequested = !1),
      (this.decrypter = void 0),
      (this.initPTS = []),
      (this.onvseeking = null),
      (this.onvended = null),
      (this.logPrefix = ''),
      (this.log = void 0),
      (this.warn = void 0),
      (this.playlistType = o),
      (this.logPrefix = i),
      (this.log = le.log.bind(le, `${i}:`)),
      (this.warn = le.warn.bind(le, `${i}:`)),
      (this.hls = e),
      (this.fragmentLoader = new KI(e.config)),
      (this.keyLoader = r),
      (this.fragmentTracker = n),
      (this.config = e.config),
      (this.decrypter = new Hp(e.config)),
      e.on(V.MANIFEST_LOADED, this.onManifestLoaded, this);
  }
  doTick() {
    this.onTickEnd();
  }
  onTickEnd() {}
  startLoad(e) {}
  stopLoad() {
    this.fragmentLoader.abort(), this.keyLoader.abort(this.playlistType);
    const e = this.fragCurrent;
    e != null && e.loader && (e.abortRequests(), this.fragmentTracker.removeFragment(e)),
      this.resetTransmuxer(),
      (this.fragCurrent = null),
      (this.fragPrevious = null),
      this.clearInterval(),
      this.clearNextTick(),
      (this.state = _e.STOPPED);
  }
  _streamEnded(e, n) {
    if (n.live || e.nextStart || !e.end || !this.media) return !1;
    const r = n.partList;
    if (r != null && r.length) {
      const o = r[r.length - 1];
      return on.isBuffered(this.media, o.start + o.duration / 2);
    }
    const i = n.fragments[n.fragments.length - 1].type;
    return this.fragmentTracker.isEndListAppended(i);
  }
  getLevelDetails() {
    if (this.levels && this.levelLastLoaded !== null) {
      var e;
      return (e = this.levels[this.levelLastLoaded]) == null ? void 0 : e.details;
    }
  }
  onMediaAttached(e, n) {
    const r = (this.media = this.mediaBuffer = n.media);
    (this.onvseeking = this.onMediaSeeking.bind(this)), (this.onvended = this.onMediaEnded.bind(this)), r.addEventListener('seeking', this.onvseeking), r.addEventListener('ended', this.onvended);
    const i = this.config;
    this.levels && i.autoStartLoad && this.state === _e.STOPPED && this.startLoad(i.startPosition);
  }
  onMediaDetaching() {
    const e = this.media;
    e != null && e.ended && (this.log('MSE detaching and video ended, reset startPosition'), (this.startPosition = this.lastCurrentTime = 0)),
      e && this.onvseeking && this.onvended && (e.removeEventListener('seeking', this.onvseeking), e.removeEventListener('ended', this.onvended), (this.onvseeking = this.onvended = null)),
      this.keyLoader && this.keyLoader.detach(),
      (this.media = this.mediaBuffer = null),
      (this.loadedmetadata = !1),
      this.fragmentTracker.removeAllFragments(),
      this.stopLoad();
  }
  onMediaSeeking() {
    const { config: e, fragCurrent: n, media: r, mediaBuffer: i, state: o } = this,
      a = r ? r.currentTime : 0,
      s = on.bufferInfo(i || r, a, e.maxBufferHole);
    if ((this.log(`media seeking to ${rt(a) ? a.toFixed(3) : a}, state: ${o}`), this.state === _e.ENDED)) this.resetLoadingState();
    else if (n) {
      const l = e.maxFragLookUpTolerance,
        u = n.start - l,
        c = n.start + n.duration + l;
      if (!s.len || c < s.start || u > s.end) {
        const d = a > c;
        (a < u || d) &&
          (d && n.loader && (this.log('seeking outside of buffer while fragment load in progress, cancel fragment load'), n.abortRequests(), this.resetLoadingState()), (this.fragPrevious = null));
      }
    }
    r && (this.fragmentTracker.removeFragmentsInRange(a, 1 / 0, this.playlistType, !0), (this.lastCurrentTime = a)),
      !this.loadedmetadata && !s.len && (this.nextLoadPosition = this.startPosition = a),
      this.tickImmediate();
  }
  onMediaEnded() {
    this.startPosition = this.lastCurrentTime = 0;
  }
  onManifestLoaded(e, n) {
    (this.startTimeOffset = n.startTimeOffset), (this.initPTS = []);
  }
  onHandlerDestroying() {
    this.stopLoad(), super.onHandlerDestroying();
  }
  onHandlerDestroyed() {
    (this.state = _e.STOPPED),
      this.fragmentLoader && this.fragmentLoader.destroy(),
      this.keyLoader && this.keyLoader.destroy(),
      this.decrypter && this.decrypter.destroy(),
      (this.hls = this.log = this.warn = this.decrypter = this.keyLoader = this.fragmentLoader = this.fragmentTracker = null),
      super.onHandlerDestroyed();
  }
  loadFragment(e, n, r) {
    this._loadFragForPlayback(e, n, r);
  }
  _loadFragForPlayback(e, n, r) {
    const i = (o) => {
      if (this.fragContextChanged(e)) {
        this.warn(`Fragment ${e.sn}${o.part ? ' p: ' + o.part.index : ''} of level ${e.level} was dropped during download.`), this.fragmentTracker.removeFragment(e);
        return;
      }
      e.stats.chunkCount++, this._handleFragmentLoadProgress(o);
    };
    this._doFragLoad(e, n, r, i)
      .then((o) => {
        if (!o) return;
        const a = this.state;
        if (this.fragContextChanged(e)) {
          (a === _e.FRAG_LOADING || (!this.fragCurrent && a === _e.PARSING)) && (this.fragmentTracker.removeFragment(e), (this.state = _e.IDLE));
          return;
        }
        'payload' in o && (this.log(`Loaded fragment ${e.sn} of level ${e.level}`), this.hls.trigger(V.FRAG_LOADED, o)), this._handleFragmentLoadComplete(o);
      })
      .catch((o) => {
        this.state === _e.STOPPED || this.state === _e.ERROR || (this.warn(o), this.resetFragmentLoading(e));
      });
  }
  clearTrackerIfNeeded(e) {
    var n;
    const { fragmentTracker: r } = this;
    if (r.getState(e) === Nn.APPENDING) {
      const o = e.type,
        a = this.getFwdBufferInfo(this.mediaBuffer, o),
        s = Math.max(e.duration, a ? a.len : this.config.maxBufferLength);
      this.reduceMaxBufferLength(s) && r.removeFragment(e);
    } else
      ((n = this.mediaBuffer) == null ? void 0 : n.buffered.length) === 0
        ? r.removeAllFragments()
        : r.hasParts(e.type) && (r.detectPartialFragments({ frag: e, part: null, stats: e.stats, id: e.type }), r.getState(e) === Nn.PARTIAL && r.removeFragment(e));
  }
  flushMainBuffer(e, n, r = null) {
    if (!(e - n)) return;
    const i = { startOffset: e, endOffset: n, type: r };
    this.hls.trigger(V.BUFFER_FLUSHING, i);
  }
  _loadInitSegment(e, n) {
    this._doFragLoad(e, n)
      .then((r) => {
        if (!r || this.fragContextChanged(e) || !this.levels) throw new Error('init load aborted');
        return r;
      })
      .then((r) => {
        const { hls: i } = this,
          { payload: o } = r,
          a = e.decryptdata;
        if (o && o.byteLength > 0 && a && a.key && a.iv && a.method === 'AES-128') {
          const s = self.performance.now();
          return this.decrypter
            .decrypt(new Uint8Array(o), a.key.buffer, a.iv.buffer)
            .catch((l) => {
              throw (i.trigger(V.ERROR, { type: at.MEDIA_ERROR, details: he.FRAG_DECRYPT_ERROR, fatal: !1, error: l, reason: l.message, frag: e }), l);
            })
            .then((l) => {
              const u = self.performance.now();
              return i.trigger(V.FRAG_DECRYPTED, { frag: e, payload: l, stats: { tstart: s, tdecrypt: u } }), (r.payload = l), r;
            });
        }
        return r;
      })
      .then((r) => {
        const { fragCurrent: i, hls: o, levels: a } = this;
        if (!a) throw new Error('init load aborted, missing levels');
        const s = e.stats;
        (this.state = _e.IDLE),
          (n.fragmentError = 0),
          (e.data = new Uint8Array(r.payload)),
          (s.parsing.start = s.buffering.start = self.performance.now()),
          (s.parsing.end = s.buffering.end = self.performance.now()),
          r.frag === i && o.trigger(V.FRAG_BUFFERED, { stats: s, frag: i, part: null, id: e.type }),
          this.tick();
      })
      .catch((r) => {
        this.state === _e.STOPPED || this.state === _e.ERROR || (this.warn(r), this.resetFragmentLoading(e));
      });
  }
  fragContextChanged(e) {
    const { fragCurrent: n } = this;
    return !e || !n || e.level !== n.level || e.sn !== n.sn || e.urlId !== n.urlId;
  }
  fragBufferedComplete(e, n) {
    var r, i, o, a;
    const s = this.mediaBuffer ? this.mediaBuffer : this.media;
    this.log(
      `Buffered ${e.type} sn: ${e.sn}${n ? ' part: ' + n.index : ''} of ${this.playlistType === lt.MAIN ? 'level' : 'track'} ${e.level} (frag:[${((r = e.startPTS) != null ? r : NaN).toFixed(
        3,
      )}-${((i = e.endPTS) != null ? i : NaN).toFixed(3)}] > buffer:${s ? sD.toString(on.getBuffered(s)) : '(detached)'})`,
    ),
      (this.state = _e.IDLE),
      s &&
        (!this.loadedmetadata &&
          e.type == lt.MAIN &&
          s.buffered.length &&
          ((o = this.fragCurrent) == null ? void 0 : o.sn) === ((a = this.fragPrevious) == null ? void 0 : a.sn) &&
          ((this.loadedmetadata = !0), this.seekToStartPos()),
        this.tick());
  }
  seekToStartPos() {}
  _handleFragmentLoadComplete(e) {
    const { transmuxer: n } = this;
    if (!n) return;
    const { frag: r, part: i, partsLoaded: o } = e,
      a = !o || o.length === 0 || o.some((l) => !l),
      s = new zp(r.level, r.sn, r.stats.chunkCount + 1, 0, i ? i.index : -1, !a);
    n.flush(s);
  }
  _handleFragmentLoadProgress(e) {}
  _doFragLoad(e, n, r = null, i) {
    var o;
    const a = n == null ? void 0 : n.details;
    if (!this.levels || !a) throw new Error(`frag load aborted, missing level${a ? '' : ' detail'}s`);
    let s = null;
    if (
      (e.encrypted && !((o = e.decryptdata) != null && o.key)
        ? (this.log(`Loading key for ${e.sn} of [${a.startSN}-${a.endSN}], ${this.logPrefix === '[stream-controller]' ? 'level' : 'track'} ${e.level}`),
          (this.state = _e.KEY_LOADING),
          (this.fragCurrent = e),
          (s = this.keyLoader.load(e).then((c) => {
            if (!this.fragContextChanged(c.frag)) return this.hls.trigger(V.KEY_LOADED, c), this.state === _e.KEY_LOADING && (this.state = _e.IDLE), c;
          })),
          this.hls.trigger(V.KEY_LOADING, { frag: e }),
          this.fragCurrent === null && (s = Promise.reject(new Error('frag load aborted, context changed in KEY_LOADING'))))
        : !e.encrypted && a.encryptedFragments.length && this.keyLoader.loadClear(e, a.encryptedFragments),
      (r = Math.max(e.start, r || 0)),
      this.config.lowLatencyMode && e.sn !== 'initSegment')
    ) {
      const c = a.partList;
      if (c && i) {
        r > e.end && a.fragmentHint && (e = a.fragmentHint);
        const d = this.getNextPart(c, e, r);
        if (d > -1) {
          const f = c[d];
          this.log(
            `Loading part sn: ${e.sn} p: ${f.index} cc: ${e.cc} of playlist [${a.startSN}-${a.endSN}] parts [0-${d}-${c.length - 1}] ${this.logPrefix === '[stream-controller]' ? 'level' : 'track'}: ${
              e.level
            }, target: ${parseFloat(r.toFixed(3))}`,
          ),
            (this.nextLoadPosition = f.start + f.duration),
            (this.state = _e.FRAG_LOADING);
          let h;
          return (
            s
              ? (h = s.then((m) => (!m || this.fragContextChanged(m.frag) ? null : this.doFragPartsLoad(e, f, n, i))).catch((m) => this.handleFragLoadError(m)))
              : (h = this.doFragPartsLoad(e, f, n, i).catch((m) => this.handleFragLoadError(m))),
            this.hls.trigger(V.FRAG_LOADING, { frag: e, part: f, targetBufferTime: r }),
            this.fragCurrent === null ? Promise.reject(new Error('frag load aborted, context changed in FRAG_LOADING parts')) : h
          );
        } else if (!e.url || this.loadedEndOfParts(c, r)) return Promise.resolve(null);
      }
    }
    this.log(
      `Loading fragment ${e.sn} cc: ${e.cc} ${a ? 'of [' + a.startSN + '-' + a.endSN + '] ' : ''}${this.logPrefix === '[stream-controller]' ? 'level' : 'track'}: ${e.level}, target: ${parseFloat(
        r.toFixed(3),
      )}`,
    ),
      rt(e.sn) && !this.bitrateTest && (this.nextLoadPosition = e.start + e.duration),
      (this.state = _e.FRAG_LOADING);
    const l = this.config.progressive;
    let u;
    return (
      l && s
        ? (u = s.then((c) => (!c || this.fragContextChanged(c == null ? void 0 : c.frag) ? null : this.fragmentLoader.load(e, i))).catch((c) => this.handleFragLoadError(c)))
        : (u = Promise.all([this.fragmentLoader.load(e, l ? i : void 0), s])
            .then(([c]) => (!l && c && i && i(c), c))
            .catch((c) => this.handleFragLoadError(c))),
      this.hls.trigger(V.FRAG_LOADING, { frag: e, targetBufferTime: r }),
      this.fragCurrent === null ? Promise.reject(new Error('frag load aborted, context changed in FRAG_LOADING')) : u
    );
  }
  doFragPartsLoad(e, n, r, i) {
    return new Promise((o, a) => {
      var s;
      const l = [],
        u = (s = r.details) == null ? void 0 : s.partList,
        c = (d) => {
          this.fragmentLoader
            .loadPart(e, d, i)
            .then((f) => {
              l[d.index] = f;
              const h = f.part;
              this.hls.trigger(V.FRAG_LOADED, f);
              const m = Qv(r, e.sn, d.index + 1) || P_(u, e.sn, d.index + 1);
              if (m) c(m);
              else return o({ frag: e, part: h, partsLoaded: l });
            })
            .catch(a);
        };
      c(n);
    });
  }
  handleFragLoadError(e) {
    if ('data' in e) {
      const n = e.data;
      e.data && n.details === he.INTERNAL_ABORTED ? this.handleFragLoadAborted(n.frag, n.part) : this.hls.trigger(V.ERROR, n);
    } else this.hls.trigger(V.ERROR, { type: at.OTHER_ERROR, details: he.INTERNAL_EXCEPTION, err: e, error: e, fatal: !0 });
    return null;
  }
  _handleTransmuxerFlush(e) {
    const n = this.getCurrentContext(e);
    if (!n || this.state !== _e.PARSING) {
      !this.fragCurrent && this.state !== _e.STOPPED && this.state !== _e.ERROR && (this.state = _e.IDLE);
      return;
    }
    const { frag: r, part: i, level: o } = n,
      a = self.performance.now();
    (r.stats.parsing.end = a), i && (i.stats.parsing.end = a), this.updateLevelTiming(r, i, o, e.partial);
  }
  getCurrentContext(e) {
    const { levels: n, fragCurrent: r } = this,
      { level: i, sn: o, part: a } = e;
    if (!(n != null && n[i])) return this.warn(`Levels object was unset while buffering fragment ${o} of level ${i}. The current chunk will not be buffered.`), null;
    const s = n[i],
      l = a > -1 ? Qv(s, o, a) : null,
      u = l ? l.fragment : NI(s, o, r);
    return u ? (r && r !== u && (u.stats = r.stats), { frag: u, part: l, level: s }) : null;
  }
  bufferFragmentData(e, n, r, i) {
    var o;
    if (!e || this.state !== _e.PARSING) return;
    const { data1: a, data2: s } = e;
    let l = a;
    if ((a && s && (l = Vo(a, s)), !((o = l) != null && o.length))) return;
    const u = { type: e.type, frag: n, part: r, chunkMeta: i, parent: n.type, data: l };
    this.hls.trigger(V.BUFFER_APPENDING, u), e.dropped && e.independent && !r && this.flushBufferGap(n);
  }
  flushBufferGap(e) {
    const n = this.media;
    if (!n) return;
    if (!on.isBuffered(n, n.currentTime)) {
      this.flushMainBuffer(0, e.start);
      return;
    }
    const r = n.currentTime,
      i = on.bufferInfo(n, r, 0),
      o = e.duration,
      a = Math.min(this.config.maxFragLookUpTolerance * 2, o * 0.25),
      s = Math.max(Math.min(e.start - a, i.end - a), r + a);
    e.start - s > a && this.flushMainBuffer(s, e.start);
  }
  getFwdBufferInfo(e, n) {
    const r = this.getLoadPosition();
    return rt(r) ? this.getFwdBufferInfoAtPos(e, r, n) : null;
  }
  getFwdBufferInfoAtPos(e, n, r) {
    const {
        config: { maxBufferHole: i },
      } = this,
      o = on.bufferInfo(e, n, i);
    if (o.len === 0 && o.nextStart !== void 0) {
      const a = this.fragmentTracker.getBufferedFrag(n, r);
      if (a && o.nextStart < a.end) return on.bufferInfo(e, n, Math.max(o.nextStart, i));
    }
    return o;
  }
  getMaxBufferLength(e) {
    const { config: n } = this;
    let r;
    return e ? (r = Math.max((8 * n.maxBufferSize) / e, n.maxBufferLength)) : (r = n.maxBufferLength), Math.min(r, n.maxMaxBufferLength);
  }
  reduceMaxBufferLength(e) {
    const n = this.config,
      r = e || n.maxBufferLength;
    return n.maxMaxBufferLength >= r ? ((n.maxMaxBufferLength /= 2), this.warn(`Reduce max buffer length to ${n.maxMaxBufferLength}s`), !0) : !1;
  }
  getAppendedFrag(e, n = lt.MAIN) {
    const r = this.fragmentTracker.getAppendedFrag(e, lt.MAIN);
    return r && 'fragment' in r ? r.fragment : r;
  }
  getNextFragment(e, n) {
    const r = n.fragments,
      i = r.length;
    if (!i) return null;
    const { config: o } = this,
      a = r[0].start;
    let s;
    if (n.live) {
      const l = o.initialLiveManifestSize;
      if (i < l) return this.warn(`Not enough fragments to start playback (have: ${i}, need: ${l})`), null;
      !n.PTSKnown && !this.startFragRequested && this.startPosition === -1 && ((s = this.getInitialLiveFragment(n, r)), (this.startPosition = s ? this.hls.liveSyncPosition || s.start : e));
    } else e <= a && (s = r[0]);
    if (!s) {
      const l = o.lowLatencyMode ? n.partEnd : n.fragmentEnd;
      s = this.getFragmentAtPosition(e, l, n);
    }
    return this.mapToInitFragWhenRequired(s);
  }
  isLoopLoading(e, n) {
    const r = this.fragmentTracker.getState(e);
    return (r === Nn.OK || (r === Nn.PARTIAL && !!e.gap)) && this.nextLoadPosition > n;
  }
  getNextFragmentLoopLoading(e, n, r, i, o) {
    const a = e.gap,
      s = this.getNextFragment(this.nextLoadPosition, n);
    if (s === null) return s;
    if (((e = s), a && e && !e.gap && r.nextStart)) {
      const l = this.getFwdBufferInfoAtPos(this.mediaBuffer ? this.mediaBuffer : this.media, r.nextStart, i);
      if (l !== null && r.len + l.len >= o) return this.log(`buffer full after gaps in "${i}" playlist starting at sn: ${e.sn}`), null;
    }
    return e;
  }
  mapToInitFragWhenRequired(e) {
    return e != null && e.initSegment && !(e != null && e.initSegment.data) && !this.bitrateTest ? e.initSegment : e;
  }
  getNextPart(e, n, r) {
    let i = -1,
      o = !1,
      a = !0;
    for (let s = 0, l = e.length; s < l; s++) {
      const u = e[s];
      if (((a = a && !u.independent), i > -1 && r < u.start)) break;
      const c = u.loaded;
      c ? (i = -1) : (o || u.independent || a) && u.fragment === n && (i = s), (o = c);
    }
    return i;
  }
  loadedEndOfParts(e, n) {
    const r = e[e.length - 1];
    return r && n > r.start && r.loaded;
  }
  getInitialLiveFragment(e, n) {
    const r = this.fragPrevious;
    let i = null;
    if (r) {
      if (
        (e.hasProgramDateTime && (this.log(`Live playlist, switching playlist, load frag with same PDT: ${r.programDateTime}`), (i = BI(n, r.endProgramDateTime, this.config.maxFragLookUpTolerance))),
        !i)
      ) {
        const o = r.sn + 1;
        if (o >= e.startSN && o <= e.endSN) {
          const a = n[o - e.startSN];
          r.cc === a.cc && ((i = a), this.log(`Live playlist, switching playlist, load frag with next SN: ${i.sn}`));
        }
        i || ((i = zI(n, r.cc)), i && this.log(`Live playlist, switching playlist, load frag with same CC: ${i.sn}`));
      }
    } else {
      const o = this.hls.liveSyncPosition;
      o !== null && (i = this.getFragmentAtPosition(o, this.bitrateTest ? e.fragmentEnd : e.edge, e));
    }
    return i;
  }
  getFragmentAtPosition(e, n, r) {
    const { config: i } = this;
    let { fragPrevious: o } = this,
      { fragments: a, endSN: s } = r;
    const { fragmentHint: l } = r,
      u = i.maxFragLookUpTolerance,
      c = r.partList,
      d = !!(i.lowLatencyMode && c != null && c.length && l);
    d && l && !this.bitrateTest && ((a = a.concat(l)), (s = l.sn));
    let f;
    if (e < n) {
      const h = e > n - u ? 0 : u;
      f = Tl(o, a, e, h);
    } else f = a[a.length - 1];
    if (f) {
      const h = f.sn - r.startSN,
        m = this.fragmentTracker.getState(f);
      if (((m === Nn.OK || (m === Nn.PARTIAL && f.gap)) && (o = f), o && f.sn === o.sn && (!d || c[0].fragment.sn > f.sn) && o && f.level === o.level)) {
        const b = a[h + 1];
        f.sn < s && this.fragmentTracker.getState(b) !== Nn.OK ? (f = b) : (f = null);
      }
    }
    return f;
  }
  synchronizeToLiveEdge(e) {
    const { config: n, media: r } = this;
    if (!r) return;
    const i = this.hls.liveSyncPosition,
      o = r.currentTime,
      a = e.fragments[0].start,
      s = e.edge,
      l = o >= a - n.maxFragLookUpTolerance && o <= s;
    if (i !== null && r.duration > i && (o < i || !l)) {
      const u = n.liveMaxLatencyDuration !== void 0 ? n.liveMaxLatencyDuration : n.liveMaxLatencyDurationCount * e.targetduration;
      ((!l && r.readyState < 4) || o < s - u) &&
        (this.loadedmetadata || (this.nextLoadPosition = i),
        r.readyState && (this.warn(`Playback: ${o.toFixed(3)} is located too far from the end of live sliding playlist: ${s}, reset currentTime to : ${i.toFixed(3)}`), (r.currentTime = i)));
    }
  }
  alignPlaylists(e, n) {
    const { levels: r, levelLastLoaded: i, fragPrevious: o } = this,
      a = i !== null ? r[i] : null,
      s = e.fragments.length;
    if (!s) return this.warn('No fragments in live playlist'), 0;
    const l = e.fragments[0].start,
      u = !n,
      c = e.alignedSliding && rt(l);
    if (u || (!c && !l)) {
      JI(o, a, e);
      const d = e.fragments[0].start;
      return this.log(`Live playlist sliding: ${d.toFixed(2)} start-sn: ${n ? n.startSN : 'na'}->${e.startSN} prev-sn: ${o ? o.sn : 'na'} fragments: ${s}`), d;
    }
    return l;
  }
  waitForCdnTuneIn(e) {
    return e.live && e.canBlockReload && e.partTarget && e.tuneInGoal > Math.max(e.partHoldBack, e.partTarget * 3);
  }
  setStartPosition(e, n) {
    let r = this.startPosition;
    if ((r < n && (r = -1), r === -1 || this.lastCurrentTime === -1)) {
      const i = this.startTimeOffset !== null,
        o = i ? this.startTimeOffset : e.startTimeOffset;
      o !== null && rt(o)
        ? ((r = n + o),
          o < 0 && (r += e.totalduration),
          (r = Math.min(Math.max(n, r), n + e.totalduration)),
          this.log(`Start time offset ${o} found in ${i ? 'multivariant' : 'media'} playlist, adjust startPosition to ${r}`),
          (this.startPosition = r))
        : e.live
        ? (r = this.hls.liveSyncPosition || n)
        : (this.startPosition = r = 0),
        (this.lastCurrentTime = r);
    }
    this.nextLoadPosition = r;
  }
  getLoadPosition() {
    const { media: e } = this;
    let n = 0;
    return this.loadedmetadata && e ? (n = e.currentTime) : this.nextLoadPosition && (n = this.nextLoadPosition), n;
  }
  handleFragLoadAborted(e, n) {
    this.transmuxer && e.sn !== 'initSegment' && e.stats.aborted && (this.warn(`Fragment ${e.sn}${n ? ' part ' + n.index : ''} of level ${e.level} was aborted`), this.resetFragmentLoading(e));
  }
  resetFragmentLoading(e) {
    (!this.fragCurrent || (!this.fragContextChanged(e) && this.state !== _e.FRAG_LOADING_WAITING_RETRY)) && (this.state = _e.IDLE);
  }
  onFragmentOrKeyLoadError(e, n) {
    if (n.chunkMeta && !n.frag) {
      const d = this.getCurrentContext(n.chunkMeta);
      d && (n.frag = d.frag);
    }
    const r = n.frag;
    if (!r || r.type !== e || !this.levels) return;
    if (this.fragContextChanged(r)) {
      var i;
      this.warn(`Frag load error must match current frag to retry ${r.url} > ${(i = this.fragCurrent) == null ? void 0 : i.url}`);
      return;
    }
    const o = n.details === he.FRAG_GAP;
    o && this.fragmentTracker.fragBuffered(r, !0);
    const a = n.errorAction,
      { action: s, retryCount: l = 0, retryConfig: u } = a || {};
    if (a && s === Xn.RetryRequest && u) {
      var c;
      this.resetStartWhenNotLoaded((c = this.levelLastLoaded) != null ? c : r.level);
      const d = Bp(u, l);
      this.warn(`Fragment ${r.sn} of ${e} ${r.level} errored with ${n.details}, retrying loading ${l + 1}/${u.maxNumRetry} in ${d}ms`),
        (a.resolved = !0),
        (this.retryDate = self.performance.now() + d),
        (this.state = _e.FRAG_LOADING_WAITING_RETRY);
    } else
      u && a
        ? (this.resetFragmentErrors(e), l < u.maxNumRetry ? o || (a.resolved = !0) : le.warn(`${n.details} reached or exceeded max retry (${l})`))
        : (a == null ? void 0 : a.action) === Xn.SendAlternateToPenaltyBox
        ? (this.state = _e.WAITING_LEVEL)
        : (this.state = _e.ERROR);
    this.tickImmediate();
  }
  reduceLengthAndFlushBuffer(e) {
    if (this.state === _e.PARSING || this.state === _e.PARSED) {
      const n = e.parent,
        r = this.getFwdBufferInfo(this.mediaBuffer, n),
        i = r && r.len > 0.5;
      i && this.reduceMaxBufferLength(r.len);
      const o = !i;
      return (
        o && this.warn(`Buffer full error while media.currentTime is not buffered, flush ${n} buffer`),
        e.frag && (this.fragmentTracker.removeFragment(e.frag), (this.nextLoadPosition = e.frag.start)),
        this.resetLoadingState(),
        o
      );
    }
    return !1;
  }
  resetFragmentErrors(e) {
    e === lt.AUDIO && (this.fragCurrent = null), this.loadedmetadata || (this.startFragRequested = !1), this.state !== _e.STOPPED && (this.state = _e.IDLE);
  }
  afterBufferFlushed(e, n, r) {
    if (!e) return;
    const i = on.getBuffered(e);
    this.fragmentTracker.detectEvictedFragments(n, i, r), this.state === _e.ENDED && this.resetLoadingState();
  }
  resetLoadingState() {
    this.log('Reset loading state'), (this.fragCurrent = null), (this.fragPrevious = null), (this.state = _e.IDLE);
  }
  resetStartWhenNotLoaded(e) {
    if (!this.loadedmetadata) {
      this.startFragRequested = !1;
      const n = this.levels ? this.levels[e].details : null;
      n != null && n.live ? ((this.startPosition = -1), this.setStartPosition(n, 0), this.resetLoadingState()) : (this.nextLoadPosition = this.startPosition);
    }
  }
  resetWhenMissingContext(e) {
    var n;
    this.warn(`The loading context changed while buffering fragment ${e.sn} of level ${e.level}. This chunk will not be buffered.`),
      this.removeUnbufferedFrags(),
      this.resetStartWhenNotLoaded((n = this.levelLastLoaded) != null ? n : e.level),
      this.resetLoadingState();
  }
  removeUnbufferedFrags(e = 0) {
    this.fragmentTracker.removeFragmentsInRange(e, 1 / 0, this.playlistType, !1, !0);
  }
  updateLevelTiming(e, n, r, i) {
    var o;
    const a = r.details;
    if (!a) {
      this.warn('level.details undefined');
      return;
    }
    if (
      Object.keys(e.elementaryStreams).reduce((l, u) => {
        const c = e.elementaryStreams[u];
        if (c) {
          const d = c.endPTS - c.startPTS;
          if (d <= 0) return this.warn(`Could not parse fragment ${e.sn} ${u} duration reliably (${d})`), l || !1;
          const f = i ? 0 : I_(a, e, c.startPTS, c.endPTS, c.startDTS, c.endDTS);
          return this.hls.trigger(V.LEVEL_PTS_UPDATED, { details: a, level: r, drift: f, type: u, frag: e, start: c.startPTS, end: c.endPTS }), !0;
        }
        return l;
      }, !1)
    )
      r.fragmentError = 0;
    else if (((o = this.transmuxer) == null ? void 0 : o.error) === null) {
      const l = new Error(`Found no media in fragment ${e.sn} of level ${r.id} resetting transmuxer to fallback to playlist timing`);
      if (
        (this.warn(l.message),
        this.hls.trigger(V.ERROR, { type: at.MEDIA_ERROR, details: he.FRAG_PARSING_ERROR, fatal: !1, error: l, frag: e, reason: `Found no media in msn ${e.sn} of level "${r.url}"` }),
        !this.hls)
      )
        return;
      this.resetTransmuxer();
    }
    (this.state = _e.PARSED), this.hls.trigger(V.FRAG_PARSED, { frag: e, part: n });
  }
  resetTransmuxer() {
    this.transmuxer && (this.transmuxer.destroy(), (this.transmuxer = null));
  }
  recoverWorkerError(e) {
    if (e.event === 'demuxerWorker') {
      var n, r, i;
      this.fragmentTracker.removeAllFragments(),
        this.resetTransmuxer(),
        this.resetStartWhenNotLoaded((n = (r = this.levelLastLoaded) != null ? r : (i = this.fragCurrent) == null ? void 0 : i.level) != null ? n : 0),
        this.resetLoadingState();
    }
  }
  set state(e) {
    const n = this._state;
    n !== e && ((this._state = e), this.log(`${n}->${e}`));
  }
  get state() {
    return this._state;
  }
}
function F_() {
  return self.SourceBuffer || self.WebKitSourceBuffer;
}
function lD() {
  const t = Pd();
  if (!t) return !1;
  const e = F_(),
    n = t && typeof t.isTypeSupported == 'function' && t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),
    r = !e || (e.prototype && typeof e.prototype.appendBuffer == 'function' && typeof e.prototype.remove == 'function');
  return !!n && !!r;
}
function uD() {
  var t;
  const e = F_();
  return typeof (e == null || (t = e.prototype) == null ? void 0 : t.changeType) == 'function';
}
function cD() {
  return typeof __HLS_WORKER_BUNDLE__ == 'function';
}
function dD() {
  const t = new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`], { type: 'text/javascript' }),
    e = self.URL.createObjectURL(t);
  return { worker: new self.Worker(e), objectURL: e };
}
function fD(t) {
  const e = new self.URL(t, self.location.href).href;
  return { worker: new self.Worker(e), scriptURL: e };
}
function li(t = '', e = 9e4) {
  return { type: t, id: -1, pid: -1, inputTimeScale: e, sequenceNumber: -1, samples: [], dropped: 0 };
}
class N_ {
  constructor() {
    (this._audioTrack = void 0), (this._id3Track = void 0), (this.frameIndex = 0), (this.cachedData = null), (this.basePTS = null), (this.initPTS = null), (this.lastPTS = null);
  }
  resetInitSegment(e, n, r, i) {
    this._id3Track = { type: 'id3', id: 3, pid: -1, inputTimeScale: 9e4, sequenceNumber: 0, samples: [], dropped: 0 };
  }
  resetTimeStamp(e) {
    (this.initPTS = e), this.resetContiguity();
  }
  resetContiguity() {
    (this.basePTS = null), (this.lastPTS = null), (this.frameIndex = 0);
  }
  canParse(e, n) {
    return !1;
  }
  appendFrame(e, n, r) {}
  demux(e, n) {
    this.cachedData && ((e = Vo(this.cachedData, e)), (this.cachedData = null));
    let r = $c(e, 0),
      i = r ? r.length : 0,
      o;
    const a = this._audioTrack,
      s = this._id3Track,
      l = r ? qL(r) : void 0,
      u = e.length;
    for (
      (this.basePTS === null || (this.frameIndex === 0 && rt(l))) && ((this.basePTS = hD(l, n, this.initPTS)), (this.lastPTS = this.basePTS)),
        this.lastPTS === null && (this.lastPTS = this.basePTS),
        r && r.length > 0 && s.samples.push({ pts: this.lastPTS, dts: this.lastPTS, data: r, type: Yr.audioId3, duration: Number.POSITIVE_INFINITY });
      i < u;

    ) {
      if (this.canParse(e, i)) {
        const c = this.appendFrame(a, e, i);
        c ? (this.frameIndex++, (this.lastPTS = c.sample.pts), (i += c.length), (o = i)) : (i = u);
      } else KL(e, i) ? ((r = $c(e, i)), s.samples.push({ pts: this.lastPTS, dts: this.lastPTS, data: r, type: Yr.audioId3, duration: Number.POSITIVE_INFINITY }), (i += r.length), (o = i)) : i++;
      if (i === u && o !== u) {
        const c = Mo(e, o);
        this.cachedData ? (this.cachedData = Vo(this.cachedData, c)) : (this.cachedData = c);
      }
    }
    return { audioTrack: a, videoTrack: li(), id3Track: s, textTrack: li() };
  }
  demuxSampleAes(e, n, r) {
    return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`));
  }
  flush(e) {
    const n = this.cachedData;
    return n && ((this.cachedData = null), this.demux(n, 0)), { audioTrack: this._audioTrack, videoTrack: li(), id3Track: this._id3Track, textTrack: li() };
  }
  destroy() {}
}
const hD = (t, e, n) => {
  if (rt(t)) return t * 90;
  const r = n ? (n.baseTime * 9e4) / n.timescale : 0;
  return e * 9e4 + r;
};
function mD(t, e, n, r) {
  let i, o, a, s;
  const l = navigator.userAgent.toLowerCase(),
    u = r,
    c = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350];
  i = ((e[n + 2] & 192) >>> 6) + 1;
  const d = (e[n + 2] & 60) >>> 2;
  if (d > c.length - 1) {
    t.trigger(V.ERROR, { type: at.MEDIA_ERROR, details: he.FRAG_PARSING_ERROR, fatal: !0, reason: `invalid ADTS sampling index:${d}` });
    return;
  }
  return (
    (a = (e[n + 2] & 1) << 2),
    (a |= (e[n + 3] & 192) >>> 6),
    le.log(`manifest codec:${r}, ADTS type:${i}, samplingIndex:${d}`),
    /firefox/i.test(l)
      ? d >= 6
        ? ((i = 5), (s = new Array(4)), (o = d - 3))
        : ((i = 2), (s = new Array(2)), (o = d))
      : l.indexOf('android') !== -1
      ? ((i = 2), (s = new Array(2)), (o = d))
      : ((i = 5),
        (s = new Array(4)),
        (r && (r.indexOf('mp4a.40.29') !== -1 || r.indexOf('mp4a.40.5') !== -1)) || (!r && d >= 6)
          ? (o = d - 3)
          : (((r && r.indexOf('mp4a.40.2') !== -1 && ((d >= 6 && a === 1) || /vivaldi/i.test(l))) || (!r && a === 1)) && ((i = 2), (s = new Array(2))), (o = d))),
    (s[0] = i << 3),
    (s[0] |= (d & 14) >> 1),
    (s[1] |= (d & 1) << 7),
    (s[1] |= a << 3),
    i === 5 && ((s[1] |= (o & 14) >> 1), (s[2] = (o & 1) << 7), (s[2] |= 8), (s[3] = 0)),
    { config: s, samplerate: c[d], channelCount: a, codec: 'mp4a.40.' + i, manifestCodec: u }
  );
}
function $_(t, e) {
  return t[e] === 255 && (t[e + 1] & 246) === 240;
}
function B_(t, e) {
  return t[e + 1] & 1 ? 7 : 9;
}
function Gp(t, e) {
  return ((t[e + 3] & 3) << 11) | (t[e + 4] << 3) | ((t[e + 5] & 224) >>> 5);
}
function pD(t, e) {
  return e + 5 < t.length;
}
function Hc(t, e) {
  return e + 1 < t.length && $_(t, e);
}
function gD(t, e) {
  return pD(t, e) && $_(t, e) && Gp(t, e) <= t.length - e;
}
function vD(t, e) {
  if (Hc(t, e)) {
    const n = B_(t, e);
    if (e + n >= t.length) return !1;
    const r = Gp(t, e);
    if (r <= n) return !1;
    const i = e + r;
    return i === t.length || Hc(t, i);
  }
  return !1;
}
function U_(t, e, n, r, i) {
  if (!t.samplerate) {
    const o = mD(e, n, r, i);
    if (!o) return;
    (t.config = o.config),
      (t.samplerate = o.samplerate),
      (t.channelCount = o.channelCount),
      (t.codec = o.codec),
      (t.manifestCodec = o.manifestCodec),
      le.log(`parsed codec:${t.codec}, rate:${o.samplerate}, channels:${o.channelCount}`);
  }
}
function z_(t) {
  return (1024 * 9e4) / t;
}
function yD(t, e) {
  const n = B_(t, e);
  if (e + n <= t.length) {
    const r = Gp(t, e) - n;
    if (r > 0) return { headerLength: n, frameLength: r };
  }
}
function V_(t, e, n, r, i) {
  const o = z_(t.samplerate),
    a = r + i * o,
    s = yD(e, n);
  let l;
  if (s) {
    const { frameLength: d, headerLength: f } = s,
      h = f + d,
      m = Math.max(0, n + h - e.length);
    m ? ((l = new Uint8Array(h - f)), l.set(e.subarray(n + f, e.length), 0)) : (l = e.subarray(n + f, n + h));
    const g = { unit: l, pts: a };
    return m || t.samples.push(g), { sample: g, length: h, missing: m };
  }
  const u = e.length - n;
  return (l = new Uint8Array(u)), l.set(e.subarray(n, e.length), 0), { sample: { unit: l, pts: a }, length: u, missing: -1 };
}
class _D extends N_ {
  constructor(e, n) {
    super(), (this.observer = void 0), (this.config = void 0), (this.observer = e), (this.config = n);
  }
  resetInitSegment(e, n, r, i) {
    super.resetInitSegment(e, n, r, i),
      (this._audioTrack = {
        container: 'audio/adts',
        type: 'audio',
        id: 2,
        pid: -1,
        sequenceNumber: 0,
        segmentCodec: 'aac',
        samples: [],
        manifestCodec: n,
        duration: i,
        inputTimeScale: 9e4,
        dropped: 0,
      });
  }
  static probe(e) {
    if (!e) return !1;
    let r = ($c(e, 0) || []).length;
    for (let i = e.length; r < i; r++) if (vD(e, r)) return le.log('ADTS sync word found !'), !0;
    return !1;
  }
  canParse(e, n) {
    return gD(e, n);
  }
  appendFrame(e, n, r) {
    U_(e, this.observer, n, r, e.manifestCodec);
    const i = V_(e, n, r, this.basePTS, this.frameIndex);
    if (i && i.missing === 0) return i;
  }
}
const SD = /\/emsg[-/]ID3/i;
class ED {
  constructor(e, n) {
    (this.remainderData = null),
      (this.timeOffset = 0),
      (this.config = void 0),
      (this.videoTrack = void 0),
      (this.audioTrack = void 0),
      (this.id3Track = void 0),
      (this.txtTrack = void 0),
      (this.config = n);
  }
  resetTimeStamp() {}
  resetInitSegment(e, n, r, i) {
    const o = (this.videoTrack = li('video', 1)),
      a = (this.audioTrack = li('audio', 1)),
      s = (this.txtTrack = li('text', 1));
    if (((this.id3Track = li('id3', 1)), (this.timeOffset = 0), !(e != null && e.byteLength))) return;
    const l = x_(e);
    if (l.video) {
      const { id: u, timescale: c, codec: d } = l.video;
      (o.id = u), (o.timescale = s.timescale = c), (o.codec = d);
    }
    if (l.audio) {
      const { id: u, timescale: c, codec: d } = l.audio;
      (a.id = u), (a.timescale = c), (a.codec = d);
    }
    (s.id = S_.text), (o.sampleDuration = 0), (o.duration = a.duration = i);
  }
  resetContiguity() {
    this.remainderData = null;
  }
  static probe(e) {
    return (e = e.length > 16384 ? e.subarray(0, 16384) : e), Dt(e, ['moof']).length > 0;
  }
  demux(e, n) {
    this.timeOffset = n;
    let r = e;
    const i = this.videoTrack,
      o = this.txtTrack;
    if (this.config.progressive) {
      this.remainderData && (r = Vo(this.remainderData, e));
      const s = uI(r);
      (this.remainderData = s.remainder), (i.samples = s.valid || new Uint8Array());
    } else i.samples = r;
    const a = this.extractID3Track(i, n);
    return (o.samples = Fv(n, i)), { videoTrack: i, audioTrack: this.audioTrack, id3Track: a, textTrack: this.txtTrack };
  }
  flush() {
    const e = this.timeOffset,
      n = this.videoTrack,
      r = this.txtTrack;
    (n.samples = this.remainderData || new Uint8Array()), (this.remainderData = null);
    const i = this.extractID3Track(n, this.timeOffset);
    return (r.samples = Fv(e, n)), { videoTrack: n, audioTrack: li(), id3Track: i, textTrack: li() };
  }
  extractID3Track(e, n) {
    const r = this.id3Track;
    if (e.samples.length) {
      const i = Dt(e.samples, ['emsg']);
      i &&
        i.forEach((o) => {
          const a = fI(o);
          if (SD.test(a.schemeIdUri)) {
            const s = rt(a.presentationTime) ? a.presentationTime / a.timeScale : n + a.presentationTimeDelta / a.timeScale;
            let l = a.eventDuration === 4294967295 ? Number.POSITIVE_INFINITY : a.eventDuration / a.timeScale;
            l <= 0.001 && (l = Number.POSITIVE_INFINITY);
            const u = a.payload;
            r.samples.push({ data: u, len: u.byteLength, dts: s, pts: s, type: Yr.emsg, duration: l });
          }
        });
    }
    return r;
  }
  demuxSampleAes(e, n, r) {
    return Promise.reject(new Error('The MP4 demuxer does not support SAMPLE-AES decryption'));
  }
  destroy() {}
}
let xu = null;
const bD = [
    32, 64, 96, 128, 160, 192, 224, 256, 288, 320, 352, 384, 416, 448, 32, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 384, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320,
    32, 48, 56, 64, 80, 96, 112, 128, 144, 160, 176, 192, 224, 256, 8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160,
  ],
  xD = [44100, 48e3, 32e3, 22050, 24e3, 16e3, 11025, 12e3, 8e3],
  TD = [
    [0, 72, 144, 12],
    [0, 0, 0, 0],
    [0, 72, 144, 12],
    [0, 144, 144, 12],
  ],
  wD = [0, 1, 1, 4];
function H_(t, e, n, r, i) {
  if (n + 24 > e.length) return;
  const o = j_(e, n);
  if (o && n + o.frameLength <= e.length) {
    const a = (o.samplesPerFrame * 9e4) / o.sampleRate,
      s = r + i * a,
      l = { unit: e.subarray(n, n + o.frameLength), pts: s, dts: s };
    return (t.config = []), (t.channelCount = o.channelCount), (t.samplerate = o.sampleRate), t.samples.push(l), { sample: l, length: o.frameLength, missing: 0 };
  }
}
function j_(t, e) {
  const n = (t[e + 1] >> 3) & 3,
    r = (t[e + 1] >> 1) & 3,
    i = (t[e + 2] >> 4) & 15,
    o = (t[e + 2] >> 2) & 3;
  if (n !== 1 && i !== 0 && i !== 15 && o !== 3) {
    const a = (t[e + 2] >> 1) & 1,
      s = t[e + 3] >> 6,
      l = n === 3 ? 3 - r : r === 3 ? 3 : 4,
      u = bD[l * 14 + i - 1] * 1e3,
      d = xD[(n === 3 ? 0 : n === 2 ? 1 : 2) * 3 + o],
      f = s === 3 ? 1 : 2,
      h = TD[n][r],
      m = wD[r],
      g = h * 8 * m,
      b = Math.floor((h * u) / d + a) * m;
    if (xu === null) {
      const T = (navigator.userAgent || '').match(/Chrome\/(\d+)/i);
      xu = T ? parseInt(T[1]) : 0;
    }
    return !!xu && xu <= 87 && r === 2 && u >= 224e3 && s === 0 && (t[e + 3] = t[e + 3] | 128), { sampleRate: d, channelCount: f, frameLength: b, samplesPerFrame: g };
  }
}
function Wp(t, e) {
  return t[e] === 255 && (t[e + 1] & 224) === 224 && (t[e + 1] & 6) !== 0;
}
function G_(t, e) {
  return e + 1 < t.length && Wp(t, e);
}
function CD(t, e) {
  return Wp(t, e) && 4 <= t.length - e;
}
function RD(t, e) {
  if (e + 1 < t.length && Wp(t, e)) {
    const r = j_(t, e);
    let i = 4;
    r != null && r.frameLength && (i = r.frameLength);
    const o = e + i;
    return o === t.length || G_(t, o);
  }
  return !1;
}
class o2 {
  constructor(e) {
    (this.data = void 0),
      (this.bytesAvailable = void 0),
      (this.word = void 0),
      (this.bitsAvailable = void 0),
      (this.data = e),
      (this.bytesAvailable = e.byteLength),
      (this.word = 0),
      (this.bitsAvailable = 0);
  }
  loadWord() {
    const e = this.data,
      n = this.bytesAvailable,
      r = e.byteLength - n,
      i = new Uint8Array(4),
      o = Math.min(4, n);
    if (o === 0) throw new Error('no bytes available');
    i.set(e.subarray(r, r + o)), (this.word = new DataView(i.buffer).getUint32(0)), (this.bitsAvailable = o * 8), (this.bytesAvailable -= o);
  }
  skipBits(e) {
    let n;
    (e = Math.min(e, this.bytesAvailable * 8 + this.bitsAvailable)),
      this.bitsAvailable > e
        ? ((this.word <<= e), (this.bitsAvailable -= e))
        : ((e -= this.bitsAvailable), (n = e >> 3), (e -= n << 3), (this.bytesAvailable -= n), this.loadWord(), (this.word <<= e), (this.bitsAvailable -= e));
  }
  readBits(e) {
    let n = Math.min(this.bitsAvailable, e);
    const r = this.word >>> (32 - n);
    if ((e > 32 && le.error('Cannot read more than 32 bits at a time'), (this.bitsAvailable -= n), this.bitsAvailable > 0)) this.word <<= n;
    else if (this.bytesAvailable > 0) this.loadWord();
    else throw new Error('no bits available');
    return (n = e - n), n > 0 && this.bitsAvailable ? (r << n) | this.readBits(n) : r;
  }
  skipLZ() {
    let e;
    for (e = 0; e < this.bitsAvailable; ++e) if (this.word & (2147483648 >>> e)) return (this.word <<= e), (this.bitsAvailable -= e), e;
    return this.loadWord(), e + this.skipLZ();
  }
  skipUEG() {
    this.skipBits(1 + this.skipLZ());
  }
  skipEG() {
    this.skipBits(1 + this.skipLZ());
  }
  readUEG() {
    const e = this.skipLZ();
    return this.readBits(e + 1) - 1;
  }
  readEG() {
    const e = this.readUEG();
    return 1 & e ? (1 + e) >>> 1 : -1 * (e >>> 1);
  }
  readBoolean() {
    return this.readBits(1) === 1;
  }
  readUByte() {
    return this.readBits(8);
  }
  readUShort() {
    return this.readBits(16);
  }
  readUInt() {
    return this.readBits(32);
  }
  skipScalingList(e) {
    let n = 8,
      r = 8,
      i;
    for (let o = 0; o < e; o++) r !== 0 && ((i = this.readEG()), (r = (n + i + 256) % 256)), (n = r === 0 ? n : r);
  }
  readSPS() {
    let e = 0,
      n = 0,
      r = 0,
      i = 0,
      o,
      a,
      s;
    const l = this.readUByte.bind(this),
      u = this.readBits.bind(this),
      c = this.readUEG.bind(this),
      d = this.readBoolean.bind(this),
      f = this.skipBits.bind(this),
      h = this.skipEG.bind(this),
      m = this.skipUEG.bind(this),
      g = this.skipScalingList.bind(this);
    l();
    const b = l();
    if ((u(5), f(3), l(), m(), b === 100 || b === 110 || b === 122 || b === 244 || b === 44 || b === 83 || b === 86 || b === 118 || b === 128)) {
      const O = c();
      if ((O === 3 && f(1), m(), m(), f(1), d())) for (a = O !== 3 ? 8 : 12, s = 0; s < a; s++) d() && (s < 6 ? g(16) : g(64));
    }
    m();
    const _ = c();
    if (_ === 0) c();
    else if (_ === 1) for (f(1), h(), h(), o = c(), s = 0; s < o; s++) h();
    m(), f(1);
    const y = c(),
      T = c(),
      w = u(1);
    w === 0 && f(1), f(1), d() && ((e = c()), (n = c()), (r = c()), (i = c()));
    let I = [1, 1];
    if (d() && d())
      switch (l()) {
        case 1:
          I = [1, 1];
          break;
        case 2:
          I = [12, 11];
          break;
        case 3:
          I = [10, 11];
          break;
        case 4:
          I = [16, 11];
          break;
        case 5:
          I = [40, 33];
          break;
        case 6:
          I = [24, 11];
          break;
        case 7:
          I = [20, 11];
          break;
        case 8:
          I = [32, 11];
          break;
        case 9:
          I = [80, 33];
          break;
        case 10:
          I = [18, 11];
          break;
        case 11:
          I = [15, 11];
          break;
        case 12:
          I = [64, 33];
          break;
        case 13:
          I = [160, 99];
          break;
        case 14:
          I = [4, 3];
          break;
        case 15:
          I = [3, 2];
          break;
        case 16:
          I = [2, 1];
          break;
        case 255: {
          I = [(l() << 8) | l(), (l() << 8) | l()];
          break;
        }
      }
    return { width: Math.ceil((y + 1) * 16 - e * 2 - n * 2), height: (2 - w) * (T + 1) * 16 - (w ? 2 : 4) * (r + i), pixelRatio: I };
  }
  readSliceType() {
    return this.readUByte(), this.readUEG(), this.readUEG();
  }
}
class AD {
  constructor(e, n, r) {
    (this.keyData = void 0), (this.decrypter = void 0), (this.keyData = r), (this.decrypter = new Hp(n, { removePKCS7Padding: !1 }));
  }
  decryptBuffer(e) {
    return this.decrypter.decrypt(e, this.keyData.key.buffer, this.keyData.iv.buffer);
  }
  decryptAacSample(e, n, r) {
    const i = e[n].unit;
    if (i.length <= 16) return;
    const o = i.subarray(16, i.length - (i.length % 16)),
      a = o.buffer.slice(o.byteOffset, o.byteOffset + o.length);
    this.decryptBuffer(a).then((s) => {
      const l = new Uint8Array(s);
      i.set(l, 16), this.decrypter.isSync() || this.decryptAacSamples(e, n + 1, r);
    });
  }
  decryptAacSamples(e, n, r) {
    for (; ; n++) {
      if (n >= e.length) {
        r();
        return;
      }
      if (!(e[n].unit.length < 32) && (this.decryptAacSample(e, n, r), !this.decrypter.isSync())) return;
    }
  }
  getAvcEncryptedData(e) {
    const n = Math.floor((e.length - 48) / 160) * 16 + 16,
      r = new Int8Array(n);
    let i = 0;
    for (let o = 32; o < e.length - 16; o += 160, i += 16) r.set(e.subarray(o, o + 16), i);
    return r;
  }
  getAvcDecryptedUnit(e, n) {
    const r = new Uint8Array(n);
    let i = 0;
    for (let o = 32; o < e.length - 16; o += 160, i += 16) e.set(r.subarray(i, i + 16), o);
    return e;
  }
  decryptAvcSample(e, n, r, i, o) {
    const a = C_(o.data),
      s = this.getAvcEncryptedData(a);
    this.decryptBuffer(s.buffer).then((l) => {
      (o.data = this.getAvcDecryptedUnit(a, l)), this.decrypter.isSync() || this.decryptAvcSamples(e, n, r + 1, i);
    });
  }
  decryptAvcSamples(e, n, r, i) {
    if (e instanceof Uint8Array) throw new Error('Cannot decrypt samples of type Uint8Array');
    for (; ; n++, r = 0) {
      if (n >= e.length) {
        i();
        return;
      }
      const o = e[n].units;
      for (; !(r >= o.length); r++) {
        const a = o[r];
        if (!(a.data.length <= 48 || (a.type !== 1 && a.type !== 5)) && (this.decryptAvcSample(e, n, r, i, a), !this.decrypter.isSync())) return;
      }
    }
  }
}
const Kn = 188;
class Ki {
  constructor(e, n, r) {
    (this.observer = void 0),
      (this.config = void 0),
      (this.typeSupported = void 0),
      (this.sampleAes = null),
      (this.pmtParsed = !1),
      (this.audioCodec = void 0),
      (this.videoCodec = void 0),
      (this._duration = 0),
      (this._pmtId = -1),
      (this._avcTrack = void 0),
      (this._audioTrack = void 0),
      (this._id3Track = void 0),
      (this._txtTrack = void 0),
      (this.aacOverFlow = null),
      (this.avcSample = null),
      (this.remainderData = null),
      (this.observer = e),
      (this.config = n),
      (this.typeSupported = r);
  }
  static probe(e) {
    const n = Ki.syncOffset(e);
    return n > 0 && le.warn(`MPEG2-TS detected but first sync word found @ offset ${n}`), n !== -1;
  }
  static syncOffset(e) {
    const n = e.length;
    let r = Math.min(Kn * 5, e.length - Kn) + 1,
      i = 0;
    for (; i < r; ) {
      let o = !1,
        a = -1,
        s = 0;
      for (let l = i; l < n; l += Kn)
        if (e[l] === 71) {
          if ((s++, a === -1 && ((a = l), a !== 0 && (r = Math.min(a + Kn * 99, e.length - Kn) + 1)), o || (o = J0(e, l) === 0), o && s > 1 && ((a === 0 && s > 2) || l + Kn > r))) return a;
        } else {
          if (s) return -1;
          break;
        }
      i++;
    }
    return -1;
  }
  static createTrack(e, n) {
    return {
      container: e === 'video' || e === 'audio' ? 'video/mp2t' : void 0,
      type: e,
      id: S_[e],
      pid: -1,
      inputTimeScale: 9e4,
      sequenceNumber: 0,
      samples: [],
      dropped: 0,
      duration: e === 'audio' ? n : void 0,
    };
  }
  resetInitSegment(e, n, r, i) {
    (this.pmtParsed = !1),
      (this._pmtId = -1),
      (this._avcTrack = Ki.createTrack('video')),
      (this._audioTrack = Ki.createTrack('audio', i)),
      (this._id3Track = Ki.createTrack('id3')),
      (this._txtTrack = Ki.createTrack('text')),
      (this._audioTrack.segmentCodec = 'aac'),
      (this.aacOverFlow = null),
      (this.avcSample = null),
      (this.remainderData = null),
      (this.audioCodec = n),
      (this.videoCodec = r),
      (this._duration = i);
  }
  resetTimeStamp() {}
  resetContiguity() {
    const { _audioTrack: e, _avcTrack: n, _id3Track: r } = this;
    e && (e.pesData = null), n && (n.pesData = null), r && (r.pesData = null), (this.aacOverFlow = null), (this.avcSample = null), (this.remainderData = null);
  }
  demux(e, n, r = !1, i = !1) {
    r || (this.sampleAes = null);
    let o;
    const a = this._avcTrack,
      s = this._audioTrack,
      l = this._id3Track,
      u = this._txtTrack;
    let c = a.pid,
      d = a.pesData,
      f = s.pid,
      h = l.pid,
      m = s.pesData,
      g = l.pesData,
      b = null,
      _ = this.pmtParsed,
      y = this._pmtId,
      T = e.length;
    if ((this.remainderData && ((e = Vo(this.remainderData, e)), (T = e.length), (this.remainderData = null)), T < Kn && !i))
      return (this.remainderData = e), { audioTrack: s, videoTrack: a, id3Track: l, textTrack: u };
    const w = Math.max(0, Ki.syncOffset(e));
    (T -= (T - w) % Kn), T < e.byteLength && !i && (this.remainderData = new Uint8Array(e.buffer, T, e.buffer.byteLength - T));
    let I = 0;
    for (let x = w; x < T; x += Kn)
      if (e[x] === 71) {
        const L = !!(e[x + 1] & 64),
          D = J0(e, x),
          C = (e[x + 3] & 48) >> 4;
        let G;
        if (C > 1) {
          if (((G = x + 5 + e[x + 4]), G === x + Kn)) continue;
        } else G = x + 4;
        switch (D) {
          case c:
            L && (d && (o = ca(d)) && this.parseAVCPES(a, u, o, !1), (d = { data: [], size: 0 })), d && (d.data.push(e.subarray(G, x + Kn)), (d.size += x + Kn - G));
            break;
          case f:
            if (L) {
              if (m && (o = ca(m)))
                switch (s.segmentCodec) {
                  case 'aac':
                    this.parseAACPES(s, o);
                    break;
                  case 'mp3':
                    this.parseMPEGPES(s, o);
                    break;
                }
              m = { data: [], size: 0 };
            }
            m && (m.data.push(e.subarray(G, x + Kn)), (m.size += x + Kn - G));
            break;
          case h:
            L && (g && (o = ca(g)) && this.parseID3PES(l, o), (g = { data: [], size: 0 })), g && (g.data.push(e.subarray(G, x + Kn)), (g.size += x + Kn - G));
            break;
          case 0:
            L && (G += e[G] + 1), (y = this._pmtId = LD(e, G));
            break;
          case y: {
            L && (G += e[G] + 1);
            const M = ID(e, G, this.typeSupported, r);
            (c = M.avc),
              c > 0 && (a.pid = c),
              (f = M.audio),
              f > 0 && ((s.pid = f), (s.segmentCodec = M.segmentCodec)),
              (h = M.id3),
              h > 0 && (l.pid = h),
              b !== null && !_ && (le.warn(`MPEG-TS PMT found at ${x} after unknown PID '${b}'. Backtracking to sync byte @${w} to parse all TS packets.`), (b = null), (x = w - 188)),
              (_ = this.pmtParsed = !0);
            break;
          }
          case 17:
          case 8191:
            break;
          default:
            b = D;
            break;
        }
      } else I++;
    if (I > 0) {
      const x = new Error(`Found ${I} TS packet/s that do not start with 0x47`);
      this.observer.emit(V.ERROR, V.ERROR, { type: at.MEDIA_ERROR, details: he.FRAG_PARSING_ERROR, fatal: !1, error: x, reason: x.message });
    }
    (a.pesData = d), (s.pesData = m), (l.pesData = g);
    const O = { audioTrack: s, videoTrack: a, id3Track: l, textTrack: u };
    return i && this.extractRemainingSamples(O), O;
  }
  flush() {
    const { remainderData: e } = this;
    this.remainderData = null;
    let n;
    return (
      e ? (n = this.demux(e, -1, !1, !0)) : (n = { videoTrack: this._avcTrack, audioTrack: this._audioTrack, id3Track: this._id3Track, textTrack: this._txtTrack }),
      this.extractRemainingSamples(n),
      this.sampleAes ? this.decrypt(n, this.sampleAes) : n
    );
  }
  extractRemainingSamples(e) {
    const { audioTrack: n, videoTrack: r, id3Track: i, textTrack: o } = e,
      a = r.pesData,
      s = n.pesData,
      l = i.pesData;
    let u;
    if ((a && (u = ca(a)) ? (this.parseAVCPES(r, o, u, !0), (r.pesData = null)) : (r.pesData = a), s && (u = ca(s)))) {
      switch (n.segmentCodec) {
        case 'aac':
          this.parseAACPES(n, u);
          break;
        case 'mp3':
          this.parseMPEGPES(n, u);
          break;
      }
      n.pesData = null;
    } else s != null && s.size && le.log('last AAC PES packet truncated,might overlap between fragments'), (n.pesData = s);
    l && (u = ca(l)) ? (this.parseID3PES(i, u), (i.pesData = null)) : (i.pesData = l);
  }
  demuxSampleAes(e, n, r) {
    const i = this.demux(e, r, !0, !this.config.progressive),
      o = (this.sampleAes = new AD(this.observer, this.config, n));
    return this.decrypt(i, o);
  }
  decrypt(e, n) {
    return new Promise((r) => {
      const { audioTrack: i, videoTrack: o } = e;
      i.samples && i.segmentCodec === 'aac'
        ? n.decryptAacSamples(i.samples, 0, () => {
            o.samples
              ? n.decryptAvcSamples(o.samples, 0, 0, () => {
                  r(e);
                })
              : r(e);
          })
        : o.samples &&
          n.decryptAvcSamples(o.samples, 0, 0, () => {
            r(e);
          });
    });
  }
  destroy() {
    this._duration = 0;
  }
  parseAVCPES(e, n, r, i) {
    const o = this.parseAVCNALu(e, r.data);
    let a = this.avcSample,
      s,
      l = !1;
    (r.data = null),
      a && o.length && !e.audFound && (Gf(a, e), (a = this.avcSample = Tu(!1, r.pts, r.dts, ''))),
      o.forEach((u) => {
        switch (u.type) {
          case 1: {
            (s = !0), a || (a = this.avcSample = Tu(!0, r.pts, r.dts, '')), (a.frame = !0);
            const c = u.data;
            if (l && c.length > 4) {
              const d = new o2(c).readSliceType();
              (d === 2 || d === 4 || d === 7 || d === 9) && (a.key = !0);
            }
            break;
          }
          case 5:
            (s = !0), a || (a = this.avcSample = Tu(!0, r.pts, r.dts, '')), (a.key = !0), (a.frame = !0);
            break;
          case 6: {
            (s = !0), w_(u.data, 1, r.pts, n.samples);
            break;
          }
          case 7:
            if (((s = !0), (l = !0), !e.sps)) {
              const c = u.data,
                f = new o2(c).readSPS();
              (e.width = f.width), (e.height = f.height), (e.pixelRatio = f.pixelRatio), (e.sps = [c]), (e.duration = this._duration);
              const h = c.subarray(1, 4);
              let m = 'avc1.';
              for (let g = 0; g < 3; g++) {
                let b = h[g].toString(16);
                b.length < 2 && (b = '0' + b), (m += b);
              }
              e.codec = m;
            }
            break;
          case 8:
            (s = !0), e.pps || (e.pps = [u.data]);
            break;
          case 9:
            (s = !1), (e.audFound = !0), a && Gf(a, e), (a = this.avcSample = Tu(!1, r.pts, r.dts, ''));
            break;
          case 12:
            s = !0;
            break;
          default:
            (s = !1), a && (a.debug += 'unknown NAL ' + u.type + ' ');
            break;
        }
        a && s && a.units.push(u);
      }),
      i && a && (Gf(a, e), (this.avcSample = null));
  }
  getLastNalUnit(e) {
    var n;
    let r = this.avcSample,
      i;
    if (((!r || r.units.length === 0) && (r = e[e.length - 1]), (n = r) != null && n.units)) {
      const o = r.units;
      i = o[o.length - 1];
    }
    return i;
  }
  parseAVCNALu(e, n) {
    const r = n.byteLength;
    let i = e.naluState || 0;
    const o = i,
      a = [];
    let s = 0,
      l,
      u,
      c,
      d = -1,
      f = 0;
    for (i === -1 && ((d = 0), (f = n[0] & 31), (i = 0), (s = 1)); s < r; ) {
      if (((l = n[s++]), !i)) {
        i = l ? 0 : 1;
        continue;
      }
      if (i === 1) {
        i = l ? 0 : 2;
        continue;
      }
      if (!l) i = 3;
      else if (l === 1) {
        if (d >= 0) {
          const h = { data: n.subarray(d, s - i - 1), type: f };
          a.push(h);
        } else {
          const h = this.getLastNalUnit(e.samples);
          if (h && (o && s <= 4 - o && h.state && (h.data = h.data.subarray(0, h.data.byteLength - o)), (u = s - i - 1), u > 0)) {
            const m = new Uint8Array(h.data.byteLength + u);
            m.set(h.data, 0), m.set(n.subarray(0, u), h.data.byteLength), (h.data = m), (h.state = 0);
          }
        }
        s < r ? ((c = n[s] & 31), (d = s), (f = c), (i = 0)) : (i = -1);
      } else i = 0;
    }
    if (d >= 0 && i >= 0) {
      const h = { data: n.subarray(d, r), type: f, state: i };
      a.push(h);
    }
    if (a.length === 0) {
      const h = this.getLastNalUnit(e.samples);
      if (h) {
        const m = new Uint8Array(h.data.byteLength + n.byteLength);
        m.set(h.data, 0), m.set(n, h.data.byteLength), (h.data = m);
      }
    }
    return (e.naluState = i), a;
  }
  parseAACPES(e, n) {
    let r = 0;
    const i = this.aacOverFlow;
    let o = n.data;
    if (i) {
      this.aacOverFlow = null;
      const d = i.missing,
        f = i.sample.unit.byteLength;
      if (d === -1) {
        const h = new Uint8Array(f + o.byteLength);
        h.set(i.sample.unit, 0), h.set(o, f), (o = h);
      } else {
        const h = f - d;
        i.sample.unit.set(o.subarray(0, d), h), e.samples.push(i.sample), (r = i.missing);
      }
    }
    let a, s;
    for (a = r, s = o.length; a < s - 1 && !Hc(o, a); a++);
    if (a !== r) {
      let d;
      const f = a < s - 1;
      f ? (d = `AAC PES did not start with ADTS header,offset:${a}`) : (d = 'No ADTS header found in AAC PES');
      const h = new Error(d);
      if ((le.warn(`parsing error: ${d}`), this.observer.emit(V.ERROR, V.ERROR, { type: at.MEDIA_ERROR, details: he.FRAG_PARSING_ERROR, fatal: !1, levelRetry: f, error: h, reason: d }), !f)) return;
    }
    U_(e, this.observer, o, a, this.audioCodec);
    let l;
    if (n.pts !== void 0) l = n.pts;
    else if (i) {
      const d = z_(e.samplerate);
      l = i.sample.pts + d;
    } else {
      le.warn('[tsdemuxer]: AAC PES unknown PTS');
      return;
    }
    let u = 0,
      c;
    for (; a < s; )
      if (((c = V_(e, o, a, l, u)), (a += c.length), c.missing)) {
        this.aacOverFlow = c;
        break;
      } else for (u++; a < s - 1 && !Hc(o, a); a++);
  }
  parseMPEGPES(e, n) {
    const r = n.data,
      i = r.length;
    let o = 0,
      a = 0;
    const s = n.pts;
    if (s === void 0) {
      le.warn('[tsdemuxer]: MPEG PES unknown PTS');
      return;
    }
    for (; a < i; )
      if (G_(r, a)) {
        const l = H_(e, r, a, s, o);
        if (l) (a += l.length), o++;
        else break;
      } else a++;
  }
  parseID3PES(e, n) {
    if (n.pts === void 0) {
      le.warn('[tsdemuxer]: ID3 PES unknown PTS');
      return;
    }
    const r = Pn({}, n, { type: this._avcTrack ? Yr.emsg : Yr.audioId3, duration: Number.POSITIVE_INFINITY });
    e.samples.push(r);
  }
}
function Tu(t, e, n, r) {
  return { key: t, frame: !1, pts: e, dts: n, units: [], debug: r, length: 0 };
}
function J0(t, e) {
  return ((t[e + 1] & 31) << 8) + t[e + 2];
}
function LD(t, e) {
  return ((t[e + 10] & 31) << 8) | t[e + 11];
}
function ID(t, e, n, r) {
  const i = { audio: -1, avc: -1, id3: -1, segmentCodec: 'aac' },
    o = ((t[e + 1] & 15) << 8) | t[e + 2],
    a = e + 3 + o - 4,
    s = ((t[e + 10] & 15) << 8) | t[e + 11];
  for (e += 12 + s; e < a; ) {
    const l = J0(t, e);
    switch (t[e]) {
      case 207:
        if (!r) {
          le.log('ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream');
          break;
        }
      case 15:
        i.audio === -1 && (i.audio = l);
        break;
      case 21:
        i.id3 === -1 && (i.id3 = l);
        break;
      case 219:
        if (!r) {
          le.log('H.264 with AES-128-CBC slice encryption found in unencrypted stream');
          break;
        }
      case 27:
        i.avc === -1 && (i.avc = l);
        break;
      case 3:
      case 4:
        n.mpeg !== !0 && n.mp3 !== !0 ? le.log('MPEG audio found, not supported in this browser') : i.audio === -1 && ((i.audio = l), (i.segmentCodec = 'mp3'));
        break;
      case 36:
        le.warn('Unsupported HEVC stream type found');
        break;
    }
    e += (((t[e + 3] & 15) << 8) | t[e + 4]) + 5;
  }
  return i;
}
function ca(t) {
  let e = 0,
    n,
    r,
    i,
    o,
    a;
  const s = t.data;
  if (!t || t.size === 0) return null;
  for (; s[0].length < 19 && s.length > 1; ) {
    const u = new Uint8Array(s[0].length + s[1].length);
    u.set(s[0]), u.set(s[1], s[0].length), (s[0] = u), s.splice(1, 1);
  }
  if (((n = s[0]), (n[0] << 16) + (n[1] << 8) + n[2] === 1)) {
    if (((r = (n[4] << 8) + n[5]), r && r > t.size - 6)) return null;
    const u = n[7];
    u & 192 &&
      ((o = (n[9] & 14) * 536870912 + (n[10] & 255) * 4194304 + (n[11] & 254) * 16384 + (n[12] & 255) * 128 + (n[13] & 254) / 2),
      u & 64
        ? ((a = (n[14] & 14) * 536870912 + (n[15] & 255) * 4194304 + (n[16] & 254) * 16384 + (n[17] & 255) * 128 + (n[18] & 254) / 2),
          o - a > 60 * 9e4 && (le.warn(`${Math.round((o - a) / 9e4)}s delta between PTS and DTS, align them`), (o = a)))
        : (a = o)),
      (i = n[8]);
    let c = i + 9;
    if (t.size <= c) return null;
    t.size -= c;
    const d = new Uint8Array(t.size);
    for (let f = 0, h = s.length; f < h; f++) {
      n = s[f];
      let m = n.byteLength;
      if (c)
        if (c > m) {
          c -= m;
          continue;
        } else (n = n.subarray(c)), (m -= c), (c = 0);
      d.set(n, e), (e += m);
    }
    return r && (r -= i + 3), { data: d, pts: o, dts: a, len: r };
  }
  return null;
}
function Gf(t, e) {
  if (t.units.length && t.frame) {
    if (t.pts === void 0) {
      const n = e.samples,
        r = n.length;
      if (r) {
        const i = n[r - 1];
        (t.pts = i.pts), (t.dts = i.dts);
      } else {
        e.dropped++;
        return;
      }
    }
    e.samples.push(t);
  }
  t.debug.length && le.log(t.pts + '/' + t.dts + ':' + t.debug);
}
class DD extends N_ {
  resetInitSegment(e, n, r, i) {
    super.resetInitSegment(e, n, r, i),
      (this._audioTrack = {
        container: 'audio/mpeg',
        type: 'audio',
        id: 2,
        pid: -1,
        sequenceNumber: 0,
        segmentCodec: 'mp3',
        samples: [],
        manifestCodec: n,
        duration: i,
        inputTimeScale: 9e4,
        dropped: 0,
      });
  }
  static probe(e) {
    if (!e) return !1;
    let r = ($c(e, 0) || []).length;
    for (let i = e.length; r < i; r++) if (RD(e, r)) return le.log('MPEG Audio sync word found !'), !0;
    return !1;
  }
  canParse(e, n) {
    return CD(e, n);
  }
  appendFrame(e, n, r) {
    if (this.basePTS !== null) return H_(e, n, r, this.basePTS, this.frameIndex);
  }
}
class a2 {
  static getSilentFrame(e, n) {
    switch (e) {
      case 'mp4a.40.2':
        if (n === 1) return new Uint8Array([0, 200, 0, 128, 35, 128]);
        if (n === 2) return new Uint8Array([33, 0, 73, 144, 2, 25, 0, 35, 128]);
        if (n === 3) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 142]);
        if (n === 4) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 128, 44, 128, 8, 2, 56]);
        if (n === 5) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 56]);
        if (n === 6) return new Uint8Array([0, 200, 0, 128, 32, 132, 1, 38, 64, 8, 100, 0, 130, 48, 4, 153, 0, 33, 144, 2, 0, 178, 0, 32, 8, 224]);
        break;
      default:
        if (n === 1)
          return new Uint8Array([
            1, 64, 34, 128, 163, 78, 230, 128, 186, 8, 0, 0, 0, 28, 6, 241, 193, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90,
            90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94,
          ]);
        if (n === 2)
          return new Uint8Array([
            1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90,
            90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94,
          ]);
        if (n === 3)
          return new Uint8Array([
            1, 64, 34, 128, 163, 94, 230, 128, 186, 8, 0, 0, 0, 0, 149, 0, 6, 241, 161, 10, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90,
            90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 94,
          ]);
        break;
    }
  }
}
const Hi = Math.pow(2, 32) - 1;
class ue {
  static init() {
    ue.types = {
      avc1: [],
      avcC: [],
      btrt: [],
      dinf: [],
      dref: [],
      esds: [],
      ftyp: [],
      hdlr: [],
      mdat: [],
      mdhd: [],
      mdia: [],
      mfhd: [],
      minf: [],
      moof: [],
      moov: [],
      mp4a: [],
      '.mp3': [],
      mvex: [],
      mvhd: [],
      pasp: [],
      sdtp: [],
      stbl: [],
      stco: [],
      stsc: [],
      stsd: [],
      stsz: [],
      stts: [],
      tfdt: [],
      tfhd: [],
      traf: [],
      trak: [],
      trun: [],
      trex: [],
      tkhd: [],
      vmhd: [],
      smhd: [],
    };
    let e;
    for (e in ue.types) ue.types.hasOwnProperty(e) && (ue.types[e] = [e.charCodeAt(0), e.charCodeAt(1), e.charCodeAt(2), e.charCodeAt(3)]);
    const n = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114, 0]),
      r = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0]);
    ue.HDLR_TYPES = { video: n, audio: r };
    const i = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1]),
      o = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0]);
    (ue.STTS = ue.STSC = ue.STCO = o),
      (ue.STSZ = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])),
      (ue.VMHD = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0])),
      (ue.SMHD = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])),
      (ue.STSD = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]));
    const a = new Uint8Array([105, 115, 111, 109]),
      s = new Uint8Array([97, 118, 99, 49]),
      l = new Uint8Array([0, 0, 0, 1]);
    (ue.FTYP = ue.box(ue.types.ftyp, a, l, a, s)), (ue.DINF = ue.box(ue.types.dinf, ue.box(ue.types.dref, i)));
  }
  static box(e, ...n) {
    let r = 8,
      i = n.length;
    const o = i;
    for (; i--; ) r += n[i].byteLength;
    const a = new Uint8Array(r);
    for (a[0] = (r >> 24) & 255, a[1] = (r >> 16) & 255, a[2] = (r >> 8) & 255, a[3] = r & 255, a.set(e, 4), i = 0, r = 8; i < o; i++) a.set(n[i], r), (r += n[i].byteLength);
    return a;
  }
  static hdlr(e) {
    return ue.box(ue.types.hdlr, ue.HDLR_TYPES[e]);
  }
  static mdat(e) {
    return ue.box(ue.types.mdat, e);
  }
  static mdhd(e, n) {
    n *= e;
    const r = Math.floor(n / (Hi + 1)),
      i = Math.floor(n % (Hi + 1));
    return ue.box(
      ue.types.mdhd,
      new Uint8Array([
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        3,
        (e >> 24) & 255,
        (e >> 16) & 255,
        (e >> 8) & 255,
        e & 255,
        r >> 24,
        (r >> 16) & 255,
        (r >> 8) & 255,
        r & 255,
        i >> 24,
        (i >> 16) & 255,
        (i >> 8) & 255,
        i & 255,
        85,
        196,
        0,
        0,
      ]),
    );
  }
  static mdia(e) {
    return ue.box(ue.types.mdia, ue.mdhd(e.timescale, e.duration), ue.hdlr(e.type), ue.minf(e));
  }
  static mfhd(e) {
    return ue.box(ue.types.mfhd, new Uint8Array([0, 0, 0, 0, e >> 24, (e >> 16) & 255, (e >> 8) & 255, e & 255]));
  }
  static minf(e) {
    return e.type === 'audio' ? ue.box(ue.types.minf, ue.box(ue.types.smhd, ue.SMHD), ue.DINF, ue.stbl(e)) : ue.box(ue.types.minf, ue.box(ue.types.vmhd, ue.VMHD), ue.DINF, ue.stbl(e));
  }
  static moof(e, n, r) {
    return ue.box(ue.types.moof, ue.mfhd(e), ue.traf(r, n));
  }
  static moov(e) {
    let n = e.length;
    const r = [];
    for (; n--; ) r[n] = ue.trak(e[n]);
    return ue.box.apply(null, [ue.types.moov, ue.mvhd(e[0].timescale, e[0].duration)].concat(r).concat(ue.mvex(e)));
  }
  static mvex(e) {
    let n = e.length;
    const r = [];
    for (; n--; ) r[n] = ue.trex(e[n]);
    return ue.box.apply(null, [ue.types.mvex, ...r]);
  }
  static mvhd(e, n) {
    n *= e;
    const r = Math.floor(n / (Hi + 1)),
      i = Math.floor(n % (Hi + 1)),
      o = new Uint8Array([
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        3,
        (e >> 24) & 255,
        (e >> 16) & 255,
        (e >> 8) & 255,
        e & 255,
        r >> 24,
        (r >> 16) & 255,
        (r >> 8) & 255,
        r & 255,
        i >> 24,
        (i >> 16) & 255,
        (i >> 8) & 255,
        i & 255,
        0,
        1,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        64,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        255,
        255,
        255,
        255,
      ]);
    return ue.box(ue.types.mvhd, o);
  }
  static sdtp(e) {
    const n = e.samples || [],
      r = new Uint8Array(4 + n.length);
    let i, o;
    for (i = 0; i < n.length; i++) (o = n[i].flags), (r[i + 4] = (o.dependsOn << 4) | (o.isDependedOn << 2) | o.hasRedundancy);
    return ue.box(ue.types.sdtp, r);
  }
  static stbl(e) {
    return ue.box(ue.types.stbl, ue.stsd(e), ue.box(ue.types.stts, ue.STTS), ue.box(ue.types.stsc, ue.STSC), ue.box(ue.types.stsz, ue.STSZ), ue.box(ue.types.stco, ue.STCO));
  }
  static avc1(e) {
    let n = [],
      r = [],
      i,
      o,
      a;
    for (i = 0; i < e.sps.length; i++) (o = e.sps[i]), (a = o.byteLength), n.push((a >>> 8) & 255), n.push(a & 255), (n = n.concat(Array.prototype.slice.call(o)));
    for (i = 0; i < e.pps.length; i++) (o = e.pps[i]), (a = o.byteLength), r.push((a >>> 8) & 255), r.push(a & 255), (r = r.concat(Array.prototype.slice.call(o)));
    const s = ue.box(ue.types.avcC, new Uint8Array([1, n[3], n[4], n[5], 255, 224 | e.sps.length].concat(n).concat([e.pps.length]).concat(r))),
      l = e.width,
      u = e.height,
      c = e.pixelRatio[0],
      d = e.pixelRatio[1];
    return ue.box(
      ue.types.avc1,
      new Uint8Array([
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        (l >> 8) & 255,
        l & 255,
        (u >> 8) & 255,
        u & 255,
        0,
        72,
        0,
        0,
        0,
        72,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        18,
        100,
        97,
        105,
        108,
        121,
        109,
        111,
        116,
        105,
        111,
        110,
        47,
        104,
        108,
        115,
        46,
        106,
        115,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        24,
        17,
        17,
      ]),
      s,
      ue.box(ue.types.btrt, new Uint8Array([0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192])),
      ue.box(ue.types.pasp, new Uint8Array([c >> 24, (c >> 16) & 255, (c >> 8) & 255, c & 255, d >> 24, (d >> 16) & 255, (d >> 8) & 255, d & 255])),
    );
  }
  static esds(e) {
    const n = e.config.length;
    return new Uint8Array([0, 0, 0, 0, 3, 23 + n, 0, 1, 0, 4, 15 + n, 64, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 5].concat([n]).concat(e.config).concat([6, 1, 2]));
  }
  static mp4a(e) {
    const n = e.samplerate;
    return ue.box(
      ue.types.mp4a,
      new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, e.channelCount, 0, 16, 0, 0, 0, 0, (n >> 8) & 255, n & 255, 0, 0]),
      ue.box(ue.types.esds, ue.esds(e)),
    );
  }
  static mp3(e) {
    const n = e.samplerate;
    return ue.box(ue.types['.mp3'], new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, e.channelCount, 0, 16, 0, 0, 0, 0, (n >> 8) & 255, n & 255, 0, 0]));
  }
  static stsd(e) {
    return e.type === 'audio'
      ? e.segmentCodec === 'mp3' && e.codec === 'mp3'
        ? ue.box(ue.types.stsd, ue.STSD, ue.mp3(e))
        : ue.box(ue.types.stsd, ue.STSD, ue.mp4a(e))
      : ue.box(ue.types.stsd, ue.STSD, ue.avc1(e));
  }
  static tkhd(e) {
    const n = e.id,
      r = e.duration * e.timescale,
      i = e.width,
      o = e.height,
      a = Math.floor(r / (Hi + 1)),
      s = Math.floor(r % (Hi + 1));
    return ue.box(
      ue.types.tkhd,
      new Uint8Array([
        1,
        0,
        0,
        7,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        2,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        3,
        (n >> 24) & 255,
        (n >> 16) & 255,
        (n >> 8) & 255,
        n & 255,
        0,
        0,
        0,
        0,
        a >> 24,
        (a >> 16) & 255,
        (a >> 8) & 255,
        a & 255,
        s >> 24,
        (s >> 16) & 255,
        (s >> 8) & 255,
        s & 255,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        1,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        0,
        64,
        0,
        0,
        0,
        (i >> 8) & 255,
        i & 255,
        0,
        0,
        (o >> 8) & 255,
        o & 255,
        0,
        0,
      ]),
    );
  }
  static traf(e, n) {
    const r = ue.sdtp(e),
      i = e.id,
      o = Math.floor(n / (Hi + 1)),
      a = Math.floor(n % (Hi + 1));
    return ue.box(
      ue.types.traf,
      ue.box(ue.types.tfhd, new Uint8Array([0, 0, 0, 0, i >> 24, (i >> 16) & 255, (i >> 8) & 255, i & 255])),
      ue.box(ue.types.tfdt, new Uint8Array([1, 0, 0, 0, o >> 24, (o >> 16) & 255, (o >> 8) & 255, o & 255, a >> 24, (a >> 16) & 255, (a >> 8) & 255, a & 255])),
      ue.trun(e, r.length + 16 + 20 + 8 + 16 + 8 + 8),
      r,
    );
  }
  static trak(e) {
    return (e.duration = e.duration || 4294967295), ue.box(ue.types.trak, ue.tkhd(e), ue.mdia(e));
  }
  static trex(e) {
    const n = e.id;
    return ue.box(ue.types.trex, new Uint8Array([0, 0, 0, 0, n >> 24, (n >> 16) & 255, (n >> 8) & 255, n & 255, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1]));
  }
  static trun(e, n) {
    const r = e.samples || [],
      i = r.length,
      o = 12 + 16 * i,
      a = new Uint8Array(o);
    let s, l, u, c, d, f;
    for (
      n += 8 + o, a.set([e.type === 'video' ? 1 : 0, 0, 15, 1, (i >>> 24) & 255, (i >>> 16) & 255, (i >>> 8) & 255, i & 255, (n >>> 24) & 255, (n >>> 16) & 255, (n >>> 8) & 255, n & 255], 0), s = 0;
      s < i;
      s++
    )
      (l = r[s]),
        (u = l.duration),
        (c = l.size),
        (d = l.flags),
        (f = l.cts),
        a.set(
          [
            (u >>> 24) & 255,
            (u >>> 16) & 255,
            (u >>> 8) & 255,
            u & 255,
            (c >>> 24) & 255,
            (c >>> 16) & 255,
            (c >>> 8) & 255,
            c & 255,
            (d.isLeading << 2) | d.dependsOn,
            (d.isDependedOn << 6) | (d.hasRedundancy << 4) | (d.paddingValue << 1) | d.isNonSync,
            d.degradPrio & 61440,
            d.degradPrio & 15,
            (f >>> 24) & 255,
            (f >>> 16) & 255,
            (f >>> 8) & 255,
            f & 255,
          ],
          12 + 16 * s,
        );
    return ue.box(ue.types.trun, a);
  }
  static initSegment(e) {
    ue.types || ue.init();
    const n = ue.moov(e),
      r = new Uint8Array(ue.FTYP.byteLength + n.byteLength);
    return r.set(ue.FTYP), r.set(n, ue.FTYP.byteLength), r;
  }
}
ue.types = void 0;
ue.HDLR_TYPES = void 0;
ue.STTS = void 0;
ue.STSC = void 0;
ue.STCO = void 0;
ue.STSZ = void 0;
ue.VMHD = void 0;
ue.SMHD = void 0;
ue.STSD = void 0;
ue.FTYP = void 0;
ue.DINF = void 0;
const W_ = 9e4;
function Kp(t, e, n = 1, r = !1) {
  const i = t * e * n;
  return r ? Math.round(i) : i;
}
function PD(t, e, n = 1, r = !1) {
  return Kp(t, e, 1 / n, r);
}
function Cs(t, e = !1) {
  return Kp(t, 1e3, 1 / W_, e);
}
function OD(t, e = 1) {
  return Kp(t, W_, 1 / e);
}
const kD = 10 * 1e3,
  s2 = 1024,
  MD = 1152;
let wu = null,
  Wf = null;
class Kf {
  constructor(e, n, r, i = '') {
    if (
      ((this.observer = void 0),
      (this.config = void 0),
      (this.typeSupported = void 0),
      (this.ISGenerated = !1),
      (this._initPTS = null),
      (this._initDTS = null),
      (this.nextAvcDts = null),
      (this.nextAudioPts = null),
      (this.videoSampleDuration = null),
      (this.isAudioContiguous = !1),
      (this.isVideoContiguous = !1),
      (this.observer = e),
      (this.config = n),
      (this.typeSupported = r),
      (this.ISGenerated = !1),
      wu === null)
    ) {
      const a = (navigator.userAgent || '').match(/Chrome\/(\d+)/i);
      wu = a ? parseInt(a[1]) : 0;
    }
    if (Wf === null) {
      const o = navigator.userAgent.match(/Safari\/(\d+)/i);
      Wf = o ? parseInt(o[1]) : 0;
    }
  }
  destroy() {}
  resetTimeStamp(e) {
    le.log('[mp4-remuxer]: initPTS & initDTS reset'), (this._initPTS = this._initDTS = e);
  }
  resetNextTimestamp() {
    le.log('[mp4-remuxer]: reset next timestamp'), (this.isVideoContiguous = !1), (this.isAudioContiguous = !1);
  }
  resetInitSegment() {
    le.log('[mp4-remuxer]: ISGenerated flag reset'), (this.ISGenerated = !1);
  }
  getVideoStartPts(e) {
    let n = !1;
    const r = e.reduce((i, o) => {
      const a = o.pts - i;
      return a < -4294967296 ? ((n = !0), Lr(i, o.pts)) : a > 0 ? i : o.pts;
    }, e[0].pts);
    return n && le.debug('PTS rollover detected'), r;
  }
  remux(e, n, r, i, o, a, s, l) {
    let u,
      c,
      d,
      f,
      h,
      m,
      g = o,
      b = o;
    const _ = e.pid > -1,
      y = n.pid > -1,
      T = n.samples.length,
      w = e.samples.length > 0,
      I = (s && T > 0) || T > 1;
    if (((!_ || w) && (!y || I)) || this.ISGenerated || s) {
      this.ISGenerated || (d = this.generateIS(e, n, o, a));
      const x = this.isVideoContiguous;
      let L = -1,
        D;
      if (I && ((L = FD(n.samples)), !x && this.config.forceKeyFrameOnDiscontinuity))
        if (((m = !0), L > 0)) {
          le.warn(`[mp4-remuxer]: Dropped ${L} out of ${T} video samples due to a missing keyframe`);
          const C = this.getVideoStartPts(n.samples);
          (n.samples = n.samples.slice(L)), (n.dropped += L), (b += (n.samples[0].pts - C) / n.inputTimeScale), (D = b);
        } else L === -1 && (le.warn(`[mp4-remuxer]: No keyframe found out of ${T} video samples`), (m = !1));
      if (this.ISGenerated) {
        if (w && I) {
          const C = this.getVideoStartPts(n.samples),
            M = (Lr(e.samples[0].pts, C) - C) / n.inputTimeScale;
          (g += Math.max(0, M)), (b += Math.max(0, -M));
        }
        if (w) {
          if (
            (e.samplerate || (le.warn('[mp4-remuxer]: regenerate InitSegment as audio detected'), (d = this.generateIS(e, n, o, a))),
            (c = this.remuxAudio(e, g, this.isAudioContiguous, a, y || I || l === lt.AUDIO ? b : void 0)),
            I)
          ) {
            const C = c ? c.endPTS - c.startPTS : 0;
            n.inputTimeScale || (le.warn('[mp4-remuxer]: regenerate InitSegment as video detected'), (d = this.generateIS(e, n, o, a))), (u = this.remuxVideo(n, b, x, C));
          }
        } else I && (u = this.remuxVideo(n, b, x, 0));
        u && ((u.firstKeyFrame = L), (u.independent = L !== -1), (u.firstKeyFramePTS = D));
      }
    }
    return (
      this.ISGenerated && this._initPTS && this._initDTS && (r.samples.length && (h = K_(r, o, this._initPTS, this._initDTS)), i.samples.length && (f = q_(i, o, this._initPTS))),
      { audio: c, video: u, initSegment: d, independent: m, text: f, id3: h }
    );
  }
  generateIS(e, n, r, i) {
    const o = e.samples,
      a = n.samples,
      s = this.typeSupported,
      l = {},
      u = this._initPTS;
    let c = !u || i,
      d = 'audio/mp4',
      f,
      h,
      m;
    if ((c && (f = h = 1 / 0), e.config && o.length)) {
      switch (((e.timescale = e.samplerate), e.segmentCodec)) {
        case 'mp3':
          s.mpeg ? ((d = 'audio/mpeg'), (e.codec = '')) : s.mp3 && (e.codec = 'mp3');
          break;
      }
      (l.audio = { id: 'audio', container: d, codec: e.codec, initSegment: e.segmentCodec === 'mp3' && s.mpeg ? new Uint8Array(0) : ue.initSegment([e]), metadata: { channelCount: e.channelCount } }),
        c && ((m = e.inputTimeScale), !u || m !== u.timescale ? (f = h = o[0].pts - Math.round(m * r)) : (c = !1));
    }
    if (
      n.sps &&
      n.pps &&
      a.length &&
      ((n.timescale = n.inputTimeScale), (l.video = { id: 'main', container: 'video/mp4', codec: n.codec, initSegment: ue.initSegment([n]), metadata: { width: n.width, height: n.height } }), c)
    )
      if (((m = n.inputTimeScale), !u || m !== u.timescale)) {
        const g = this.getVideoStartPts(a),
          b = Math.round(m * r);
        (h = Math.min(h, Lr(a[0].dts, g) - b)), (f = Math.min(f, g - b));
      } else c = !1;
    if (Object.keys(l).length)
      return (
        (this.ISGenerated = !0), c ? ((this._initPTS = { baseTime: f, timescale: m }), (this._initDTS = { baseTime: h, timescale: m })) : (f = m = void 0), { tracks: l, initPTS: f, timescale: m }
      );
  }
  remuxVideo(e, n, r, i) {
    const o = e.inputTimeScale,
      a = e.samples,
      s = [],
      l = a.length,
      u = this._initPTS;
    let c = this.nextAvcDts,
      d = 8,
      f = this.videoSampleDuration,
      h,
      m,
      g = Number.POSITIVE_INFINITY,
      b = Number.NEGATIVE_INFINITY,
      _ = !1;
    if (!r || c === null) {
      const A = n * o,
        k = a[0].pts - Lr(a[0].dts, a[0].pts);
      c = A - k;
    }
    const y = (u.baseTime * o) / u.timescale;
    for (let A = 0; A < l; A++) {
      const k = a[A];
      (k.pts = Lr(k.pts - y, c)), (k.dts = Lr(k.dts - y, c)), k.dts < a[A > 0 ? A - 1 : A].dts && (_ = !0);
    }
    _ &&
      a.sort(function (A, k) {
        const U = A.dts - k.dts,
          X = A.pts - k.pts;
        return U || X;
      }),
      (h = a[0].dts),
      (m = a[a.length - 1].dts);
    const T = m - h,
      w = T ? Math.round(T / (l - 1)) : f || e.inputTimeScale / 30;
    if (r) {
      const A = h - c,
        k = A > w,
        U = A < -1;
      if (
        (k || U) &&
        (k ? le.warn(`AVC: ${Cs(A, !0)} ms (${A}dts) hole between fragments detected, filling it`) : le.warn(`AVC: ${Cs(-A, !0)} ms (${A}dts) overlapping between fragments detected`),
        !U || c >= a[0].pts)
      ) {
        h = c;
        const X = a[0].pts - A;
        (a[0].dts = h), (a[0].pts = X), le.log(`Video: First PTS/DTS adjusted: ${Cs(X, !0)}/${Cs(h, !0)}, delta: ${Cs(A, !0)} ms`);
      }
    }
    h = Math.max(0, h);
    let I = 0,
      O = 0;
    for (let A = 0; A < l; A++) {
      const k = a[A],
        U = k.units,
        X = U.length;
      let Q = 0;
      for (let W = 0; W < X; W++) Q += U[W].data.length;
      (O += Q), (I += X), (k.length = Q), (k.dts = Math.max(k.dts, h)), (g = Math.min(k.pts, g)), (b = Math.max(k.pts, b));
    }
    m = a[l - 1].dts;
    const x = O + 4 * I + 8;
    let L;
    try {
      L = new Uint8Array(x);
    } catch (A) {
      this.observer.emit(V.ERROR, V.ERROR, { type: at.MUX_ERROR, details: he.REMUX_ALLOC_ERROR, fatal: !1, error: A, bytes: x, reason: `fail allocating video mdat ${x}` });
      return;
    }
    const D = new DataView(L.buffer);
    D.setUint32(0, x), L.set(ue.types.mdat, 4);
    let C = !1,
      G = Number.POSITIVE_INFINITY,
      M = Number.POSITIVE_INFINITY,
      B = Number.NEGATIVE_INFINITY,
      z = Number.NEGATIVE_INFINITY;
    for (let A = 0; A < l; A++) {
      const k = a[A],
        U = k.units;
      let X = 0;
      for (let Y = 0, ne = U.length; Y < ne; Y++) {
        const te = U[Y],
          K = te.data,
          ee = te.data.byteLength;
        D.setUint32(d, ee), (d += 4), L.set(K, d), (d += ee), (X += 4 + ee);
      }
      let Q;
      if (A < l - 1) (f = a[A + 1].dts - k.dts), (Q = a[A + 1].pts - k.pts);
      else {
        const Y = this.config,
          ne = A > 0 ? k.dts - a[A - 1].dts : w;
        if (((Q = A > 0 ? k.pts - a[A - 1].pts : w), Y.stretchShortVideoTrack && this.nextAudioPts !== null)) {
          const te = Math.floor(Y.maxBufferHole * o),
            K = (i ? g + i * o : this.nextAudioPts) - k.pts;
          K > te
            ? ((f = K - ne), f < 0 ? (f = ne) : (C = !0), le.log(`[mp4-remuxer]: It is approximately ${K / 90} ms to the next segment; using duration ${f / 90} ms for the last video frame.`))
            : (f = ne);
        } else f = ne;
      }
      const W = Math.round(k.pts - k.dts);
      (G = Math.min(G, f)), (B = Math.max(B, f)), (M = Math.min(M, Q)), (z = Math.max(z, Q)), s.push(new l2(k.key, f, X, W));
    }
    if (s.length) {
      if (wu) {
        if (wu < 70) {
          const A = s[0].flags;
          (A.dependsOn = 2), (A.isNonSync = 0);
        }
      } else if (Wf && z - M < B - G && w / B < 0.025 && s[0].cts === 0) {
        le.warn('Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.');
        let A = h;
        for (let k = 0, U = s.length; k < U; k++) {
          const X = A + s[k].duration,
            Q = A + s[k].cts;
          if (k < U - 1) {
            const W = X + s[k + 1].cts;
            s[k].duration = W - Q;
          } else s[k].duration = k ? s[k - 1].duration : w;
          (s[k].cts = 0), (A = X);
        }
      }
    }
    (f = C || !f ? w : f), (this.nextAvcDts = c = m + f), (this.videoSampleDuration = f), (this.isVideoContiguous = !0);
    const H = ue.moof(e.sequenceNumber++, h, Pn({}, e, { samples: s })),
      q = 'video',
      F = { data1: H, data2: L, startPTS: g / o, endPTS: (b + f) / o, startDTS: h / o, endDTS: c / o, type: q, hasAudio: !1, hasVideo: !0, nb: s.length, dropped: e.dropped };
    return (e.samples = []), (e.dropped = 0), F;
  }
  remuxAudio(e, n, r, i, o) {
    const a = e.inputTimeScale,
      s = e.samplerate ? e.samplerate : a,
      l = a / s,
      u = e.segmentCodec === 'aac' ? s2 : MD,
      c = u * l,
      d = this._initPTS,
      f = e.segmentCodec === 'mp3' && this.typeSupported.mpeg,
      h = [],
      m = o !== void 0;
    let g = e.samples,
      b = f ? 0 : 8,
      _ = this.nextAudioPts || -1;
    const y = n * a,
      T = (d.baseTime * a) / d.timescale;
    if (
      ((this.isAudioContiguous = r = r || (g.length && _ > 0 && ((i && Math.abs(y - _) < 9e3) || Math.abs(Lr(g[0].pts - T, y) - _) < 20 * c))),
      g.forEach(function (q) {
        q.pts = Lr(q.pts - T, y);
      }),
      !r || _ < 0)
    ) {
      if (((g = g.filter((q) => q.pts >= 0)), !g.length)) return;
      o === 0 ? (_ = 0) : i && !m ? (_ = Math.max(0, y)) : (_ = g[0].pts);
    }
    if (e.segmentCodec === 'aac') {
      const q = this.config.maxAudioFramesDrift;
      for (let F = 0, A = _; F < g.length; F++) {
        const k = g[F],
          U = k.pts,
          X = U - A,
          Q = Math.abs((1e3 * X) / a);
        if (X <= -q * c && m) F === 0 && (le.warn(`Audio frame @ ${(U / a).toFixed(3)}s overlaps nextAudioPts by ${Math.round((1e3 * X) / a)} ms.`), (this.nextAudioPts = _ = A = U));
        else if (X >= q * c && Q < kD && m) {
          let W = Math.round(X / c);
          (A = U - W * c),
            A < 0 && (W--, (A += c)),
            F === 0 && (this.nextAudioPts = _ = A),
            le.warn(`[mp4-remuxer]: Injecting ${W} audio frame @ ${(A / a).toFixed(3)}s due to ${Math.round((1e3 * X) / a)} ms gap.`);
          for (let Y = 0; Y < W; Y++) {
            const ne = Math.max(A, 0);
            let te = a2.getSilentFrame(e.manifestCodec || e.codec, e.channelCount);
            te || (le.log('[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead.'), (te = k.unit.subarray())),
              g.splice(F, 0, { unit: te, pts: ne }),
              (A += c),
              F++;
          }
        }
        (k.pts = A), (A += c);
      }
    }
    let w = null,
      I = null,
      O,
      x = 0,
      L = g.length;
    for (; L--; ) x += g[L].unit.byteLength;
    for (let q = 0, F = g.length; q < F; q++) {
      const A = g[q],
        k = A.unit;
      let U = A.pts;
      if (I !== null) {
        const Q = h[q - 1];
        Q.duration = Math.round((U - I) / l);
      } else if ((r && e.segmentCodec === 'aac' && (U = _), (w = U), x > 0)) {
        x += b;
        try {
          O = new Uint8Array(x);
        } catch (Q) {
          this.observer.emit(V.ERROR, V.ERROR, { type: at.MUX_ERROR, details: he.REMUX_ALLOC_ERROR, fatal: !1, error: Q, bytes: x, reason: `fail allocating audio mdat ${x}` });
          return;
        }
        f || (new DataView(O.buffer).setUint32(0, x), O.set(ue.types.mdat, 4));
      } else return;
      O.set(k, b);
      const X = k.byteLength;
      (b += X), h.push(new l2(!0, u, X, 0)), (I = U);
    }
    const D = h.length;
    if (!D) return;
    const C = h[h.length - 1];
    this.nextAudioPts = _ = I + l * C.duration;
    const G = f ? new Uint8Array(0) : ue.moof(e.sequenceNumber++, w / l, Pn({}, e, { samples: h }));
    e.samples = [];
    const M = w / a,
      B = _ / a,
      H = { data1: G, data2: O, startPTS: M, endPTS: B, startDTS: M, endDTS: B, type: 'audio', hasAudio: !0, hasVideo: !1, nb: D };
    return (this.isAudioContiguous = !0), H;
  }
  remuxEmptyAudio(e, n, r, i) {
    const o = e.inputTimeScale,
      a = e.samplerate ? e.samplerate : o,
      s = o / a,
      l = this.nextAudioPts,
      u = this._initDTS,
      c = (u.baseTime * 9e4) / u.timescale,
      d = (l !== null ? l : i.startDTS * o) + c,
      f = i.endDTS * o + c,
      h = s * s2,
      m = Math.ceil((f - d) / h),
      g = a2.getSilentFrame(e.manifestCodec || e.codec, e.channelCount);
    if ((le.warn('[mp4-remuxer]: remux empty Audio'), !g)) {
      le.trace('[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec');
      return;
    }
    const b = [];
    for (let _ = 0; _ < m; _++) {
      const y = d + _ * h;
      b.push({ unit: g, pts: y, dts: y });
    }
    return (e.samples = b), this.remuxAudio(e, n, r, !1);
  }
}
function Lr(t, e) {
  let n;
  if (e === null) return t;
  for (e < t ? (n = -8589934592) : (n = 8589934592); Math.abs(t - e) > 4294967296; ) t += n;
  return t;
}
function FD(t) {
  for (let e = 0; e < t.length; e++) if (t[e].key) return e;
  return -1;
}
function K_(t, e, n, r) {
  const i = t.samples.length;
  if (!i) return;
  const o = t.inputTimeScale;
  for (let s = 0; s < i; s++) {
    const l = t.samples[s];
    (l.pts = Lr(l.pts - (n.baseTime * o) / n.timescale, e * o) / o), (l.dts = Lr(l.dts - (r.baseTime * o) / r.timescale, e * o) / o);
  }
  const a = t.samples;
  return (t.samples = []), { samples: a };
}
function q_(t, e, n) {
  const r = t.samples.length;
  if (!r) return;
  const i = t.inputTimeScale;
  for (let a = 0; a < r; a++) {
    const s = t.samples[a];
    s.pts = Lr(s.pts - (n.baseTime * 9e4) / n.timescale, e * i) / i;
  }
  t.samples.sort((a, s) => a.pts - s.pts);
  const o = t.samples;
  return (t.samples = []), { samples: o };
}
class l2 {
  constructor(e, n, r, i) {
    (this.size = void 0), (this.duration = void 0), (this.cts = void 0), (this.flags = void 0), (this.duration = n), (this.size = r), (this.cts = i), (this.flags = new ND(e));
  }
}
class ND {
  constructor(e) {
    (this.isLeading = 0),
      (this.isDependedOn = 0),
      (this.hasRedundancy = 0),
      (this.degradPrio = 0),
      (this.dependsOn = 1),
      (this.isNonSync = 1),
      (this.dependsOn = e ? 2 : 1),
      (this.isNonSync = e ? 0 : 1);
  }
}
class $D {
  constructor() {
    (this.emitInitSegment = !1), (this.audioCodec = void 0), (this.videoCodec = void 0), (this.initData = void 0), (this.initPTS = null), (this.initTracks = void 0), (this.lastEndTime = null);
  }
  destroy() {}
  resetTimeStamp(e) {
    (this.initPTS = e), (this.lastEndTime = null);
  }
  resetNextTimestamp() {
    this.lastEndTime = null;
  }
  resetInitSegment(e, n, r, i) {
    (this.audioCodec = n), (this.videoCodec = r), this.generateInitSegment(iI(e, i)), (this.emitInitSegment = !0);
  }
  generateInitSegment(e) {
    let { audioCodec: n, videoCodec: r } = this;
    if (!(e != null && e.byteLength)) {
      (this.initTracks = void 0), (this.initData = void 0);
      return;
    }
    const i = (this.initData = x_(e));
    n || (n = u2(i.audio, qt.AUDIO)), r || (r = u2(i.video, qt.VIDEO));
    const o = {};
    i.audio && i.video
      ? (o.audiovideo = { container: 'video/mp4', codec: n + ',' + r, initSegment: e, id: 'main' })
      : i.audio
      ? (o.audio = { container: 'audio/mp4', codec: n, initSegment: e, id: 'audio' })
      : i.video
      ? (o.video = { container: 'video/mp4', codec: r, initSegment: e, id: 'main' })
      : le.warn('[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes.'),
      (this.initTracks = o);
  }
  remux(e, n, r, i, o, a) {
    var s, l;
    let { initPTS: u, lastEndTime: c } = this;
    const d = { audio: void 0, video: void 0, text: i, id3: r, initSegment: void 0 };
    rt(c) || (c = this.lastEndTime = o || 0);
    const f = n.samples;
    if (!(f != null && f.length)) return d;
    const h = { initPTS: void 0, timescale: 1 };
    let m = this.initData;
    if ((((s = m) != null && s.length) || (this.generateInitSegment(f), (m = this.initData)), !((l = m) != null && l.length)))
      return le.warn('[passthrough-remuxer.ts]: Failed to generate initSegment.'), d;
    this.emitInitSegment && ((h.tracks = this.initTracks), (this.emitInitSegment = !1));
    const g = aI(f, m),
      b = oI(m, f),
      _ = b === null ? o : b;
    (BD(u, _, o, g) || (h.timescale !== u.timescale && a)) &&
      ((h.initPTS = _ - o), u && u.timescale === 1 && le.warn(`Adjusting initPTS by ${h.initPTS - u.baseTime}`), (this.initPTS = u = { baseTime: h.initPTS, timescale: 1 }));
    const y = e ? _ - u.baseTime / u.timescale : c,
      T = y + g;
    lI(m, f, u.baseTime / u.timescale), g > 0 ? (this.lastEndTime = T) : (le.warn('Duration parsed from mp4 should be greater than zero'), this.resetNextTimestamp());
    const w = !!m.audio,
      I = !!m.video;
    let O = '';
    w && (O += 'audio'), I && (O += 'video');
    const x = { data1: f, startPTS: y, startDTS: y, endPTS: T, endDTS: T, type: O, hasAudio: w, hasVideo: I, nb: 1, dropped: 0 };
    return (d.audio = x.type === 'audio' ? x : void 0), (d.video = x.type !== 'audio' ? x : void 0), (d.initSegment = h), (d.id3 = K_(r, o, u, u)), i.samples.length && (d.text = q_(i, o, u)), d;
  }
}
function BD(t, e, n, r) {
  if (t === null) return !0;
  const i = Math.max(r, 1),
    o = e - t.baseTime / t.timescale;
  return Math.abs(o - n) > i;
}
function u2(t, e) {
  const n = t == null ? void 0 : t.codec;
  return n && n.length > 4 ? n : n === 'hvc1' || n === 'hev1' ? 'hvc1.1.6.L120.90' : n === 'av01' ? 'av01.0.04M.08' : n === 'avc1' || e === qt.VIDEO ? 'avc1.42e01e' : 'mp4a.40.5';
}
let Ti;
try {
  Ti = self.performance.now.bind(self.performance);
} catch {
  le.debug('Unable to use Performance API on this environment'), (Ti = typeof self < 'u' && self.Date.now);
}
const qf = [
  { demux: ED, remux: $D },
  { demux: Ki, remux: Kf },
  { demux: _D, remux: Kf },
  { demux: DD, remux: Kf },
];
class c2 {
  constructor(e, n, r, i, o) {
    (this.async = !1),
      (this.observer = void 0),
      (this.typeSupported = void 0),
      (this.config = void 0),
      (this.vendor = void 0),
      (this.id = void 0),
      (this.demuxer = void 0),
      (this.remuxer = void 0),
      (this.decrypter = void 0),
      (this.probe = void 0),
      (this.decryptionPromise = null),
      (this.transmuxConfig = void 0),
      (this.currentTransmuxState = void 0),
      (this.observer = e),
      (this.typeSupported = n),
      (this.config = r),
      (this.vendor = i),
      (this.id = o);
  }
  configure(e) {
    (this.transmuxConfig = e), this.decrypter && this.decrypter.reset();
  }
  push(e, n, r, i) {
    const o = r.transmuxing;
    o.executeStart = Ti();
    let a = new Uint8Array(e);
    const { currentTransmuxState: s, transmuxConfig: l } = this;
    i && (this.currentTransmuxState = i);
    const { contiguous: u, discontinuity: c, trackSwitch: d, accurateTimeOffset: f, timeOffset: h, initSegmentChange: m } = i || s,
      { audioCodec: g, videoCodec: b, defaultInitPts: _, duration: y, initSegmentData: T } = l,
      w = UD(a, n);
    if (w && w.method === 'AES-128') {
      const L = this.getDecrypter();
      if (L.isSync()) {
        let D = L.softwareDecrypt(a, w.key.buffer, w.iv.buffer);
        if ((r.part > -1 && (D = L.flush()), !D)) return (o.executeEnd = Ti()), Yf(r);
        a = new Uint8Array(D);
      } else
        return (
          (this.decryptionPromise = L.webCryptoDecrypt(a, w.key.buffer, w.iv.buffer).then((D) => {
            const C = this.push(D, null, r);
            return (this.decryptionPromise = null), C;
          })),
          this.decryptionPromise
        );
    }
    const I = this.needsProbing(c, d);
    if (I) {
      const L = this.configureTransmuxer(a);
      if (L)
        return (
          le.warn(`[transmuxer] ${L.message}`),
          this.observer.emit(V.ERROR, V.ERROR, { type: at.MEDIA_ERROR, details: he.FRAG_PARSING_ERROR, fatal: !1, error: L, reason: L.message }),
          (o.executeEnd = Ti()),
          Yf(r)
        );
    }
    (c || d || m || I) && this.resetInitSegment(T, g, b, y, n), (c || m || I) && this.resetInitialTimestamp(_), u || this.resetContiguity();
    const O = this.transmux(a, w, h, f, r),
      x = this.currentTransmuxState;
    return (x.contiguous = !0), (x.discontinuity = !1), (x.trackSwitch = !1), (o.executeEnd = Ti()), O;
  }
  flush(e) {
    const n = e.transmuxing;
    n.executeStart = Ti();
    const { decrypter: r, currentTransmuxState: i, decryptionPromise: o } = this;
    if (o) return o.then(() => this.flush(e));
    const a = [],
      { timeOffset: s } = i;
    if (r) {
      const d = r.flush();
      d && a.push(this.push(d, null, e));
    }
    const { demuxer: l, remuxer: u } = this;
    if (!l || !u) return (n.executeEnd = Ti()), [Yf(e)];
    const c = l.flush(s);
    return Ku(c) ? c.then((d) => (this.flushRemux(a, d, e), a)) : (this.flushRemux(a, c, e), a);
  }
  flushRemux(e, n, r) {
    const { audioTrack: i, videoTrack: o, id3Track: a, textTrack: s } = n,
      { accurateTimeOffset: l, timeOffset: u } = this.currentTransmuxState;
    le.log(`[transmuxer.ts]: Flushed fragment ${r.sn}${r.part > -1 ? ' p: ' + r.part : ''} of level ${r.level}`);
    const c = this.remuxer.remux(i, o, a, s, u, l, !0, this.id);
    e.push({ remuxResult: c, chunkMeta: r }), (r.transmuxing.executeEnd = Ti());
  }
  resetInitialTimestamp(e) {
    const { demuxer: n, remuxer: r } = this;
    !n || !r || (n.resetTimeStamp(e), r.resetTimeStamp(e));
  }
  resetContiguity() {
    const { demuxer: e, remuxer: n } = this;
    !e || !n || (e.resetContiguity(), n.resetNextTimestamp());
  }
  resetInitSegment(e, n, r, i, o) {
    const { demuxer: a, remuxer: s } = this;
    !a || !s || (a.resetInitSegment(e, n, r, i), s.resetInitSegment(e, n, r, o));
  }
  destroy() {
    this.demuxer && (this.demuxer.destroy(), (this.demuxer = void 0)), this.remuxer && (this.remuxer.destroy(), (this.remuxer = void 0));
  }
  transmux(e, n, r, i, o) {
    let a;
    return n && n.method === 'SAMPLE-AES' ? (a = this.transmuxSampleAes(e, n, r, i, o)) : (a = this.transmuxUnencrypted(e, r, i, o)), a;
  }
  transmuxUnencrypted(e, n, r, i) {
    const { audioTrack: o, videoTrack: a, id3Track: s, textTrack: l } = this.demuxer.demux(e, n, !1, !this.config.progressive);
    return { remuxResult: this.remuxer.remux(o, a, s, l, n, r, !1, this.id), chunkMeta: i };
  }
  transmuxSampleAes(e, n, r, i, o) {
    return this.demuxer.demuxSampleAes(e, n, r).then((a) => ({ remuxResult: this.remuxer.remux(a.audioTrack, a.videoTrack, a.id3Track, a.textTrack, r, i, !1, this.id), chunkMeta: o }));
  }
  configureTransmuxer(e) {
    const { config: n, observer: r, typeSupported: i, vendor: o } = this;
    let a;
    for (let d = 0, f = qf.length; d < f; d++)
      if (qf[d].demux.probe(e)) {
        a = qf[d];
        break;
      }
    if (!a) return new Error('Failed to find demuxer by probing fragment data');
    const s = this.demuxer,
      l = this.remuxer,
      u = a.remux,
      c = a.demux;
    (!l || !(l instanceof u)) && (this.remuxer = new u(r, n, i, o)), (!s || !(s instanceof c)) && ((this.demuxer = new c(r, n, i)), (this.probe = c.probe));
  }
  needsProbing(e, n) {
    return !this.demuxer || !this.remuxer || e || n;
  }
  getDecrypter() {
    let e = this.decrypter;
    return e || (e = this.decrypter = new Hp(this.config)), e;
  }
}
function UD(t, e) {
  let n = null;
  return t.byteLength > 0 && e != null && e.key != null && e.iv !== null && e.method != null && (n = e), n;
}
const Yf = (t) => ({ remuxResult: {}, chunkMeta: t });
function Ku(t) {
  return 'then' in t && t.then instanceof Function;
}
class zD {
  constructor(e, n, r, i, o) {
    (this.audioCodec = void 0),
      (this.videoCodec = void 0),
      (this.initSegmentData = void 0),
      (this.duration = void 0),
      (this.defaultInitPts = void 0),
      (this.audioCodec = e),
      (this.videoCodec = n),
      (this.initSegmentData = r),
      (this.duration = i),
      (this.defaultInitPts = o || null);
  }
}
class VD {
  constructor(e, n, r, i, o, a) {
    (this.discontinuity = void 0),
      (this.contiguous = void 0),
      (this.accurateTimeOffset = void 0),
      (this.trackSwitch = void 0),
      (this.timeOffset = void 0),
      (this.initSegmentChange = void 0),
      (this.discontinuity = e),
      (this.contiguous = n),
      (this.accurateTimeOffset = r),
      (this.trackSwitch = i),
      (this.timeOffset = o),
      (this.initSegmentChange = a);
  }
}
var Y_ = { exports: {} };
(function (t) {
  var e = Object.prototype.hasOwnProperty,
    n = '~';
  function r() {}
  Object.create && ((r.prototype = Object.create(null)), new r().__proto__ || (n = !1));
  function i(l, u, c) {
    (this.fn = l), (this.context = u), (this.once = c || !1);
  }
  function o(l, u, c, d, f) {
    if (typeof c != 'function') throw new TypeError('The listener must be a function');
    var h = new i(c, d || l, f),
      m = n ? n + u : u;
    return l._events[m] ? (l._events[m].fn ? (l._events[m] = [l._events[m], h]) : l._events[m].push(h)) : ((l._events[m] = h), l._eventsCount++), l;
  }
  function a(l, u) {
    --l._eventsCount === 0 ? (l._events = new r()) : delete l._events[u];
  }
  function s() {
    (this._events = new r()), (this._eventsCount = 0);
  }
  (s.prototype.eventNames = function () {
    var u = [],
      c,
      d;
    if (this._eventsCount === 0) return u;
    for (d in (c = this._events)) e.call(c, d) && u.push(n ? d.slice(1) : d);
    return Object.getOwnPropertySymbols ? u.concat(Object.getOwnPropertySymbols(c)) : u;
  }),
    (s.prototype.listeners = function (u) {
      var c = n ? n + u : u,
        d = this._events[c];
      if (!d) return [];
      if (d.fn) return [d.fn];
      for (var f = 0, h = d.length, m = new Array(h); f < h; f++) m[f] = d[f].fn;
      return m;
    }),
    (s.prototype.listenerCount = function (u) {
      var c = n ? n + u : u,
        d = this._events[c];
      return d ? (d.fn ? 1 : d.length) : 0;
    }),
    (s.prototype.emit = function (u, c, d, f, h, m) {
      var g = n ? n + u : u;
      if (!this._events[g]) return !1;
      var b = this._events[g],
        _ = arguments.length,
        y,
        T;
      if (b.fn) {
        switch ((b.once && this.removeListener(u, b.fn, void 0, !0), _)) {
          case 1:
            return b.fn.call(b.context), !0;
          case 2:
            return b.fn.call(b.context, c), !0;
          case 3:
            return b.fn.call(b.context, c, d), !0;
          case 4:
            return b.fn.call(b.context, c, d, f), !0;
          case 5:
            return b.fn.call(b.context, c, d, f, h), !0;
          case 6:
            return b.fn.call(b.context, c, d, f, h, m), !0;
        }
        for (T = 1, y = new Array(_ - 1); T < _; T++) y[T - 1] = arguments[T];
        b.fn.apply(b.context, y);
      } else {
        var w = b.length,
          I;
        for (T = 0; T < w; T++)
          switch ((b[T].once && this.removeListener(u, b[T].fn, void 0, !0), _)) {
            case 1:
              b[T].fn.call(b[T].context);
              break;
            case 2:
              b[T].fn.call(b[T].context, c);
              break;
            case 3:
              b[T].fn.call(b[T].context, c, d);
              break;
            case 4:
              b[T].fn.call(b[T].context, c, d, f);
              break;
            default:
              if (!y) for (I = 1, y = new Array(_ - 1); I < _; I++) y[I - 1] = arguments[I];
              b[T].fn.apply(b[T].context, y);
          }
      }
      return !0;
    }),
    (s.prototype.on = function (u, c, d) {
      return o(this, u, c, d, !1);
    }),
    (s.prototype.once = function (u, c, d) {
      return o(this, u, c, d, !0);
    }),
    (s.prototype.removeListener = function (u, c, d, f) {
      var h = n ? n + u : u;
      if (!this._events[h]) return this;
      if (!c) return a(this, h), this;
      var m = this._events[h];
      if (m.fn) m.fn === c && (!f || m.once) && (!d || m.context === d) && a(this, h);
      else {
        for (var g = 0, b = [], _ = m.length; g < _; g++) (m[g].fn !== c || (f && !m[g].once) || (d && m[g].context !== d)) && b.push(m[g]);
        b.length ? (this._events[h] = b.length === 1 ? b[0] : b) : a(this, h);
      }
      return this;
    }),
    (s.prototype.removeAllListeners = function (u) {
      var c;
      return u ? ((c = n ? n + u : u), this._events[c] && a(this, c)) : ((this._events = new r()), (this._eventsCount = 0)), this;
    }),
    (s.prototype.off = s.prototype.removeListener),
    (s.prototype.addListener = s.prototype.on),
    (s.prefixed = n),
    (s.EventEmitter = s),
    (t.exports = s);
})(Y_);
var HD = Y_.exports,
  qp = AL(HD);
const Xf = Pd() || { isTypeSupported: () => !1 };
class X_ {
  constructor(e, n, r, i) {
    (this.error = null),
      (this.hls = void 0),
      (this.id = void 0),
      (this.observer = void 0),
      (this.frag = null),
      (this.part = null),
      (this.useWorker = void 0),
      (this.workerContext = null),
      (this.onwmsg = void 0),
      (this.transmuxer = null),
      (this.onTransmuxComplete = void 0),
      (this.onFlush = void 0);
    const o = e.config;
    (this.hls = e), (this.id = n), (this.useWorker = !!o.enableWorker), (this.onTransmuxComplete = r), (this.onFlush = i);
    const a = (u, c) => {
      (c = c || {}), (c.frag = this.frag), (c.id = this.id), u === V.ERROR && (this.error = c.error), this.hls.trigger(u, c);
    };
    (this.observer = new qp()), this.observer.on(V.FRAG_DECRYPTED, a), this.observer.on(V.ERROR, a);
    const s = { mp4: Xf.isTypeSupported('video/mp4'), mpeg: Xf.isTypeSupported('audio/mpeg'), mp3: Xf.isTypeSupported('audio/mp4; codecs="mp3"') },
      l = navigator.vendor;
    if (this.useWorker && typeof Worker < 'u' && (o.workerPath || cD())) {
      try {
        o.workerPath ? (le.log(`loading Web Worker ${o.workerPath} for "${n}"`), (this.workerContext = fD(o.workerPath))) : (le.log(`injecting Web Worker for "${n}"`), (this.workerContext = dD())),
          (this.onwmsg = (d) => this.onWorkerMessage(d));
        const { worker: c } = this.workerContext;
        c.addEventListener('message', this.onwmsg),
          (c.onerror = (d) => {
            const f = new Error(`${d.message}  (${d.filename}:${d.lineno})`);
            (o.enableWorker = !1),
              le.warn(`Error in "${n}" Web Worker, fallback to inline`),
              this.hls.trigger(V.ERROR, { type: at.OTHER_ERROR, details: he.INTERNAL_EXCEPTION, fatal: !1, event: 'demuxerWorker', error: f });
          }),
          c.postMessage({ cmd: 'init', typeSupported: s, vendor: l, id: n, config: JSON.stringify(o) });
      } catch (c) {
        le.warn(`Error setting up "${n}" Web Worker, fallback to inline`, c), this.resetWorker(), (this.error = null), (this.transmuxer = new c2(this.observer, s, o, l, n));
      }
      return;
    }
    this.transmuxer = new c2(this.observer, s, o, l, n);
  }
  resetWorker() {
    if (this.workerContext) {
      const { worker: e, objectURL: n } = this.workerContext;
      n && self.URL.revokeObjectURL(n), e.removeEventListener('message', this.onwmsg), (e.onerror = null), e.terminate(), (this.workerContext = null);
    }
  }
  destroy() {
    if (this.workerContext) this.resetWorker(), (this.onwmsg = void 0);
    else {
      const n = this.transmuxer;
      n && (n.destroy(), (this.transmuxer = null));
    }
    const e = this.observer;
    e && e.removeAllListeners(), (this.frag = null), (this.observer = null), (this.hls = null);
  }
  push(e, n, r, i, o, a, s, l, u, c) {
    var d, f;
    u.transmuxing.start = self.performance.now();
    const { transmuxer: h } = this,
      m = a ? a.start : o.start,
      g = o.decryptdata,
      b = this.frag,
      _ = !(b && o.cc === b.cc),
      y = !(b && u.level === b.level),
      T = b ? u.sn - b.sn : -1,
      w = this.part ? u.part - this.part.index : -1,
      I = T === 0 && u.id > 1 && u.id === (b == null ? void 0 : b.stats.chunkCount),
      O = !y && (T === 1 || (T === 0 && (w === 1 || (I && w <= 0)))),
      x = self.performance.now();
    (y || T || o.stats.parsing.start === 0) && (o.stats.parsing.start = x), a && (w || !O) && (a.stats.parsing.start = x);
    const L = !(b && ((d = o.initSegment) == null ? void 0 : d.url) === ((f = b.initSegment) == null ? void 0 : f.url)),
      D = new VD(_, O, l, y, m, L);
    if (!O || _ || L) {
      le.log(`[transmuxer-interface, ${o.type}]: Starting new transmux session for sn: ${u.sn} p: ${u.part} level: ${u.level} id: ${u.id}
        discontinuity: ${_}
        trackSwitch: ${y}
        contiguous: ${O}
        accurateTimeOffset: ${l}
        timeOffset: ${m}
        initSegmentChange: ${L}`);
      const C = new zD(r, i, n, s, c);
      this.configureTransmuxer(C);
    }
    if (((this.frag = o), (this.part = a), this.workerContext))
      this.workerContext.worker.postMessage({ cmd: 'demux', data: e, decryptdata: g, chunkMeta: u, state: D }, e instanceof ArrayBuffer ? [e] : []);
    else if (h) {
      const C = h.push(e, g, u, D);
      Ku(C)
        ? ((h.async = !0),
          C.then((G) => {
            this.handleTransmuxComplete(G);
          }).catch((G) => {
            this.transmuxerError(G, u, 'transmuxer-interface push error');
          }))
        : ((h.async = !1), this.handleTransmuxComplete(C));
    }
  }
  flush(e) {
    e.transmuxing.start = self.performance.now();
    const { transmuxer: n } = this;
    if (this.workerContext) this.workerContext.worker.postMessage({ cmd: 'flush', chunkMeta: e });
    else if (n) {
      let r = n.flush(e);
      Ku(r) || n.async
        ? (Ku(r) || (r = Promise.resolve(r)),
          r
            .then((o) => {
              this.handleFlushResult(o, e);
            })
            .catch((o) => {
              this.transmuxerError(o, e, 'transmuxer-interface flush error');
            }))
        : this.handleFlushResult(r, e);
    }
  }
  transmuxerError(e, n, r) {
    this.hls && ((this.error = e), this.hls.trigger(V.ERROR, { type: at.MEDIA_ERROR, details: he.FRAG_PARSING_ERROR, chunkMeta: n, fatal: !1, error: e, err: e, reason: r }));
  }
  handleFlushResult(e, n) {
    e.forEach((r) => {
      this.handleTransmuxComplete(r);
    }),
      this.onFlush(n);
  }
  onWorkerMessage(e) {
    const n = e.data,
      r = this.hls;
    switch (n.event) {
      case 'init': {
        var i;
        const o = (i = this.workerContext) == null ? void 0 : i.objectURL;
        o && self.URL.revokeObjectURL(o);
        break;
      }
      case 'transmuxComplete': {
        this.handleTransmuxComplete(n.data);
        break;
      }
      case 'flush': {
        this.onFlush(n.data);
        break;
      }
      case 'workerLog':
        le[n.data.logType] && le[n.data.logType](n.data.message);
        break;
      default: {
        (n.data = n.data || {}), (n.data.frag = this.frag), (n.data.id = this.id), r.trigger(n.event, n.data);
        break;
      }
    }
  }
  configureTransmuxer(e) {
    const { transmuxer: n } = this;
    this.workerContext ? this.workerContext.worker.postMessage({ cmd: 'configure', config: e }) : n && n.configure(e);
  }
  handleTransmuxComplete(e) {
    (e.chunkMeta.transmuxing.end = self.performance.now()), this.onTransmuxComplete(e);
  }
}
const jD = 250,
  Qf = 2,
  GD = 0.1,
  WD = 0.05;
class KD {
  constructor(e, n, r, i) {
    (this.config = void 0),
      (this.media = null),
      (this.fragmentTracker = void 0),
      (this.hls = void 0),
      (this.nudgeRetry = 0),
      (this.stallReported = !1),
      (this.stalled = null),
      (this.moved = !1),
      (this.seeking = !1),
      (this.config = e),
      (this.media = n),
      (this.fragmentTracker = r),
      (this.hls = i);
  }
  destroy() {
    (this.media = null), (this.hls = this.fragmentTracker = null);
  }
  poll(e, n) {
    const { config: r, media: i, stalled: o } = this;
    if (i === null) return;
    const { currentTime: a, seeking: s } = i,
      l = this.seeking && !s,
      u = !this.seeking && s;
    if (((this.seeking = s), a !== e)) {
      if (((this.moved = !0), o !== null)) {
        if (this.stallReported) {
          const _ = self.performance.now() - o;
          le.warn(`playback not stuck anymore @${a}, after ${Math.round(_)}ms`), (this.stallReported = !1);
        }
        (this.stalled = null), (this.nudgeRetry = 0);
      }
      return;
    }
    if (u || l) {
      this.stalled = null;
      return;
    }
    if ((i.paused && !s) || i.ended || i.playbackRate === 0 || !on.getBuffered(i).length) return;
    const c = on.bufferInfo(i, a, 0),
      d = c.len > 0,
      f = c.nextStart || 0;
    if (!d && !f) return;
    if (s) {
      const _ = c.len > Qf,
        y = !f || (n && n.start <= a) || (f - a > Qf && !this.fragmentTracker.getPartialFragment(a));
      if (_ || y) return;
      this.moved = !1;
    }
    if (!this.moved && this.stalled !== null) {
      var h;
      const _ = Math.max(f, c.start || 0) - a,
        y = this.hls.levels ? this.hls.levels[this.hls.currentLevel] : null,
        w = (y == null || (h = y.details) == null ? void 0 : h.live) ? y.details.targetduration * 2 : Qf,
        I = this.fragmentTracker.getPartialFragment(a);
      if (_ > 0 && (_ <= w || I)) {
        this._trySkipBufferHole(I);
        return;
      }
    }
    const m = self.performance.now();
    if (o === null) {
      this.stalled = m;
      return;
    }
    const g = m - o;
    if (!s && g >= jD && (this._reportStall(c), !this.media)) return;
    const b = on.bufferInfo(i, a, r.maxBufferHole);
    this._tryFixBufferStall(b, g);
  }
  _tryFixBufferStall(e, n) {
    const { config: r, fragmentTracker: i, media: o } = this;
    if (o === null) return;
    const a = o.currentTime,
      s = i.getPartialFragment(a);
    (s && (this._trySkipBufferHole(s) || !this.media)) ||
      ((e.len > r.maxBufferHole || (e.nextStart && e.nextStart - a < r.maxBufferHole)) &&
        n > r.highBufferWatchdogPeriod * 1e3 &&
        (le.warn('Trying to nudge playhead over buffer-hole'), (this.stalled = null), this._tryNudgeBuffer()));
  }
  _reportStall(e) {
    const { hls: n, media: r, stallReported: i } = this;
    if (!i && r) {
      this.stallReported = !0;
      const o = new Error(`Playback stalling at @${r.currentTime} due to low buffer (${JSON.stringify(e)})`);
      le.warn(o.message), n.trigger(V.ERROR, { type: at.MEDIA_ERROR, details: he.BUFFER_STALLED_ERROR, fatal: !1, error: o, buffer: e.len });
    }
  }
  _trySkipBufferHole(e) {
    const { config: n, hls: r, media: i } = this;
    if (i === null) return 0;
    const o = i.currentTime,
      a = on.bufferInfo(i, o, 0),
      s = o < a.start ? a.start : a.nextStart;
    if (s) {
      const l = a.len <= n.maxBufferHole,
        u = a.len > 0 && a.len < 1 && i.readyState < 3,
        c = s - o;
      if (c > 0 && (l || u)) {
        if (c > n.maxBufferHole) {
          const { fragmentTracker: f } = this;
          let h = !1;
          if (o === 0) {
            const m = f.getAppendedFrag(0, lt.MAIN);
            m && s < m.end && (h = !0);
          }
          if (!h) {
            const m = e || f.getAppendedFrag(o, lt.MAIN);
            if (m) {
              let g = !1,
                b = m.end;
              for (; b < s; ) {
                const _ = f.getPartialFragment(b);
                if (_) b += _.duration;
                else {
                  g = !0;
                  break;
                }
              }
              if (g) return 0;
            }
          }
        }
        const d = Math.max(s + WD, o + GD);
        if ((le.warn(`skipping hole, adjusting currentTime from ${o} to ${d}`), (this.moved = !0), (this.stalled = null), (i.currentTime = d), e && !e.gap)) {
          const f = new Error(`fragment loaded with buffer holes, seeking from ${o} to ${d}`);
          r.trigger(V.ERROR, { type: at.MEDIA_ERROR, details: he.BUFFER_SEEK_OVER_HOLE, fatal: !1, error: f, reason: f.message, frag: e });
        }
        return d;
      }
    }
    return 0;
  }
  _tryNudgeBuffer() {
    const { config: e, hls: n, media: r, nudgeRetry: i } = this;
    if (r === null) return;
    const o = r.currentTime;
    if ((this.nudgeRetry++, i < e.nudgeMaxRetry)) {
      const a = o + (i + 1) * e.nudgeOffset,
        s = new Error(`Nudging 'currentTime' from ${o} to ${a}`);
      le.warn(s.message), (r.currentTime = a), n.trigger(V.ERROR, { type: at.MEDIA_ERROR, details: he.BUFFER_NUDGE_ON_STALL, error: s, fatal: !1 });
    } else {
      const a = new Error(`Playhead still not moving while enough data buffered @${o} after ${e.nudgeMaxRetry} nudges`);
      le.error(a.message), n.trigger(V.ERROR, { type: at.MEDIA_ERROR, details: he.BUFFER_STALLED_ERROR, error: a, fatal: !0 });
    }
  }
}
const qD = 100;
class YD extends jp {
  constructor(e, n, r) {
    super(e, n, r, '[stream-controller]', lt.MAIN),
      (this.audioCodecSwap = !1),
      (this.gapController = null),
      (this.level = -1),
      (this._forceStartLoad = !1),
      (this.altAudio = !1),
      (this.audioOnly = !1),
      (this.fragPlaying = null),
      (this.onvplaying = null),
      (this.onvseeked = null),
      (this.fragLastKbps = 0),
      (this.couldBacktrack = !1),
      (this.backtrackFragment = null),
      (this.audioCodecSwitch = !1),
      (this.videoBuffer = null),
      this._registerListeners();
  }
  _registerListeners() {
    const { hls: e } = this;
    e.on(V.MEDIA_ATTACHED, this.onMediaAttached, this),
      e.on(V.MEDIA_DETACHING, this.onMediaDetaching, this),
      e.on(V.MANIFEST_LOADING, this.onManifestLoading, this),
      e.on(V.MANIFEST_PARSED, this.onManifestParsed, this),
      e.on(V.LEVEL_LOADING, this.onLevelLoading, this),
      e.on(V.LEVEL_LOADED, this.onLevelLoaded, this),
      e.on(V.FRAG_LOAD_EMERGENCY_ABORTED, this.onFragLoadEmergencyAborted, this),
      e.on(V.ERROR, this.onError, this),
      e.on(V.AUDIO_TRACK_SWITCHING, this.onAudioTrackSwitching, this),
      e.on(V.AUDIO_TRACK_SWITCHED, this.onAudioTrackSwitched, this),
      e.on(V.BUFFER_CREATED, this.onBufferCreated, this),
      e.on(V.BUFFER_FLUSHED, this.onBufferFlushed, this),
      e.on(V.LEVELS_UPDATED, this.onLevelsUpdated, this),
      e.on(V.FRAG_BUFFERED, this.onFragBuffered, this);
  }
  _unregisterListeners() {
    const { hls: e } = this;
    e.off(V.MEDIA_ATTACHED, this.onMediaAttached, this),
      e.off(V.MEDIA_DETACHING, this.onMediaDetaching, this),
      e.off(V.MANIFEST_LOADING, this.onManifestLoading, this),
      e.off(V.MANIFEST_PARSED, this.onManifestParsed, this),
      e.off(V.LEVEL_LOADED, this.onLevelLoaded, this),
      e.off(V.FRAG_LOAD_EMERGENCY_ABORTED, this.onFragLoadEmergencyAborted, this),
      e.off(V.ERROR, this.onError, this),
      e.off(V.AUDIO_TRACK_SWITCHING, this.onAudioTrackSwitching, this),
      e.off(V.AUDIO_TRACK_SWITCHED, this.onAudioTrackSwitched, this),
      e.off(V.BUFFER_CREATED, this.onBufferCreated, this),
      e.off(V.BUFFER_FLUSHED, this.onBufferFlushed, this),
      e.off(V.LEVELS_UPDATED, this.onLevelsUpdated, this),
      e.off(V.FRAG_BUFFERED, this.onFragBuffered, this);
  }
  onHandlerDestroying() {
    this._unregisterListeners(), this.onMediaDetaching();
  }
  startLoad(e) {
    if (this.levels) {
      const { lastCurrentTime: n, hls: r } = this;
      if ((this.stopLoad(), this.setInterval(qD), (this.level = -1), !this.startFragRequested)) {
        let i = r.startLevel;
        i === -1 && (r.config.testBandwidth && this.levels.length > 1 ? ((i = 0), (this.bitrateTest = !0)) : (i = r.nextAutoLevel)), (this.level = r.nextLoadLevel = i), (this.loadedmetadata = !1);
      }
      n > 0 && e === -1 && (this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`), (e = n)),
        (this.state = _e.IDLE),
        (this.nextLoadPosition = this.startPosition = this.lastCurrentTime = e),
        this.tick();
    } else (this._forceStartLoad = !0), (this.state = _e.STOPPED);
  }
  stopLoad() {
    (this._forceStartLoad = !1), super.stopLoad();
  }
  doTick() {
    switch (this.state) {
      case _e.WAITING_LEVEL: {
        var e;
        const { levels: r, level: i } = this,
          o = r == null || (e = r[i]) == null ? void 0 : e.details;
        if (o && (!o.live || this.levelLastLoaded === this.level)) {
          if (this.waitForCdnTuneIn(o)) break;
          this.state = _e.IDLE;
          break;
        } else if (this.hls.nextLoadLevel !== this.level) {
          this.state = _e.IDLE;
          break;
        }
        break;
      }
      case _e.FRAG_LOADING_WAITING_RETRY:
        {
          var n;
          const r = self.performance.now(),
            i = this.retryDate;
          (!i || r >= i || ((n = this.media) != null && n.seeking)) && (this.resetStartWhenNotLoaded(this.level), (this.state = _e.IDLE));
        }
        break;
    }
    this.state === _e.IDLE && this.doTickIdle(), this.onTickEnd();
  }
  onTickEnd() {
    super.onTickEnd(), this.checkBuffer(), this.checkFragmentChanged();
  }
  doTickIdle() {
    const { hls: e, levelLastLoaded: n, levels: r, media: i } = this,
      { config: o, nextLoadLevel: a } = e;
    if (n === null || (!i && (this.startFragRequested || !o.startFragPrefetch)) || (this.altAudio && this.audioOnly) || !(r != null && r[a])) return;
    const s = r[a],
      l = this.getMainFwdBufferInfo();
    if (l === null) return;
    const u = this.getLevelDetails();
    if (u && this._streamEnded(l, u)) {
      const b = {};
      this.altAudio && (b.type = 'video'), this.hls.trigger(V.BUFFER_EOS, b), (this.state = _e.ENDED);
      return;
    }
    e.loadLevel !== a && e.manualLevel === -1 && this.log(`Adapting to level ${a} from level ${this.level}`), (this.level = e.nextLoadLevel = a);
    const c = s.details;
    if (!c || this.state === _e.WAITING_LEVEL || (c.live && this.levelLastLoaded !== a)) {
      (this.level = a), (this.state = _e.WAITING_LEVEL);
      return;
    }
    const d = l.len,
      f = this.getMaxBufferLength(s.maxBitrate);
    if (d >= f) return;
    this.backtrackFragment && this.backtrackFragment.start > l.end && (this.backtrackFragment = null);
    const h = this.backtrackFragment ? this.backtrackFragment.start : l.end;
    let m = this.getNextFragment(h, c);
    if (this.couldBacktrack && !this.fragPrevious && m && m.sn !== 'initSegment' && this.fragmentTracker.getState(m) !== Nn.OK) {
      var g;
      const _ = ((g = this.backtrackFragment) != null ? g : m).sn - c.startSN,
        y = c.fragments[_ - 1];
      y && m.cc === y.cc && ((m = y), this.fragmentTracker.removeFragment(y));
    } else this.backtrackFragment && l.len && (this.backtrackFragment = null);
    if (m && this.isLoopLoading(m, h)) {
      if (!m.gap) {
        const _ = this.audioOnly && !this.altAudio ? qt.AUDIO : qt.VIDEO,
          y = (_ === qt.VIDEO ? this.videoBuffer : this.mediaBuffer) || this.media;
        y && this.afterBufferFlushed(y, _, lt.MAIN);
      }
      m = this.getNextFragmentLoopLoading(m, c, l, lt.MAIN, f);
    }
    m && (m.initSegment && !m.initSegment.data && !this.bitrateTest && (m = m.initSegment), this.loadFragment(m, s, h));
  }
  loadFragment(e, n, r) {
    const i = this.fragmentTracker.getState(e);
    (this.fragCurrent = e),
      i === Nn.NOT_LOADED || i === Nn.PARTIAL
        ? e.sn === 'initSegment'
          ? this._loadInitSegment(e, n)
          : this.bitrateTest
          ? (this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`), this._loadBitrateTestFrag(e, n))
          : ((this.startFragRequested = !0), super.loadFragment(e, n, r))
        : this.clearTrackerIfNeeded(e);
  }
  getBufferedFrag(e) {
    return this.fragmentTracker.getBufferedFrag(e, lt.MAIN);
  }
  followingBufferedFrag(e) {
    return e ? this.getBufferedFrag(e.end + 0.5) : null;
  }
  immediateLevelSwitch() {
    this.abortCurrentFrag(), this.flushMainBuffer(0, Number.POSITIVE_INFINITY);
  }
  nextLevelSwitch() {
    const { levels: e, media: n } = this;
    if (n != null && n.readyState) {
      let r;
      const i = this.getAppendedFrag(n.currentTime);
      i && i.start > 1 && this.flushMainBuffer(0, i.start - 1);
      const o = this.getLevelDetails();
      if (o != null && o.live) {
        const s = this.getMainFwdBufferInfo();
        if (!s || s.len < o.targetduration * 2) return;
      }
      if (!n.paused && e) {
        const s = this.hls.nextLoadLevel,
          l = e[s],
          u = this.fragLastKbps;
        u && this.fragCurrent ? (r = (this.fragCurrent.duration * l.maxBitrate) / (1e3 * u) + 1) : (r = 0);
      } else r = 0;
      const a = this.getBufferedFrag(n.currentTime + r);
      if (a) {
        const s = this.followingBufferedFrag(a);
        if (s) {
          this.abortCurrentFrag();
          const l = s.maxStartPTS ? s.maxStartPTS : s.start,
            u = s.duration,
            c = Math.max(a.end, l + Math.min(Math.max(u - this.config.maxFragLookUpTolerance, u * 0.5), u * 0.75));
          this.flushMainBuffer(c, Number.POSITIVE_INFINITY);
        }
      }
    }
  }
  abortCurrentFrag() {
    const e = this.fragCurrent;
    switch (((this.fragCurrent = null), (this.backtrackFragment = null), e && (e.abortRequests(), this.fragmentTracker.removeFragment(e)), this.state)) {
      case _e.KEY_LOADING:
      case _e.FRAG_LOADING:
      case _e.FRAG_LOADING_WAITING_RETRY:
      case _e.PARSING:
      case _e.PARSED:
        this.state = _e.IDLE;
        break;
    }
    this.nextLoadPosition = this.getLoadPosition();
  }
  flushMainBuffer(e, n) {
    super.flushMainBuffer(e, n, this.altAudio ? 'video' : null);
  }
  onMediaAttached(e, n) {
    super.onMediaAttached(e, n);
    const r = n.media;
    (this.onvplaying = this.onMediaPlaying.bind(this)),
      (this.onvseeked = this.onMediaSeeked.bind(this)),
      r.addEventListener('playing', this.onvplaying),
      r.addEventListener('seeked', this.onvseeked),
      (this.gapController = new KD(this.config, r, this.fragmentTracker, this.hls));
  }
  onMediaDetaching() {
    const { media: e } = this;
    e &&
      this.onvplaying &&
      this.onvseeked &&
      (e.removeEventListener('playing', this.onvplaying), e.removeEventListener('seeked', this.onvseeked), (this.onvplaying = this.onvseeked = null), (this.videoBuffer = null)),
      (this.fragPlaying = null),
      this.gapController && (this.gapController.destroy(), (this.gapController = null)),
      super.onMediaDetaching();
  }
  onMediaPlaying() {
    this.tick();
  }
  onMediaSeeked() {
    const e = this.media,
      n = e ? e.currentTime : null;
    rt(n) && this.log(`Media seeked to ${n.toFixed(3)}`);
    const r = this.getMainFwdBufferInfo();
    if (r === null || r.len === 0) {
      this.warn(`Main forward buffer length on "seeked" event ${r ? r.len : 'empty'})`);
      return;
    }
    this.tick();
  }
  onManifestLoading() {
    this.log('Trigger BUFFER_RESET'),
      this.hls.trigger(V.BUFFER_RESET, void 0),
      this.fragmentTracker.removeAllFragments(),
      (this.couldBacktrack = !1),
      (this.startPosition = this.lastCurrentTime = 0),
      (this.levels = this.fragPlaying = this.backtrackFragment = null),
      (this.altAudio = this.audioOnly = !1);
  }
  onManifestParsed(e, n) {
    let r = !1,
      i = !1,
      o;
    n.levels.forEach((a) => {
      (o = a.audioCodec), o && (o.indexOf('mp4a.40.2') !== -1 && (r = !0), o.indexOf('mp4a.40.5') !== -1 && (i = !0));
    }),
      (this.audioCodecSwitch = r && i && !uD()),
      this.audioCodecSwitch && this.log('Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC'),
      (this.levels = n.levels),
      (this.startFragRequested = !1);
  }
  onLevelLoading(e, n) {
    const { levels: r } = this;
    if (!r || this.state !== _e.IDLE) return;
    const i = r[n.level];
    (!i.details || (i.details.live && this.levelLastLoaded !== n.level) || this.waitForCdnTuneIn(i.details)) && (this.state = _e.WAITING_LEVEL);
  }
  onLevelLoaded(e, n) {
    var r;
    const { levels: i } = this,
      o = n.level,
      a = n.details,
      s = a.totalduration;
    if (!i) {
      this.warn(`Levels were reset while loading level ${o}`);
      return;
    }
    this.log(`Level ${o} loaded [${a.startSN},${a.endSN}]${a.lastPartSn ? `[part-${a.lastPartSn}-${a.lastPartIndex}]` : ''}, cc [${a.startCC}, ${a.endCC}] duration:${s}`);
    const l = i[o],
      u = this.fragCurrent;
    u && (this.state === _e.FRAG_LOADING || this.state === _e.FRAG_LOADING_WAITING_RETRY) && (u.level !== n.level || u.urlId !== l.urlId) && u.loader && this.abortCurrentFrag();
    let c = 0;
    if (a.live || ((r = l.details) != null && r.live)) {
      if ((a.fragments[0] || (a.deltaUpdateFailed = !0), a.deltaUpdateFailed)) return;
      c = this.alignPlaylists(a, l.details);
    }
    if (((l.details = a), (this.levelLastLoaded = o), this.hls.trigger(V.LEVEL_UPDATED, { details: a, level: o }), this.state === _e.WAITING_LEVEL)) {
      if (this.waitForCdnTuneIn(a)) return;
      this.state = _e.IDLE;
    }
    this.startFragRequested ? a.live && this.synchronizeToLiveEdge(a) : this.setStartPosition(a, c), this.tick();
  }
  _handleFragmentLoadProgress(e) {
    var n;
    const { frag: r, part: i, payload: o } = e,
      { levels: a } = this;
    if (!a) {
      this.warn(`Levels were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);
      return;
    }
    const s = a[r.level],
      l = s.details;
    if (!l) {
      this.warn(`Dropping fragment ${r.sn} of level ${r.level} after level details were reset`), this.fragmentTracker.removeFragment(r);
      return;
    }
    const u = s.videoCodec,
      c = l.PTSKnown || !l.live,
      d = (n = r.initSegment) == null ? void 0 : n.data,
      f = this._getAudioCodec(s),
      h = (this.transmuxer = this.transmuxer || new X_(this.hls, lt.MAIN, this._handleTransmuxComplete.bind(this), this._handleTransmuxerFlush.bind(this))),
      m = i ? i.index : -1,
      g = m !== -1,
      b = new zp(r.level, r.sn, r.stats.chunkCount, o.byteLength, m, g),
      _ = this.initPTS[r.cc];
    h.push(o, d, f, u, r, i, l.totalduration, c, b, _);
  }
  onAudioTrackSwitching(e, n) {
    const r = this.altAudio;
    if (!!!n.url) {
      if (this.mediaBuffer !== this.media) {
        this.log('Switching on main audio, use media.buffered to schedule main fragment loading'), (this.mediaBuffer = this.media);
        const a = this.fragCurrent;
        a && (this.log('Switching to main audio track, cancel main fragment load'), a.abortRequests(), this.fragmentTracker.removeFragment(a)), this.resetTransmuxer(), this.resetLoadingState();
      } else this.audioOnly && this.resetTransmuxer();
      const o = this.hls;
      r && (o.trigger(V.BUFFER_FLUSHING, { startOffset: 0, endOffset: Number.POSITIVE_INFINITY, type: null }), this.fragmentTracker.removeAllFragments()), o.trigger(V.AUDIO_TRACK_SWITCHED, n);
    }
  }
  onAudioTrackSwitched(e, n) {
    const r = n.id,
      i = !!this.hls.audioTracks[r].url;
    if (i) {
      const o = this.videoBuffer;
      o && this.mediaBuffer !== o && (this.log('Switching on alternate audio, use video.buffered to schedule main fragment loading'), (this.mediaBuffer = o));
    }
    (this.altAudio = i), this.tick();
  }
  onBufferCreated(e, n) {
    const r = n.tracks;
    let i,
      o,
      a = !1;
    for (const s in r) {
      const l = r[s];
      if (l.id === 'main') {
        if (((o = s), (i = l), s === 'video')) {
          const u = r[s];
          u && (this.videoBuffer = u.buffer);
        }
      } else a = !0;
    }
    a && i ? (this.log(`Alternate track found, use ${o}.buffered to schedule main fragment loading`), (this.mediaBuffer = i.buffer)) : (this.mediaBuffer = this.media);
  }
  onFragBuffered(e, n) {
    const { frag: r, part: i } = n;
    if (r && r.type !== lt.MAIN) return;
    if (this.fragContextChanged(r)) {
      this.warn(`Fragment ${r.sn}${i ? ' p: ' + i.index : ''} of level ${r.level} finished buffering, but was aborted. state: ${this.state}`), this.state === _e.PARSED && (this.state = _e.IDLE);
      return;
    }
    const o = i ? i.stats : r.stats;
    (this.fragLastKbps = Math.round((8 * o.total) / (o.buffering.end - o.loading.first))), r.sn !== 'initSegment' && (this.fragPrevious = r), this.fragBufferedComplete(r, i);
  }
  onError(e, n) {
    var r;
    if (n.fatal) {
      this.state = _e.ERROR;
      return;
    }
    switch (n.details) {
      case he.FRAG_GAP:
      case he.FRAG_PARSING_ERROR:
      case he.FRAG_DECRYPT_ERROR:
      case he.FRAG_LOAD_ERROR:
      case he.FRAG_LOAD_TIMEOUT:
      case he.KEY_LOAD_ERROR:
      case he.KEY_LOAD_TIMEOUT:
        this.onFragmentOrKeyLoadError(lt.MAIN, n);
        break;
      case he.LEVEL_LOAD_ERROR:
      case he.LEVEL_LOAD_TIMEOUT:
      case he.LEVEL_PARSING_ERROR:
        !n.levelRetry && this.state === _e.WAITING_LEVEL && ((r = n.context) == null ? void 0 : r.type) === Ot.LEVEL && (this.state = _e.IDLE);
        break;
      case he.BUFFER_FULL_ERROR:
        if (!n.parent || n.parent !== 'main') return;
        this.reduceLengthAndFlushBuffer(n) && this.flushMainBuffer(0, Number.POSITIVE_INFINITY);
        break;
      case he.INTERNAL_EXCEPTION:
        this.recoverWorkerError(n);
        break;
    }
  }
  checkBuffer() {
    const { media: e, gapController: n } = this;
    if (!(!e || !n || !e.readyState)) {
      if (this.loadedmetadata || !on.getBuffered(e).length) {
        const r = this.state !== _e.IDLE ? this.fragCurrent : null;
        n.poll(this.lastCurrentTime, r);
      }
      this.lastCurrentTime = e.currentTime;
    }
  }
  onFragLoadEmergencyAborted() {
    (this.state = _e.IDLE), this.loadedmetadata || ((this.startFragRequested = !1), (this.nextLoadPosition = this.startPosition)), this.tickImmediate();
  }
  onBufferFlushed(e, { type: n }) {
    if (n !== qt.AUDIO || (this.audioOnly && !this.altAudio)) {
      const r = (n === qt.VIDEO ? this.videoBuffer : this.mediaBuffer) || this.media;
      this.afterBufferFlushed(r, n, lt.MAIN);
    }
  }
  onLevelsUpdated(e, n) {
    this.levels = n.levels;
  }
  swapAudioCodec() {
    this.audioCodecSwap = !this.audioCodecSwap;
  }
  seekToStartPos() {
    const { media: e } = this;
    if (!e) return;
    const n = e.currentTime;
    let r = this.startPosition;
    if (r >= 0 && n < r) {
      if (e.seeking) {
        this.log(`could not seek to ${r}, already seeking at ${n}`);
        return;
      }
      const i = on.getBuffered(e),
        a = (i.length ? i.start(0) : 0) - r;
      a > 0 && (a < this.config.maxBufferHole || a < this.config.maxFragLookUpTolerance) && (this.log(`adjusting start position by ${a} to match buffer start`), (r += a), (this.startPosition = r)),
        this.log(`seek to target start position ${r} from current time ${n}`),
        (e.currentTime = r);
    }
  }
  _getAudioCodec(e) {
    let n = this.config.defaultAudioCodec || e.audioCodec;
    return this.audioCodecSwap && n && (this.log('Swapping audio codec'), n.indexOf('mp4a.40.5') !== -1 ? (n = 'mp4a.40.2') : (n = 'mp4a.40.5')), n;
  }
  _loadBitrateTestFrag(e, n) {
    (e.bitrateTest = !0),
      this._doFragLoad(e, n).then((r) => {
        const { hls: i } = this;
        if (!r || this.fragContextChanged(e)) return;
        (n.fragmentError = 0), (this.state = _e.IDLE), (this.startFragRequested = !1), (this.bitrateTest = !1);
        const o = e.stats;
        (o.parsing.start = o.parsing.end = o.buffering.start = o.buffering.end = self.performance.now()), i.trigger(V.FRAG_LOADED, r), (e.bitrateTest = !1);
      });
  }
  _handleTransmuxComplete(e) {
    var n;
    const r = 'main',
      { hls: i } = this,
      { remuxResult: o, chunkMeta: a } = e,
      s = this.getCurrentContext(a);
    if (!s) {
      this.resetWhenMissingContext(a);
      return;
    }
    const { frag: l, part: u, level: c } = s,
      { video: d, text: f, id3: h, initSegment: m } = o,
      { details: g } = c,
      b = this.altAudio ? void 0 : o.audio;
    if (this.fragContextChanged(l)) {
      this.fragmentTracker.removeFragment(l);
      return;
    }
    if (((this.state = _e.PARSING), m)) {
      if (m != null && m.tracks) {
        const w = l.initSegment || l;
        this._bufferInitSegment(c, m.tracks, w, a), i.trigger(V.FRAG_PARSING_INIT_SEGMENT, { frag: w, id: r, tracks: m.tracks });
      }
      const y = m.initPTS,
        T = m.timescale;
      rt(y) && ((this.initPTS[l.cc] = { baseTime: y, timescale: T }), i.trigger(V.INIT_PTS_FOUND, { frag: l, id: r, initPTS: y, timescale: T }));
    }
    const _ = l.sn !== (g == null ? void 0 : g.startSN);
    if (d && o.independent !== !1) {
      if (g) {
        const { startPTS: y, endPTS: T, startDTS: w, endDTS: I } = d;
        if (u) u.elementaryStreams[d.type] = { startPTS: y, endPTS: T, startDTS: w, endDTS: I };
        else if ((d.firstKeyFrame && d.independent && a.id === 1 && (this.couldBacktrack = !0), d.dropped && d.independent)) {
          const O = this.getMainFwdBufferInfo(),
            x = (O ? O.end : this.getLoadPosition()) + this.config.maxBufferHole,
            L = d.firstKeyFramePTS ? d.firstKeyFramePTS : y;
          if (_ && x < L - this.config.maxBufferHole) {
            this.backtrack(l);
            return;
          }
          l.setElementaryStreamInfo(d.type, l.start, T, l.start, I, !0);
        }
        l.setElementaryStreamInfo(d.type, y, T, w, I), this.backtrackFragment && (this.backtrackFragment = l), this.bufferFragmentData(d, l, u, a);
      }
    } else if (_ && o.independent === !1) {
      this.backtrack(l);
      return;
    }
    if (b) {
      const { startPTS: y, endPTS: T, startDTS: w, endDTS: I } = b;
      u && (u.elementaryStreams[qt.AUDIO] = { startPTS: y, endPTS: T, startDTS: w, endDTS: I }), l.setElementaryStreamInfo(qt.AUDIO, y, T, w, I), this.bufferFragmentData(b, l, u, a);
    }
    if (g && h != null && (n = h.samples) != null && n.length) {
      const y = { id: r, frag: l, details: g, samples: h.samples };
      i.trigger(V.FRAG_PARSING_METADATA, y);
    }
    if (g && f) {
      const y = { id: r, frag: l, details: g, samples: f.samples };
      i.trigger(V.FRAG_PARSING_USERDATA, y);
    }
  }
  _bufferInitSegment(e, n, r, i) {
    if (this.state !== _e.PARSING) return;
    (this.audioOnly = !!n.audio && !n.video), this.altAudio && !this.audioOnly && delete n.audio;
    const { audio: o, video: a, audiovideo: s } = n;
    if (o) {
      let l = e.audioCodec;
      const u = navigator.userAgent.toLowerCase();
      this.audioCodecSwitch && (l && (l.indexOf('mp4a.40.5') !== -1 ? (l = 'mp4a.40.2') : (l = 'mp4a.40.5')), o.metadata.channelCount !== 1 && u.indexOf('firefox') === -1 && (l = 'mp4a.40.5')),
        u.indexOf('android') !== -1 && o.container !== 'audio/mpeg' && ((l = 'mp4a.40.2'), this.log(`Android: force audio codec to ${l}`)),
        e.audioCodec && e.audioCodec !== l && this.log(`Swapping manifest audio codec "${e.audioCodec}" for "${l}"`),
        (o.levelCodec = l),
        (o.id = 'main'),
        this.log(`Init audio buffer, container:${o.container}, codecs[selected/level/parsed]=[${l || ''}/${e.audioCodec || ''}/${o.codec}]`);
    }
    a && ((a.levelCodec = e.videoCodec), (a.id = 'main'), this.log(`Init video buffer, container:${a.container}, codecs[level/parsed]=[${e.videoCodec || ''}/${a.codec}]`)),
      s && this.log(`Init audiovideo buffer, container:${s.container}, codecs[level/parsed]=[${e.attrs.CODECS || ''}/${s.codec}]`),
      this.hls.trigger(V.BUFFER_CODECS, n),
      Object.keys(n).forEach((l) => {
        const c = n[l].initSegment;
        c != null && c.byteLength && this.hls.trigger(V.BUFFER_APPENDING, { type: l, data: c, frag: r, part: null, chunkMeta: i, parent: r.type });
      }),
      this.tick();
  }
  getMainFwdBufferInfo() {
    return this.getFwdBufferInfo(this.mediaBuffer ? this.mediaBuffer : this.media, lt.MAIN);
  }
  backtrack(e) {
    (this.couldBacktrack = !0),
      (this.backtrackFragment = e),
      this.resetTransmuxer(),
      this.flushBufferGap(e),
      this.fragmentTracker.removeFragment(e),
      (this.fragPrevious = null),
      (this.nextLoadPosition = e.start),
      (this.state = _e.IDLE);
  }
  checkFragmentChanged() {
    const e = this.media;
    let n = null;
    if (e && e.readyState > 1 && e.seeking === !1) {
      const r = e.currentTime;
      if ((on.isBuffered(e, r) ? (n = this.getAppendedFrag(r)) : on.isBuffered(e, r + 0.1) && (n = this.getAppendedFrag(r + 0.1)), n)) {
        this.backtrackFragment = null;
        const i = this.fragPlaying,
          o = n.level;
        (!i || n.sn !== i.sn || i.level !== o || n.urlId !== i.urlId) &&
          ((this.fragPlaying = n), this.hls.trigger(V.FRAG_CHANGED, { frag: n }), (!i || i.level !== o) && this.hls.trigger(V.LEVEL_SWITCHED, { level: o }));
      }
    }
  }
  get nextLevel() {
    const e = this.nextBufferedFrag;
    return e ? e.level : -1;
  }
  get currentFrag() {
    const e = this.media;
    return e ? this.fragPlaying || this.getAppendedFrag(e.currentTime) : null;
  }
  get currentProgramDateTime() {
    const e = this.media;
    if (e) {
      const n = e.currentTime,
        r = this.currentFrag;
      if (r && rt(n) && rt(r.programDateTime)) {
        const i = r.programDateTime + (n - r.start) * 1e3;
        return new Date(i);
      }
    }
    return null;
  }
  get currentLevel() {
    const e = this.currentFrag;
    return e ? e.level : -1;
  }
  get nextBufferedFrag() {
    const e = this.currentFrag;
    return e ? this.followingBufferedFrag(e) : null;
  }
  get forceStartLoad() {
    return this._forceStartLoad;
  }
}
class da {
  constructor(e, n = 0, r = 0) {
    (this.halfLife = void 0),
      (this.alpha_ = void 0),
      (this.estimate_ = void 0),
      (this.totalWeight_ = void 0),
      (this.halfLife = e),
      (this.alpha_ = e ? Math.exp(Math.log(0.5) / e) : 0),
      (this.estimate_ = n),
      (this.totalWeight_ = r);
  }
  sample(e, n) {
    const r = Math.pow(this.alpha_, e);
    (this.estimate_ = n * (1 - r) + r * this.estimate_), (this.totalWeight_ += e);
  }
  getTotalWeight() {
    return this.totalWeight_;
  }
  getEstimate() {
    if (this.alpha_) {
      const e = 1 - Math.pow(this.alpha_, this.totalWeight_);
      if (e) return this.estimate_ / e;
    }
    return this.estimate_;
  }
}
class XD {
  constructor(e, n, r, i = 100) {
    (this.defaultEstimate_ = void 0),
      (this.minWeight_ = void 0),
      (this.minDelayMs_ = void 0),
      (this.slow_ = void 0),
      (this.fast_ = void 0),
      (this.defaultTTFB_ = void 0),
      (this.ttfb_ = void 0),
      (this.defaultEstimate_ = r),
      (this.minWeight_ = 0.001),
      (this.minDelayMs_ = 50),
      (this.slow_ = new da(e)),
      (this.fast_ = new da(n)),
      (this.defaultTTFB_ = i),
      (this.ttfb_ = new da(e));
  }
  update(e, n) {
    const { slow_: r, fast_: i, ttfb_: o } = this;
    r.halfLife !== e && (this.slow_ = new da(e, r.getEstimate(), r.getTotalWeight())),
      i.halfLife !== n && (this.fast_ = new da(n, i.getEstimate(), i.getTotalWeight())),
      o.halfLife !== e && (this.ttfb_ = new da(e, o.getEstimate(), o.getTotalWeight()));
  }
  sample(e, n) {
    e = Math.max(e, this.minDelayMs_);
    const r = 8 * n,
      i = e / 1e3,
      o = r / i;
    this.fast_.sample(i, o), this.slow_.sample(i, o);
  }
  sampleTTFB(e) {
    const n = e / 1e3,
      r = Math.sqrt(2) * Math.exp(-Math.pow(n, 2) / 2);
    this.ttfb_.sample(r, Math.max(e, 5));
  }
  canEstimate() {
    return this.fast_.getTotalWeight() >= this.minWeight_;
  }
  getEstimate() {
    return this.canEstimate() ? Math.min(this.fast_.getEstimate(), this.slow_.getEstimate()) : this.defaultEstimate_;
  }
  getEstimateTTFB() {
    return this.ttfb_.getTotalWeight() >= this.minWeight_ ? this.ttfb_.getEstimate() : this.defaultTTFB_;
  }
  destroy() {}
}
class QD {
  constructor(e) {
    (this.hls = void 0),
      (this.lastLevelLoadSec = 0),
      (this.lastLoadedFragLevel = 0),
      (this._nextAutoLevel = -1),
      (this.timer = -1),
      (this.onCheck = this._abandonRulesCheck.bind(this)),
      (this.fragCurrent = null),
      (this.partCurrent = null),
      (this.bitrateTestDelay = 0),
      (this.bwEstimator = void 0),
      (this.hls = e);
    const n = e.config;
    (this.bwEstimator = new XD(n.abrEwmaSlowVoD, n.abrEwmaFastVoD, n.abrEwmaDefaultEstimate)), this.registerListeners();
  }
  registerListeners() {
    const { hls: e } = this;
    e.on(V.FRAG_LOADING, this.onFragLoading, this),
      e.on(V.FRAG_LOADED, this.onFragLoaded, this),
      e.on(V.FRAG_BUFFERED, this.onFragBuffered, this),
      e.on(V.LEVEL_SWITCHING, this.onLevelSwitching, this),
      e.on(V.LEVEL_LOADED, this.onLevelLoaded, this);
  }
  unregisterListeners() {
    const { hls: e } = this;
    e.off(V.FRAG_LOADING, this.onFragLoading, this),
      e.off(V.FRAG_LOADED, this.onFragLoaded, this),
      e.off(V.FRAG_BUFFERED, this.onFragBuffered, this),
      e.off(V.LEVEL_SWITCHING, this.onLevelSwitching, this),
      e.off(V.LEVEL_LOADED, this.onLevelLoaded, this);
  }
  destroy() {
    this.unregisterListeners(), this.clearTimer(), (this.hls = this.onCheck = null), (this.fragCurrent = this.partCurrent = null);
  }
  onFragLoading(e, n) {
    var r;
    const i = n.frag;
    this.ignoreFragment(i) || ((this.fragCurrent = i), (this.partCurrent = (r = n.part) != null ? r : null), this.clearTimer(), (this.timer = self.setInterval(this.onCheck, 100)));
  }
  onLevelSwitching(e, n) {
    this.clearTimer();
  }
  getTimeToLoadFrag(e, n, r, i) {
    const o = e + r / n,
      a = i ? this.lastLevelLoadSec : 0;
    return o + a;
  }
  onLevelLoaded(e, n) {
    const r = this.hls.config,
      { total: i, bwEstimate: o } = n.stats;
    rt(i) && rt(o) && (this.lastLevelLoadSec = (8 * i) / o),
      n.details.live ? this.bwEstimator.update(r.abrEwmaSlowLive, r.abrEwmaFastLive) : this.bwEstimator.update(r.abrEwmaSlowVoD, r.abrEwmaFastVoD);
  }
  _abandonRulesCheck() {
    const { fragCurrent: e, partCurrent: n, hls: r } = this,
      { autoLevelEnabled: i, media: o } = r;
    if (!e || !o) return;
    const a = performance.now(),
      s = n ? n.stats : e.stats,
      l = n ? n.duration : e.duration,
      u = a - s.loading.start;
    if (s.aborted || (s.loaded && s.loaded === s.total) || e.level === 0) {
      this.clearTimer(), (this._nextAutoLevel = -1);
      return;
    }
    if (!i || o.paused || !o.playbackRate || !o.readyState) return;
    const c = r.mainForwardBufferInfo;
    if (c === null) return;
    const d = this.bwEstimator.getEstimateTTFB(),
      f = Math.abs(o.playbackRate);
    if (u <= Math.max(d, 1e3 * (l / (f * 2)))) return;
    const h = c.len / f;
    if (h >= (2 * l) / f) return;
    const m = s.loading.first ? s.loading.first - s.loading.start : -1,
      g = s.loaded && m > -1,
      b = this.bwEstimator.getEstimate(),
      { levels: _, minAutoLevel: y } = r,
      T = _[e.level],
      w = s.total || Math.max(s.loaded, Math.round((l * T.maxBitrate) / 8));
    let I = u - m;
    I < 1 && g && (I = Math.min(u, (s.loaded * 8) / b));
    const O = g ? (s.loaded * 1e3) / I : 0,
      x = O ? (w - s.loaded) / O : (w * 8) / b + d / 1e3;
    if (x <= h) return;
    const L = O ? O * 8 : b;
    let D = Number.POSITIVE_INFINITY,
      C;
    for (C = e.level - 1; C > y; C--) {
      const G = _[C].maxBitrate;
      if (((D = this.getTimeToLoadFrag(d / 1e3, L, l * G, !_[C].details)), D < h)) break;
    }
    D >= x ||
      D > l * 10 ||
      ((r.nextLoadLevel = C),
      g ? this.bwEstimator.sample(u - Math.min(d, m), s.loaded) : this.bwEstimator.sampleTTFB(u),
      this.clearTimer(),
      le.warn(`[abr] Fragment ${e.sn}${n ? ' part ' + n.index : ''} of level ${e.level} is loading too slowly;
      Time to underbuffer: ${h.toFixed(3)} s
      Estimated load time for current fragment: ${x.toFixed(3)} s
      Estimated load time for down switch fragment: ${D.toFixed(3)} s
      TTFB estimate: ${m}
      Current BW estimate: ${rt(b) ? (b / 1024).toFixed(3) : 'Unknown'} Kb/s
      New BW estimate: ${(this.bwEstimator.getEstimate() / 1024).toFixed(3)} Kb/s
      Aborting and switching to level ${C}`),
      e.loader && ((this.fragCurrent = this.partCurrent = null), e.abortRequests()),
      r.trigger(V.FRAG_LOAD_EMERGENCY_ABORTED, { frag: e, part: n, stats: s }));
  }
  onFragLoaded(e, { frag: n, part: r }) {
    const i = r ? r.stats : n.stats;
    if ((n.type === lt.MAIN && this.bwEstimator.sampleTTFB(i.loading.first - i.loading.start), !this.ignoreFragment(n))) {
      if ((this.clearTimer(), (this.lastLoadedFragLevel = n.level), (this._nextAutoLevel = -1), this.hls.config.abrMaxWithRealBitrate)) {
        const o = r ? r.duration : n.duration,
          a = this.hls.levels[n.level],
          s = (a.loaded ? a.loaded.bytes : 0) + i.loaded,
          l = (a.loaded ? a.loaded.duration : 0) + o;
        (a.loaded = { bytes: s, duration: l }), (a.realBitrate = Math.round((8 * s) / l));
      }
      if (n.bitrateTest) {
        const o = { stats: i, frag: n, part: r, id: n.type };
        this.onFragBuffered(V.FRAG_BUFFERED, o), (n.bitrateTest = !1);
      }
    }
  }
  onFragBuffered(e, n) {
    const { frag: r, part: i } = n,
      o = i != null && i.stats.loaded ? i.stats : r.stats;
    if (o.aborted || this.ignoreFragment(r)) return;
    const a = o.parsing.end - o.loading.start - Math.min(o.loading.first - o.loading.start, this.bwEstimator.getEstimateTTFB());
    this.bwEstimator.sample(a, o.loaded), (o.bwEstimate = this.bwEstimator.getEstimate()), r.bitrateTest ? (this.bitrateTestDelay = a / 1e3) : (this.bitrateTestDelay = 0);
  }
  ignoreFragment(e) {
    return e.type !== lt.MAIN || e.sn === 'initSegment';
  }
  clearTimer() {
    self.clearInterval(this.timer);
  }
  get nextAutoLevel() {
    const e = this._nextAutoLevel,
      n = this.bwEstimator;
    if (e !== -1 && !n.canEstimate()) return e;
    let r = this.getNextABRAutoLevel();
    if (e !== -1) {
      const i = this.hls.levels;
      if (i.length > Math.max(e, r) && i[e].loadError <= i[r].loadError) return e;
    }
    return e !== -1 && (r = Math.min(e, r)), r;
  }
  getNextABRAutoLevel() {
    const { fragCurrent: e, partCurrent: n, hls: r } = this,
      { maxAutoLevel: i, config: o, minAutoLevel: a, media: s } = r,
      l = n ? n.duration : e ? e.duration : 0,
      u = s && s.playbackRate !== 0 ? Math.abs(s.playbackRate) : 1,
      c = this.bwEstimator ? this.bwEstimator.getEstimate() : o.abrEwmaDefaultEstimate,
      d = r.mainForwardBufferInfo,
      f = (d ? d.len : 0) / u;
    let h = this.findBestLevel(c, a, i, f, o.abrBandWidthFactor, o.abrBandWidthUpFactor);
    if (h >= 0) return h;
    le.trace(`[abr] ${f ? 'rebuffering expected' : 'buffer is empty'}, finding optimal quality level`);
    let m = l ? Math.min(l, o.maxStarvationDelay) : o.maxStarvationDelay,
      g = o.abrBandWidthFactor,
      b = o.abrBandWidthUpFactor;
    if (!f) {
      const _ = this.bitrateTestDelay;
      _ &&
        ((m = (l ? Math.min(l, o.maxLoadingDelay) : o.maxLoadingDelay) - _),
        le.trace(`[abr] bitrate test took ${Math.round(1e3 * _)}ms, set first fragment max fetchDuration to ${Math.round(1e3 * m)} ms`),
        (g = b = 1));
    }
    return (h = this.findBestLevel(c, a, i, f + m, g, b)), Math.max(h, 0);
  }
  findBestLevel(e, n, r, i, o, a) {
    var s;
    const { fragCurrent: l, partCurrent: u, lastLoadedFragLevel: c } = this,
      { levels: d } = this.hls,
      f = d[c],
      h = !!(f != null && (s = f.details) != null && s.live),
      m = f == null ? void 0 : f.codecSet,
      g = u ? u.duration : l ? l.duration : 0,
      b = this.bwEstimator.getEstimateTTFB() / 1e3;
    let _ = n,
      y = -1;
    for (let T = r; T >= n; T--) {
      const w = d[T];
      if (!w || (m && w.codecSet !== m)) {
        w && ((_ = Math.min(T, _)), (y = Math.max(T, y)));
        continue;
      }
      y !== -1 && le.trace(`[abr] Skipped level(s) ${_}-${y} with CODECS:"${d[y].attrs.CODECS}"; not compatible with "${f.attrs.CODECS}"`);
      const I = w.details,
        O = (u ? (I == null ? void 0 : I.partTarget) : I == null ? void 0 : I.averagetargetduration) || g;
      let x;
      T <= c ? (x = o * e) : (x = a * e);
      const L = d[T].maxBitrate,
        D = this.getTimeToLoadFrag(b, x, L * O, I === void 0);
      if (
        (le.trace(`[abr] level:${T} adjustedbw-bitrate:${Math.round(x - L)} avgDuration:${O.toFixed(1)} maxFetchDuration:${i.toFixed(1)} fetchDuration:${D.toFixed(1)}`),
        x > L && (D === 0 || !rt(D) || (h && !this.bitrateTestDelay) || D < i))
      )
        return T;
    }
    return -1;
  }
  set nextAutoLevel(e) {
    this._nextAutoLevel = e;
  }
}
class Q_ {
  constructor() {
    (this.chunks = []), (this.dataLength = 0);
  }
  push(e) {
    this.chunks.push(e), (this.dataLength += e.length);
  }
  flush() {
    const { chunks: e, dataLength: n } = this;
    let r;
    if (e.length) e.length === 1 ? (r = e[0]) : (r = ZD(e, n));
    else return new Uint8Array(0);
    return this.reset(), r;
  }
  reset() {
    (this.chunks.length = 0), (this.dataLength = 0);
  }
}
function ZD(t, e) {
  const n = new Uint8Array(e);
  let r = 0;
  for (let i = 0; i < t.length; i++) {
    const o = t[i];
    n.set(o, r), (r += o.length);
  }
  return n;
}
const d2 = 100;
class JD extends jp {
  constructor(e, n, r) {
    super(e, n, r, '[audio-stream-controller]', lt.AUDIO),
      (this.videoBuffer = null),
      (this.videoTrackCC = -1),
      (this.waitingVideoCC = -1),
      (this.bufferedTrack = null),
      (this.switchingTrack = null),
      (this.trackId = -1),
      (this.waitingData = null),
      (this.mainDetails = null),
      (this.bufferFlushed = !1),
      (this.cachedTrackLoadedData = null),
      this._registerListeners();
  }
  onHandlerDestroying() {
    this._unregisterListeners(), (this.mainDetails = null), (this.bufferedTrack = null), (this.switchingTrack = null);
  }
  _registerListeners() {
    const { hls: e } = this;
    e.on(V.MEDIA_ATTACHED, this.onMediaAttached, this),
      e.on(V.MEDIA_DETACHING, this.onMediaDetaching, this),
      e.on(V.MANIFEST_LOADING, this.onManifestLoading, this),
      e.on(V.LEVEL_LOADED, this.onLevelLoaded, this),
      e.on(V.AUDIO_TRACKS_UPDATED, this.onAudioTracksUpdated, this),
      e.on(V.AUDIO_TRACK_SWITCHING, this.onAudioTrackSwitching, this),
      e.on(V.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this),
      e.on(V.ERROR, this.onError, this),
      e.on(V.BUFFER_RESET, this.onBufferReset, this),
      e.on(V.BUFFER_CREATED, this.onBufferCreated, this),
      e.on(V.BUFFER_FLUSHED, this.onBufferFlushed, this),
      e.on(V.INIT_PTS_FOUND, this.onInitPtsFound, this),
      e.on(V.FRAG_BUFFERED, this.onFragBuffered, this);
  }
  _unregisterListeners() {
    const { hls: e } = this;
    e.off(V.MEDIA_ATTACHED, this.onMediaAttached, this),
      e.off(V.MEDIA_DETACHING, this.onMediaDetaching, this),
      e.off(V.MANIFEST_LOADING, this.onManifestLoading, this),
      e.off(V.LEVEL_LOADED, this.onLevelLoaded, this),
      e.off(V.AUDIO_TRACKS_UPDATED, this.onAudioTracksUpdated, this),
      e.off(V.AUDIO_TRACK_SWITCHING, this.onAudioTrackSwitching, this),
      e.off(V.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this),
      e.off(V.ERROR, this.onError, this),
      e.off(V.BUFFER_RESET, this.onBufferReset, this),
      e.off(V.BUFFER_CREATED, this.onBufferCreated, this),
      e.off(V.BUFFER_FLUSHED, this.onBufferFlushed, this),
      e.off(V.INIT_PTS_FOUND, this.onInitPtsFound, this),
      e.off(V.FRAG_BUFFERED, this.onFragBuffered, this);
  }
  onInitPtsFound(e, { frag: n, id: r, initPTS: i, timescale: o }) {
    if (r === 'main') {
      const a = n.cc;
      (this.initPTS[n.cc] = { baseTime: i, timescale: o }), this.log(`InitPTS for cc: ${a} found from main: ${i}`), (this.videoTrackCC = a), this.state === _e.WAITING_INIT_PTS && this.tick();
    }
  }
  startLoad(e) {
    if (!this.levels) {
      (this.startPosition = e), (this.state = _e.STOPPED);
      return;
    }
    const n = this.lastCurrentTime;
    this.stopLoad(),
      this.setInterval(d2),
      n > 0 && e === -1 ? (this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`), (e = n), (this.state = _e.IDLE)) : ((this.loadedmetadata = !1), (this.state = _e.WAITING_TRACK)),
      (this.nextLoadPosition = this.startPosition = this.lastCurrentTime = e),
      this.tick();
  }
  doTick() {
    switch (this.state) {
      case _e.IDLE:
        this.doTickIdle();
        break;
      case _e.WAITING_TRACK: {
        var e;
        const { levels: r, trackId: i } = this,
          o = r == null || (e = r[i]) == null ? void 0 : e.details;
        if (o) {
          if (this.waitForCdnTuneIn(o)) break;
          this.state = _e.WAITING_INIT_PTS;
        }
        break;
      }
      case _e.FRAG_LOADING_WAITING_RETRY: {
        var n;
        const r = performance.now(),
          i = this.retryDate;
        (!i || r >= i || ((n = this.media) != null && n.seeking)) && (this.log('RetryDate reached, switch back to IDLE state'), this.resetStartWhenNotLoaded(this.trackId), (this.state = _e.IDLE));
        break;
      }
      case _e.WAITING_INIT_PTS: {
        const r = this.waitingData;
        if (r) {
          const { frag: i, part: o, cache: a, complete: s } = r;
          if (this.initPTS[i.cc] !== void 0) {
            (this.waitingData = null), (this.waitingVideoCC = -1), (this.state = _e.FRAG_LOADING);
            const l = a.flush(),
              u = { frag: i, part: o, payload: l, networkDetails: null };
            this._handleFragmentLoadProgress(u), s && super._handleFragmentLoadComplete(u);
          } else if (this.videoTrackCC !== this.waitingVideoCC) this.log(`Waiting fragment cc (${i.cc}) cancelled because video is at cc ${this.videoTrackCC}`), this.clearWaitingFragment();
          else {
            const l = this.getLoadPosition(),
              u = on.bufferInfo(this.mediaBuffer, l, this.config.maxBufferHole);
            Z0(u.end, this.config.maxFragLookUpTolerance, i) < 0 &&
              (this.log(`Waiting fragment cc (${i.cc}) @ ${i.start} cancelled because another fragment at ${u.end} is needed`), this.clearWaitingFragment());
          }
        } else this.state = _e.IDLE;
      }
    }
    this.onTickEnd();
  }
  clearWaitingFragment() {
    const e = this.waitingData;
    e && (this.fragmentTracker.removeFragment(e.frag), (this.waitingData = null), (this.waitingVideoCC = -1), (this.state = _e.IDLE));
  }
  resetLoadingState() {
    this.clearWaitingFragment(), super.resetLoadingState();
  }
  onTickEnd() {
    const { media: e } = this;
    e != null && e.readyState && (this.lastCurrentTime = e.currentTime);
  }
  doTickIdle() {
    const { hls: e, levels: n, media: r, trackId: i } = this,
      o = e.config;
    if (!(n != null && n[i]) || (!r && (this.startFragRequested || !o.startFragPrefetch))) return;
    const a = n[i],
      s = a.details;
    if (!s || (s.live && this.levelLastLoaded !== i) || this.waitForCdnTuneIn(s)) {
      this.state = _e.WAITING_TRACK;
      return;
    }
    const l = this.mediaBuffer ? this.mediaBuffer : this.media;
    this.bufferFlushed && l && ((this.bufferFlushed = !1), this.afterBufferFlushed(l, qt.AUDIO, lt.AUDIO));
    const u = this.getFwdBufferInfo(l, lt.AUDIO);
    if (u === null) return;
    const { bufferedTrack: c, switchingTrack: d } = this;
    if (!d && this._streamEnded(u, s)) {
      e.trigger(V.BUFFER_EOS, { type: 'audio' }), (this.state = _e.ENDED);
      return;
    }
    const f = this.getFwdBufferInfo(this.videoBuffer ? this.videoBuffer : this.media, lt.MAIN),
      h = u.len,
      m = this.getMaxBufferLength(f == null ? void 0 : f.len);
    if (h >= m && !d) return;
    const b = s.fragments[0].start;
    let _ = u.end;
    if (d && r) {
      const I = this.getLoadPosition();
      c && d.attrs !== c.attrs && (_ = I),
        s.PTSKnown && I < b && (u.end > b || u.nextStart) && (this.log('Alt audio track ahead of main track, seek to start of alt audio track'), (r.currentTime = b + 0.05));
    }
    let y = this.getNextFragment(_, s),
      T = !1;
    if ((y && this.isLoopLoading(y, _) && ((T = !!y.gap), (y = this.getNextFragmentLoopLoading(y, s, u, lt.MAIN, m))), !y)) {
      this.bufferFlushed = !0;
      return;
    }
    const w = f && y.start > f.end + s.targetduration;
    if (w || (!(f != null && f.len) && u.len)) {
      const I = this.getAppendedFrag(y.start, lt.MAIN);
      if (I === null || (T || (T = !!I.gap || (!!w && f.len === 0)), (w && !T) || (T && u.nextStart && u.nextStart < I.end))) return;
    }
    this.loadFragment(y, a, _);
  }
  getMaxBufferLength(e) {
    const n = super.getMaxBufferLength();
    return e ? Math.min(Math.max(n, e), this.config.maxMaxBufferLength) : n;
  }
  onMediaDetaching() {
    (this.videoBuffer = null), super.onMediaDetaching();
  }
  onAudioTracksUpdated(e, { audioTracks: n }) {
    this.resetTransmuxer(), (this.levels = n.map((r) => new xl(r)));
  }
  onAudioTrackSwitching(e, n) {
    const r = !!n.url;
    this.trackId = n.id;
    const { fragCurrent: i } = this;
    i && (i.abortRequests(), this.removeUnbufferedFrags(i.start)),
      this.resetLoadingState(),
      r ? this.setInterval(d2) : this.resetTransmuxer(),
      r ? ((this.switchingTrack = n), (this.state = _e.IDLE)) : ((this.switchingTrack = null), (this.bufferedTrack = n), (this.state = _e.STOPPED)),
      this.tick();
  }
  onManifestLoading() {
    this.fragmentTracker.removeAllFragments(),
      (this.startPosition = this.lastCurrentTime = 0),
      (this.bufferFlushed = !1),
      (this.levels = this.mainDetails = this.waitingData = this.bufferedTrack = this.cachedTrackLoadedData = this.switchingTrack = null),
      (this.startFragRequested = !1),
      (this.trackId = this.videoTrackCC = this.waitingVideoCC = -1);
  }
  onLevelLoaded(e, n) {
    (this.mainDetails = n.details), this.cachedTrackLoadedData !== null && (this.hls.trigger(V.AUDIO_TRACK_LOADED, this.cachedTrackLoadedData), (this.cachedTrackLoadedData = null));
  }
  onAudioTrackLoaded(e, n) {
    var r;
    if (this.mainDetails == null) {
      this.cachedTrackLoadedData = n;
      return;
    }
    const { levels: i } = this,
      { details: o, id: a } = n;
    if (!i) {
      this.warn(`Audio tracks were reset while loading level ${a}`);
      return;
    }
    this.log(`Track ${a} loaded [${o.startSN},${o.endSN}]${o.lastPartSn ? `[part-${o.lastPartSn}-${o.lastPartIndex}]` : ''},duration:${o.totalduration}`);
    const s = i[a];
    let l = 0;
    if (o.live || ((r = s.details) != null && r.live)) {
      const u = this.mainDetails;
      if ((o.fragments[0] || (o.deltaUpdateFailed = !0), o.deltaUpdateFailed || !u)) return;
      !s.details && o.hasProgramDateTime && u.hasProgramDateTime ? (M_(o, u), (l = o.fragments[0].start)) : (l = this.alignPlaylists(o, s.details));
    }
    (s.details = o),
      (this.levelLastLoaded = a),
      !this.startFragRequested && (this.mainDetails || !o.live) && this.setStartPosition(s.details, l),
      this.state === _e.WAITING_TRACK && !this.waitForCdnTuneIn(o) && (this.state = _e.IDLE),
      this.tick();
  }
  _handleFragmentLoadProgress(e) {
    var n;
    const { frag: r, part: i, payload: o } = e,
      { config: a, trackId: s, levels: l } = this;
    if (!l) {
      this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);
      return;
    }
    const u = l[s];
    if (!u) {
      this.warn('Audio track is undefined on fragment load progress');
      return;
    }
    const c = u.details;
    if (!c) {
      this.warn('Audio track details undefined on fragment load progress'), this.removeUnbufferedFrags(r.start);
      return;
    }
    const d = a.defaultAudioCodec || u.audioCodec || 'mp4a.40.2';
    let f = this.transmuxer;
    f || (f = this.transmuxer = new X_(this.hls, lt.AUDIO, this._handleTransmuxComplete.bind(this), this._handleTransmuxerFlush.bind(this)));
    const h = this.initPTS[r.cc],
      m = (n = r.initSegment) == null ? void 0 : n.data;
    if (h !== void 0) {
      const b = i ? i.index : -1,
        _ = b !== -1,
        y = new zp(r.level, r.sn, r.stats.chunkCount, o.byteLength, b, _);
      f.push(o, m, d, '', r, i, c.totalduration, !1, y, h);
    } else {
      this.log(`Unknown video PTS for cc ${r.cc}, waiting for video PTS before demuxing audio frag ${r.sn} of [${c.startSN} ,${c.endSN}],track ${s}`);
      const { cache: g } = (this.waitingData = this.waitingData || { frag: r, part: i, cache: new Q_(), complete: !1 });
      g.push(new Uint8Array(o)), (this.waitingVideoCC = this.videoTrackCC), (this.state = _e.WAITING_INIT_PTS);
    }
  }
  _handleFragmentLoadComplete(e) {
    if (this.waitingData) {
      this.waitingData.complete = !0;
      return;
    }
    super._handleFragmentLoadComplete(e);
  }
  onBufferReset() {
    (this.mediaBuffer = this.videoBuffer = null), (this.loadedmetadata = !1);
  }
  onBufferCreated(e, n) {
    const r = n.tracks.audio;
    r && (this.mediaBuffer = r.buffer || null), n.tracks.video && (this.videoBuffer = n.tracks.video.buffer || null);
  }
  onFragBuffered(e, n) {
    const { frag: r, part: i } = n;
    if (r.type !== lt.AUDIO) {
      if (!this.loadedmetadata && r.type === lt.MAIN) {
        const o = this.videoBuffer || this.media;
        o && on.getBuffered(o).length && (this.loadedmetadata = !0);
      }
      return;
    }
    if (this.fragContextChanged(r)) {
      this.warn(
        `Fragment ${r.sn}${i ? ' p: ' + i.index : ''} of level ${r.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${
          this.switchingTrack ? this.switchingTrack.name : 'false'
        }`,
      );
      return;
    }
    if (r.sn !== 'initSegment') {
      this.fragPrevious = r;
      const o = this.switchingTrack;
      o && ((this.bufferedTrack = o), (this.switchingTrack = null), this.hls.trigger(V.AUDIO_TRACK_SWITCHED, cr({}, o)));
    }
    this.fragBufferedComplete(r, i);
  }
  onError(e, n) {
    var r;
    if (n.fatal) {
      this.state = _e.ERROR;
      return;
    }
    switch (n.details) {
      case he.FRAG_GAP:
      case he.FRAG_PARSING_ERROR:
      case he.FRAG_DECRYPT_ERROR:
      case he.FRAG_LOAD_ERROR:
      case he.FRAG_LOAD_TIMEOUT:
      case he.KEY_LOAD_ERROR:
      case he.KEY_LOAD_TIMEOUT:
        this.onFragmentOrKeyLoadError(lt.AUDIO, n);
        break;
      case he.AUDIO_TRACK_LOAD_ERROR:
      case he.AUDIO_TRACK_LOAD_TIMEOUT:
      case he.LEVEL_PARSING_ERROR:
        !n.levelRetry && this.state === _e.WAITING_TRACK && ((r = n.context) == null ? void 0 : r.type) === Ot.AUDIO_TRACK && (this.state = _e.IDLE);
        break;
      case he.BUFFER_FULL_ERROR:
        if (!n.parent || n.parent !== 'audio') return;
        this.reduceLengthAndFlushBuffer(n) && ((this.bufferedTrack = null), super.flushMainBuffer(0, Number.POSITIVE_INFINITY, 'audio'));
        break;
      case he.INTERNAL_EXCEPTION:
        this.recoverWorkerError(n);
        break;
    }
  }
  onBufferFlushed(e, { type: n }) {
    n === qt.AUDIO && ((this.bufferFlushed = !0), this.state === _e.ENDED && (this.state = _e.IDLE));
  }
  _handleTransmuxComplete(e) {
    var n;
    const r = 'audio',
      { hls: i } = this,
      { remuxResult: o, chunkMeta: a } = e,
      s = this.getCurrentContext(a);
    if (!s) {
      this.resetWhenMissingContext(a);
      return;
    }
    const { frag: l, part: u, level: c } = s,
      { details: d } = c,
      { audio: f, text: h, id3: m, initSegment: g } = o;
    if (this.fragContextChanged(l) || !d) {
      this.fragmentTracker.removeFragment(l);
      return;
    }
    if (((this.state = _e.PARSING), this.switchingTrack && f && this.completeAudioSwitch(this.switchingTrack), g != null && g.tracks)) {
      const b = l.initSegment || l;
      this._bufferInitSegment(g.tracks, b, a), i.trigger(V.FRAG_PARSING_INIT_SEGMENT, { frag: b, id: r, tracks: g.tracks });
    }
    if (f) {
      const { startPTS: b, endPTS: _, startDTS: y, endDTS: T } = f;
      u && (u.elementaryStreams[qt.AUDIO] = { startPTS: b, endPTS: _, startDTS: y, endDTS: T }), l.setElementaryStreamInfo(qt.AUDIO, b, _, y, T), this.bufferFragmentData(f, l, u, a);
    }
    if (m != null && (n = m.samples) != null && n.length) {
      const b = Pn({ id: r, frag: l, details: d }, m);
      i.trigger(V.FRAG_PARSING_METADATA, b);
    }
    if (h) {
      const b = Pn({ id: r, frag: l, details: d }, h);
      i.trigger(V.FRAG_PARSING_USERDATA, b);
    }
  }
  _bufferInitSegment(e, n, r) {
    if (this.state !== _e.PARSING) return;
    e.video && delete e.video;
    const i = e.audio;
    if (!i) return;
    (i.levelCodec = i.codec), (i.id = 'audio'), this.log(`Init audio buffer, container:${i.container}, codecs[parsed]=[${i.codec}]`), this.hls.trigger(V.BUFFER_CODECS, e);
    const o = i.initSegment;
    if (o != null && o.byteLength) {
      const a = { type: 'audio', frag: n, part: null, chunkMeta: r, parent: n.type, data: o };
      this.hls.trigger(V.BUFFER_APPENDING, a);
    }
    this.tick();
  }
  loadFragment(e, n, r) {
    const i = this.fragmentTracker.getState(e);
    if (((this.fragCurrent = e), this.switchingTrack || i === Nn.NOT_LOADED || i === Nn.PARTIAL)) {
      var o;
      e.sn === 'initSegment'
        ? this._loadInitSegment(e, n)
        : (o = n.details) != null && o.live && !this.initPTS[e.cc]
        ? (this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`), (this.state = _e.WAITING_INIT_PTS))
        : ((this.startFragRequested = !0), super.loadFragment(e, n, r));
    } else this.clearTrackerIfNeeded(e);
  }
  completeAudioSwitch(e) {
    const { hls: n, media: r, bufferedTrack: i } = this,
      o = i == null ? void 0 : i.attrs,
      a = e.attrs;
    r &&
      o &&
      (o.CHANNELS !== a.CHANNELS || o.NAME !== a.NAME || o.LANGUAGE !== a.LANGUAGE) &&
      (this.log('Switching audio track : flushing all audio'), super.flushMainBuffer(0, Number.POSITIVE_INFINITY, 'audio')),
      (this.bufferedTrack = e),
      (this.switchingTrack = null),
      n.trigger(V.AUDIO_TRACK_SWITCHED, cr({}, e));
  }
}
class eP extends Up {
  constructor(e) {
    super(e, '[audio-track-controller]'),
      (this.tracks = []),
      (this.groupId = null),
      (this.tracksInGroup = []),
      (this.trackId = -1),
      (this.currentTrack = null),
      (this.selectDefaultTrack = !0),
      this.registerListeners();
  }
  registerListeners() {
    const { hls: e } = this;
    e.on(V.MANIFEST_LOADING, this.onManifestLoading, this),
      e.on(V.MANIFEST_PARSED, this.onManifestParsed, this),
      e.on(V.LEVEL_LOADING, this.onLevelLoading, this),
      e.on(V.LEVEL_SWITCHING, this.onLevelSwitching, this),
      e.on(V.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this),
      e.on(V.ERROR, this.onError, this);
  }
  unregisterListeners() {
    const { hls: e } = this;
    e.off(V.MANIFEST_LOADING, this.onManifestLoading, this),
      e.off(V.MANIFEST_PARSED, this.onManifestParsed, this),
      e.off(V.LEVEL_LOADING, this.onLevelLoading, this),
      e.off(V.LEVEL_SWITCHING, this.onLevelSwitching, this),
      e.off(V.AUDIO_TRACK_LOADED, this.onAudioTrackLoaded, this),
      e.off(V.ERROR, this.onError, this);
  }
  destroy() {
    this.unregisterListeners(), (this.tracks.length = 0), (this.tracksInGroup.length = 0), (this.currentTrack = null), super.destroy();
  }
  onManifestLoading() {
    (this.tracks = []), (this.groupId = null), (this.tracksInGroup = []), (this.trackId = -1), (this.currentTrack = null), (this.selectDefaultTrack = !0);
  }
  onManifestParsed(e, n) {
    this.tracks = n.audioTracks || [];
  }
  onAudioTrackLoaded(e, n) {
    const { id: r, groupId: i, details: o } = n,
      a = this.tracksInGroup[r];
    if (!a || a.groupId !== i) {
      this.warn(`Track with id:${r} and group:${i} not found in active group ${a.groupId}`);
      return;
    }
    const s = a.details;
    (a.details = n.details), this.log(`audio-track ${r} "${a.name}" lang:${a.lang} group:${i} loaded [${o.startSN}-${o.endSN}]`), r === this.trackId && this.playlistLoaded(r, n, s);
  }
  onLevelLoading(e, n) {
    this.switchLevel(n.level);
  }
  onLevelSwitching(e, n) {
    this.switchLevel(n.level);
  }
  switchLevel(e) {
    const n = this.hls.levels[e];
    if (!(n != null && n.audioGroupIds)) return;
    const r = n.audioGroupIds[n.urlId];
    if (this.groupId !== r) {
      this.groupId = r || null;
      const i = this.tracks.filter((a) => !r || a.groupId === r);
      this.selectDefaultTrack && !i.some((a) => a.default) && (this.selectDefaultTrack = !1), (this.tracksInGroup = i);
      const o = { audioTracks: i };
      this.log(`Updating audio tracks, ${i.length} track(s) found in group:${r}`), this.hls.trigger(V.AUDIO_TRACKS_UPDATED, o), this.selectInitialTrack();
    } else this.shouldReloadPlaylist(this.currentTrack) && this.setAudioTrack(this.trackId);
  }
  onError(e, n) {
    n.fatal || !n.context || (n.context.type === Ot.AUDIO_TRACK && n.context.id === this.trackId && n.context.groupId === this.groupId && ((this.requestScheduled = -1), this.checkRetry(n)));
  }
  get audioTracks() {
    return this.tracksInGroup;
  }
  get audioTrack() {
    return this.trackId;
  }
  set audioTrack(e) {
    (this.selectDefaultTrack = !1), this.setAudioTrack(e);
  }
  setAudioTrack(e) {
    const n = this.tracksInGroup;
    if (e < 0 || e >= n.length) {
      this.warn('Invalid id passed to audio-track controller');
      return;
    }
    this.clearTimer();
    const r = this.currentTrack;
    n[this.trackId];
    const i = n[e],
      { groupId: o, name: a } = i;
    if (
      (this.log(`Switching to audio-track ${e} "${a}" lang:${i.lang} group:${o}`),
      (this.trackId = e),
      (this.currentTrack = i),
      (this.selectDefaultTrack = !1),
      this.hls.trigger(V.AUDIO_TRACK_SWITCHING, cr({}, i)),
      i.details && !i.details.live)
    )
      return;
    const s = this.switchParams(i.url, r == null ? void 0 : r.details);
    this.loadPlaylist(s);
  }
  selectInitialTrack() {
    const e = this.tracksInGroup,
      n = this.findTrackId(this.currentTrack) | this.findTrackId(null);
    if (n !== -1) this.setAudioTrack(n);
    else {
      const r = new Error(`No track found for running audio group-ID: ${this.groupId} track count: ${e.length}`);
      this.warn(r.message), this.hls.trigger(V.ERROR, { type: at.MEDIA_ERROR, details: he.AUDIO_TRACK_LOAD_ERROR, fatal: !0, error: r });
    }
  }
  findTrackId(e) {
    const n = this.tracksInGroup;
    for (let r = 0; r < n.length; r++) {
      const i = n[r];
      if (
        (!this.selectDefaultTrack || i.default) &&
        (!e || (e.attrs['STABLE-RENDITION-ID'] !== void 0 && e.attrs['STABLE-RENDITION-ID'] === i.attrs['STABLE-RENDITION-ID']) || (e.name === i.name && e.lang === i.lang))
      )
        return i.id;
    }
    return -1;
  }
  loadPlaylist(e) {
    super.loadPlaylist();
    const n = this.tracksInGroup[this.trackId];
    if (this.shouldLoadPlaylist(n)) {
      const r = n.id,
        i = n.groupId;
      let o = n.url;
      if (e)
        try {
          o = e.addDirectives(o);
        } catch (a) {
          this.warn(`Could not construct new URL with HLS Delivery Directives: ${a}`);
        }
      this.log(`loading audio-track playlist ${r} "${n.name}" lang:${n.lang} group:${i}`),
        this.clearTimer(),
        this.hls.trigger(V.AUDIO_TRACK_LOADING, { url: o, id: r, groupId: i, deliveryDirectives: e || null });
    }
  }
}
function Z_(t, e) {
  if (t.length !== e.length) return !1;
  for (let n = 0; n < t.length; n++) if (!tP(t[n].attrs, e[n].attrs)) return !1;
  return !0;
}
function tP(t, e) {
  const n = t['STABLE-RENDITION-ID'];
  return n ? n === e['STABLE-RENDITION-ID'] : !['LANGUAGE', 'NAME', 'CHARACTERISTICS', 'AUTOSELECT', 'DEFAULT', 'FORCED'].some((r) => t[r] !== e[r]);
}
const f2 = 500;
class nP extends jp {
  constructor(e, n, r) {
    super(e, n, r, '[subtitle-stream-controller]', lt.SUBTITLE), (this.levels = []), (this.currentTrackId = -1), (this.tracksBuffered = []), (this.mainDetails = null), this._registerListeners();
  }
  onHandlerDestroying() {
    this._unregisterListeners(), (this.mainDetails = null);
  }
  _registerListeners() {
    const { hls: e } = this;
    e.on(V.MEDIA_ATTACHED, this.onMediaAttached, this),
      e.on(V.MEDIA_DETACHING, this.onMediaDetaching, this),
      e.on(V.MANIFEST_LOADING, this.onManifestLoading, this),
      e.on(V.LEVEL_LOADED, this.onLevelLoaded, this),
      e.on(V.ERROR, this.onError, this),
      e.on(V.SUBTITLE_TRACKS_UPDATED, this.onSubtitleTracksUpdated, this),
      e.on(V.SUBTITLE_TRACK_SWITCH, this.onSubtitleTrackSwitch, this),
      e.on(V.SUBTITLE_TRACK_LOADED, this.onSubtitleTrackLoaded, this),
      e.on(V.SUBTITLE_FRAG_PROCESSED, this.onSubtitleFragProcessed, this),
      e.on(V.BUFFER_FLUSHING, this.onBufferFlushing, this),
      e.on(V.FRAG_BUFFERED, this.onFragBuffered, this);
  }
  _unregisterListeners() {
    const { hls: e } = this;
    e.off(V.MEDIA_ATTACHED, this.onMediaAttached, this),
      e.off(V.MEDIA_DETACHING, this.onMediaDetaching, this),
      e.off(V.MANIFEST_LOADING, this.onManifestLoading, this),
      e.off(V.LEVEL_LOADED, this.onLevelLoaded, this),
      e.off(V.ERROR, this.onError, this),
      e.off(V.SUBTITLE_TRACKS_UPDATED, this.onSubtitleTracksUpdated, this),
      e.off(V.SUBTITLE_TRACK_SWITCH, this.onSubtitleTrackSwitch, this),
      e.off(V.SUBTITLE_TRACK_LOADED, this.onSubtitleTrackLoaded, this),
      e.off(V.SUBTITLE_FRAG_PROCESSED, this.onSubtitleFragProcessed, this),
      e.off(V.BUFFER_FLUSHING, this.onBufferFlushing, this),
      e.off(V.FRAG_BUFFERED, this.onFragBuffered, this);
  }
  startLoad(e) {
    this.stopLoad(), (this.state = _e.IDLE), this.setInterval(f2), (this.nextLoadPosition = this.startPosition = this.lastCurrentTime = e), this.tick();
  }
  onManifestLoading() {
    (this.mainDetails = null), this.fragmentTracker.removeAllFragments();
  }
  onMediaDetaching() {
    (this.tracksBuffered = []), super.onMediaDetaching();
  }
  onLevelLoaded(e, n) {
    this.mainDetails = n.details;
  }
  onSubtitleFragProcessed(e, n) {
    const { frag: r, success: i } = n;
    if (((this.fragPrevious = r), (this.state = _e.IDLE), !i)) return;
    const o = this.tracksBuffered[this.currentTrackId];
    if (!o) return;
    let a;
    const s = r.start;
    for (let u = 0; u < o.length; u++)
      if (s >= o[u].start && s <= o[u].end) {
        a = o[u];
        break;
      }
    const l = r.start + r.duration;
    a ? (a.end = l) : ((a = { start: s, end: l }), o.push(a)), this.fragmentTracker.fragBuffered(r);
  }
  onBufferFlushing(e, n) {
    const { startOffset: r, endOffset: i } = n;
    if (r === 0 && i !== Number.POSITIVE_INFINITY) {
      const o = i - 1;
      if (o <= 0) return;
      (n.endOffsetSubtitles = Math.max(0, o)),
        this.tracksBuffered.forEach((a) => {
          for (let s = 0; s < a.length; ) {
            if (a[s].end <= o) {
              a.shift();
              continue;
            } else if (a[s].start < o) a[s].start = o;
            else break;
            s++;
          }
        }),
        this.fragmentTracker.removeFragmentsInRange(r, o, lt.SUBTITLE);
    }
  }
  onFragBuffered(e, n) {
    if (!this.loadedmetadata && n.frag.type === lt.MAIN) {
      var r;
      (r = this.media) != null && r.buffered.length && (this.loadedmetadata = !0);
    }
  }
  onError(e, n) {
    const r = n.frag;
    (r == null ? void 0 : r.type) === lt.SUBTITLE && (this.fragCurrent && this.fragCurrent.abortRequests(), this.state !== _e.STOPPED && (this.state = _e.IDLE));
  }
  onSubtitleTracksUpdated(e, { subtitleTracks: n }) {
    if (Z_(this.levels, n)) {
      this.levels = n.map((r) => new xl(r));
      return;
    }
    (this.tracksBuffered = []),
      (this.levels = n.map((r) => {
        const i = new xl(r);
        return (this.tracksBuffered[i.id] = []), i;
      })),
      this.fragmentTracker.removeFragmentsInRange(0, Number.POSITIVE_INFINITY, lt.SUBTITLE),
      (this.fragPrevious = null),
      (this.mediaBuffer = null);
  }
  onSubtitleTrackSwitch(e, n) {
    if (((this.currentTrackId = n.id), !this.levels.length || this.currentTrackId === -1)) {
      this.clearInterval();
      return;
    }
    const r = this.levels[this.currentTrackId];
    r != null && r.details ? (this.mediaBuffer = this.mediaBufferTimeRanges) : (this.mediaBuffer = null), r && this.setInterval(f2);
  }
  onSubtitleTrackLoaded(e, n) {
    var r;
    const { details: i, id: o } = n,
      { currentTrackId: a, levels: s } = this;
    if (!s.length) return;
    const l = s[a];
    if (o >= s.length || o !== a || !l) return;
    this.mediaBuffer = this.mediaBufferTimeRanges;
    let u = 0;
    if (i.live || ((r = l.details) != null && r.live)) {
      const c = this.mainDetails;
      if (i.deltaUpdateFailed || !c) return;
      const d = c.fragments[0];
      l.details
        ? ((u = this.alignPlaylists(i, l.details)), u === 0 && d && ((u = d.start), Q0(i, u)))
        : i.hasProgramDateTime && c.hasProgramDateTime
        ? (M_(i, c), (u = i.fragments[0].start))
        : d && ((u = d.start), Q0(i, u));
    }
    (l.details = i),
      (this.levelLastLoaded = o),
      !this.startFragRequested && (this.mainDetails || !i.live) && this.setStartPosition(l.details, u),
      this.tick(),
      i.live &&
        !this.fragCurrent &&
        this.media &&
        this.state === _e.IDLE &&
        (Tl(null, i.fragments, this.media.currentTime, 0) || (this.warn('Subtitle playlist not aligned with playback'), (l.details = void 0)));
  }
  _handleFragmentLoadComplete(e) {
    const { frag: n, payload: r } = e,
      i = n.decryptdata,
      o = this.hls;
    if (!this.fragContextChanged(n) && r && r.byteLength > 0 && i && i.key && i.iv && i.method === 'AES-128') {
      const a = performance.now();
      this.decrypter
        .decrypt(new Uint8Array(r), i.key.buffer, i.iv.buffer)
        .catch((s) => {
          throw (o.trigger(V.ERROR, { type: at.MEDIA_ERROR, details: he.FRAG_DECRYPT_ERROR, fatal: !1, error: s, reason: s.message, frag: n }), s);
        })
        .then((s) => {
          const l = performance.now();
          o.trigger(V.FRAG_DECRYPTED, { frag: n, payload: s, stats: { tstart: a, tdecrypt: l } });
        })
        .catch((s) => {
          this.warn(`${s.name}: ${s.message}`), (this.state = _e.IDLE);
        });
    }
  }
  doTick() {
    if (!this.media) {
      this.state = _e.IDLE;
      return;
    }
    if (this.state === _e.IDLE) {
      const { currentTrackId: e, levels: n } = this,
        r = n[e];
      if (!n.length || !r || !r.details) return;
      const { config: i } = this,
        o = this.getLoadPosition(),
        a = on.bufferedInfo(this.tracksBuffered[this.currentTrackId] || [], o, i.maxBufferHole),
        { end: s, len: l } = a,
        u = this.getFwdBufferInfo(this.media, lt.MAIN),
        c = r.details,
        d = this.getMaxBufferLength(u == null ? void 0 : u.len) + c.levelTargetDuration;
      if (l > d) return;
      const f = c.fragments,
        h = f.length,
        m = c.edge;
      let g = null;
      const b = this.fragPrevious;
      if (s < m) {
        const _ = i.maxFragLookUpTolerance,
          y = s > m - _ ? 0 : _;
        (g = Tl(b, f, Math.max(f[0].start, s), y)), !g && b && b.start < f[0].start && (g = f[0]);
      } else g = f[h - 1];
      if (!g) return;
      if (((g = this.mapToInitFragWhenRequired(g)), g.sn !== 'initSegment')) {
        const _ = g.sn - c.startSN,
          y = f[_ - 1];
        y && y.cc === g.cc && this.fragmentTracker.getState(y) === Nn.NOT_LOADED && (g = y);
      }
      this.fragmentTracker.getState(g) === Nn.NOT_LOADED && this.loadFragment(g, r, s);
    }
  }
  getMaxBufferLength(e) {
    const n = super.getMaxBufferLength();
    return e ? Math.max(n, e) : n;
  }
  loadFragment(e, n, r) {
    (this.fragCurrent = e), e.sn === 'initSegment' ? this._loadInitSegment(e, n) : ((this.startFragRequested = !0), super.loadFragment(e, n, r));
  }
  get mediaBufferTimeRanges() {
    return new rP(this.tracksBuffered[this.currentTrackId] || []);
  }
}
class rP {
  constructor(e) {
    this.buffered = void 0;
    const n = (r, i, o) => {
      if (((i = i >>> 0), i > o - 1)) throw new DOMException(`Failed to execute '${r}' on 'TimeRanges': The index provided (${i}) is greater than the maximum bound (${o})`);
      return e[i][r];
    };
    this.buffered = {
      get length() {
        return e.length;
      },
      end(r) {
        return n('end', r, e.length);
      },
      start(r) {
        return n('start', r, e.length);
      },
    };
  }
}
class iP extends Up {
  constructor(e) {
    super(e, '[subtitle-track-controller]'),
      (this.media = null),
      (this.tracks = []),
      (this.groupId = null),
      (this.tracksInGroup = []),
      (this.trackId = -1),
      (this.selectDefaultTrack = !0),
      (this.queuedDefaultTrack = -1),
      (this.trackChangeListener = () => this.onTextTracksChanged()),
      (this.asyncPollTrackChange = () => this.pollTrackChange(0)),
      (this.useTextTrackPolling = !1),
      (this.subtitlePollingInterval = -1),
      (this._subtitleDisplay = !0),
      this.registerListeners();
  }
  destroy() {
    this.unregisterListeners(), (this.tracks.length = 0), (this.tracksInGroup.length = 0), (this.trackChangeListener = this.asyncPollTrackChange = null), super.destroy();
  }
  get subtitleDisplay() {
    return this._subtitleDisplay;
  }
  set subtitleDisplay(e) {
    (this._subtitleDisplay = e), this.trackId > -1 && this.toggleTrackModes(this.trackId);
  }
  registerListeners() {
    const { hls: e } = this;
    e.on(V.MEDIA_ATTACHED, this.onMediaAttached, this),
      e.on(V.MEDIA_DETACHING, this.onMediaDetaching, this),
      e.on(V.MANIFEST_LOADING, this.onManifestLoading, this),
      e.on(V.MANIFEST_PARSED, this.onManifestParsed, this),
      e.on(V.LEVEL_LOADING, this.onLevelLoading, this),
      e.on(V.LEVEL_SWITCHING, this.onLevelSwitching, this),
      e.on(V.SUBTITLE_TRACK_LOADED, this.onSubtitleTrackLoaded, this),
      e.on(V.ERROR, this.onError, this);
  }
  unregisterListeners() {
    const { hls: e } = this;
    e.off(V.MEDIA_ATTACHED, this.onMediaAttached, this),
      e.off(V.MEDIA_DETACHING, this.onMediaDetaching, this),
      e.off(V.MANIFEST_LOADING, this.onManifestLoading, this),
      e.off(V.MANIFEST_PARSED, this.onManifestParsed, this),
      e.off(V.LEVEL_LOADING, this.onLevelLoading, this),
      e.off(V.LEVEL_SWITCHING, this.onLevelSwitching, this),
      e.off(V.SUBTITLE_TRACK_LOADED, this.onSubtitleTrackLoaded, this),
      e.off(V.ERROR, this.onError, this);
  }
  onMediaAttached(e, n) {
    (this.media = n.media),
      this.media &&
        (this.queuedDefaultTrack > -1 && ((this.subtitleTrack = this.queuedDefaultTrack), (this.queuedDefaultTrack = -1)),
        (this.useTextTrackPolling = !(this.media.textTracks && 'onchange' in this.media.textTracks)),
        this.useTextTrackPolling ? this.pollTrackChange(500) : this.media.textTracks.addEventListener('change', this.asyncPollTrackChange));
  }
  pollTrackChange(e) {
    self.clearInterval(this.subtitlePollingInterval), (this.subtitlePollingInterval = self.setInterval(this.trackChangeListener, e));
  }
  onMediaDetaching() {
    if (!this.media) return;
    self.clearInterval(this.subtitlePollingInterval),
      this.useTextTrackPolling || this.media.textTracks.removeEventListener('change', this.asyncPollTrackChange),
      this.trackId > -1 && (this.queuedDefaultTrack = this.trackId),
      Zf(this.media.textTracks).forEach((n) => {
        Pa(n);
      }),
      (this.subtitleTrack = -1),
      (this.media = null);
  }
  onManifestLoading() {
    (this.tracks = []), (this.groupId = null), (this.tracksInGroup = []), (this.trackId = -1), (this.selectDefaultTrack = !0);
  }
  onManifestParsed(e, n) {
    this.tracks = n.subtitleTracks;
  }
  onSubtitleTrackLoaded(e, n) {
    const { id: r, details: i } = n,
      { trackId: o } = this,
      a = this.tracksInGroup[o];
    if (!a) {
      this.warn(`Invalid subtitle track id ${r}`);
      return;
    }
    const s = a.details;
    (a.details = n.details), this.log(`subtitle track ${r} loaded [${i.startSN}-${i.endSN}]`), r === this.trackId && this.playlistLoaded(r, n, s);
  }
  onLevelLoading(e, n) {
    this.switchLevel(n.level);
  }
  onLevelSwitching(e, n) {
    this.switchLevel(n.level);
  }
  switchLevel(e) {
    const n = this.hls.levels[e];
    if (!(n != null && n.textGroupIds)) return;
    const r = n.textGroupIds[n.urlId],
      i = this.tracksInGroup ? this.tracksInGroup[this.trackId] : void 0;
    if (this.groupId !== r) {
      const o = this.tracks.filter((l) => !r || l.groupId === r);
      this.tracksInGroup = o;
      const a = this.findTrackId(i == null ? void 0 : i.name) || this.findTrackId();
      this.groupId = r || null;
      const s = { subtitleTracks: o };
      this.log(`Updating subtitle tracks, ${o.length} track(s) found in "${r}" group-id`), this.hls.trigger(V.SUBTITLE_TRACKS_UPDATED, s), a !== -1 && this.setSubtitleTrack(a, i);
    } else this.shouldReloadPlaylist(i) && this.setSubtitleTrack(this.trackId, i);
  }
  findTrackId(e) {
    const n = this.tracksInGroup;
    for (let r = 0; r < n.length; r++) {
      const i = n[r];
      if ((!this.selectDefaultTrack || i.default) && (!e || e === i.name)) return i.id;
    }
    return -1;
  }
  onError(e, n) {
    n.fatal || !n.context || (n.context.type === Ot.SUBTITLE_TRACK && n.context.id === this.trackId && n.context.groupId === this.groupId && this.checkRetry(n));
  }
  get subtitleTracks() {
    return this.tracksInGroup;
  }
  get subtitleTrack() {
    return this.trackId;
  }
  set subtitleTrack(e) {
    this.selectDefaultTrack = !1;
    const n = this.tracksInGroup ? this.tracksInGroup[this.trackId] : void 0;
    this.setSubtitleTrack(e, n);
  }
  loadPlaylist(e) {
    super.loadPlaylist();
    const n = this.tracksInGroup[this.trackId];
    if (this.shouldLoadPlaylist(n)) {
      const r = n.id,
        i = n.groupId;
      let o = n.url;
      if (e)
        try {
          o = e.addDirectives(o);
        } catch (a) {
          this.warn(`Could not construct new URL with HLS Delivery Directives: ${a}`);
        }
      this.log(`Loading subtitle playlist for id ${r}`), this.hls.trigger(V.SUBTITLE_TRACK_LOADING, { url: o, id: r, groupId: i, deliveryDirectives: e || null });
    }
  }
  toggleTrackModes(e) {
    const { media: n, trackId: r } = this;
    if (!n) return;
    const i = Zf(n.textTracks),
      o = i.filter((s) => s.groupId === this.groupId);
    if (e === -1)
      [].slice.call(i).forEach((s) => {
        s.mode = 'disabled';
      });
    else {
      const s = o[r];
      s && (s.mode = 'disabled');
    }
    const a = o[e];
    a && (a.mode = this.subtitleDisplay ? 'showing' : 'hidden');
  }
  setSubtitleTrack(e, n) {
    var r;
    const i = this.tracksInGroup;
    if (!this.media) {
      this.queuedDefaultTrack = e;
      return;
    }
    if ((this.trackId !== e && this.toggleTrackModes(e), (this.trackId === e && (e === -1 || ((r = i[e]) != null && r.details))) || e < -1 || e >= i.length)) return;
    this.clearTimer();
    const o = i[e];
    if ((this.log(`Switching to subtitle-track ${e}` + (o ? ` "${o.name}" lang:${o.lang} group:${o.groupId}` : '')), (this.trackId = e), o)) {
      const { id: a, groupId: s = '', name: l, type: u, url: c } = o;
      this.hls.trigger(V.SUBTITLE_TRACK_SWITCH, { id: a, groupId: s, name: l, type: u, url: c });
      const d = this.switchParams(o.url, n == null ? void 0 : n.details);
      this.loadPlaylist(d);
    } else this.hls.trigger(V.SUBTITLE_TRACK_SWITCH, { id: e });
  }
  onTextTracksChanged() {
    if ((this.useTextTrackPolling || self.clearInterval(this.subtitlePollingInterval), !this.media || !this.hls.config.renderTextTracksNatively)) return;
    let e = -1;
    const n = Zf(this.media.textTracks);
    for (let r = 0; r < n.length; r++)
      if (n[r].mode === 'hidden') e = r;
      else if (n[r].mode === 'showing') {
        e = r;
        break;
      }
    this.subtitleTrack !== e && (this.subtitleTrack = e);
  }
}
function Zf(t) {
  const e = [];
  for (let n = 0; n < t.length; n++) {
    const r = t[n];
    (r.kind === 'subtitles' || r.kind === 'captions') && r.label && e.push(t[n]);
  }
  return e;
}
class oP {
  constructor(e) {
    (this.buffers = void 0), (this.queues = { video: [], audio: [], audiovideo: [] }), (this.buffers = e);
  }
  append(e, n) {
    const r = this.queues[n];
    r.push(e), r.length === 1 && this.buffers[n] && this.executeNext(n);
  }
  insertAbort(e, n) {
    this.queues[n].unshift(e), this.executeNext(n);
  }
  appendBlocker(e) {
    let n;
    const r = new Promise((o) => {
        n = o;
      }),
      i = { execute: n, onStart: () => {}, onComplete: () => {}, onError: () => {} };
    return this.append(i, e), r;
  }
  executeNext(e) {
    const { buffers: n, queues: r } = this,
      i = n[e],
      o = r[e];
    if (o.length) {
      const a = o[0];
      try {
        a.execute();
      } catch (s) {
        le.warn('[buffer-operation-queue]: Unhandled exception executing the current operation'), a.onError(s), (i != null && i.updating) || (o.shift(), this.executeNext(e));
      }
    }
  }
  shiftAndExecuteNext(e) {
    this.queues[e].shift(), this.executeNext(e);
  }
  current(e) {
    return this.queues[e][0];
  }
}
const h2 = Pd(),
  m2 = /([ha]vc.)(?:\.[^.,]+)+/;
class aP {
  constructor(e) {
    (this.details = null),
      (this._objectUrl = null),
      (this.operationQueue = void 0),
      (this.listeners = void 0),
      (this.hls = void 0),
      (this.bufferCodecEventsExpected = 0),
      (this._bufferCodecEventsTotal = 0),
      (this.media = null),
      (this.mediaSource = null),
      (this.lastMpegAudioChunk = null),
      (this.appendError = 0),
      (this.tracks = {}),
      (this.pendingTracks = {}),
      (this.sourceBuffer = void 0),
      (this._onMediaSourceOpen = () => {
        const { media: n, mediaSource: r } = this;
        le.log('[buffer-controller]: Media source opened'),
          n && (n.removeEventListener('emptied', this._onMediaEmptied), this.updateMediaElementDuration(), this.hls.trigger(V.MEDIA_ATTACHED, { media: n })),
          r && r.removeEventListener('sourceopen', this._onMediaSourceOpen),
          this.checkPendingTracks();
      }),
      (this._onMediaSourceClose = () => {
        le.log('[buffer-controller]: Media source closed');
      }),
      (this._onMediaSourceEnded = () => {
        le.log('[buffer-controller]: Media source ended');
      }),
      (this._onMediaEmptied = () => {
        const { media: n, _objectUrl: r } = this;
        n && n.src !== r && le.error(`Media element src was set while attaching MediaSource (${r} > ${n.src})`);
      }),
      (this.hls = e),
      this._initSourceBuffer(),
      this.registerListeners();
  }
  hasSourceTypes() {
    return this.getSourceBufferTypes().length > 0 || Object.keys(this.pendingTracks).length > 0;
  }
  destroy() {
    this.unregisterListeners(), (this.details = null), (this.lastMpegAudioChunk = null);
  }
  registerListeners() {
    const { hls: e } = this;
    e.on(V.MEDIA_ATTACHING, this.onMediaAttaching, this),
      e.on(V.MEDIA_DETACHING, this.onMediaDetaching, this),
      e.on(V.MANIFEST_LOADING, this.onManifestLoading, this),
      e.on(V.MANIFEST_PARSED, this.onManifestParsed, this),
      e.on(V.BUFFER_RESET, this.onBufferReset, this),
      e.on(V.BUFFER_APPENDING, this.onBufferAppending, this),
      e.on(V.BUFFER_CODECS, this.onBufferCodecs, this),
      e.on(V.BUFFER_EOS, this.onBufferEos, this),
      e.on(V.BUFFER_FLUSHING, this.onBufferFlushing, this),
      e.on(V.LEVEL_UPDATED, this.onLevelUpdated, this),
      e.on(V.FRAG_PARSED, this.onFragParsed, this),
      e.on(V.FRAG_CHANGED, this.onFragChanged, this);
  }
  unregisterListeners() {
    const { hls: e } = this;
    e.off(V.MEDIA_ATTACHING, this.onMediaAttaching, this),
      e.off(V.MEDIA_DETACHING, this.onMediaDetaching, this),
      e.off(V.MANIFEST_LOADING, this.onManifestLoading, this),
      e.off(V.MANIFEST_PARSED, this.onManifestParsed, this),
      e.off(V.BUFFER_RESET, this.onBufferReset, this),
      e.off(V.BUFFER_APPENDING, this.onBufferAppending, this),
      e.off(V.BUFFER_CODECS, this.onBufferCodecs, this),
      e.off(V.BUFFER_EOS, this.onBufferEos, this),
      e.off(V.BUFFER_FLUSHING, this.onBufferFlushing, this),
      e.off(V.LEVEL_UPDATED, this.onLevelUpdated, this),
      e.off(V.FRAG_PARSED, this.onFragParsed, this),
      e.off(V.FRAG_CHANGED, this.onFragChanged, this);
  }
  _initSourceBuffer() {
    (this.sourceBuffer = {}), (this.operationQueue = new oP(this.sourceBuffer)), (this.listeners = { audio: [], video: [], audiovideo: [] }), (this.lastMpegAudioChunk = null);
  }
  onManifestLoading() {
    (this.bufferCodecEventsExpected = this._bufferCodecEventsTotal = 0), (this.details = null);
  }
  onManifestParsed(e, n) {
    let r = 2;
    ((n.audio && !n.video) || !n.altAudio) && (r = 1), (this.bufferCodecEventsExpected = this._bufferCodecEventsTotal = r), le.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`);
  }
  onMediaAttaching(e, n) {
    const r = (this.media = n.media);
    if (r && h2) {
      const i = (this.mediaSource = new h2());
      i.addEventListener('sourceopen', this._onMediaSourceOpen),
        i.addEventListener('sourceended', this._onMediaSourceEnded),
        i.addEventListener('sourceclose', this._onMediaSourceClose),
        (r.src = self.URL.createObjectURL(i)),
        (this._objectUrl = r.src),
        r.addEventListener('emptied', this._onMediaEmptied);
    }
  }
  onMediaDetaching() {
    const { media: e, mediaSource: n, _objectUrl: r } = this;
    if (n) {
      if ((le.log('[buffer-controller]: media source detaching'), n.readyState === 'open'))
        try {
          n.endOfStream();
        } catch (i) {
          le.warn(`[buffer-controller]: onMediaDetaching: ${i.message} while calling endOfStream`);
        }
      this.onBufferReset(),
        n.removeEventListener('sourceopen', this._onMediaSourceOpen),
        n.removeEventListener('sourceended', this._onMediaSourceEnded),
        n.removeEventListener('sourceclose', this._onMediaSourceClose),
        e &&
          (e.removeEventListener('emptied', this._onMediaEmptied),
          r && self.URL.revokeObjectURL(r),
          e.src === r ? (e.removeAttribute('src'), e.load()) : le.warn('[buffer-controller]: media.src was changed by a third party - skip cleanup')),
        (this.mediaSource = null),
        (this.media = null),
        (this._objectUrl = null),
        (this.bufferCodecEventsExpected = this._bufferCodecEventsTotal),
        (this.pendingTracks = {}),
        (this.tracks = {});
    }
    this.hls.trigger(V.MEDIA_DETACHED, void 0);
  }
  onBufferReset() {
    this.getSourceBufferTypes().forEach((e) => {
      const n = this.sourceBuffer[e];
      try {
        n && (this.removeBufferListeners(e), this.mediaSource && this.mediaSource.removeSourceBuffer(n), (this.sourceBuffer[e] = void 0));
      } catch (r) {
        le.warn(`[buffer-controller]: Failed to reset the ${e} buffer`, r);
      }
    }),
      this._initSourceBuffer();
  }
  onBufferCodecs(e, n) {
    const r = this.getSourceBufferTypes().length;
    Object.keys(n).forEach((i) => {
      if (r) {
        const o = this.tracks[i];
        if (o && typeof o.buffer.changeType == 'function') {
          const { id: a, codec: s, levelCodec: l, container: u, metadata: c } = n[i],
            d = (o.levelCodec || o.codec).replace(m2, '$1'),
            f = (l || s).replace(m2, '$1');
          if (d !== f) {
            const h = `${u};codecs=${l || s}`;
            this.appendChangeType(i, h),
              le.log(`[buffer-controller]: switching codec ${d} to ${f}`),
              (this.tracks[i] = { buffer: o.buffer, codec: s, container: u, levelCodec: l, metadata: c, id: a });
          }
        }
      } else this.pendingTracks[i] = n[i];
    }),
      !r && ((this.bufferCodecEventsExpected = Math.max(this.bufferCodecEventsExpected - 1, 0)), this.mediaSource && this.mediaSource.readyState === 'open' && this.checkPendingTracks());
  }
  appendChangeType(e, n) {
    const { operationQueue: r } = this,
      i = {
        execute: () => {
          const o = this.sourceBuffer[e];
          o && (le.log(`[buffer-controller]: changing ${e} sourceBuffer type to ${n}`), o.changeType(n)), r.shiftAndExecuteNext(e);
        },
        onStart: () => {},
        onComplete: () => {},
        onError: (o) => {
          le.warn(`[buffer-controller]: Failed to change ${e} SourceBuffer type`, o);
        },
      };
    r.append(i, e);
  }
  onBufferAppending(e, n) {
    const { hls: r, operationQueue: i, tracks: o } = this,
      { data: a, type: s, frag: l, part: u, chunkMeta: c } = n,
      d = c.buffering[s],
      f = self.performance.now();
    d.start = f;
    const h = l.stats.buffering,
      m = u ? u.stats.buffering : null;
    h.start === 0 && (h.start = f), m && m.start === 0 && (m.start = f);
    const g = o.audio;
    let b = !1;
    s === 'audio' && (g == null ? void 0 : g.container) === 'audio/mpeg' && ((b = !this.lastMpegAudioChunk || c.id === 1 || this.lastMpegAudioChunk.sn !== c.sn), (this.lastMpegAudioChunk = c));
    const _ = l.start,
      y = {
        execute: () => {
          if (((d.executeStart = self.performance.now()), b)) {
            const T = this.sourceBuffer[s];
            if (T) {
              const w = _ - T.timestampOffset;
              Math.abs(w) >= 0.1 && (le.log(`[buffer-controller]: Updating audio SourceBuffer timestampOffset to ${_} (delta: ${w}) sn: ${l.sn})`), (T.timestampOffset = _));
            }
          }
          this.appendExecutor(a, s);
        },
        onStart: () => {},
        onComplete: () => {
          const T = self.performance.now();
          (d.executeEnd = d.end = T), h.first === 0 && (h.first = T), m && m.first === 0 && (m.first = T);
          const { sourceBuffer: w } = this,
            I = {};
          for (const O in w) I[O] = on.getBuffered(w[O]);
          (this.appendError = 0), this.hls.trigger(V.BUFFER_APPENDED, { type: s, frag: l, part: u, chunkMeta: c, parent: l.type, timeRanges: I });
        },
        onError: (T) => {
          le.error(`[buffer-controller]: Error encountered while trying to append to the ${s} SourceBuffer`, T);
          const w = { type: at.MEDIA_ERROR, parent: l.type, details: he.BUFFER_APPEND_ERROR, frag: l, part: u, chunkMeta: c, error: T, err: T, fatal: !1 };
          T.code === DOMException.QUOTA_EXCEEDED_ERR
            ? (w.details = he.BUFFER_FULL_ERROR)
            : (this.appendError++,
              (w.details = he.BUFFER_APPEND_ERROR),
              this.appendError > r.config.appendErrorMaxRetry && (le.error(`[buffer-controller]: Failed ${r.config.appendErrorMaxRetry} times to append segment in sourceBuffer`), (w.fatal = !0))),
            r.trigger(V.ERROR, w);
        },
      };
    i.append(y, s);
  }
  onBufferFlushing(e, n) {
    const { operationQueue: r } = this,
      i = (o) => ({
        execute: this.removeExecutor.bind(this, o, n.startOffset, n.endOffset),
        onStart: () => {},
        onComplete: () => {
          this.hls.trigger(V.BUFFER_FLUSHED, { type: o });
        },
        onError: (a) => {
          le.warn(`[buffer-controller]: Failed to remove from ${o} SourceBuffer`, a);
        },
      });
    n.type
      ? r.append(i(n.type), n.type)
      : this.getSourceBufferTypes().forEach((o) => {
          r.append(i(o), o);
        });
  }
  onFragParsed(e, n) {
    const { frag: r, part: i } = n,
      o = [],
      a = i ? i.elementaryStreams : r.elementaryStreams;
    a[qt.AUDIOVIDEO] ? o.push('audiovideo') : (a[qt.AUDIO] && o.push('audio'), a[qt.VIDEO] && o.push('video'));
    const s = () => {
      const l = self.performance.now();
      (r.stats.buffering.end = l), i && (i.stats.buffering.end = l);
      const u = i ? i.stats : r.stats;
      this.hls.trigger(V.FRAG_BUFFERED, { frag: r, part: i, stats: u, id: r.type });
    };
    o.length === 0 && le.warn(`Fragments must have at least one ElementaryStreamType set. type: ${r.type} level: ${r.level} sn: ${r.sn}`), this.blockBuffers(s, o);
  }
  onFragChanged(e, n) {
    this.flushBackBuffer();
  }
  onBufferEos(e, n) {
    this.getSourceBufferTypes().reduce((i, o) => {
      const a = this.sourceBuffer[o];
      return a && (!n.type || n.type === o) && ((a.ending = !0), a.ended || ((a.ended = !0), le.log(`[buffer-controller]: ${o} sourceBuffer now EOS`))), i && !!(!a || a.ended);
    }, !0) &&
      (le.log('[buffer-controller]: Queueing mediaSource.endOfStream()'),
      this.blockBuffers(() => {
        this.getSourceBufferTypes().forEach((o) => {
          const a = this.sourceBuffer[o];
          a && (a.ending = !1);
        });
        const { mediaSource: i } = this;
        if (!i || i.readyState !== 'open') {
          i && le.info(`[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: ${i.readyState}`);
          return;
        }
        le.log('[buffer-controller]: Calling mediaSource.endOfStream()'), i.endOfStream();
      }));
  }
  onLevelUpdated(e, { details: n }) {
    n.fragments.length && ((this.details = n), this.getSourceBufferTypes().length ? this.blockBuffers(this.updateMediaElementDuration.bind(this)) : this.updateMediaElementDuration());
  }
  flushBackBuffer() {
    const { hls: e, details: n, media: r, sourceBuffer: i } = this;
    if (!r || n === null) return;
    const o = this.getSourceBufferTypes();
    if (!o.length) return;
    const a = n.live && e.config.liveBackBufferLength !== null ? e.config.liveBackBufferLength : e.config.backBufferLength;
    if (!rt(a) || a < 0) return;
    const s = r.currentTime,
      l = n.levelTargetDuration,
      u = Math.max(a, l),
      c = Math.floor(s / l) * l - u;
    o.forEach((d) => {
      const f = i[d];
      if (f) {
        const h = on.getBuffered(f);
        if (h.length > 0 && c > h.start(0)) {
          if ((e.trigger(V.BACK_BUFFER_REACHED, { bufferEnd: c }), n.live)) e.trigger(V.LIVE_BACK_BUFFER_REACHED, { bufferEnd: c });
          else if (f.ended && h.end(h.length - 1) - s < l * 2) {
            le.info(`[buffer-controller]: Cannot flush ${d} back buffer while SourceBuffer is in ended state`);
            return;
          }
          e.trigger(V.BUFFER_FLUSHING, { startOffset: 0, endOffset: c, type: d });
        }
      }
    });
  }
  updateMediaElementDuration() {
    if (!this.details || !this.media || !this.mediaSource || this.mediaSource.readyState !== 'open') return;
    const { details: e, hls: n, media: r, mediaSource: i } = this,
      o = e.fragments[0].start + e.totalduration,
      a = r.duration,
      s = rt(i.duration) ? i.duration : 0;
    e.live && n.config.liveDurationInfinity
      ? (le.log('[buffer-controller]: Media Source duration is set to Infinity'), (i.duration = 1 / 0), this.updateSeekableRange(e))
      : ((o > s && o > a) || !rt(a)) && (le.log(`[buffer-controller]: Updating Media Source duration to ${o.toFixed(3)}`), (i.duration = o));
  }
  updateSeekableRange(e) {
    const n = this.mediaSource,
      r = e.fragments;
    if (r.length && e.live && n != null && n.setLiveSeekableRange) {
      const o = Math.max(0, r[0].start),
        a = Math.max(o, o + e.totalduration);
      n.setLiveSeekableRange(o, a);
    }
  }
  checkPendingTracks() {
    const { bufferCodecEventsExpected: e, operationQueue: n, pendingTracks: r } = this,
      i = Object.keys(r).length;
    if ((i && !e) || i === 2) {
      this.createSourceBuffers(r), (this.pendingTracks = {});
      const o = this.getSourceBufferTypes();
      if (o.length)
        this.hls.trigger(V.BUFFER_CREATED, { tracks: this.tracks }),
          o.forEach((a) => {
            n.executeNext(a);
          });
      else {
        const a = new Error('could not create source buffer for media codec(s)');
        this.hls.trigger(V.ERROR, { type: at.MEDIA_ERROR, details: he.BUFFER_INCOMPATIBLE_CODECS_ERROR, fatal: !0, error: a, reason: a.message });
      }
    }
  }
  createSourceBuffers(e) {
    const { sourceBuffer: n, mediaSource: r } = this;
    if (!r) throw Error('createSourceBuffers called when mediaSource was null');
    for (const i in e)
      if (!n[i]) {
        const o = e[i];
        if (!o) throw Error(`source buffer exists for track ${i}, however track does not`);
        const a = o.levelCodec || o.codec,
          s = `${o.container};codecs=${a}`;
        le.log(`[buffer-controller]: creating sourceBuffer(${s})`);
        try {
          const l = (n[i] = r.addSourceBuffer(s)),
            u = i;
          this.addBufferListener(u, 'updatestart', this._onSBUpdateStart),
            this.addBufferListener(u, 'updateend', this._onSBUpdateEnd),
            this.addBufferListener(u, 'error', this._onSBUpdateError),
            (this.tracks[i] = { buffer: l, codec: a, container: o.container, levelCodec: o.levelCodec, metadata: o.metadata, id: o.id });
        } catch (l) {
          le.error(`[buffer-controller]: error while trying to add sourceBuffer: ${l.message}`),
            this.hls.trigger(V.ERROR, { type: at.MEDIA_ERROR, details: he.BUFFER_ADD_CODEC_ERROR, fatal: !1, error: l, mimeType: s });
        }
      }
  }
  _onSBUpdateStart(e) {
    const { operationQueue: n } = this;
    n.current(e).onStart();
  }
  _onSBUpdateEnd(e) {
    const { operationQueue: n } = this;
    n.current(e).onComplete(), n.shiftAndExecuteNext(e);
  }
  _onSBUpdateError(e, n) {
    const r = new Error(`${e} SourceBuffer error`);
    le.error(`[buffer-controller]: ${r}`, n), this.hls.trigger(V.ERROR, { type: at.MEDIA_ERROR, details: he.BUFFER_APPENDING_ERROR, error: r, fatal: !1 });
    const i = this.operationQueue.current(e);
    i && i.onError(n);
  }
  removeExecutor(e, n, r) {
    const { media: i, mediaSource: o, operationQueue: a, sourceBuffer: s } = this,
      l = s[e];
    if (!i || !o || !l) {
      le.warn(`[buffer-controller]: Attempting to remove from the ${e} SourceBuffer, but it does not exist`), a.shiftAndExecuteNext(e);
      return;
    }
    const u = rt(i.duration) ? i.duration : 1 / 0,
      c = rt(o.duration) ? o.duration : 1 / 0,
      d = Math.max(0, n),
      f = Math.min(r, u, c);
    f > d && !l.ending ? ((l.ended = !1), le.log(`[buffer-controller]: Removing [${d},${f}] from the ${e} SourceBuffer`), l.remove(d, f)) : a.shiftAndExecuteNext(e);
  }
  appendExecutor(e, n) {
    const { operationQueue: r, sourceBuffer: i } = this,
      o = i[n];
    if (!o) {
      le.warn(`[buffer-controller]: Attempting to append to the ${n} SourceBuffer, but it does not exist`), r.shiftAndExecuteNext(n);
      return;
    }
    (o.ended = !1), o.appendBuffer(e);
  }
  blockBuffers(e, n = this.getSourceBufferTypes()) {
    if (!n.length) {
      le.log('[buffer-controller]: Blocking operation requested, but no SourceBuffers exist'), Promise.resolve().then(e);
      return;
    }
    const { operationQueue: r } = this,
      i = n.map((o) => r.appendBlocker(o));
    Promise.all(i).then(() => {
      e(),
        n.forEach((o) => {
          const a = this.sourceBuffer[o];
          (a != null && a.updating) || r.shiftAndExecuteNext(o);
        });
    });
  }
  getSourceBufferTypes() {
    return Object.keys(this.sourceBuffer);
  }
  addBufferListener(e, n, r) {
    const i = this.sourceBuffer[e];
    if (!i) return;
    const o = r.bind(this, e);
    this.listeners[e].push({ event: n, listener: o }), i.addEventListener(n, o);
  }
  removeBufferListeners(e) {
    const n = this.sourceBuffer[e];
    n &&
      this.listeners[e].forEach((r) => {
        n.removeEventListener(r.event, r.listener);
      });
  }
}
const p2 = {
    42: 225,
    92: 233,
    94: 237,
    95: 243,
    96: 250,
    123: 231,
    124: 247,
    125: 209,
    126: 241,
    127: 9608,
    128: 174,
    129: 176,
    130: 189,
    131: 191,
    132: 8482,
    133: 162,
    134: 163,
    135: 9834,
    136: 224,
    137: 32,
    138: 232,
    139: 226,
    140: 234,
    141: 238,
    142: 244,
    143: 251,
    144: 193,
    145: 201,
    146: 211,
    147: 218,
    148: 220,
    149: 252,
    150: 8216,
    151: 161,
    152: 42,
    153: 8217,
    154: 9473,
    155: 169,
    156: 8480,
    157: 8226,
    158: 8220,
    159: 8221,
    160: 192,
    161: 194,
    162: 199,
    163: 200,
    164: 202,
    165: 203,
    166: 235,
    167: 206,
    168: 207,
    169: 239,
    170: 212,
    171: 217,
    172: 249,
    173: 219,
    174: 171,
    175: 187,
    176: 195,
    177: 227,
    178: 205,
    179: 204,
    180: 236,
    181: 210,
    182: 242,
    183: 213,
    184: 245,
    185: 123,
    186: 125,
    187: 92,
    188: 94,
    189: 95,
    190: 124,
    191: 8764,
    192: 196,
    193: 228,
    194: 214,
    195: 246,
    196: 223,
    197: 165,
    198: 164,
    199: 9475,
    200: 197,
    201: 229,
    202: 216,
    203: 248,
    204: 9487,
    205: 9491,
    206: 9495,
    207: 9499,
  },
  J_ = function (e) {
    let n = e;
    return p2.hasOwnProperty(e) && (n = p2[e]), String.fromCharCode(n);
  },
  Hr = 15,
  Ei = 100,
  sP = { 17: 1, 18: 3, 21: 5, 22: 7, 23: 9, 16: 11, 19: 12, 20: 14 },
  lP = { 17: 2, 18: 4, 21: 6, 22: 8, 23: 10, 19: 13, 20: 15 },
  uP = { 25: 1, 26: 3, 29: 5, 30: 7, 31: 9, 24: 11, 27: 12, 28: 14 },
  cP = { 25: 2, 26: 4, 29: 6, 30: 8, 31: 10, 27: 13, 28: 15 },
  dP = ['white', 'green', 'blue', 'cyan', 'red', 'yellow', 'magenta', 'black', 'transparent'];
class fP {
  constructor() {
    (this.time = null), (this.verboseLevel = 0);
  }
  log(e, n) {
    if (this.verboseLevel >= e) {
      const r = typeof n == 'function' ? n() : n;
      le.log(`${this.time} [${e}] ${r}`);
    }
  }
}
const So = function (e) {
  const n = [];
  for (let r = 0; r < e.length; r++) n.push(e[r].toString(16));
  return n;
};
class e5 {
  constructor(e, n, r, i, o) {
    (this.foreground = void 0),
      (this.underline = void 0),
      (this.italics = void 0),
      (this.background = void 0),
      (this.flash = void 0),
      (this.foreground = e || 'white'),
      (this.underline = n || !1),
      (this.italics = r || !1),
      (this.background = i || 'black'),
      (this.flash = o || !1);
  }
  reset() {
    (this.foreground = 'white'), (this.underline = !1), (this.italics = !1), (this.background = 'black'), (this.flash = !1);
  }
  setStyles(e) {
    const n = ['foreground', 'underline', 'italics', 'background', 'flash'];
    for (let r = 0; r < n.length; r++) {
      const i = n[r];
      e.hasOwnProperty(i) && (this[i] = e[i]);
    }
  }
  isDefault() {
    return this.foreground === 'white' && !this.underline && !this.italics && this.background === 'black' && !this.flash;
  }
  equals(e) {
    return this.foreground === e.foreground && this.underline === e.underline && this.italics === e.italics && this.background === e.background && this.flash === e.flash;
  }
  copy(e) {
    (this.foreground = e.foreground), (this.underline = e.underline), (this.italics = e.italics), (this.background = e.background), (this.flash = e.flash);
  }
  toString() {
    return 'color=' + this.foreground + ', underline=' + this.underline + ', italics=' + this.italics + ', background=' + this.background + ', flash=' + this.flash;
  }
}
class hP {
  constructor(e, n, r, i, o, a) {
    (this.uchar = void 0), (this.penState = void 0), (this.uchar = e || ' '), (this.penState = new e5(n, r, i, o, a));
  }
  reset() {
    (this.uchar = ' '), this.penState.reset();
  }
  setChar(e, n) {
    (this.uchar = e), this.penState.copy(n);
  }
  setPenState(e) {
    this.penState.copy(e);
  }
  equals(e) {
    return this.uchar === e.uchar && this.penState.equals(e.penState);
  }
  copy(e) {
    (this.uchar = e.uchar), this.penState.copy(e.penState);
  }
  isEmpty() {
    return this.uchar === ' ' && this.penState.isDefault();
  }
}
class mP {
  constructor(e) {
    (this.chars = void 0), (this.pos = void 0), (this.currPenState = void 0), (this.cueStartTime = void 0), (this.logger = void 0), (this.chars = []);
    for (let n = 0; n < Ei; n++) this.chars.push(new hP());
    (this.logger = e), (this.pos = 0), (this.currPenState = new e5());
  }
  equals(e) {
    let n = !0;
    for (let r = 0; r < Ei; r++)
      if (!this.chars[r].equals(e.chars[r])) {
        n = !1;
        break;
      }
    return n;
  }
  copy(e) {
    for (let n = 0; n < Ei; n++) this.chars[n].copy(e.chars[n]);
  }
  isEmpty() {
    let e = !0;
    for (let n = 0; n < Ei; n++)
      if (!this.chars[n].isEmpty()) {
        e = !1;
        break;
      }
    return e;
  }
  setCursor(e) {
    this.pos !== e && (this.pos = e),
      this.pos < 0 ? (this.logger.log(3, 'Negative cursor position ' + this.pos), (this.pos = 0)) : this.pos > Ei && (this.logger.log(3, 'Too large cursor position ' + this.pos), (this.pos = Ei));
  }
  moveCursor(e) {
    const n = this.pos + e;
    if (e > 1) for (let r = this.pos + 1; r < n + 1; r++) this.chars[r].setPenState(this.currPenState);
    this.setCursor(n);
  }
  backSpace() {
    this.moveCursor(-1), this.chars[this.pos].setChar(' ', this.currPenState);
  }
  insertChar(e) {
    e >= 144 && this.backSpace();
    const n = J_(e);
    if (this.pos >= Ei) {
      this.logger.log(0, () => 'Cannot insert ' + e.toString(16) + ' (' + n + ') at position ' + this.pos + '. Skipping it!');
      return;
    }
    this.chars[this.pos].setChar(n, this.currPenState), this.moveCursor(1);
  }
  clearFromPos(e) {
    let n;
    for (n = e; n < Ei; n++) this.chars[n].reset();
  }
  clear() {
    this.clearFromPos(0), (this.pos = 0), this.currPenState.reset();
  }
  clearToEndOfRow() {
    this.clearFromPos(this.pos);
  }
  getTextString() {
    const e = [];
    let n = !0;
    for (let r = 0; r < Ei; r++) {
      const i = this.chars[r].uchar;
      i !== ' ' && (n = !1), e.push(i);
    }
    return n ? '' : e.join('');
  }
  setPenStyles(e) {
    this.currPenState.setStyles(e), this.chars[this.pos].setPenState(this.currPenState);
  }
}
class Jf {
  constructor(e) {
    (this.rows = void 0), (this.currRow = void 0), (this.nrRollUpRows = void 0), (this.lastOutputScreen = void 0), (this.logger = void 0), (this.rows = []);
    for (let n = 0; n < Hr; n++) this.rows.push(new mP(e));
    (this.logger = e), (this.currRow = Hr - 1), (this.nrRollUpRows = null), (this.lastOutputScreen = null), this.reset();
  }
  reset() {
    for (let e = 0; e < Hr; e++) this.rows[e].clear();
    this.currRow = Hr - 1;
  }
  equals(e) {
    let n = !0;
    for (let r = 0; r < Hr; r++)
      if (!this.rows[r].equals(e.rows[r])) {
        n = !1;
        break;
      }
    return n;
  }
  copy(e) {
    for (let n = 0; n < Hr; n++) this.rows[n].copy(e.rows[n]);
  }
  isEmpty() {
    let e = !0;
    for (let n = 0; n < Hr; n++)
      if (!this.rows[n].isEmpty()) {
        e = !1;
        break;
      }
    return e;
  }
  backSpace() {
    this.rows[this.currRow].backSpace();
  }
  clearToEndOfRow() {
    this.rows[this.currRow].clearToEndOfRow();
  }
  insertChar(e) {
    this.rows[this.currRow].insertChar(e);
  }
  setPen(e) {
    this.rows[this.currRow].setPenStyles(e);
  }
  moveCursor(e) {
    this.rows[this.currRow].moveCursor(e);
  }
  setCursor(e) {
    this.logger.log(2, 'setCursor: ' + e), this.rows[this.currRow].setCursor(e);
  }
  setPAC(e) {
    this.logger.log(2, () => 'pacData = ' + JSON.stringify(e));
    let n = e.row - 1;
    if ((this.nrRollUpRows && n < this.nrRollUpRows - 1 && (n = this.nrRollUpRows - 1), this.nrRollUpRows && this.currRow !== n)) {
      for (let s = 0; s < Hr; s++) this.rows[s].clear();
      const o = this.currRow + 1 - this.nrRollUpRows,
        a = this.lastOutputScreen;
      if (a) {
        const s = a.rows[o].cueStartTime,
          l = this.logger.time;
        if (s && l !== null && s < l) for (let u = 0; u < this.nrRollUpRows; u++) this.rows[n - this.nrRollUpRows + u + 1].copy(a.rows[o + u]);
      }
    }
    this.currRow = n;
    const r = this.rows[this.currRow];
    if (e.indent !== null) {
      const o = e.indent,
        a = Math.max(o - 1, 0);
      r.setCursor(e.indent), (e.color = r.chars[a].penState.foreground);
    }
    const i = { foreground: e.color, underline: e.underline, italics: e.italics, background: 'black', flash: !1 };
    this.setPen(i);
  }
  setBkgData(e) {
    this.logger.log(2, () => 'bkgData = ' + JSON.stringify(e)), this.backSpace(), this.setPen(e), this.insertChar(32);
  }
  setRollUpRows(e) {
    this.nrRollUpRows = e;
  }
  rollUp() {
    if (this.nrRollUpRows === null) {
      this.logger.log(3, 'roll_up but nrRollUpRows not set yet');
      return;
    }
    this.logger.log(1, () => this.getDisplayText());
    const e = this.currRow + 1 - this.nrRollUpRows,
      n = this.rows.splice(e, 1)[0];
    n.clear(), this.rows.splice(this.currRow, 0, n), this.logger.log(2, 'Rolling up');
  }
  getDisplayText(e) {
    e = e || !1;
    const n = [];
    let r = '',
      i = -1;
    for (let o = 0; o < Hr; o++) {
      const a = this.rows[o].getTextString();
      a && ((i = o + 1), e ? n.push('Row ' + i + ": '" + a + "'") : n.push(a.trim()));
    }
    return (
      n.length > 0 &&
        (e
          ? (r = '[' + n.join(' | ') + ']')
          : (r = n.join(`
`))),
      r
    );
  }
  getTextAndFormat() {
    return this.rows;
  }
}
class g2 {
  constructor(e, n, r) {
    (this.chNr = void 0),
      (this.outputFilter = void 0),
      (this.mode = void 0),
      (this.verbose = void 0),
      (this.displayedMemory = void 0),
      (this.nonDisplayedMemory = void 0),
      (this.lastOutputScreen = void 0),
      (this.currRollUpRow = void 0),
      (this.writeScreen = void 0),
      (this.cueStartTime = void 0),
      (this.logger = void 0),
      (this.chNr = e),
      (this.outputFilter = n),
      (this.mode = null),
      (this.verbose = 0),
      (this.displayedMemory = new Jf(r)),
      (this.nonDisplayedMemory = new Jf(r)),
      (this.lastOutputScreen = new Jf(r)),
      (this.currRollUpRow = this.displayedMemory.rows[Hr - 1]),
      (this.writeScreen = this.displayedMemory),
      (this.mode = null),
      (this.cueStartTime = null),
      (this.logger = r);
  }
  reset() {
    (this.mode = null),
      this.displayedMemory.reset(),
      this.nonDisplayedMemory.reset(),
      this.lastOutputScreen.reset(),
      this.outputFilter.reset(),
      (this.currRollUpRow = this.displayedMemory.rows[Hr - 1]),
      (this.writeScreen = this.displayedMemory),
      (this.mode = null),
      (this.cueStartTime = null);
  }
  getHandler() {
    return this.outputFilter;
  }
  setHandler(e) {
    this.outputFilter = e;
  }
  setPAC(e) {
    this.writeScreen.setPAC(e);
  }
  setBkgData(e) {
    this.writeScreen.setBkgData(e);
  }
  setMode(e) {
    e !== this.mode &&
      ((this.mode = e),
      this.logger.log(2, () => 'MODE=' + e),
      this.mode === 'MODE_POP-ON' ? (this.writeScreen = this.nonDisplayedMemory) : ((this.writeScreen = this.displayedMemory), this.writeScreen.reset()),
      this.mode !== 'MODE_ROLL-UP' && ((this.displayedMemory.nrRollUpRows = null), (this.nonDisplayedMemory.nrRollUpRows = null)),
      (this.mode = e));
  }
  insertChars(e) {
    for (let r = 0; r < e.length; r++) this.writeScreen.insertChar(e[r]);
    const n = this.writeScreen === this.displayedMemory ? 'DISP' : 'NON_DISP';
    this.logger.log(2, () => n + ': ' + this.writeScreen.getDisplayText(!0)),
      (this.mode === 'MODE_PAINT-ON' || this.mode === 'MODE_ROLL-UP') && (this.logger.log(1, () => 'DISPLAYED: ' + this.displayedMemory.getDisplayText(!0)), this.outputDataUpdate());
  }
  ccRCL() {
    this.logger.log(2, 'RCL - Resume Caption Loading'), this.setMode('MODE_POP-ON');
  }
  ccBS() {
    this.logger.log(2, 'BS - BackSpace'), this.mode !== 'MODE_TEXT' && (this.writeScreen.backSpace(), this.writeScreen === this.displayedMemory && this.outputDataUpdate());
  }
  ccAOF() {}
  ccAON() {}
  ccDER() {
    this.logger.log(2, 'DER- Delete to End of Row'), this.writeScreen.clearToEndOfRow(), this.outputDataUpdate();
  }
  ccRU(e) {
    this.logger.log(2, 'RU(' + e + ') - Roll Up'), (this.writeScreen = this.displayedMemory), this.setMode('MODE_ROLL-UP'), this.writeScreen.setRollUpRows(e);
  }
  ccFON() {
    this.logger.log(2, 'FON - Flash On'), this.writeScreen.setPen({ flash: !0 });
  }
  ccRDC() {
    this.logger.log(2, 'RDC - Resume Direct Captioning'), this.setMode('MODE_PAINT-ON');
  }
  ccTR() {
    this.logger.log(2, 'TR'), this.setMode('MODE_TEXT');
  }
  ccRTD() {
    this.logger.log(2, 'RTD'), this.setMode('MODE_TEXT');
  }
  ccEDM() {
    this.logger.log(2, 'EDM - Erase Displayed Memory'), this.displayedMemory.reset(), this.outputDataUpdate(!0);
  }
  ccCR() {
    this.logger.log(2, 'CR - Carriage Return'), this.writeScreen.rollUp(), this.outputDataUpdate(!0);
  }
  ccENM() {
    this.logger.log(2, 'ENM - Erase Non-displayed Memory'), this.nonDisplayedMemory.reset();
  }
  ccEOC() {
    if ((this.logger.log(2, 'EOC - End Of Caption'), this.mode === 'MODE_POP-ON')) {
      const e = this.displayedMemory;
      (this.displayedMemory = this.nonDisplayedMemory),
        (this.nonDisplayedMemory = e),
        (this.writeScreen = this.nonDisplayedMemory),
        this.logger.log(1, () => 'DISP: ' + this.displayedMemory.getDisplayText());
    }
    this.outputDataUpdate(!0);
  }
  ccTO(e) {
    this.logger.log(2, 'TO(' + e + ') - Tab Offset'), this.writeScreen.moveCursor(e);
  }
  ccMIDROW(e) {
    const n = { flash: !1 };
    if (((n.underline = e % 2 === 1), (n.italics = e >= 46), n.italics)) n.foreground = 'white';
    else {
      const r = Math.floor(e / 2) - 16,
        i = ['white', 'green', 'blue', 'cyan', 'red', 'yellow', 'magenta'];
      n.foreground = i[r];
    }
    this.logger.log(2, 'MIDROW: ' + JSON.stringify(n)), this.writeScreen.setPen(n);
  }
  outputDataUpdate(e = !1) {
    const n = this.logger.time;
    n !== null &&
      this.outputFilter &&
      (this.cueStartTime === null && !this.displayedMemory.isEmpty()
        ? (this.cueStartTime = n)
        : this.displayedMemory.equals(this.lastOutputScreen) ||
          (this.outputFilter.newCue(this.cueStartTime, n, this.lastOutputScreen),
          e && this.outputFilter.dispatchCue && this.outputFilter.dispatchCue(),
          (this.cueStartTime = this.displayedMemory.isEmpty() ? null : n)),
      this.lastOutputScreen.copy(this.displayedMemory));
  }
  cueSplitAtTime(e) {
    this.outputFilter && (this.displayedMemory.isEmpty() || (this.outputFilter.newCue && this.outputFilter.newCue(this.cueStartTime, e, this.displayedMemory), (this.cueStartTime = e)));
  }
}
class v2 {
  constructor(e, n, r) {
    (this.channels = void 0), (this.currentChannel = 0), (this.cmdHistory = void 0), (this.logger = void 0);
    const i = new fP();
    (this.channels = [null, new g2(e, n, i), new g2(e + 1, r, i)]), (this.cmdHistory = _2()), (this.logger = i);
  }
  getHandler(e) {
    return this.channels[e].getHandler();
  }
  setHandler(e, n) {
    this.channels[e].setHandler(n);
  }
  addData(e, n) {
    let r,
      i,
      o,
      a = !1;
    this.logger.time = e;
    for (let s = 0; s < n.length; s += 2)
      if (((i = n[s] & 127), (o = n[s + 1] & 127), !(i === 0 && o === 0))) {
        if (
          (this.logger.log(3, '[' + So([n[s], n[s + 1]]) + '] -> (' + So([i, o]) + ')'),
          (r = this.parseCmd(i, o)),
          r || (r = this.parseMidrow(i, o)),
          r || (r = this.parsePAC(i, o)),
          r || (r = this.parseBackgroundAttributes(i, o)),
          !r && ((a = this.parseChars(i, o)), a))
        ) {
          const l = this.currentChannel;
          l && l > 0 ? this.channels[l].insertChars(a) : this.logger.log(2, 'No channel found yet. TEXT-MODE?');
        }
        !r && !a && this.logger.log(2, "Couldn't parse cleaned data " + So([i, o]) + ' orig: ' + So([n[s], n[s + 1]]));
      }
  }
  parseCmd(e, n) {
    const { cmdHistory: r } = this,
      i = (e === 20 || e === 28 || e === 21 || e === 29) && n >= 32 && n <= 47,
      o = (e === 23 || e === 31) && n >= 33 && n <= 35;
    if (!(i || o)) return !1;
    if (y2(e, n, r)) return fa(null, null, r), this.logger.log(3, 'Repeated command (' + So([e, n]) + ') is dropped'), !0;
    const a = e === 20 || e === 21 || e === 23 ? 1 : 2,
      s = this.channels[a];
    return (
      e === 20 || e === 21 || e === 28 || e === 29
        ? n === 32
          ? s.ccRCL()
          : n === 33
          ? s.ccBS()
          : n === 34
          ? s.ccAOF()
          : n === 35
          ? s.ccAON()
          : n === 36
          ? s.ccDER()
          : n === 37
          ? s.ccRU(2)
          : n === 38
          ? s.ccRU(3)
          : n === 39
          ? s.ccRU(4)
          : n === 40
          ? s.ccFON()
          : n === 41
          ? s.ccRDC()
          : n === 42
          ? s.ccTR()
          : n === 43
          ? s.ccRTD()
          : n === 44
          ? s.ccEDM()
          : n === 45
          ? s.ccCR()
          : n === 46
          ? s.ccENM()
          : n === 47 && s.ccEOC()
        : s.ccTO(n - 32),
      fa(e, n, r),
      (this.currentChannel = a),
      !0
    );
  }
  parseMidrow(e, n) {
    let r = 0;
    if ((e === 17 || e === 25) && n >= 32 && n <= 47) {
      if ((e === 17 ? (r = 1) : (r = 2), r !== this.currentChannel)) return this.logger.log(0, 'Mismatch channel in midrow parsing'), !1;
      const i = this.channels[r];
      return i ? (i.ccMIDROW(n), this.logger.log(3, 'MIDROW (' + So([e, n]) + ')'), !0) : !1;
    }
    return !1;
  }
  parsePAC(e, n) {
    let r;
    const i = this.cmdHistory,
      o = ((e >= 17 && e <= 23) || (e >= 25 && e <= 31)) && n >= 64 && n <= 127,
      a = (e === 16 || e === 24) && n >= 64 && n <= 95;
    if (!(o || a)) return !1;
    if (y2(e, n, i)) return fa(null, null, i), !0;
    const s = e <= 23 ? 1 : 2;
    n >= 64 && n <= 95 ? (r = s === 1 ? sP[e] : uP[e]) : (r = s === 1 ? lP[e] : cP[e]);
    const l = this.channels[s];
    return l ? (l.setPAC(this.interpretPAC(r, n)), fa(e, n, i), (this.currentChannel = s), !0) : !1;
  }
  interpretPAC(e, n) {
    let r;
    const i = { color: null, italics: !1, indent: null, underline: !1, row: e };
    return (
      n > 95 ? (r = n - 96) : (r = n - 64),
      (i.underline = (r & 1) === 1),
      r <= 13
        ? (i.color = ['white', 'green', 'blue', 'cyan', 'red', 'yellow', 'magenta', 'white'][Math.floor(r / 2)])
        : r <= 15
        ? ((i.italics = !0), (i.color = 'white'))
        : (i.indent = Math.floor((r - 16) / 2) * 4),
      i
    );
  }
  parseChars(e, n) {
    let r,
      i = null,
      o = null;
    if ((e >= 25 ? ((r = 2), (o = e - 8)) : ((r = 1), (o = e)), o >= 17 && o <= 19)) {
      let a;
      o === 17 ? (a = n + 80) : o === 18 ? (a = n + 112) : (a = n + 144), this.logger.log(2, "Special char '" + J_(a) + "' in channel " + r), (i = [a]);
    } else e >= 32 && e <= 127 && (i = n === 0 ? [e] : [e, n]);
    if (i) {
      const a = So(i);
      this.logger.log(3, 'Char codes =  ' + a.join(',')), fa(e, n, this.cmdHistory);
    }
    return i;
  }
  parseBackgroundAttributes(e, n) {
    const r = (e === 16 || e === 24) && n >= 32 && n <= 47,
      i = (e === 23 || e === 31) && n >= 45 && n <= 47;
    if (!(r || i)) return !1;
    let o;
    const a = {};
    e === 16 || e === 24
      ? ((o = Math.floor((n - 32) / 2)), (a.background = dP[o]), n % 2 === 1 && (a.background = a.background + '_semi'))
      : n === 45
      ? (a.background = 'transparent')
      : ((a.foreground = 'black'), n === 47 && (a.underline = !0));
    const s = e <= 23 ? 1 : 2;
    return this.channels[s].setBkgData(a), fa(e, n, this.cmdHistory), !0;
  }
  reset() {
    for (let e = 0; e < Object.keys(this.channels).length; e++) {
      const n = this.channels[e];
      n && n.reset();
    }
    this.cmdHistory = _2();
  }
  cueSplitAtTime(e) {
    for (let n = 0; n < this.channels.length; n++) {
      const r = this.channels[n];
      r && r.cueSplitAtTime(e);
    }
  }
}
function fa(t, e, n) {
  (n.a = t), (n.b = e);
}
function y2(t, e, n) {
  return n.a === t && n.b === e;
}
function _2() {
  return { a: null, b: null };
}
class Cu {
  constructor(e, n) {
    (this.timelineController = void 0),
      (this.cueRanges = []),
      (this.trackName = void 0),
      (this.startTime = null),
      (this.endTime = null),
      (this.screen = null),
      (this.timelineController = e),
      (this.trackName = n);
  }
  dispatchCue() {
    this.startTime !== null && (this.timelineController.addCues(this.trackName, this.startTime, this.endTime, this.screen, this.cueRanges), (this.startTime = null));
  }
  newCue(e, n, r) {
    (this.startTime === null || this.startTime > e) && (this.startTime = e), (this.endTime = n), (this.screen = r), this.timelineController.createCaptionsTrack(this.trackName);
  }
  reset() {
    (this.cueRanges = []), (this.startTime = null);
  }
}
var Yp = (function () {
  if (typeof self < 'u' && self.VTTCue) return self.VTTCue;
  const t = ['', 'lr', 'rl'],
    e = ['start', 'middle', 'end', 'left', 'right'];
  function n(s, l) {
    if (typeof l != 'string' || !Array.isArray(s)) return !1;
    const u = l.toLowerCase();
    return ~s.indexOf(u) ? u : !1;
  }
  function r(s) {
    return n(t, s);
  }
  function i(s) {
    return n(e, s);
  }
  function o(s, ...l) {
    let u = 1;
    for (; u < arguments.length; u++) {
      const c = arguments[u];
      for (const d in c) s[d] = c[d];
    }
    return s;
  }
  function a(s, l, u) {
    const c = this,
      d = { enumerable: !0 };
    c.hasBeenReset = !1;
    let f = '',
      h = !1,
      m = s,
      g = l,
      b = u,
      _ = null,
      y = '',
      T = !0,
      w = 'auto',
      I = 'start',
      O = 50,
      x = 'middle',
      L = 50,
      D = 'middle';
    Object.defineProperty(
      c,
      'id',
      o({}, d, {
        get: function () {
          return f;
        },
        set: function (C) {
          f = '' + C;
        },
      }),
    ),
      Object.defineProperty(
        c,
        'pauseOnExit',
        o({}, d, {
          get: function () {
            return h;
          },
          set: function (C) {
            h = !!C;
          },
        }),
      ),
      Object.defineProperty(
        c,
        'startTime',
        o({}, d, {
          get: function () {
            return m;
          },
          set: function (C) {
            if (typeof C != 'number') throw new TypeError('Start time must be set to a number.');
            (m = C), (this.hasBeenReset = !0);
          },
        }),
      ),
      Object.defineProperty(
        c,
        'endTime',
        o({}, d, {
          get: function () {
            return g;
          },
          set: function (C) {
            if (typeof C != 'number') throw new TypeError('End time must be set to a number.');
            (g = C), (this.hasBeenReset = !0);
          },
        }),
      ),
      Object.defineProperty(
        c,
        'text',
        o({}, d, {
          get: function () {
            return b;
          },
          set: function (C) {
            (b = '' + C), (this.hasBeenReset = !0);
          },
        }),
      ),
      Object.defineProperty(
        c,
        'region',
        o({}, d, {
          get: function () {
            return _;
          },
          set: function (C) {
            (_ = C), (this.hasBeenReset = !0);
          },
        }),
      ),
      Object.defineProperty(
        c,
        'vertical',
        o({}, d, {
          get: function () {
            return y;
          },
          set: function (C) {
            const G = r(C);
            if (G === !1) throw new SyntaxError('An invalid or illegal string was specified.');
            (y = G), (this.hasBeenReset = !0);
          },
        }),
      ),
      Object.defineProperty(
        c,
        'snapToLines',
        o({}, d, {
          get: function () {
            return T;
          },
          set: function (C) {
            (T = !!C), (this.hasBeenReset = !0);
          },
        }),
      ),
      Object.defineProperty(
        c,
        'line',
        o({}, d, {
          get: function () {
            return w;
          },
          set: function (C) {
            if (typeof C != 'number' && C !== 'auto') throw new SyntaxError('An invalid number or illegal string was specified.');
            (w = C), (this.hasBeenReset = !0);
          },
        }),
      ),
      Object.defineProperty(
        c,
        'lineAlign',
        o({}, d, {
          get: function () {
            return I;
          },
          set: function (C) {
            const G = i(C);
            if (!G) throw new SyntaxError('An invalid or illegal string was specified.');
            (I = G), (this.hasBeenReset = !0);
          },
        }),
      ),
      Object.defineProperty(
        c,
        'position',
        o({}, d, {
          get: function () {
            return O;
          },
          set: function (C) {
            if (C < 0 || C > 100) throw new Error('Position must be between 0 and 100.');
            (O = C), (this.hasBeenReset = !0);
          },
        }),
      ),
      Object.defineProperty(
        c,
        'positionAlign',
        o({}, d, {
          get: function () {
            return x;
          },
          set: function (C) {
            const G = i(C);
            if (!G) throw new SyntaxError('An invalid or illegal string was specified.');
            (x = G), (this.hasBeenReset = !0);
          },
        }),
      ),
      Object.defineProperty(
        c,
        'size',
        o({}, d, {
          get: function () {
            return L;
          },
          set: function (C) {
            if (C < 0 || C > 100) throw new Error('Size must be between 0 and 100.');
            (L = C), (this.hasBeenReset = !0);
          },
        }),
      ),
      Object.defineProperty(
        c,
        'align',
        o({}, d, {
          get: function () {
            return D;
          },
          set: function (C) {
            const G = i(C);
            if (!G) throw new SyntaxError('An invalid or illegal string was specified.');
            (D = G), (this.hasBeenReset = !0);
          },
        }),
      ),
      (c.displayState = void 0);
  }
  return (
    (a.prototype.getCueAsHTML = function () {
      return self.WebVTT.convertCueToDOMTree(self, this.text);
    }),
    a
  );
})();
class pP {
  decode(e, n) {
    if (!e) return '';
    if (typeof e != 'string') throw new Error('Error - expected string data.');
    return decodeURIComponent(encodeURIComponent(e));
  }
}
function t5(t) {
  function e(r, i, o, a) {
    return (r | 0) * 3600 + (i | 0) * 60 + (o | 0) + parseFloat(a || 0);
  }
  const n = t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);
  return n ? (parseFloat(n[2]) > 59 ? e(n[2], n[3], 0, n[4]) : e(n[1], n[2], n[3], n[4])) : null;
}
class gP {
  constructor() {
    this.values = Object.create(null);
  }
  set(e, n) {
    !this.get(e) && n !== '' && (this.values[e] = n);
  }
  get(e, n, r) {
    return r ? (this.has(e) ? this.values[e] : n[r]) : this.has(e) ? this.values[e] : n;
  }
  has(e) {
    return e in this.values;
  }
  alt(e, n, r) {
    for (let i = 0; i < r.length; ++i)
      if (n === r[i]) {
        this.set(e, n);
        break;
      }
  }
  integer(e, n) {
    /^-?\d+$/.test(n) && this.set(e, parseInt(n, 10));
  }
  percent(e, n) {
    if (/^([\d]{1,3})(\.[\d]*)?%$/.test(n)) {
      const r = parseFloat(n);
      if (r >= 0 && r <= 100) return this.set(e, r), !0;
    }
    return !1;
  }
}
function n5(t, e, n, r) {
  const i = r ? t.split(r) : [t];
  for (const o in i) {
    if (typeof i[o] != 'string') continue;
    const a = i[o].split(n);
    if (a.length !== 2) continue;
    const s = a[0],
      l = a[1];
    e(s, l);
  }
}
const em = new Yp(0, 0, ''),
  Ru = em.align === 'middle' ? 'middle' : 'center';
function vP(t, e, n) {
  const r = t;
  function i() {
    const s = t5(t);
    if (s === null) throw new Error('Malformed timestamp: ' + r);
    return (t = t.replace(/^[^\sa-zA-Z-]+/, '')), s;
  }
  function o(s, l) {
    const u = new gP();
    n5(
      s,
      function (f, h) {
        let m;
        switch (f) {
          case 'region':
            for (let g = n.length - 1; g >= 0; g--)
              if (n[g].id === h) {
                u.set(f, n[g].region);
                break;
              }
            break;
          case 'vertical':
            u.alt(f, h, ['rl', 'lr']);
            break;
          case 'line':
            (m = h.split(',')), u.integer(f, m[0]), u.percent(f, m[0]) && u.set('snapToLines', !1), u.alt(f, m[0], ['auto']), m.length === 2 && u.alt('lineAlign', m[1], ['start', Ru, 'end']);
            break;
          case 'position':
            (m = h.split(',')), u.percent(f, m[0]), m.length === 2 && u.alt('positionAlign', m[1], ['start', Ru, 'end', 'line-left', 'line-right', 'auto']);
            break;
          case 'size':
            u.percent(f, h);
            break;
          case 'align':
            u.alt(f, h, ['start', Ru, 'end', 'left', 'right']);
            break;
        }
      },
      /:/,
      /\s/,
    ),
      (l.region = u.get('region', null)),
      (l.vertical = u.get('vertical', ''));
    let c = u.get('line', 'auto');
    c === 'auto' && em.line === -1 && (c = -1),
      (l.line = c),
      (l.lineAlign = u.get('lineAlign', 'start')),
      (l.snapToLines = u.get('snapToLines', !0)),
      (l.size = u.get('size', 100)),
      (l.align = u.get('align', Ru));
    let d = u.get('position', 'auto');
    d === 'auto' && em.position === 50 && (d = l.align === 'start' || l.align === 'left' ? 0 : l.align === 'end' || l.align === 'right' ? 100 : 50), (l.position = d);
  }
  function a() {
    t = t.replace(/^\s+/, '');
  }
  if ((a(), (e.startTime = i()), a(), t.slice(0, 3) !== '-->')) throw new Error("Malformed time stamp (time stamps must be separated by '-->'): " + r);
  (t = t.slice(3)), a(), (e.endTime = i()), a(), o(t, e);
}
function r5(t) {
  return t.replace(
    /<br(?: \/)?>/gi,
    `
`,
  );
}
class yP {
  constructor() {
    (this.state = 'INITIAL'), (this.buffer = ''), (this.decoder = new pP()), (this.regionList = []), (this.cue = null), (this.oncue = void 0), (this.onparsingerror = void 0), (this.onflush = void 0);
  }
  parse(e) {
    const n = this;
    e && (n.buffer += n.decoder.decode(e, { stream: !0 }));
    function r() {
      let o = n.buffer,
        a = 0;
      for (
        o = r5(o);
        a < o.length &&
        o[a] !== '\r' &&
        o[a] !==
          `
`;

      )
        ++a;
      const s = o.slice(0, a);
      return (
        o[a] === '\r' && ++a,
        o[a] ===
          `
` && ++a,
        (n.buffer = o.slice(a)),
        s
      );
    }
    function i(o) {
      n5(o, function (a, s) {}, /:/);
    }
    try {
      let o = '';
      if (n.state === 'INITIAL') {
        if (!/\r\n|\n/.test(n.buffer)) return this;
        o = r();
        const s = o.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);
        if (!(s != null && s[0])) throw new Error('Malformed WebVTT signature.');
        n.state = 'HEADER';
      }
      let a = !1;
      for (; n.buffer; ) {
        if (!/\r\n|\n/.test(n.buffer)) return this;
        switch ((a ? (a = !1) : (o = r()), n.state)) {
          case 'HEADER':
            /:/.test(o) ? i(o) : o || (n.state = 'ID');
            continue;
          case 'NOTE':
            o || (n.state = 'ID');
            continue;
          case 'ID':
            if (/^NOTE($|[ \t])/.test(o)) {
              n.state = 'NOTE';
              break;
            }
            if (!o) continue;
            if (((n.cue = new Yp(0, 0, '')), (n.state = 'CUE'), o.indexOf('-->') === -1)) {
              n.cue.id = o;
              continue;
            }
          case 'CUE':
            if (!n.cue) {
              n.state = 'BADCUE';
              continue;
            }
            try {
              vP(o, n.cue, n.regionList);
            } catch {
              (n.cue = null), (n.state = 'BADCUE');
              continue;
            }
            n.state = 'CUETEXT';
            continue;
          case 'CUETEXT':
            {
              const s = o.indexOf('-->') !== -1;
              if (!o || (s && (a = !0))) {
                n.oncue && n.cue && n.oncue(n.cue), (n.cue = null), (n.state = 'ID');
                continue;
              }
              if (n.cue === null) continue;
              n.cue.text &&
                (n.cue.text += `
`),
                (n.cue.text += o);
            }
            continue;
          case 'BADCUE':
            o || (n.state = 'ID');
        }
      }
    } catch {
      n.state === 'CUETEXT' && n.cue && n.oncue && n.oncue(n.cue), (n.cue = null), (n.state = n.state === 'INITIAL' ? 'BADWEBVTT' : 'BADCUE');
    }
    return this;
  }
  flush() {
    const e = this;
    try {
      if (
        ((e.cue || e.state === 'HEADER') &&
          ((e.buffer += `

`),
          e.parse()),
        e.state === 'INITIAL' || e.state === 'BADWEBVTT')
      )
        throw new Error('Malformed WebVTT signature.');
    } catch (n) {
      e.onparsingerror && e.onparsingerror(n);
    }
    return e.onflush && e.onflush(), this;
  }
}
const _P = /\r\n|\n\r|\n|\r/g,
  eh = function (e, n, r = 0) {
    return e.slice(r, r + n.length) === n;
  },
  SP = function (e) {
    let n = parseInt(e.slice(-3));
    const r = parseInt(e.slice(-6, -4)),
      i = parseInt(e.slice(-9, -7)),
      o = e.length > 9 ? parseInt(e.substring(0, e.indexOf(':'))) : 0;
    if (!rt(n) || !rt(r) || !rt(i) || !rt(o)) throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);
    return (n += 1e3 * r), (n += 60 * 1e3 * i), (n += 60 * 60 * 1e3 * o), n;
  },
  th = function (e) {
    let n = 5381,
      r = e.length;
    for (; r; ) n = (n * 33) ^ e.charCodeAt(--r);
    return (n >>> 0).toString();
  };
function Xp(t, e, n) {
  return th(t.toString()) + th(e.toString()) + th(n);
}
const EP = function (e, n, r) {
  let i = e[n],
    o = e[i.prevCC];
  if (!o || (!o.new && i.new)) {
    (e.ccOffset = e.presentationOffset = i.start), (i.new = !1);
    return;
  }
  for (; (a = o) != null && a.new; ) {
    var a;
    (e.ccOffset += i.start - o.start), (i.new = !1), (i = o), (o = e[i.prevCC]);
  }
  e.presentationOffset = r;
};
function bP(t, e, n, r, i, o, a) {
  const s = new yP(),
    l = hi(new Uint8Array(t))
      .trim()
      .replace(
        _P,
        `
`,
      ).split(`
`),
    u = [],
    c = e ? OD(e.baseTime, e.timescale) : 0;
  let d = '00:00.000',
    f = 0,
    h = 0,
    m,
    g = !0;
  (s.oncue = function (b) {
    const _ = n[r];
    let y = n.ccOffset;
    const T = (f - c) / 9e4;
    if ((_ != null && _.new && (h !== void 0 ? (y = n.ccOffset = _.start) : EP(n, r, T)), T)) {
      if (!e) {
        m = new Error('Missing initPTS for VTT MPEGTS');
        return;
      }
      y = T - n.presentationOffset;
    }
    const w = b.endTime - b.startTime,
      I = Lr((b.startTime + y - h) * 9e4, i * 9e4) / 9e4;
    (b.startTime = Math.max(I, 0)), (b.endTime = Math.max(I + w, 0));
    const O = b.text.trim();
    (b.text = decodeURIComponent(encodeURIComponent(O))), b.id || (b.id = Xp(b.startTime, b.endTime, O)), b.endTime > 0 && u.push(b);
  }),
    (s.onparsingerror = function (b) {
      m = b;
    }),
    (s.onflush = function () {
      if (m) {
        a(m);
        return;
      }
      o(u);
    }),
    l.forEach((b) => {
      if (g)
        if (eh(b, 'X-TIMESTAMP-MAP=')) {
          (g = !1),
            b
              .slice(16)
              .split(',')
              .forEach((_) => {
                eh(_, 'LOCAL:') ? (d = _.slice(6)) : eh(_, 'MPEGTS:') && (f = parseInt(_.slice(7)));
              });
          try {
            h = SP(d) / 1e3;
          } catch (_) {
            m = _;
          }
          return;
        } else b === '' && (g = !1);
      s.parse(
        b +
          `
`,
      );
    }),
    s.flush();
}
const nh = 'stpp.ttml.im1t',
  i5 = /^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,
  o5 = /^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,
  xP = { left: 'start', center: 'center', right: 'end', start: 'start', end: 'end' };
function S2(t, e, n, r) {
  const i = Dt(new Uint8Array(t), ['mdat']);
  if (i.length === 0) {
    r(new Error('Could not parse IMSC1 mdat'));
    return;
  }
  const o = i.map((s) => hi(s)),
    a = PD(e.baseTime, 1, e.timescale);
  try {
    o.forEach((s) => n(TP(s, a)));
  } catch (s) {
    r(s);
  }
}
function TP(t, e) {
  const i = new DOMParser().parseFromString(t, 'text/xml').getElementsByTagName('tt')[0];
  if (!i) throw new Error('Invalid ttml');
  const o = { frameRate: 30, subFrameRate: 1, frameRateMultiplier: 0, tickRate: 0 },
    a = Object.keys(o).reduce((d, f) => ((d[f] = i.getAttribute(`ttp:${f}`) || o[f]), d), {}),
    s = i.getAttribute('xml:space') !== 'preserve',
    l = E2(rh(i, 'styling', 'style')),
    u = E2(rh(i, 'layout', 'region')),
    c = rh(i, 'body', '[begin]');
  return [].map
    .call(c, (d) => {
      const f = a5(d, s);
      if (!f || !d.hasAttribute('begin')) return null;
      const h = oh(d.getAttribute('begin'), a),
        m = oh(d.getAttribute('dur'), a);
      let g = oh(d.getAttribute('end'), a);
      if (h === null) throw b2(d);
      if (g === null) {
        if (m === null) throw b2(d);
        g = h + m;
      }
      const b = new Yp(h - e, g - e, f);
      b.id = Xp(b.startTime, b.endTime, b.text);
      const _ = u[d.getAttribute('region')],
        y = l[d.getAttribute('style')],
        T = wP(_, y, l),
        { textAlign: w } = T;
      if (w) {
        const I = xP[w];
        I && (b.lineAlign = I), (b.align = w);
      }
      return Pn(b, T), b;
    })
    .filter((d) => d !== null);
}
function rh(t, e, n) {
  const r = t.getElementsByTagName(e)[0];
  return r ? [].slice.call(r.querySelectorAll(n)) : [];
}
function E2(t) {
  return t.reduce((e, n) => {
    const r = n.getAttribute('xml:id');
    return r && (e[r] = n), e;
  }, {});
}
function a5(t, e) {
  return [].slice.call(t.childNodes).reduce((n, r, i) => {
    var o;
    return r.nodeName === 'br' && i
      ? n +
          `
`
      : (o = r.childNodes) != null && o.length
      ? a5(r, e)
      : e
      ? n + r.textContent.trim().replace(/\s+/g, ' ')
      : n + r.textContent;
  }, '');
}
function wP(t, e, n) {
  const r = 'http://www.w3.org/ns/ttml#styling';
  let i = null;
  const o = ['displayAlign', 'textAlign', 'color', 'backgroundColor', 'fontSize', 'fontFamily'],
    a = t != null && t.hasAttribute('style') ? t.getAttribute('style') : null;
  return (
    a && n.hasOwnProperty(a) && (i = n[a]),
    o.reduce((s, l) => {
      const u = ih(e, r, l) || ih(t, r, l) || ih(i, r, l);
      return u && (s[l] = u), s;
    }, {})
  );
}
function ih(t, e, n) {
  return t && t.hasAttributeNS(e, n) ? t.getAttributeNS(e, n) : null;
}
function b2(t) {
  return new Error(`Could not parse ttml timestamp ${t}`);
}
function oh(t, e) {
  if (!t) return null;
  let n = t5(t);
  return n === null && (i5.test(t) ? (n = CP(t, e)) : o5.test(t) && (n = RP(t, e))), n;
}
function CP(t, e) {
  const n = i5.exec(t),
    r = (n[4] | 0) + (n[5] | 0) / e.subFrameRate;
  return (n[1] | 0) * 3600 + (n[2] | 0) * 60 + (n[3] | 0) + r / e.frameRate;
}
function RP(t, e) {
  const n = o5.exec(t),
    r = Number(n[1]);
  switch (n[2]) {
    case 'h':
      return r * 3600;
    case 'm':
      return r * 60;
    case 'ms':
      return r * 1e3;
    case 'f':
      return r / e.frameRate;
    case 't':
      return r / e.tickRate;
  }
  return r;
}
class AP {
  constructor(e) {
    if (
      ((this.hls = void 0),
      (this.media = null),
      (this.config = void 0),
      (this.enabled = !0),
      (this.Cues = void 0),
      (this.textTracks = []),
      (this.tracks = []),
      (this.initPTS = []),
      (this.unparsedVttFrags = []),
      (this.captionsTracks = {}),
      (this.nonNativeCaptionsTracks = {}),
      (this.cea608Parser1 = void 0),
      (this.cea608Parser2 = void 0),
      (this.lastSn = -1),
      (this.lastPartIndex = -1),
      (this.prevCC = -1),
      (this.vttCCs = x2()),
      (this.captionsProperties = void 0),
      (this.hls = e),
      (this.config = e.config),
      (this.Cues = e.config.cueHandler),
      (this.captionsProperties = {
        textTrack1: { label: this.config.captionsTextTrack1Label, languageCode: this.config.captionsTextTrack1LanguageCode },
        textTrack2: { label: this.config.captionsTextTrack2Label, languageCode: this.config.captionsTextTrack2LanguageCode },
        textTrack3: { label: this.config.captionsTextTrack3Label, languageCode: this.config.captionsTextTrack3LanguageCode },
        textTrack4: { label: this.config.captionsTextTrack4Label, languageCode: this.config.captionsTextTrack4LanguageCode },
      }),
      this.config.enableCEA708Captions)
    ) {
      const n = new Cu(this, 'textTrack1'),
        r = new Cu(this, 'textTrack2'),
        i = new Cu(this, 'textTrack3'),
        o = new Cu(this, 'textTrack4');
      (this.cea608Parser1 = new v2(1, n, r)), (this.cea608Parser2 = new v2(3, i, o));
    }
    e.on(V.MEDIA_ATTACHING, this.onMediaAttaching, this),
      e.on(V.MEDIA_DETACHING, this.onMediaDetaching, this),
      e.on(V.MANIFEST_LOADING, this.onManifestLoading, this),
      e.on(V.MANIFEST_LOADED, this.onManifestLoaded, this),
      e.on(V.SUBTITLE_TRACKS_UPDATED, this.onSubtitleTracksUpdated, this),
      e.on(V.FRAG_LOADING, this.onFragLoading, this),
      e.on(V.FRAG_LOADED, this.onFragLoaded, this),
      e.on(V.FRAG_PARSING_USERDATA, this.onFragParsingUserdata, this),
      e.on(V.FRAG_DECRYPTED, this.onFragDecrypted, this),
      e.on(V.INIT_PTS_FOUND, this.onInitPtsFound, this),
      e.on(V.SUBTITLE_TRACKS_CLEARED, this.onSubtitleTracksCleared, this),
      e.on(V.BUFFER_FLUSHING, this.onBufferFlushing, this);
  }
  destroy() {
    const { hls: e } = this;
    e.off(V.MEDIA_ATTACHING, this.onMediaAttaching, this),
      e.off(V.MEDIA_DETACHING, this.onMediaDetaching, this),
      e.off(V.MANIFEST_LOADING, this.onManifestLoading, this),
      e.off(V.MANIFEST_LOADED, this.onManifestLoaded, this),
      e.off(V.SUBTITLE_TRACKS_UPDATED, this.onSubtitleTracksUpdated, this),
      e.off(V.FRAG_LOADING, this.onFragLoading, this),
      e.off(V.FRAG_LOADED, this.onFragLoaded, this),
      e.off(V.FRAG_PARSING_USERDATA, this.onFragParsingUserdata, this),
      e.off(V.FRAG_DECRYPTED, this.onFragDecrypted, this),
      e.off(V.INIT_PTS_FOUND, this.onInitPtsFound, this),
      e.off(V.SUBTITLE_TRACKS_CLEARED, this.onSubtitleTracksCleared, this),
      e.off(V.BUFFER_FLUSHING, this.onBufferFlushing, this),
      (this.hls = this.config = this.cea608Parser1 = this.cea608Parser2 = null);
  }
  addCues(e, n, r, i, o) {
    let a = !1;
    for (let s = o.length; s--; ) {
      const l = o[s],
        u = IP(l[0], l[1], n, r);
      if (u >= 0 && ((l[0] = Math.min(l[0], n)), (l[1] = Math.max(l[1], r)), (a = !0), u / (r - n) > 0.5)) return;
    }
    if ((a || o.push([n, r]), this.config.renderTextTracksNatively)) {
      const s = this.captionsTracks[e];
      this.Cues.newCue(s, n, r, i);
    } else {
      const s = this.Cues.newCue(null, n, r, i);
      this.hls.trigger(V.CUES_PARSED, { type: 'captions', cues: s, track: e });
    }
  }
  onInitPtsFound(e, { frag: n, id: r, initPTS: i, timescale: o }) {
    const { unparsedVttFrags: a } = this;
    r === 'main' && (this.initPTS[n.cc] = { baseTime: i, timescale: o }),
      a.length &&
        ((this.unparsedVttFrags = []),
        a.forEach((s) => {
          this.onFragLoaded(V.FRAG_LOADED, s);
        }));
  }
  getExistingTrack(e) {
    const { media: n } = this;
    if (n)
      for (let r = 0; r < n.textTracks.length; r++) {
        const i = n.textTracks[r];
        if (i[e]) return i;
      }
    return null;
  }
  createCaptionsTrack(e) {
    this.config.renderTextTracksNatively ? this.createNativeTrack(e) : this.createNonNativeTrack(e);
  }
  createNativeTrack(e) {
    if (this.captionsTracks[e]) return;
    const { captionsProperties: n, captionsTracks: r, media: i } = this,
      { label: o, languageCode: a } = n[e],
      s = this.getExistingTrack(e);
    if (s) (r[e] = s), Pa(r[e]), A_(r[e], i);
    else {
      const l = this.createTextTrack('captions', o, a);
      l && ((l[e] = !0), (r[e] = l));
    }
  }
  createNonNativeTrack(e) {
    if (this.nonNativeCaptionsTracks[e]) return;
    const n = this.captionsProperties[e];
    if (!n) return;
    const r = n.label,
      i = { _id: e, label: r, kind: 'captions', default: n.media ? !!n.media.default : !1, closedCaptions: n.media };
    (this.nonNativeCaptionsTracks[e] = i), this.hls.trigger(V.NON_NATIVE_TEXT_TRACKS_FOUND, { tracks: [i] });
  }
  createTextTrack(e, n, r) {
    const i = this.media;
    if (i) return i.addTextTrack(e, n, r);
  }
  onMediaAttaching(e, n) {
    (this.media = n.media), this._cleanTracks();
  }
  onMediaDetaching() {
    const { captionsTracks: e } = this;
    Object.keys(e).forEach((n) => {
      Pa(e[n]), delete e[n];
    }),
      (this.nonNativeCaptionsTracks = {});
  }
  onManifestLoading() {
    (this.lastSn = -1),
      (this.lastPartIndex = -1),
      (this.prevCC = -1),
      (this.vttCCs = x2()),
      this._cleanTracks(),
      (this.tracks = []),
      (this.captionsTracks = {}),
      (this.nonNativeCaptionsTracks = {}),
      (this.textTracks = []),
      (this.unparsedVttFrags = []),
      (this.initPTS = []),
      this.cea608Parser1 && this.cea608Parser2 && (this.cea608Parser1.reset(), this.cea608Parser2.reset());
  }
  _cleanTracks() {
    const { media: e } = this;
    if (!e) return;
    const n = e.textTracks;
    if (n) for (let r = 0; r < n.length; r++) Pa(n[r]);
  }
  onSubtitleTracksUpdated(e, n) {
    const r = n.subtitleTracks || [],
      i = r.some((o) => o.textCodec === nh);
    if (this.config.enableWebVTT || (i && this.config.enableIMSC1)) {
      if (Z_(this.tracks, r)) {
        this.tracks = r;
        return;
      }
      if (((this.textTracks = []), (this.tracks = r), this.config.renderTextTracksNatively)) {
        const a = this.media ? this.media.textTracks : null;
        this.tracks.forEach((s, l) => {
          let u;
          if (a && l < a.length) {
            let c = null;
            for (let d = 0; d < a.length; d++)
              if (LP(a[d], s)) {
                c = a[d];
                break;
              }
            c && (u = c);
          }
          if (u) Pa(u);
          else {
            const c = this._captionsOrSubtitlesFromCharacteristics(s);
            (u = this.createTextTrack(c, s.name, s.lang)), u && (u.mode = 'disabled');
          }
          u && ((u.groupId = s.groupId), this.textTracks.push(u));
        });
      } else if (this.tracks.length) {
        const a = this.tracks.map((s) => ({ label: s.name, kind: s.type.toLowerCase(), default: s.default, subtitleTrack: s }));
        this.hls.trigger(V.NON_NATIVE_TEXT_TRACKS_FOUND, { tracks: a });
      }
    }
  }
  _captionsOrSubtitlesFromCharacteristics(e) {
    if (e.attrs.CHARACTERISTICS) {
      const n = /transcribes-spoken-dialog/gi.test(e.attrs.CHARACTERISTICS),
        r = /describes-music-and-sound/gi.test(e.attrs.CHARACTERISTICS);
      if (n && r) return 'captions';
    }
    return 'subtitles';
  }
  onManifestLoaded(e, n) {
    this.config.enableCEA708Captions &&
      n.captions &&
      n.captions.forEach((r) => {
        const i = /(?:CC|SERVICE)([1-4])/.exec(r.instreamId);
        if (!i) return;
        const o = `textTrack${i[1]}`,
          a = this.captionsProperties[o];
        a && ((a.label = r.name), r.lang && (a.languageCode = r.lang), (a.media = r));
      });
  }
  closedCaptionsForLevel(e) {
    const n = this.hls.levels[e.level];
    return n == null ? void 0 : n.attrs['CLOSED-CAPTIONS'];
  }
  onFragLoading(e, n) {
    const { cea608Parser1: r, cea608Parser2: i, lastSn: o, lastPartIndex: a } = this;
    if (!(!this.enabled || !(r && i)) && n.frag.type === lt.MAIN) {
      var s, l;
      const u = n.frag.sn,
        c = (s = n == null || (l = n.part) == null ? void 0 : l.index) != null ? s : -1;
      u === o + 1 || (u === o && c === a + 1) || (r.reset(), i.reset()), (this.lastSn = u), (this.lastPartIndex = c);
    }
  }
  onFragLoaded(e, n) {
    const { frag: r, payload: i } = n;
    if (r.type === lt.SUBTITLE)
      if (i.byteLength) {
        const o = r.decryptdata,
          a = 'stats' in n;
        if (o == null || !o.encrypted || a) {
          const s = this.tracks[r.level],
            l = this.vttCCs;
          l[r.cc] || ((l[r.cc] = { start: r.start, prevCC: this.prevCC, new: !0 }), (this.prevCC = r.cc)), s && s.textCodec === nh ? this._parseIMSC1(r, i) : this._parseVTTs(n);
        }
      } else this.hls.trigger(V.SUBTITLE_FRAG_PROCESSED, { success: !1, frag: r, error: new Error('Empty subtitle payload') });
  }
  _parseIMSC1(e, n) {
    const r = this.hls;
    S2(
      n,
      this.initPTS[e.cc],
      (i) => {
        this._appendCues(i, e.level), r.trigger(V.SUBTITLE_FRAG_PROCESSED, { success: !0, frag: e });
      },
      (i) => {
        le.log(`Failed to parse IMSC1: ${i}`), r.trigger(V.SUBTITLE_FRAG_PROCESSED, { success: !1, frag: e, error: i });
      },
    );
  }
  _parseVTTs(e) {
    var n;
    const { frag: r, payload: i } = e,
      { initPTS: o, unparsedVttFrags: a } = this,
      s = o.length - 1;
    if (!o[r.cc] && s === -1) {
      a.push(e);
      return;
    }
    const l = this.hls,
      u = (n = r.initSegment) != null && n.data ? Vo(r.initSegment.data, new Uint8Array(i)) : i;
    bP(
      u,
      this.initPTS[r.cc],
      this.vttCCs,
      r.cc,
      r.start,
      (c) => {
        this._appendCues(c, r.level), l.trigger(V.SUBTITLE_FRAG_PROCESSED, { success: !0, frag: r });
      },
      (c) => {
        const d = c.message === 'Missing initPTS for VTT MPEGTS';
        d ? a.push(e) : this._fallbackToIMSC1(r, i), le.log(`Failed to parse VTT cue: ${c}`), !(d && s > r.cc) && l.trigger(V.SUBTITLE_FRAG_PROCESSED, { success: !1, frag: r, error: c });
      },
    );
  }
  _fallbackToIMSC1(e, n) {
    const r = this.tracks[e.level];
    r.textCodec ||
      S2(
        n,
        this.initPTS[e.cc],
        () => {
          (r.textCodec = nh), this._parseIMSC1(e, n);
        },
        () => {
          r.textCodec = 'wvtt';
        },
      );
  }
  _appendCues(e, n) {
    const r = this.hls;
    if (this.config.renderTextTracksNatively) {
      const i = this.textTracks[n];
      if (!i || i.mode === 'disabled') return;
      e.forEach((o) => L_(i, o));
    } else {
      const i = this.tracks[n];
      if (!i) return;
      const o = i.default ? 'default' : 'subtitles' + n;
      r.trigger(V.CUES_PARSED, { type: 'subtitles', cues: e, track: o });
    }
  }
  onFragDecrypted(e, n) {
    const { frag: r } = n;
    r.type === lt.SUBTITLE && this.onFragLoaded(V.FRAG_LOADED, n);
  }
  onSubtitleTracksCleared() {
    (this.tracks = []), (this.captionsTracks = {});
  }
  onFragParsingUserdata(e, n) {
    const { cea608Parser1: r, cea608Parser2: i } = this;
    if (!this.enabled || !(r && i)) return;
    const { frag: o, samples: a } = n;
    if (!(o.type === lt.MAIN && this.closedCaptionsForLevel(o) === 'NONE'))
      for (let s = 0; s < a.length; s++) {
        const l = a[s].bytes;
        if (l) {
          const u = this.extractCea608Data(l);
          r.addData(a[s].pts, u[0]), i.addData(a[s].pts, u[1]);
        }
      }
  }
  onBufferFlushing(e, { startOffset: n, endOffset: r, endOffsetSubtitles: i, type: o }) {
    const { media: a } = this;
    if (!(!a || a.currentTime < r)) {
      if (!o || o === 'video') {
        const { captionsTracks: s } = this;
        Object.keys(s).forEach((l) => q0(s[l], n, r));
      }
      if (this.config.renderTextTracksNatively && n === 0 && i !== void 0) {
        const { textTracks: s } = this;
        Object.keys(s).forEach((l) => q0(s[l], n, i));
      }
    }
  }
  extractCea608Data(e) {
    const n = [[], []],
      r = e[0] & 31;
    let i = 2;
    for (let o = 0; o < r; o++) {
      const a = e[i++],
        s = 127 & e[i++],
        l = 127 & e[i++];
      if (s === 0 && l === 0) continue;
      if ((4 & a) !== 0) {
        const c = 3 & a;
        (c === 0 || c === 1) && (n[c].push(s), n[c].push(l));
      }
    }
    return n;
  }
}
function LP(t, e) {
  return !!t && t.label === e.name && !(t.textTrack1 || t.textTrack2);
}
function IP(t, e, n, r) {
  return Math.min(e, r) - Math.max(t, n);
}
function x2() {
  return { ccOffset: 0, presentationOffset: 0, 0: { start: 0, prevCC: -1, new: !0 } };
}
class Qp {
  constructor(e) {
    (this.hls = void 0),
      (this.autoLevelCapping = void 0),
      (this.firstLevel = void 0),
      (this.media = void 0),
      (this.restrictedLevels = void 0),
      (this.timer = void 0),
      (this.clientRect = void 0),
      (this.streamController = void 0),
      (this.hls = e),
      (this.autoLevelCapping = Number.POSITIVE_INFINITY),
      (this.firstLevel = -1),
      (this.media = null),
      (this.restrictedLevels = []),
      (this.timer = void 0),
      (this.clientRect = null),
      this.registerListeners();
  }
  setStreamController(e) {
    this.streamController = e;
  }
  destroy() {
    this.unregisterListener(), this.hls.config.capLevelToPlayerSize && this.stopCapping(), (this.media = null), (this.clientRect = null), (this.hls = this.streamController = null);
  }
  registerListeners() {
    const { hls: e } = this;
    e.on(V.FPS_DROP_LEVEL_CAPPING, this.onFpsDropLevelCapping, this),
      e.on(V.MEDIA_ATTACHING, this.onMediaAttaching, this),
      e.on(V.MANIFEST_PARSED, this.onManifestParsed, this),
      e.on(V.BUFFER_CODECS, this.onBufferCodecs, this),
      e.on(V.MEDIA_DETACHING, this.onMediaDetaching, this);
  }
  unregisterListener() {
    const { hls: e } = this;
    e.off(V.FPS_DROP_LEVEL_CAPPING, this.onFpsDropLevelCapping, this),
      e.off(V.MEDIA_ATTACHING, this.onMediaAttaching, this),
      e.off(V.MANIFEST_PARSED, this.onManifestParsed, this),
      e.off(V.BUFFER_CODECS, this.onBufferCodecs, this),
      e.off(V.MEDIA_DETACHING, this.onMediaDetaching, this);
  }
  onFpsDropLevelCapping(e, n) {
    const r = this.hls.levels[n.droppedLevel];
    this.isLevelAllowed(r) && this.restrictedLevels.push({ bitrate: r.bitrate, height: r.height, width: r.width });
  }
  onMediaAttaching(e, n) {
    (this.media = n.media instanceof HTMLVideoElement ? n.media : null), (this.clientRect = null);
  }
  onManifestParsed(e, n) {
    const r = this.hls;
    (this.restrictedLevels = []), (this.firstLevel = n.firstLevel), r.config.capLevelToPlayerSize && n.video && this.startCapping();
  }
  onBufferCodecs(e, n) {
    this.hls.config.capLevelToPlayerSize && n.video && this.startCapping();
  }
  onMediaDetaching() {
    this.stopCapping();
  }
  detectPlayerSize() {
    if (this.media && this.mediaHeight > 0 && this.mediaWidth > 0) {
      const e = this.hls.levels;
      if (e.length) {
        const n = this.hls;
        (n.autoLevelCapping = this.getMaxLevel(e.length - 1)),
          n.autoLevelCapping > this.autoLevelCapping && this.streamController && this.streamController.nextLevelSwitch(),
          (this.autoLevelCapping = n.autoLevelCapping);
      }
    }
  }
  getMaxLevel(e) {
    const n = this.hls.levels;
    if (!n.length) return -1;
    const r = n.filter((i, o) => this.isLevelAllowed(i) && o <= e);
    return (this.clientRect = null), Qp.getMaxLevelByMediaSize(r, this.mediaWidth, this.mediaHeight);
  }
  startCapping() {
    this.timer ||
      ((this.autoLevelCapping = Number.POSITIVE_INFINITY),
      (this.hls.firstLevel = this.getMaxLevel(this.firstLevel)),
      self.clearInterval(this.timer),
      (this.timer = self.setInterval(this.detectPlayerSize.bind(this), 1e3)),
      this.detectPlayerSize());
  }
  stopCapping() {
    (this.restrictedLevels = []), (this.firstLevel = -1), (this.autoLevelCapping = Number.POSITIVE_INFINITY), this.timer && (self.clearInterval(this.timer), (this.timer = void 0));
  }
  getDimensions() {
    if (this.clientRect) return this.clientRect;
    const e = this.media,
      n = { width: 0, height: 0 };
    if (e) {
      const r = e.getBoundingClientRect();
      (n.width = r.width), (n.height = r.height), !n.width && !n.height && ((n.width = r.right - r.left || e.width || 0), (n.height = r.bottom - r.top || e.height || 0));
    }
    return (this.clientRect = n), n;
  }
  get mediaWidth() {
    return this.getDimensions().width * this.contentScaleFactor;
  }
  get mediaHeight() {
    return this.getDimensions().height * this.contentScaleFactor;
  }
  get contentScaleFactor() {
    let e = 1;
    if (!this.hls.config.ignoreDevicePixelRatio)
      try {
        e = self.devicePixelRatio;
      } catch {}
    return e;
  }
  isLevelAllowed(e) {
    return !this.restrictedLevels.some((r) => e.bitrate === r.bitrate && e.width === r.width && e.height === r.height);
  }
  static getMaxLevelByMediaSize(e, n, r) {
    if (!(e != null && e.length)) return -1;
    const i = (a, s) => (s ? a.width !== s.width || a.height !== s.height : !0);
    let o = e.length - 1;
    for (let a = 0; a < e.length; a += 1) {
      const s = e[a];
      if ((s.width >= n || s.height >= r) && i(s, e[a + 1])) {
        o = a;
        break;
      }
    }
    return o;
  }
}
class DP {
  constructor(e) {
    (this.hls = void 0),
      (this.isVideoPlaybackQualityAvailable = !1),
      (this.timer = void 0),
      (this.media = null),
      (this.lastTime = void 0),
      (this.lastDroppedFrames = 0),
      (this.lastDecodedFrames = 0),
      (this.streamController = void 0),
      (this.hls = e),
      this.registerListeners();
  }
  setStreamController(e) {
    this.streamController = e;
  }
  registerListeners() {
    this.hls.on(V.MEDIA_ATTACHING, this.onMediaAttaching, this);
  }
  unregisterListeners() {
    this.hls.off(V.MEDIA_ATTACHING, this.onMediaAttaching, this);
  }
  destroy() {
    this.timer && clearInterval(this.timer), this.unregisterListeners(), (this.isVideoPlaybackQualityAvailable = !1), (this.media = null);
  }
  onMediaAttaching(e, n) {
    const r = this.hls.config;
    if (r.capLevelOnFPSDrop) {
      const i = n.media instanceof self.HTMLVideoElement ? n.media : null;
      (this.media = i),
        i && typeof i.getVideoPlaybackQuality == 'function' && (this.isVideoPlaybackQualityAvailable = !0),
        self.clearInterval(this.timer),
        (this.timer = self.setInterval(this.checkFPSInterval.bind(this), r.fpsDroppedMonitoringPeriod));
    }
  }
  checkFPS(e, n, r) {
    const i = performance.now();
    if (n) {
      if (this.lastTime) {
        const o = i - this.lastTime,
          a = r - this.lastDroppedFrames,
          s = n - this.lastDecodedFrames,
          l = (1e3 * a) / o,
          u = this.hls;
        if ((u.trigger(V.FPS_DROP, { currentDropped: a, currentDecoded: s, totalDroppedFrames: r }), l > 0 && a > u.config.fpsDroppedMonitoringThreshold * s)) {
          let c = u.currentLevel;
          le.warn('drop FPS ratio greater than max allowed value for currentLevel: ' + c),
            c > 0 &&
              (u.autoLevelCapping === -1 || u.autoLevelCapping >= c) &&
              ((c = c - 1), u.trigger(V.FPS_DROP_LEVEL_CAPPING, { level: c, droppedLevel: u.currentLevel }), (u.autoLevelCapping = c), this.streamController.nextLevelSwitch());
        }
      }
      (this.lastTime = i), (this.lastDroppedFrames = r), (this.lastDecodedFrames = n);
    }
  }
  checkFPSInterval() {
    const e = this.media;
    if (e)
      if (this.isVideoPlaybackQualityAvailable) {
        const n = e.getVideoPlaybackQuality();
        this.checkFPS(e, n.totalVideoFrames, n.droppedVideoFrames);
      } else this.checkFPS(e, e.webkitDecodedFrameCount, e.webkitDroppedFrameCount);
  }
}
const Au = '[eme]';
class Va {
  constructor(e) {
    (this.hls = void 0),
      (this.config = void 0),
      (this.media = null),
      (this.keyFormatPromise = null),
      (this.keySystemAccessPromises = {}),
      (this._requestLicenseFailureCount = 0),
      (this.mediaKeySessions = []),
      (this.keyIdToKeySessionPromise = {}),
      (this.setMediaKeysQueue = Va.CDMCleanupPromise ? [Va.CDMCleanupPromise] : []),
      (this.onMediaEncrypted = this._onMediaEncrypted.bind(this)),
      (this.onWaitingForKey = this._onWaitingForKey.bind(this)),
      (this.debug = le.debug.bind(le, Au)),
      (this.log = le.log.bind(le, Au)),
      (this.warn = le.warn.bind(le, Au)),
      (this.error = le.error.bind(le, Au)),
      (this.hls = e),
      (this.config = e.config),
      this.registerListeners();
  }
  destroy() {
    this.unregisterListeners(), this.onMediaDetached();
    const e = this.config;
    (e.requestMediaKeySystemAccessFunc = null),
      (e.licenseXhrSetup = e.licenseResponseCallback = void 0),
      (e.drmSystems = e.drmSystemOptions = {}),
      (this.hls = this.onMediaEncrypted = this.onWaitingForKey = this.keyIdToKeySessionPromise = null),
      (this.config = null);
  }
  registerListeners() {
    this.hls.on(V.MEDIA_ATTACHED, this.onMediaAttached, this),
      this.hls.on(V.MEDIA_DETACHED, this.onMediaDetached, this),
      this.hls.on(V.MANIFEST_LOADING, this.onManifestLoading, this),
      this.hls.on(V.MANIFEST_LOADED, this.onManifestLoaded, this);
  }
  unregisterListeners() {
    this.hls.off(V.MEDIA_ATTACHED, this.onMediaAttached, this),
      this.hls.off(V.MEDIA_DETACHED, this.onMediaDetached, this),
      this.hls.off(V.MANIFEST_LOADING, this.onManifestLoading, this),
      this.hls.off(V.MANIFEST_LOADED, this.onManifestLoaded, this);
  }
  getLicenseServerUrl(e) {
    const { drmSystems: n, widevineLicenseUrl: r } = this.config,
      i = n[e];
    if (i) return i.licenseUrl;
    if (e === fn.WIDEVINE && r) return r;
    throw new Error(`no license server URL configured for key-system "${e}"`);
  }
  getServerCertificateUrl(e) {
    const { drmSystems: n } = this.config,
      r = n[e];
    if (r) return r.serverCertificateUrl;
    this.log(`No Server Certificate in config.drmSystems["${e}"]`);
  }
  attemptKeySystemAccess(e) {
    const n = this.hls.levels,
      r = (a, s, l) => !!a && l.indexOf(a) === s,
      i = n.map((a) => a.audioCodec).filter(r),
      o = n.map((a) => a.videoCodec).filter(r);
    return (
      i.length + o.length === 0 && o.push('avc1.42e01e'),
      new Promise((a, s) => {
        const l = (u) => {
          const c = u.shift();
          this.getMediaKeysPromise(c, i, o)
            .then((d) => a({ keySystem: c, mediaKeys: d }))
            .catch((d) => {
              u.length ? l(u) : d instanceof Ar ? s(d) : s(new Ar({ type: at.KEY_SYSTEM_ERROR, details: he.KEY_SYSTEM_NO_ACCESS, error: d, fatal: !0 }, d.message));
            });
        };
        l(e);
      })
    );
  }
  requestMediaKeySystemAccess(e, n) {
    const { requestMediaKeySystemAccessFunc: r } = this.config;
    if (typeof r != 'function') {
      let i = `Configured requestMediaKeySystemAccess is not a function ${r}`;
      return (
        g_ === null && self.location.protocol === 'http:' && (i = `navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`), Promise.reject(new Error(i))
      );
    }
    return r(e, n);
  }
  getMediaKeysPromise(e, n, r) {
    const i = GL(e, n, r, this.config.drmSystemOptions),
      o = this.keySystemAccessPromises[e];
    let a = o == null ? void 0 : o.keySystemAccess;
    if (!a) {
      this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(i)}`), (a = this.requestMediaKeySystemAccess(e, i));
      const s = (this.keySystemAccessPromises[e] = { keySystemAccess: a });
      return (
        a.catch((l) => {
          this.log(`Failed to obtain access to key-system "${e}": ${l}`);
        }),
        a.then((l) => {
          this.log(`Access for key-system "${l.keySystem}" obtained`);
          const u = this.fetchServerCertificate(e);
          return (
            this.log(`Create media-keys for "${e}"`),
            (s.mediaKeys = l.createMediaKeys().then((c) => (this.log(`Media-keys created for "${e}"`), u.then((d) => (d ? this.setMediaKeysServerCertificate(c, e, d) : c))))),
            s.mediaKeys.catch((c) => {
              this.error(`Failed to create media-keys for "${e}"}: ${c}`);
            }),
            s.mediaKeys
          );
        })
      );
    }
    return a.then(() => o.mediaKeys);
  }
  createMediaKeySessionContext({ decryptdata: e, keySystem: n, mediaKeys: r }) {
    this.log(`Creating key-system session "${n}" keyId: ${ai.hexDump(e.keyId || [])}`);
    const i = r.createSession(),
      o = { decryptdata: e, keySystem: n, mediaKeys: r, mediaKeysSession: i, keyStatus: 'status-pending' };
    return this.mediaKeySessions.push(o), o;
  }
  renewKeySession(e) {
    const n = e.decryptdata;
    if (n.pssh) {
      const r = this.createMediaKeySessionContext(e),
        i = this.getKeyIdString(n),
        o = 'cenc';
      this.keyIdToKeySessionPromise[i] = this.generateRequestWithPreferredKeySession(r, o, n.pssh, 'expired');
    } else this.warn('Could not renew expired session. Missing pssh initData.');
    this.removeSession(e);
  }
  getKeyIdString(e) {
    if (!e) throw new Error('Could not read keyId of undefined decryptdata');
    if (e.keyId === null) throw new Error('keyId is null');
    return ai.hexDump(e.keyId);
  }
  updateKeySession(e, n) {
    var r;
    const i = e.mediaKeysSession;
    return (
      this.log(`Updating key-session "${i.sessionId}" for keyID ${ai.hexDump(((r = e.decryptdata) == null ? void 0 : r.keyId) || [])}
      } (data length: ${n && n.byteLength})`),
      i.update(n)
    );
  }
  selectKeySystemFormat(e) {
    const n = Object.keys(e.levelkeys || {});
    return (
      this.keyFormatPromise || (this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${n.join(', ')}`), (this.keyFormatPromise = this.getKeyFormatPromise(n))),
      this.keyFormatPromise
    );
  }
  getKeyFormatPromise(e) {
    return new Promise((n, r) => {
      const i = Nf(this.config),
        o = e.map(kv).filter((a) => !!a && i.indexOf(a) !== -1);
      return this.getKeySystemSelectionPromise(o)
        .then(({ keySystem: a }) => {
          const s = Mv(a);
          s ? n(s) : r(new Error(`Unable to find format for key-system "${a}"`));
        })
        .catch(r);
    });
  }
  loadKey(e) {
    const n = e.keyInfo.decryptdata,
      r = this.getKeyIdString(n),
      i = `(keyId: ${r} format: "${n.keyFormat}" method: ${n.method} uri: ${n.uri})`;
    this.log(`Starting session for key ${i}`);
    let o = this.keyIdToKeySessionPromise[r];
    return (
      o ||
        ((o = this.keyIdToKeySessionPromise[r] =
          this.getKeySystemForKeyPromise(n).then(
            ({ keySystem: a, mediaKeys: s }) => (
              this.throwIfDestroyed(),
              this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${i}`),
              this.attemptSetMediaKeys(a, s).then(() => {
                this.throwIfDestroyed();
                const l = this.createMediaKeySessionContext({ keySystem: a, mediaKeys: s, decryptdata: n }),
                  u = 'cenc';
                return this.generateRequestWithPreferredKeySession(l, u, n.pssh, 'playlist-key');
              })
            ),
          )),
        o.catch((a) => this.handleError(a))),
      o
    );
  }
  throwIfDestroyed(e = 'Invalid state') {
    if (!this.hls) throw new Error('invalid state');
  }
  handleError(e) {
    this.hls &&
      (this.error(e.message), e instanceof Ar ? this.hls.trigger(V.ERROR, e.data) : this.hls.trigger(V.ERROR, { type: at.KEY_SYSTEM_ERROR, details: he.KEY_SYSTEM_NO_KEYS, error: e, fatal: !0 }));
  }
  getKeySystemForKeyPromise(e) {
    const n = this.getKeyIdString(e),
      r = this.keyIdToKeySessionPromise[n];
    if (!r) {
      const i = kv(e.keyFormat),
        o = i ? [i] : Nf(this.config);
      return this.attemptKeySystemAccess(o);
    }
    return r;
  }
  getKeySystemSelectionPromise(e) {
    if ((e.length || (e = Nf(this.config)), e.length === 0))
      throw new Ar(
        { type: at.KEY_SYSTEM_ERROR, details: he.KEY_SYSTEM_NO_CONFIGURED_LICENSE, fatal: !0 },
        `Missing key-system license configuration options ${JSON.stringify({ drmSystems: this.config.drmSystems })}`,
      );
    return this.attemptKeySystemAccess(e);
  }
  _onMediaEncrypted(e) {
    const { initDataType: n, initData: r } = e;
    if ((this.debug(`"${e.type}" event: init data type: "${n}"`), r === null)) return;
    let i, o;
    if (n === 'sinf' && this.config.drmSystems[fn.FAIRPLAY]) {
      const c = zn(new Uint8Array(r));
      try {
        const d = Np(JSON.parse(c).sinf),
          f = T_(new Uint8Array(d));
        if (!f) return;
        (i = f.subarray(8, 24)), (o = fn.FAIRPLAY);
      } catch {
        this.warn('Failed to parse sinf "encrypted" event message initData');
        return;
      }
    } else {
      const c = pI(r);
      if (c === null) return;
      c.version === 0 && c.systemId === p_.WIDEVINE && c.data && (i = c.data.subarray(8, 24)), (o = jL(c.systemId));
    }
    if (!o || !i) return;
    const a = ai.hexDump(i),
      { keyIdToKeySessionPromise: s, mediaKeySessions: l } = this;
    let u = s[a];
    for (let c = 0; c < l.length; c++) {
      const d = l[c],
        f = d.decryptdata;
      if (f.pssh || !f.keyId) continue;
      const h = ai.hexDump(f.keyId);
      if (a === h || f.uri.replace(/-/g, '').indexOf(a) !== -1) {
        (u = s[h]), delete s[h], (f.pssh = new Uint8Array(r)), (f.keyId = i), (u = s[a] = u.then(() => this.generateRequestWithPreferredKeySession(d, n, r, 'encrypted-event-key-match')));
        break;
      }
    }
    u ||
      (u = s[a] =
        this.getKeySystemSelectionPromise([o]).then(({ keySystem: c, mediaKeys: d }) => {
          var f;
          this.throwIfDestroyed();
          const h = new bl('ISO-23001-7', a, (f = Mv(c)) != null ? f : '');
          return (
            (h.pssh = new Uint8Array(r)),
            (h.keyId = i),
            this.attemptSetMediaKeys(c, d).then(() => {
              this.throwIfDestroyed();
              const m = this.createMediaKeySessionContext({ decryptdata: h, keySystem: c, mediaKeys: d });
              return this.generateRequestWithPreferredKeySession(m, n, r, 'encrypted-event-no-match');
            })
          );
        })),
      u.catch((c) => this.handleError(c));
  }
  _onWaitingForKey(e) {
    this.log(`"${e.type}" event`);
  }
  attemptSetMediaKeys(e, n) {
    const r = this.setMediaKeysQueue.slice();
    this.log(`Setting media-keys for "${e}"`);
    const i = Promise.all(r).then(() => {
      if (!this.media) throw new Error('Attempted to set mediaKeys without media element attached');
      return this.media.setMediaKeys(n);
    });
    return (
      this.setMediaKeysQueue.push(i),
      i.then(() => {
        this.log(`Media-keys set for "${e}"`), r.push(i), (this.setMediaKeysQueue = this.setMediaKeysQueue.filter((o) => r.indexOf(o) === -1));
      })
    );
  }
  generateRequestWithPreferredKeySession(e, n, r, i) {
    var o, a;
    const s = (o = this.config.drmSystems) == null || (a = o[e.keySystem]) == null ? void 0 : a.generateRequest;
    if (s)
      try {
        const f = s.call(this.hls, n, r, e);
        if (!f) throw new Error('Invalid response from configured generateRequest filter');
        (n = f.initDataType), (r = e.decryptdata.pssh = f.initData ? new Uint8Array(f.initData) : null);
      } catch (f) {
        var l;
        if ((this.warn(f.message), (l = this.hls) != null && l.config.debug)) throw f;
      }
    if (r === null) return this.log(`Skipping key-session request for "${i}" (no initData)`), Promise.resolve(e);
    const u = this.getKeyIdString(e.decryptdata);
    this.log(`Generating key-session request for "${i}": ${u} (init data type: ${n} length: ${r ? r.byteLength : null})`);
    const c = new qp();
    (e.mediaKeysSession.onmessage = (f) => {
      const h = e.mediaKeysSession;
      if (!h) {
        c.emit('error', new Error('invalid state'));
        return;
      }
      const { messageType: m, message: g } = f;
      this.log(`"${m}" message event for session "${h.sessionId}" message size: ${g.byteLength}`),
        m === 'license-request' || m === 'license-renewal'
          ? this.renewLicense(e, g).catch((b) => {
              this.handleError(b), c.emit('error', b);
            })
          : m === 'license-release'
          ? e.keySystem === fn.FAIRPLAY && (this.updateKeySession(e, m_('acknowledged')), this.removeSession(e))
          : this.warn(`unhandled media key message type "${m}"`);
    }),
      (e.mediaKeysSession.onkeystatuseschange = (f) => {
        if (!e.mediaKeysSession) {
          c.emit('error', new Error('invalid state'));
          return;
        }
        this.onKeyStatusChange(e);
        const m = e.keyStatus;
        c.emit('keyStatus', m), m === 'expired' && (this.warn(`${e.keySystem} expired for key ${u}`), this.renewKeySession(e));
      });
    const d = new Promise((f, h) => {
      c.on('error', h),
        c.on('keyStatus', (m) => {
          m.startsWith('usable')
            ? f()
            : m === 'output-restricted'
            ? h(new Ar({ type: at.KEY_SYSTEM_ERROR, details: he.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED, fatal: !1 }, 'HDCP level output restricted'))
            : m === 'internal-error'
            ? h(new Ar({ type: at.KEY_SYSTEM_ERROR, details: he.KEY_SYSTEM_STATUS_INTERNAL_ERROR, fatal: !0 }, `key status changed to "${m}"`))
            : m === 'expired'
            ? h(new Error('key expired while generating request'))
            : this.warn(`unhandled key status change "${m}"`);
        });
    });
    return e.mediaKeysSession
      .generateRequest(n, r)
      .then(() => {
        var f;
        this.log(`Request generated for key-session "${(f = e.mediaKeysSession) == null ? void 0 : f.sessionId}" keyId: ${u}`);
      })
      .catch((f) => {
        throw new Ar({ type: at.KEY_SYSTEM_ERROR, details: he.KEY_SYSTEM_NO_SESSION, error: f, fatal: !1 }, `Error generating key-session request: ${f}`);
      })
      .then(() => d)
      .catch((f) => {
        throw (c.removeAllListeners(), this.removeSession(e), f);
      })
      .then(() => (c.removeAllListeners(), e));
  }
  onKeyStatusChange(e) {
    e.mediaKeysSession.keyStatuses.forEach((n, r) => {
      this.log(
        `key status change "${n}" for keyStatuses keyId: ${ai.hexDump('buffer' in r ? new Uint8Array(r.buffer, r.byteOffset, r.byteLength) : new Uint8Array(r))} session keyId: ${ai.hexDump(
          new Uint8Array(e.decryptdata.keyId || []),
        )} uri: ${e.decryptdata.uri}`,
      ),
        (e.keyStatus = n);
    });
  }
  fetchServerCertificate(e) {
    const n = this.config,
      r = n.loader,
      i = new r(n),
      o = this.getServerCertificateUrl(e);
    return o
      ? (this.log(`Fetching serverCertificate for "${e}"`),
        new Promise((a, s) => {
          const l = { responseType: 'arraybuffer', url: o },
            u = n.certLoadPolicy.default,
            c = { loadPolicy: u, timeout: u.maxLoadTimeMs, maxRetry: 0, retryDelay: 0, maxRetryDelay: 0 },
            d = {
              onSuccess: (f, h, m, g) => {
                a(f.data);
              },
              onError: (f, h, m, g) => {
                s(
                  new Ar(
                    { type: at.KEY_SYSTEM_ERROR, details: he.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED, fatal: !0, networkDetails: m, response: cr({ url: l.url, data: void 0 }, f) },
                    `"${e}" certificate request failed (${o}). Status: ${f.code} (${f.text})`,
                  ),
                );
              },
              onTimeout: (f, h, m) => {
                s(
                  new Ar(
                    { type: at.KEY_SYSTEM_ERROR, details: he.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED, fatal: !0, networkDetails: m, response: { url: l.url, data: void 0 } },
                    `"${e}" certificate request timed out (${o})`,
                  ),
                );
              },
              onAbort: (f, h, m) => {
                s(new Error('aborted'));
              },
            };
          i.load(l, c, d);
        }))
      : Promise.resolve();
  }
  setMediaKeysServerCertificate(e, n, r) {
    return new Promise((i, o) => {
      e.setServerCertificate(r)
        .then((a) => {
          this.log(`setServerCertificate ${a ? 'success' : 'not supported by CDM'} (${r == null ? void 0 : r.byteLength}) on "${n}"`), i(e);
        })
        .catch((a) => {
          o(new Ar({ type: at.KEY_SYSTEM_ERROR, details: he.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED, error: a, fatal: !0 }, a.message));
        });
    });
  }
  renewLicense(e, n) {
    return this.requestLicense(e, new Uint8Array(n)).then((r) =>
      this.updateKeySession(e, new Uint8Array(r)).catch((i) => {
        throw new Ar({ type: at.KEY_SYSTEM_ERROR, details: he.KEY_SYSTEM_SESSION_UPDATE_FAILED, error: i, fatal: !0 }, i.message);
      }),
    );
  }
  setupLicenseXHR(e, n, r, i) {
    const o = this.config.licenseXhrSetup;
    return o
      ? Promise.resolve()
          .then(() => {
            if (!r.decryptdata) throw new Error('Key removed');
            return o.call(this.hls, e, n, r, i);
          })
          .catch((a) => {
            if (!r.decryptdata) throw a;
            return e.open('POST', n, !0), o.call(this.hls, e, n, r, i);
          })
          .then((a) => (e.readyState || e.open('POST', n, !0), { xhr: e, licenseChallenge: a || i }))
      : (e.open('POST', n, !0), Promise.resolve({ xhr: e, licenseChallenge: i }));
  }
  requestLicense(e, n) {
    const r = this.config.keyLoadPolicy.default;
    return new Promise((i, o) => {
      const a = this.getLicenseServerUrl(e.keySystem);
      this.log(`Sending license request to URL: ${a}`);
      const s = new XMLHttpRequest();
      (s.responseType = 'arraybuffer'),
        (s.onreadystatechange = () => {
          if (!this.hls || !e.mediaKeysSession) return o(new Error('invalid state'));
          if (s.readyState === 4)
            if (s.status === 200) {
              this._requestLicenseFailureCount = 0;
              let l = s.response;
              this.log(`License received ${l instanceof ArrayBuffer ? l.byteLength : l}`);
              const u = this.config.licenseResponseCallback;
              if (u)
                try {
                  l = u.call(this.hls, s, a, e);
                } catch (c) {
                  this.error(c);
                }
              i(l);
            } else {
              const l = r.errorRetry,
                u = l ? l.maxNumRetry : 0;
              if ((this._requestLicenseFailureCount++, this._requestLicenseFailureCount > u || (s.status >= 400 && s.status < 500)))
                o(
                  new Ar(
                    { type: at.KEY_SYSTEM_ERROR, details: he.KEY_SYSTEM_LICENSE_REQUEST_FAILED, fatal: !0, networkDetails: s, response: { url: a, data: void 0, code: s.status, text: s.statusText } },
                    `License Request XHR failed (${a}). Status: ${s.status} (${s.statusText})`,
                  ),
                );
              else {
                const c = u - this._requestLicenseFailureCount + 1;
                this.warn(`Retrying license request, ${c} attempts left`), this.requestLicense(e, n).then(i, o);
              }
            }
        }),
        e.licenseXhr && e.licenseXhr.readyState !== XMLHttpRequest.DONE && e.licenseXhr.abort(),
        (e.licenseXhr = s),
        this.setupLicenseXHR(s, a, e, n).then(({ xhr: l, licenseChallenge: u }) => {
          l.send(u);
        });
    });
  }
  onMediaAttached(e, n) {
    if (!this.config.emeEnabled) return;
    const r = n.media;
    (this.media = r), r.addEventListener('encrypted', this.onMediaEncrypted), r.addEventListener('waitingforkey', this.onWaitingForKey);
  }
  onMediaDetached() {
    const e = this.media,
      n = this.mediaKeySessions;
    e && (e.removeEventListener('encrypted', this.onMediaEncrypted), e.removeEventListener('waitingforkey', this.onWaitingForKey), (this.media = null)),
      (this._requestLicenseFailureCount = 0),
      (this.setMediaKeysQueue = []),
      (this.mediaKeySessions = []),
      (this.keyIdToKeySessionPromise = {}),
      bl.clearKeyUriToKeyIdMap();
    const r = n.length;
    Va.CDMCleanupPromise = Promise.all(
      n
        .map((i) => this.removeSession(i))
        .concat(
          e == null
            ? void 0
            : e.setMediaKeys(null).catch((i) => {
                this.log(`Could not clear media keys: ${i}. media.src: ${e == null ? void 0 : e.src}`);
              }),
        ),
    )
      .then(() => {
        r && (this.log('finished closing key sessions and clearing media keys'), (n.length = 0));
      })
      .catch((i) => {
        this.log(`Could not close sessions and clear media keys: ${i}. media.src: ${e == null ? void 0 : e.src}`);
      });
  }
  onManifestLoading() {
    this.keyFormatPromise = null;
  }
  onManifestLoaded(e, { sessionKeys: n }) {
    if (!(!n || !this.config.emeEnabled) && !this.keyFormatPromise) {
      const r = n.reduce((i, o) => (i.indexOf(o.keyFormat) === -1 && i.push(o.keyFormat), i), []);
      this.log(`Selecting key-system from session-keys ${r.join(', ')}`), (this.keyFormatPromise = this.getKeyFormatPromise(r));
    }
  }
  removeSession(e) {
    const { mediaKeysSession: n, licenseXhr: r } = e;
    if (n) {
      this.log(`Remove licenses and keys and close session ${n.sessionId}`),
        (n.onmessage = null),
        (n.onkeystatuseschange = null),
        r && r.readyState !== XMLHttpRequest.DONE && r.abort(),
        (e.mediaKeysSession = e.decryptdata = e.licenseXhr = void 0);
      const i = this.mediaKeySessions.indexOf(e);
      return (
        i > -1 && this.mediaKeySessions.splice(i, 1),
        n
          .remove()
          .catch((o) => {
            this.log(`Could not remove session: ${o}`);
          })
          .then(() => n.close())
          .catch((o) => {
            this.log(`Could not close session: ${o}`);
          })
      );
    }
  }
}
Va.CDMCleanupPromise = void 0;
class Ar extends Error {
  constructor(e, n) {
    super(n), (this.data = void 0), e.error || (e.error = new Error(n)), (this.data = e), (e.err = e.error);
  }
}
const PP = 1;
var tr = { MANIFEST: 'm', AUDIO: 'a', VIDEO: 'v', MUXED: 'av', INIT: 'i', CAPTION: 'c', TIMED_TEXT: 'tt', KEY: 'k', OTHER: 'o' };
const OP = 'h';
class qi {
  constructor(e) {
    (this.hls = void 0),
      (this.config = void 0),
      (this.media = void 0),
      (this.sid = void 0),
      (this.cid = void 0),
      (this.useHeaders = !1),
      (this.initialized = !1),
      (this.starved = !1),
      (this.buffering = !0),
      (this.audioBuffer = void 0),
      (this.videoBuffer = void 0),
      (this.onWaiting = () => {
        this.initialized && (this.starved = !0), (this.buffering = !0);
      }),
      (this.onPlaying = () => {
        this.initialized || (this.initialized = !0), (this.buffering = !1);
      }),
      (this.applyPlaylistData = (i) => {
        try {
          this.apply(i, { ot: tr.MANIFEST, su: !this.initialized });
        } catch (o) {
          le.warn('Could not generate manifest CMCD data.', o);
        }
      }),
      (this.applyFragmentData = (i) => {
        try {
          const o = i.frag,
            a = this.hls.levels[o.level],
            s = this.getObjectType(o),
            l = { d: o.duration * 1e3, ot: s };
          (s === tr.VIDEO || s === tr.AUDIO || s == tr.MUXED) && ((l.br = a.bitrate / 1e3), (l.tb = this.getTopBandwidth(s) / 1e3), (l.bl = this.getBufferLength(s))), this.apply(i, l);
        } catch (o) {
          le.warn('Could not generate segment CMCD data.', o);
        }
      }),
      (this.hls = e);
    const n = (this.config = e.config),
      { cmcd: r } = n;
    r != null &&
      ((n.pLoader = this.createPlaylistLoader()),
      (n.fLoader = this.createFragmentLoader()),
      (this.sid = r.sessionId || qi.uuid()),
      (this.cid = r.contentId),
      (this.useHeaders = r.useHeaders === !0),
      this.registerListeners());
  }
  registerListeners() {
    const e = this.hls;
    e.on(V.MEDIA_ATTACHED, this.onMediaAttached, this), e.on(V.MEDIA_DETACHED, this.onMediaDetached, this), e.on(V.BUFFER_CREATED, this.onBufferCreated, this);
  }
  unregisterListeners() {
    const e = this.hls;
    e.off(V.MEDIA_ATTACHED, this.onMediaAttached, this), e.off(V.MEDIA_DETACHED, this.onMediaDetached, this), e.off(V.BUFFER_CREATED, this.onBufferCreated, this);
  }
  destroy() {
    this.unregisterListeners(), this.onMediaDetached(), (this.hls = this.config = this.audioBuffer = this.videoBuffer = null);
  }
  onMediaAttached(e, n) {
    (this.media = n.media), this.media.addEventListener('waiting', this.onWaiting), this.media.addEventListener('playing', this.onPlaying);
  }
  onMediaDetached() {
    this.media && (this.media.removeEventListener('waiting', this.onWaiting), this.media.removeEventListener('playing', this.onPlaying), (this.media = null));
  }
  onBufferCreated(e, n) {
    var r, i;
    (this.audioBuffer = (r = n.tracks.audio) == null ? void 0 : r.buffer), (this.videoBuffer = (i = n.tracks.video) == null ? void 0 : i.buffer);
  }
  createData() {
    var e;
    return { v: PP, sf: OP, sid: this.sid, cid: this.cid, pr: (e = this.media) == null ? void 0 : e.playbackRate, mtp: this.hls.bandwidthEstimate / 1e3 };
  }
  apply(e, n = {}) {
    Pn(n, this.createData());
    const r = n.ot === tr.INIT || n.ot === tr.VIDEO || n.ot === tr.MUXED;
    if ((this.starved && r && ((n.bs = !0), (n.su = !0), (this.starved = !1)), n.su == null && (n.su = this.buffering), this.useHeaders)) {
      const i = qi.toHeaders(n);
      if (!Object.keys(i).length) return;
      e.headers || (e.headers = {}), Pn(e.headers, i);
    } else {
      const i = qi.toQuery(n);
      if (!i) return;
      e.url = qi.appendQueryToUri(e.url, i);
    }
  }
  getObjectType(e) {
    const { type: n } = e;
    if (n === 'subtitle') return tr.TIMED_TEXT;
    if (e.sn === 'initSegment') return tr.INIT;
    if (n === 'audio') return tr.AUDIO;
    if (n === 'main') return this.hls.audioTracks.length ? tr.VIDEO : tr.MUXED;
  }
  getTopBandwidth(e) {
    let n = 0,
      r;
    const i = this.hls;
    if (e === tr.AUDIO) r = i.audioTracks;
    else {
      const o = i.maxAutoLevel,
        a = o > -1 ? o + 1 : i.levels.length;
      r = i.levels.slice(0, a);
    }
    for (const o of r) o.bitrate > n && (n = o.bitrate);
    return n > 0 ? n : NaN;
  }
  getBufferLength(e) {
    const n = this.hls.media,
      r = e === tr.AUDIO ? this.audioBuffer : this.videoBuffer;
    return !r || !n ? NaN : on.bufferInfo(r, n.currentTime, this.config.maxBufferHole).len * 1e3;
  }
  createPlaylistLoader() {
    const { pLoader: e } = this.config,
      n = this.applyPlaylistData,
      r = e || this.config.loader;
    return class {
      constructor(o) {
        (this.loader = void 0), (this.loader = new r(o));
      }
      get stats() {
        return this.loader.stats;
      }
      get context() {
        return this.loader.context;
      }
      destroy() {
        this.loader.destroy();
      }
      abort() {
        this.loader.abort();
      }
      load(o, a, s) {
        n(o), this.loader.load(o, a, s);
      }
    };
  }
  createFragmentLoader() {
    const { fLoader: e } = this.config,
      n = this.applyFragmentData,
      r = e || this.config.loader;
    return class {
      constructor(o) {
        (this.loader = void 0), (this.loader = new r(o));
      }
      get stats() {
        return this.loader.stats;
      }
      get context() {
        return this.loader.context;
      }
      destroy() {
        this.loader.destroy();
      }
      abort() {
        this.loader.abort();
      }
      load(o, a, s) {
        n(o), this.loader.load(o, a, s);
      }
    };
  }
  static uuid() {
    const e = URL.createObjectURL(new Blob()),
      n = e.toString();
    return URL.revokeObjectURL(e), n.slice(n.lastIndexOf('/') + 1);
  }
  static serialize(e) {
    const n = [],
      r = (u) => !Number.isNaN(u) && u != null && u !== '' && u !== !1,
      i = (u) => Math.round(u),
      o = (u) => i(u / 100) * 100,
      s = { br: i, d: i, bl: o, dl: o, mtp: o, nor: (u) => encodeURIComponent(u), rtp: o, tb: i },
      l = Object.keys(e || {}).sort();
    for (const u of l) {
      let c = e[u];
      if (!r(c) || (u === 'v' && c === 1) || (u == 'pr' && c === 1)) continue;
      const d = s[u];
      d && (c = d(c));
      const f = typeof c;
      let h;
      u === 'ot' || u === 'sf' || u === 'st' ? (h = `${u}=${c}`) : f === 'boolean' ? (h = u) : f === 'number' ? (h = `${u}=${c}`) : (h = `${u}=${JSON.stringify(c)}`), n.push(h);
    }
    return n.join(',');
  }
  static toHeaders(e) {
    const n = Object.keys(e),
      r = {},
      i = ['Object', 'Request', 'Session', 'Status'],
      o = [{}, {}, {}, {}],
      a = { br: 0, d: 0, ot: 0, tb: 0, bl: 1, dl: 1, mtp: 1, nor: 1, nrr: 1, su: 1, cid: 2, pr: 2, sf: 2, sid: 2, st: 2, v: 2, bs: 3, rtp: 3 };
    for (const s of n) {
      const l = a[s] != null ? a[s] : 1;
      o[l][s] = e[s];
    }
    for (let s = 0; s < o.length; s++) {
      const l = qi.serialize(o[s]);
      l && (r[`CMCD-${i[s]}`] = l);
    }
    return r;
  }
  static toQuery(e) {
    return `CMCD=${encodeURIComponent(qi.serialize(e))}`;
  }
  static appendQueryToUri(e, n) {
    if (!n) return e;
    const r = e.includes('?') ? '&' : '?';
    return `${e}${r}${n}`;
  }
}
const kP = 3e5;
class MP {
  constructor(e) {
    (this.hls = void 0),
      (this.log = void 0),
      (this.loader = null),
      (this.uri = null),
      (this.pathwayId = '.'),
      (this.pathwayPriority = null),
      (this.timeToLoad = 300),
      (this.reloadTimer = -1),
      (this.updated = 0),
      (this.started = !1),
      (this.enabled = !0),
      (this.levels = null),
      (this.audioTracks = null),
      (this.subtitleTracks = null),
      (this.penalizedPathways = {}),
      (this.hls = e),
      (this.log = le.log.bind(le, '[content-steering]:')),
      this.registerListeners();
  }
  registerListeners() {
    const e = this.hls;
    e.on(V.MANIFEST_LOADING, this.onManifestLoading, this),
      e.on(V.MANIFEST_LOADED, this.onManifestLoaded, this),
      e.on(V.MANIFEST_PARSED, this.onManifestParsed, this),
      e.on(V.ERROR, this.onError, this);
  }
  unregisterListeners() {
    const e = this.hls;
    e &&
      (e.off(V.MANIFEST_LOADING, this.onManifestLoading, this),
      e.off(V.MANIFEST_LOADED, this.onManifestLoaded, this),
      e.off(V.MANIFEST_PARSED, this.onManifestParsed, this),
      e.off(V.ERROR, this.onError, this));
  }
  startLoad() {
    if (((this.started = !0), self.clearTimeout(this.reloadTimer), this.enabled && this.uri))
      if (this.updated) {
        const e = Math.max(this.timeToLoad * 1e3 - (performance.now() - this.updated), 0);
        this.scheduleRefresh(this.uri, e);
      } else this.loadSteeringManifest(this.uri);
  }
  stopLoad() {
    (this.started = !1), this.loader && (this.loader.destroy(), (this.loader = null)), self.clearTimeout(this.reloadTimer);
  }
  destroy() {
    this.unregisterListeners(), this.stopLoad(), (this.hls = null), (this.levels = this.audioTracks = this.subtitleTracks = null);
  }
  removeLevel(e) {
    const n = this.levels;
    n && (this.levels = n.filter((r) => r !== e));
  }
  onManifestLoading() {
    this.stopLoad(), (this.enabled = !0), (this.timeToLoad = 300), (this.updated = 0), (this.uri = null), (this.pathwayId = '.'), (this.levels = this.audioTracks = this.subtitleTracks = null);
  }
  onManifestLoaded(e, n) {
    const { contentSteering: r } = n;
    r !== null && ((this.pathwayId = r.pathwayId), (this.uri = r.uri), this.started && this.startLoad());
  }
  onManifestParsed(e, n) {
    (this.audioTracks = n.audioTracks), (this.subtitleTracks = n.subtitleTracks);
  }
  onError(e, n) {
    const { errorAction: r } = n;
    if ((r == null ? void 0 : r.action) === Xn.SendAlternateToPenaltyBox && r.flags === Vr.MoveAllAlternatesMatchingHost) {
      let i = this.pathwayPriority;
      const o = this.pathwayId;
      this.penalizedPathways[o] || (this.penalizedPathways[o] = performance.now()),
        !i && this.levels && (i = this.levels.reduce((a, s) => (a.indexOf(s.pathwayId) === -1 && a.push(s.pathwayId), a), [])),
        i && i.length > 1 && (this.updatePathwayPriority(i), (r.resolved = this.pathwayId !== o));
    }
  }
  filterParsedLevels(e) {
    this.levels = e;
    let n = this.getLevelsForPathway(this.pathwayId);
    if (n.length === 0) {
      const r = e[0].pathwayId;
      this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${r}"`), (n = this.getLevelsForPathway(r)), (this.pathwayId = r);
    }
    return n.length !== e.length ? (this.log(`Found ${n.length}/${e.length} levels in Pathway "${this.pathwayId}"`), n) : e;
  }
  getLevelsForPathway(e) {
    return this.levels === null ? [] : this.levels.filter((n) => e === n.pathwayId);
  }
  updatePathwayPriority(e) {
    this.pathwayPriority = e;
    let n;
    const r = this.penalizedPathways,
      i = performance.now();
    Object.keys(r).forEach((o) => {
      i - r[o] > kP && delete r[o];
    });
    for (let o = 0; o < e.length; o++) {
      const a = e[o];
      if (r[a]) continue;
      if (a === this.pathwayId) return;
      const s = this.hls.nextLoadLevel,
        l = this.hls.levels[s];
      if (((n = this.getLevelsForPathway(a)), n.length > 0)) {
        this.log(`Setting Pathway to "${a}"`), (this.pathwayId = a), this.hls.trigger(V.LEVELS_UPDATED, { levels: n });
        const u = this.hls.levels[s];
        l &&
          u &&
          this.levels &&
          (u.attrs['STABLE-VARIANT-ID'] !== l.attrs['STABLE-VARIANT-ID'] && u.bitrate !== l.bitrate && this.log(`Unstable Pathways change from bitrate ${l.bitrate} to ${u.bitrate}`),
          (this.hls.nextLoadLevel = s));
        break;
      }
    }
  }
  clonePathways(e) {
    const n = this.levels;
    if (!n) return;
    const r = {},
      i = {};
    e.forEach((o) => {
      const { ID: a, 'BASE-ID': s, 'URI-REPLACEMENT': l } = o;
      if (n.some((c) => c.pathwayId === a)) return;
      const u = this.getLevelsForPathway(s).map((c) => {
        const d = Pn({}, c);
        (d.details = void 0), (d.url = s5(c.uri, c.attrs['STABLE-VARIANT-ID'], 'PER-VARIANT-URIS', l));
        const f = new cn(c.attrs);
        f['PATHWAY-ID'] = a;
        const h = f.AUDIO && `${f.AUDIO}_clone_${a}`,
          m = f.SUBTITLES && `${f.SUBTITLES}_clone_${a}`;
        h && ((r[f.AUDIO] = h), (f.AUDIO = h)), m && ((i[f.SUBTITLES] = m), (f.SUBTITLES = m)), (d.attrs = f);
        const g = new xl(d);
        return Vc(g, 'audio', h), Vc(g, 'text', m), g;
      });
      n.push(...u), T2(this.audioTracks, r, l, a), T2(this.subtitleTracks, i, l, a);
    });
  }
  loadSteeringManifest(e) {
    const n = this.hls.config,
      r = n.loader;
    this.loader && this.loader.destroy(), (this.loader = new r(n));
    let i;
    try {
      i = new self.URL(e);
    } catch {
      (this.enabled = !1), this.log(`Failed to parse Steering Manifest URI: ${e}`);
      return;
    }
    if (i.protocol !== 'data:') {
      const c = (this.hls.bandwidthEstimate || n.abrEwmaDefaultEstimate) | 0;
      i.searchParams.set('_HLS_pathway', this.pathwayId), i.searchParams.set('_HLS_throughput', '' + c);
    }
    const o = { responseType: 'json', url: i.href },
      a = n.steeringManifestLoadPolicy.default,
      s = a.errorRetry || a.timeoutRetry || {},
      l = { loadPolicy: a, timeout: a.maxLoadTimeMs, maxRetry: s.maxNumRetry || 0, retryDelay: s.retryDelayMs || 0, maxRetryDelay: s.maxRetryDelayMs || 0 },
      u = {
        onSuccess: (c, d, f, h) => {
          this.log(`Loaded steering manifest: "${i}"`);
          const m = c.data;
          if (m.VERSION !== 1) {
            this.log(`Steering VERSION ${m.VERSION} not supported!`);
            return;
          }
          (this.updated = performance.now()), (this.timeToLoad = m.TTL);
          const { 'RELOAD-URI': g, 'PATHWAY-CLONES': b, 'PATHWAY-PRIORITY': _ } = m;
          if (g)
            try {
              this.uri = new self.URL(g, i).href;
            } catch {
              (this.enabled = !1), this.log(`Failed to parse Steering Manifest RELOAD-URI: ${g}`);
              return;
            }
          this.scheduleRefresh(this.uri || f.url), b && this.clonePathways(b), _ && this.updatePathwayPriority(_);
        },
        onError: (c, d, f, h) => {
          if ((this.log(`Error loading steering manifest: ${c.code} ${c.text} (${d.url})`), this.stopLoad(), c.code === 410)) {
            (this.enabled = !1), this.log(`Steering manifest ${d.url} no longer available`);
            return;
          }
          let m = this.timeToLoad * 1e3;
          if (c.code === 429) {
            const g = this.loader;
            if (typeof (g == null ? void 0 : g.getResponseHeader) == 'function') {
              const b = g.getResponseHeader('Retry-After');
              b && (m = parseFloat(b) * 1e3);
            }
            this.log(`Steering manifest ${d.url} rate limited`);
            return;
          }
          this.scheduleRefresh(this.uri || d.url, m);
        },
        onTimeout: (c, d, f) => {
          this.log(`Timeout loading steering manifest (${d.url})`), this.scheduleRefresh(this.uri || d.url);
        },
      };
    this.log(`Requesting steering manifest: ${i}`), this.loader.load(o, l, u);
  }
  scheduleRefresh(e, n = this.timeToLoad * 1e3) {
    self.clearTimeout(this.reloadTimer),
      (this.reloadTimer = self.setTimeout(() => {
        this.loadSteeringManifest(e);
      }, n));
  }
}
function T2(t, e, n, r) {
  t &&
    Object.keys(e).forEach((i) => {
      const o = t
        .filter((a) => a.groupId === i)
        .map((a) => {
          const s = Pn({}, a);
          return (
            (s.details = void 0),
            (s.attrs = new cn(s.attrs)),
            (s.url = s.attrs.URI = s5(a.url, a.attrs['STABLE-RENDITION-ID'], 'PER-RENDITION-URIS', n)),
            (s.groupId = s.attrs['GROUP-ID'] = e[i]),
            (s.attrs['PATHWAY-ID'] = r),
            s
          );
        });
      t.push(...o);
    });
}
function s5(t, e, n, r) {
  const { HOST: i, PARAMS: o, [n]: a } = r;
  let s;
  e && ((s = a == null ? void 0 : a[e]), s && (t = s));
  const l = new self.URL(t);
  return (
    i && !s && (l.host = i),
    o &&
      Object.keys(o)
        .sort()
        .forEach((u) => {
          u && l.searchParams.set(u, o[u]);
        }),
    l.href
  );
}
const FP = /^age:\s*[\d.]+\s*$/im;
class l5 {
  constructor(e) {
    (this.xhrSetup = void 0),
      (this.requestTimeout = void 0),
      (this.retryTimeout = void 0),
      (this.retryDelay = void 0),
      (this.config = null),
      (this.callbacks = null),
      (this.context = void 0),
      (this.loader = null),
      (this.stats = void 0),
      (this.xhrSetup = (e && e.xhrSetup) || null),
      (this.stats = new Id()),
      (this.retryDelay = 0);
  }
  destroy() {
    (this.callbacks = null), this.abortInternal(), (this.loader = null), (this.config = null);
  }
  abortInternal() {
    const e = this.loader;
    self.clearTimeout(this.requestTimeout),
      self.clearTimeout(this.retryTimeout),
      e && ((e.onreadystatechange = null), (e.onprogress = null), e.readyState !== 4 && ((this.stats.aborted = !0), e.abort()));
  }
  abort() {
    var e;
    this.abortInternal(), (e = this.callbacks) != null && e.onAbort && this.callbacks.onAbort(this.stats, this.context, this.loader);
  }
  load(e, n, r) {
    if (this.stats.loading.start) throw new Error('Loader can only be used once.');
    (this.stats.loading.start = self.performance.now()), (this.context = e), (this.config = n), (this.callbacks = r), this.loadInternal();
  }
  loadInternal() {
    const { config: e, context: n } = this;
    if (!e) return;
    const r = (this.loader = new self.XMLHttpRequest()),
      i = this.stats;
    (i.loading.first = 0), (i.loaded = 0), (i.aborted = !1);
    const o = this.xhrSetup;
    o
      ? Promise.resolve()
          .then(() => {
            if (!this.stats.aborted) return o(r, n.url);
          })
          .catch((a) => (r.open('GET', n.url, !0), o(r, n.url)))
          .then(() => {
            this.stats.aborted || this.openAndSendXhr(r, n, e);
          })
          .catch((a) => {
            this.callbacks.onError({ code: r.status, text: a.message }, n, r, i);
          })
      : this.openAndSendXhr(r, n, e);
  }
  openAndSendXhr(e, n, r) {
    e.readyState || e.open('GET', n.url, !0);
    const i = this.context.headers,
      { maxTimeToFirstByteMs: o, maxLoadTimeMs: a } = r.loadPolicy;
    if (i) for (const s in i) e.setRequestHeader(s, i[s]);
    n.rangeEnd && e.setRequestHeader('Range', 'bytes=' + n.rangeStart + '-' + (n.rangeEnd - 1)),
      (e.onreadystatechange = this.readystatechange.bind(this)),
      (e.onprogress = this.loadprogress.bind(this)),
      (e.responseType = n.responseType),
      self.clearTimeout(this.requestTimeout),
      (r.timeout = o && rt(o) ? o : a),
      (this.requestTimeout = self.setTimeout(this.loadtimeout.bind(this), r.timeout)),
      e.send();
  }
  readystatechange() {
    const { context: e, loader: n, stats: r } = this;
    if (!e || !n) return;
    const i = n.readyState,
      o = this.config;
    if (
      !r.aborted &&
      i >= 2 &&
      (r.loading.first === 0 &&
        ((r.loading.first = Math.max(self.performance.now(), r.loading.start)),
        o.timeout !== o.loadPolicy.maxLoadTimeMs &&
          (self.clearTimeout(this.requestTimeout),
          (o.timeout = o.loadPolicy.maxLoadTimeMs),
          (this.requestTimeout = self.setTimeout(this.loadtimeout.bind(this), o.loadPolicy.maxLoadTimeMs - (r.loading.first - r.loading.start))))),
      i === 4)
    ) {
      self.clearTimeout(this.requestTimeout), (n.onreadystatechange = null), (n.onprogress = null);
      const a = n.status,
        s = n.responseType !== 'text';
      if (a >= 200 && a < 300 && ((s && n.response) || n.responseText !== null)) {
        r.loading.end = Math.max(self.performance.now(), r.loading.first);
        const l = s ? n.response : n.responseText,
          u = n.responseType === 'arraybuffer' ? l.byteLength : l.length;
        if (((r.loaded = r.total = u), (r.bwEstimate = (r.total * 8e3) / (r.loading.end - r.loading.first)), !this.callbacks)) return;
        const c = this.callbacks.onProgress;
        if ((c && c(r, e, l, n), !this.callbacks)) return;
        const d = { url: n.responseURL, data: l, code: a };
        this.callbacks.onSuccess(d, r, e, n);
      } else {
        const l = o.loadPolicy.errorRetry,
          u = r.retry;
        zc(l, u, !1, a) ? this.retry(l) : (le.error(`${a} while loading ${e.url}`), this.callbacks.onError({ code: a, text: n.statusText }, e, n, r));
      }
    }
  }
  loadtimeout() {
    var e;
    const n = (e = this.config) == null ? void 0 : e.loadPolicy.timeoutRetry,
      r = this.stats.retry;
    if (zc(n, r, !0)) this.retry(n);
    else {
      le.warn(`timeout while loading ${this.context.url}`);
      const i = this.callbacks;
      i && (this.abortInternal(), i.onTimeout(this.stats, this.context, this.loader));
    }
  }
  retry(e) {
    const { context: n, stats: r } = this;
    (this.retryDelay = Bp(e, r.retry)),
      r.retry++,
      le.warn(`${status ? 'HTTP Status ' + status : 'Timeout'} while loading ${n.url}, retrying ${r.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),
      this.abortInternal(),
      (this.loader = null),
      self.clearTimeout(this.retryTimeout),
      (this.retryTimeout = self.setTimeout(this.loadInternal.bind(this), this.retryDelay));
  }
  loadprogress(e) {
    const n = this.stats;
    (n.loaded = e.loaded), e.lengthComputable && (n.total = e.total);
  }
  getCacheAge() {
    let e = null;
    if (this.loader && FP.test(this.loader.getAllResponseHeaders())) {
      const n = this.loader.getResponseHeader('age');
      e = n ? parseFloat(n) : null;
    }
    return e;
  }
  getResponseHeader(e) {
    return this.loader && new RegExp(`^${e}:\\s*[\\d.]+\\s*$`, 'im').test(this.loader.getAllResponseHeaders()) ? this.loader.getResponseHeader(e) : null;
  }
}
function NP() {
  if (self.fetch && self.AbortController && self.ReadableStream && self.Request)
    try {
      return new self.ReadableStream({}), !0;
    } catch {}
  return !1;
}
const $P = /(\d+)-(\d+)\/(\d+)/;
class w2 {
  constructor(e) {
    (this.fetchSetup = void 0),
      (this.requestTimeout = void 0),
      (this.request = void 0),
      (this.response = void 0),
      (this.controller = void 0),
      (this.context = void 0),
      (this.config = null),
      (this.callbacks = null),
      (this.stats = void 0),
      (this.loader = null),
      (this.fetchSetup = e.fetchSetup || VP),
      (this.controller = new self.AbortController()),
      (this.stats = new Id());
  }
  destroy() {
    (this.loader = this.callbacks = null), this.abortInternal();
  }
  abortInternal() {
    const e = this.response;
    (e != null && e.ok) || ((this.stats.aborted = !0), this.controller.abort());
  }
  abort() {
    var e;
    this.abortInternal(), (e = this.callbacks) != null && e.onAbort && this.callbacks.onAbort(this.stats, this.context, this.response);
  }
  load(e, n, r) {
    const i = this.stats;
    if (i.loading.start) throw new Error('Loader can only be used once.');
    i.loading.start = self.performance.now();
    const o = BP(e, this.controller.signal),
      a = r.onProgress,
      s = e.responseType === 'arraybuffer',
      l = s ? 'byteLength' : 'length',
      { maxTimeToFirstByteMs: u, maxLoadTimeMs: c } = n.loadPolicy;
    (this.context = e),
      (this.config = n),
      (this.callbacks = r),
      (this.request = this.fetchSetup(e, o)),
      self.clearTimeout(this.requestTimeout),
      (n.timeout = u && rt(u) ? u : c),
      (this.requestTimeout = self.setTimeout(() => {
        this.abortInternal(), r.onTimeout(i, e, this.response);
      }, n.timeout)),
      self
        .fetch(this.request)
        .then((d) => {
          this.response = this.loader = d;
          const f = Math.max(self.performance.now(), i.loading.start);
          if (
            (self.clearTimeout(this.requestTimeout),
            (n.timeout = c),
            (this.requestTimeout = self.setTimeout(() => {
              this.abortInternal(), r.onTimeout(i, e, this.response);
            }, c - (f - i.loading.start))),
            !d.ok)
          ) {
            const { status: h, statusText: m } = d;
            throw new HP(m || 'fetch, bad network response', h, d);
          }
          return (
            (i.loading.first = f),
            (i.total = zP(d.headers) || i.total),
            a && rt(n.highWaterMark) ? this.loadProgressively(d, i, e, n.highWaterMark, a) : s ? d.arrayBuffer() : e.responseType === 'json' ? d.json() : d.text()
          );
        })
        .then((d) => {
          const { response: f } = this;
          self.clearTimeout(this.requestTimeout), (i.loading.end = Math.max(self.performance.now(), i.loading.first));
          const h = d[l];
          h && (i.loaded = i.total = h);
          const m = { url: f.url, data: d, code: f.status };
          a && !rt(n.highWaterMark) && a(i, e, d, f), r.onSuccess(m, i, e, f);
        })
        .catch((d) => {
          if ((self.clearTimeout(this.requestTimeout), i.aborted)) return;
          const f = (d && d.code) || 0,
            h = d ? d.message : null;
          r.onError({ code: f, text: h }, e, d ? d.details : null, i);
        });
  }
  getCacheAge() {
    let e = null;
    if (this.response) {
      const n = this.response.headers.get('age');
      e = n ? parseFloat(n) : null;
    }
    return e;
  }
  getResponseHeader(e) {
    return this.response ? this.response.headers.get(e) : null;
  }
  loadProgressively(e, n, r, i = 0, o) {
    const a = new Q_(),
      s = e.body.getReader(),
      l = () =>
        s
          .read()
          .then((u) => {
            if (u.done) return a.dataLength && o(n, r, a.flush(), e), Promise.resolve(new ArrayBuffer(0));
            const c = u.value,
              d = c.length;
            return (n.loaded += d), d < i || a.dataLength ? (a.push(c), a.dataLength >= i && o(n, r, a.flush(), e)) : o(n, r, c, e), l();
          })
          .catch(() => Promise.reject());
    return l();
  }
}
function BP(t, e) {
  const n = { method: 'GET', mode: 'cors', credentials: 'same-origin', signal: e, headers: new self.Headers(Pn({}, t.headers)) };
  return t.rangeEnd && n.headers.set('Range', 'bytes=' + t.rangeStart + '-' + String(t.rangeEnd - 1)), n;
}
function UP(t) {
  const e = $P.exec(t);
  if (e) return parseInt(e[2]) - parseInt(e[1]) + 1;
}
function zP(t) {
  const e = t.get('Content-Range');
  if (e) {
    const r = UP(e);
    if (rt(r)) return r;
  }
  const n = t.get('Content-Length');
  if (n) return parseInt(n);
}
function VP(t, e) {
  return new self.Request(t.url, e);
}
class HP extends Error {
  constructor(e, n, r) {
    super(e), (this.code = void 0), (this.details = void 0), (this.code = n), (this.details = r);
  }
}
const jP = /\s/,
  GP = {
    newCue(t, e, n, r) {
      const i = [];
      let o, a, s, l, u;
      const c = self.VTTCue || self.TextTrackCue;
      for (let f = 0; f < r.rows.length; f++)
        if (((o = r.rows[f]), (s = !0), (l = 0), (u = ''), !o.isEmpty())) {
          var d;
          for (let g = 0; g < o.chars.length; g++) jP.test(o.chars[g].uchar) && s ? l++ : ((u += o.chars[g].uchar), (s = !1));
          (o.cueStartTime = e), e === n && (n += 1e-4), l >= 16 ? l-- : l++;
          const h = r5(u.trim()),
            m = Xp(e, n, h);
          (t != null && (d = t.cues) != null && d.getCueById(m)) ||
            ((a = new c(e, n, h)), (a.id = m), (a.line = f + 1), (a.align = 'left'), (a.position = 10 + Math.min(80, Math.floor((l * 8) / 32) * 10)), i.push(a));
        }
      return t && i.length && (i.sort((f, h) => (f.line === 'auto' || h.line === 'auto' ? 0 : f.line > 8 && h.line > 8 ? h.line - f.line : f.line - h.line)), i.forEach((f) => L_(t, f))), i;
    },
  },
  WP = { maxTimeToFirstByteMs: 8e3, maxLoadTimeMs: 2e4, timeoutRetry: null, errorRetry: null },
  KP = cr(
    cr(
      {
        autoStartLoad: !0,
        startPosition: -1,
        defaultAudioCodec: void 0,
        debug: !1,
        capLevelOnFPSDrop: !1,
        capLevelToPlayerSize: !1,
        ignoreDevicePixelRatio: !1,
        initialLiveManifestSize: 1,
        maxBufferLength: 30,
        backBufferLength: 1 / 0,
        maxBufferSize: 60 * 1e3 * 1e3,
        maxBufferHole: 0.1,
        highBufferWatchdogPeriod: 2,
        nudgeOffset: 0.1,
        nudgeMaxRetry: 3,
        maxFragLookUpTolerance: 0.25,
        liveSyncDurationCount: 3,
        liveMaxLatencyDurationCount: 1 / 0,
        liveSyncDuration: void 0,
        liveMaxLatencyDuration: void 0,
        maxLiveSyncPlaybackRate: 1,
        liveDurationInfinity: !1,
        liveBackBufferLength: null,
        maxMaxBufferLength: 600,
        enableWorker: !0,
        workerPath: null,
        enableSoftwareAES: !0,
        startLevel: void 0,
        startFragPrefetch: !1,
        fpsDroppedMonitoringPeriod: 5e3,
        fpsDroppedMonitoringThreshold: 0.2,
        appendErrorMaxRetry: 3,
        loader: l5,
        fLoader: void 0,
        pLoader: void 0,
        xhrSetup: void 0,
        licenseXhrSetup: void 0,
        licenseResponseCallback: void 0,
        abrController: QD,
        bufferController: aP,
        capLevelController: Qp,
        errorController: HI,
        fpsController: DP,
        stretchShortVideoTrack: !1,
        maxAudioFramesDrift: 1,
        forceKeyFrameOnDiscontinuity: !0,
        abrEwmaFastLive: 3,
        abrEwmaSlowLive: 9,
        abrEwmaFastVoD: 3,
        abrEwmaSlowVoD: 9,
        abrEwmaDefaultEstimate: 5e5,
        abrBandWidthFactor: 0.95,
        abrBandWidthUpFactor: 0.7,
        abrMaxWithRealBitrate: !1,
        maxStarvationDelay: 4,
        maxLoadingDelay: 4,
        minAutoBitrate: 0,
        emeEnabled: !1,
        widevineLicenseUrl: void 0,
        drmSystems: {},
        drmSystemOptions: {},
        requestMediaKeySystemAccessFunc: g_,
        testBandwidth: !0,
        progressive: !1,
        lowLatencyMode: !0,
        cmcd: void 0,
        enableDateRangeMetadataCues: !0,
        enableEmsgMetadataCues: !0,
        enableID3MetadataCues: !0,
        certLoadPolicy: { default: WP },
        keyLoadPolicy: {
          default: {
            maxTimeToFirstByteMs: 8e3,
            maxLoadTimeMs: 2e4,
            timeoutRetry: { maxNumRetry: 1, retryDelayMs: 1e3, maxRetryDelayMs: 2e4, backoff: 'linear' },
            errorRetry: { maxNumRetry: 8, retryDelayMs: 1e3, maxRetryDelayMs: 2e4, backoff: 'linear' },
          },
        },
        manifestLoadPolicy: {
          default: {
            maxTimeToFirstByteMs: 1 / 0,
            maxLoadTimeMs: 2e4,
            timeoutRetry: { maxNumRetry: 2, retryDelayMs: 0, maxRetryDelayMs: 0 },
            errorRetry: { maxNumRetry: 1, retryDelayMs: 1e3, maxRetryDelayMs: 8e3 },
          },
        },
        playlistLoadPolicy: {
          default: {
            maxTimeToFirstByteMs: 1e4,
            maxLoadTimeMs: 2e4,
            timeoutRetry: { maxNumRetry: 2, retryDelayMs: 0, maxRetryDelayMs: 0 },
            errorRetry: { maxNumRetry: 2, retryDelayMs: 1e3, maxRetryDelayMs: 8e3 },
          },
        },
        fragLoadPolicy: {
          default: {
            maxTimeToFirstByteMs: 1e4,
            maxLoadTimeMs: 12e4,
            timeoutRetry: { maxNumRetry: 4, retryDelayMs: 0, maxRetryDelayMs: 0 },
            errorRetry: { maxNumRetry: 6, retryDelayMs: 1e3, maxRetryDelayMs: 8e3 },
          },
        },
        steeringManifestLoadPolicy: {
          default: {
            maxTimeToFirstByteMs: 1e4,
            maxLoadTimeMs: 2e4,
            timeoutRetry: { maxNumRetry: 2, retryDelayMs: 0, maxRetryDelayMs: 0 },
            errorRetry: { maxNumRetry: 1, retryDelayMs: 1e3, maxRetryDelayMs: 8e3 },
          },
        },
        manifestLoadingTimeOut: 1e4,
        manifestLoadingMaxRetry: 1,
        manifestLoadingRetryDelay: 1e3,
        manifestLoadingMaxRetryTimeout: 64e3,
        levelLoadingTimeOut: 1e4,
        levelLoadingMaxRetry: 4,
        levelLoadingRetryDelay: 1e3,
        levelLoadingMaxRetryTimeout: 64e3,
        fragLoadingTimeOut: 2e4,
        fragLoadingMaxRetry: 6,
        fragLoadingRetryDelay: 1e3,
        fragLoadingMaxRetryTimeout: 64e3,
      },
      qP(),
    ),
    {},
    {
      subtitleStreamController: nP,
      subtitleTrackController: iP,
      timelineController: AP,
      audioStreamController: JD,
      audioTrackController: eP,
      emeController: Va,
      cmcdController: qi,
      contentSteeringController: MP,
    },
  );
function qP() {
  return {
    cueHandler: GP,
    enableWebVTT: !0,
    enableIMSC1: !0,
    enableCEA708Captions: !0,
    captionsTextTrack1Label: 'English',
    captionsTextTrack1LanguageCode: 'en',
    captionsTextTrack2Label: 'Spanish',
    captionsTextTrack2LanguageCode: 'es',
    captionsTextTrack3Label: 'Unknown CC',
    captionsTextTrack3LanguageCode: '',
    captionsTextTrack4Label: 'Unknown CC',
    captionsTextTrack4LanguageCode: '',
    renderTextTracksNatively: !0,
  };
}
function YP(t, e) {
  if ((e.liveSyncDurationCount || e.liveMaxLatencyDurationCount) && (e.liveSyncDuration || e.liveMaxLatencyDuration))
    throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");
  if (e.liveMaxLatencyDurationCount !== void 0 && (e.liveSyncDurationCount === void 0 || e.liveMaxLatencyDurationCount <= e.liveSyncDurationCount))
    throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');
  if (e.liveMaxLatencyDuration !== void 0 && (e.liveSyncDuration === void 0 || e.liveMaxLatencyDuration <= e.liveSyncDuration))
    throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');
  const n = tm(t),
    r = ['manifest', 'level', 'frag'],
    i = ['TimeOut', 'MaxRetry', 'RetryDelay', 'MaxRetryTimeout'];
  return (
    r.forEach((o) => {
      const a = `${o === 'level' ? 'playlist' : o}LoadPolicy`,
        s = e[a] === void 0,
        l = [];
      i.forEach((u) => {
        const c = `${o}Loading${u}`,
          d = e[c];
        if (d !== void 0 && s) {
          l.push(c);
          const f = n[a].default;
          switch (((e[a] = { default: f }), u)) {
            case 'TimeOut':
              (f.maxLoadTimeMs = d), (f.maxTimeToFirstByteMs = d);
              break;
            case 'MaxRetry':
              (f.errorRetry.maxNumRetry = d), (f.timeoutRetry.maxNumRetry = d);
              break;
            case 'RetryDelay':
              (f.errorRetry.retryDelayMs = d), (f.timeoutRetry.retryDelayMs = d);
              break;
            case 'MaxRetryTimeout':
              (f.errorRetry.maxRetryDelayMs = d), (f.timeoutRetry.maxRetryDelayMs = d);
              break;
          }
        }
      }),
        l.length && le.warn(`hls.js config: "${l.join('", "')}" setting(s) are deprecated, use "${a}": ${JSON.stringify(e[a])}`);
    }),
    cr(cr({}, n), e)
  );
}
function tm(t) {
  return t && typeof t == 'object' ? (Array.isArray(t) ? t.map(tm) : Object.keys(t).reduce((e, n) => ((e[n] = tm(t[n])), e), {})) : t;
}
function XP(t) {
  const e = t.loader;
  e !== w2 && e !== l5
    ? (le.log('[config]: Custom loader detected, cannot enable progressive streaming'), (t.progressive = !1))
    : NP() && ((t.loader = w2), (t.progressive = !0), (t.enableSoftwareAES = !0), le.log('[config]: Progressive streaming enabled, using FetchLoader'));
}
class Li {
  static get version() {
    return '1.4.8';
  }
  static isSupported() {
    return lD();
  }
  static get Events() {
    return V;
  }
  static get ErrorTypes() {
    return at;
  }
  static get ErrorDetails() {
    return he;
  }
  static get DefaultConfig() {
    return Li.defaultConfig ? Li.defaultConfig : KP;
  }
  static set DefaultConfig(e) {
    Li.defaultConfig = e;
  }
  constructor(e = {}) {
    (this.config = void 0),
      (this.userConfig = void 0),
      (this.coreComponents = void 0),
      (this.networkControllers = void 0),
      (this._emitter = new qp()),
      (this._autoLevelCapping = void 0),
      (this._maxHdcpLevel = null),
      (this.abrController = void 0),
      (this.bufferController = void 0),
      (this.capLevelController = void 0),
      (this.latencyController = void 0),
      (this.levelController = void 0),
      (this.streamController = void 0),
      (this.audioTrackController = void 0),
      (this.subtitleTrackController = void 0),
      (this.emeController = void 0),
      (this.cmcdController = void 0),
      (this._media = null),
      (this.url = null),
      kL(e.debug || !1, 'Hls instance');
    const n = (this.config = YP(Li.DefaultConfig, e));
    (this.userConfig = e), (this._autoLevelCapping = -1), n.progressive && XP(n);
    const { abrController: r, bufferController: i, capLevelController: o, errorController: a, fpsController: s } = n,
      l = new a(this),
      u = (this.abrController = new r(this)),
      c = (this.bufferController = new i(this)),
      d = (this.capLevelController = new o(this)),
      f = new s(this),
      h = new TI(this),
      m = new LI(this),
      g = n.contentSteeringController,
      b = g ? new g(this) : null,
      _ = (this.levelController = new GI(this, b)),
      y = new WI(this),
      T = new qI(this.config),
      w = (this.streamController = new YD(this, y, T));
    d.setStreamController(w), f.setStreamController(w);
    const I = [h, _, w];
    b && I.splice(1, 0, b), (this.networkControllers = I);
    const O = [u, c, d, f, m, y];
    this.audioTrackController = this.createController(n.audioTrackController, I);
    const x = n.audioStreamController;
    x && I.push(new x(this, y, T)), (this.subtitleTrackController = this.createController(n.subtitleTrackController, I));
    const L = n.subtitleStreamController;
    L && I.push(new L(this, y, T)),
      this.createController(n.timelineController, O),
      (T.emeController = this.emeController = this.createController(n.emeController, O)),
      (this.cmcdController = this.createController(n.cmcdController, O)),
      (this.latencyController = this.createController(II, O)),
      (this.coreComponents = O),
      I.push(l);
    const D = l.onErrorOut;
    typeof D == 'function' && this.on(V.ERROR, D, l);
  }
  createController(e, n) {
    if (e) {
      const r = new e(this);
      return n && n.push(r), r;
    }
    return null;
  }
  on(e, n, r = this) {
    this._emitter.on(e, n, r);
  }
  once(e, n, r = this) {
    this._emitter.once(e, n, r);
  }
  removeAllListeners(e) {
    this._emitter.removeAllListeners(e);
  }
  off(e, n, r = this, i) {
    this._emitter.off(e, n, r, i);
  }
  listeners(e) {
    return this._emitter.listeners(e);
  }
  emit(e, n, r) {
    return this._emitter.emit(e, n, r);
  }
  trigger(e, n) {
    if (this.config.debug) return this.emit(e, e, n);
    try {
      return this.emit(e, e, n);
    } catch (r) {
      le.error('An internal error happened while handling event ' + e + '. Error message: "' + r.message + '". Here is a stacktrace:', r),
        this.trigger(V.ERROR, { type: at.OTHER_ERROR, details: he.INTERNAL_EXCEPTION, fatal: !1, event: e, error: r });
    }
    return !1;
  }
  listenerCount(e) {
    return this._emitter.listenerCount(e);
  }
  destroy() {
    le.log('destroy'),
      this.trigger(V.DESTROYING, void 0),
      this.detachMedia(),
      this.removeAllListeners(),
      (this._autoLevelCapping = -1),
      (this.url = null),
      this.networkControllers.forEach((n) => n.destroy()),
      (this.networkControllers.length = 0),
      this.coreComponents.forEach((n) => n.destroy()),
      (this.coreComponents.length = 0);
    const e = this.config;
    (e.xhrSetup = e.fetchSetup = void 0), (this.userConfig = null);
  }
  attachMedia(e) {
    le.log('attachMedia'), (this._media = e), this.trigger(V.MEDIA_ATTACHING, { media: e });
  }
  detachMedia() {
    le.log('detachMedia'), this.trigger(V.MEDIA_DETACHING, void 0), (this._media = null);
  }
  loadSource(e) {
    this.stopLoad();
    const n = this.media,
      r = this.url,
      i = (this.url = Fp.buildAbsoluteURL(self.location.href, e, { alwaysNormalize: !0 }));
    le.log(`loadSource:${i}`), n && r && (r !== i || this.bufferController.hasSourceTypes()) && (this.detachMedia(), this.attachMedia(n)), this.trigger(V.MANIFEST_LOADING, { url: e });
  }
  startLoad(e = -1) {
    le.log(`startLoad(${e})`),
      this.networkControllers.forEach((n) => {
        n.startLoad(e);
      });
  }
  stopLoad() {
    le.log('stopLoad'),
      this.networkControllers.forEach((e) => {
        e.stopLoad();
      });
  }
  swapAudioCodec() {
    le.log('swapAudioCodec'), this.streamController.swapAudioCodec();
  }
  recoverMediaError() {
    le.log('recoverMediaError');
    const e = this._media;
    this.detachMedia(), e && this.attachMedia(e);
  }
  removeLevel(e, n = 0) {
    this.levelController.removeLevel(e, n);
  }
  get levels() {
    const e = this.levelController.levels;
    return e || [];
  }
  get currentLevel() {
    return this.streamController.currentLevel;
  }
  set currentLevel(e) {
    le.log(`set currentLevel:${e}`), (this.loadLevel = e), this.abrController.clearTimer(), this.streamController.immediateLevelSwitch();
  }
  get nextLevel() {
    return this.streamController.nextLevel;
  }
  set nextLevel(e) {
    le.log(`set nextLevel:${e}`), (this.levelController.manualLevel = e), this.streamController.nextLevelSwitch();
  }
  get loadLevel() {
    return this.levelController.level;
  }
  set loadLevel(e) {
    le.log(`set loadLevel:${e}`), (this.levelController.manualLevel = e);
  }
  get nextLoadLevel() {
    return this.levelController.nextLoadLevel;
  }
  set nextLoadLevel(e) {
    this.levelController.nextLoadLevel = e;
  }
  get firstLevel() {
    return Math.max(this.levelController.firstLevel, this.minAutoLevel);
  }
  set firstLevel(e) {
    le.log(`set firstLevel:${e}`), (this.levelController.firstLevel = e);
  }
  get startLevel() {
    return this.levelController.startLevel;
  }
  set startLevel(e) {
    le.log(`set startLevel:${e}`), e !== -1 && (e = Math.max(e, this.minAutoLevel)), (this.levelController.startLevel = e);
  }
  get capLevelToPlayerSize() {
    return this.config.capLevelToPlayerSize;
  }
  set capLevelToPlayerSize(e) {
    const n = !!e;
    n !== this.config.capLevelToPlayerSize &&
      (n ? this.capLevelController.startCapping() : (this.capLevelController.stopCapping(), (this.autoLevelCapping = -1), this.streamController.nextLevelSwitch()),
      (this.config.capLevelToPlayerSize = n));
  }
  get autoLevelCapping() {
    return this._autoLevelCapping;
  }
  get bandwidthEstimate() {
    const { bwEstimator: e } = this.abrController;
    return e ? e.getEstimate() : NaN;
  }
  get ttfbEstimate() {
    const { bwEstimator: e } = this.abrController;
    return e ? e.getEstimateTTFB() : NaN;
  }
  set autoLevelCapping(e) {
    this._autoLevelCapping !== e && (le.log(`set autoLevelCapping:${e}`), (this._autoLevelCapping = e));
  }
  get maxHdcpLevel() {
    return this._maxHdcpLevel;
  }
  set maxHdcpLevel(e) {
    X0.indexOf(e) > -1 && (this._maxHdcpLevel = e);
  }
  get autoLevelEnabled() {
    return this.levelController.manualLevel === -1;
  }
  get manualLevel() {
    return this.levelController.manualLevel;
  }
  get minAutoLevel() {
    const {
      levels: e,
      config: { minAutoBitrate: n },
    } = this;
    if (!e) return 0;
    const r = e.length;
    for (let i = 0; i < r; i++) if (e[i].maxBitrate >= n) return i;
    return 0;
  }
  get maxAutoLevel() {
    const { levels: e, autoLevelCapping: n, maxHdcpLevel: r } = this;
    let i;
    if ((n === -1 && e && e.length ? (i = e.length - 1) : (i = n), r))
      for (let o = i; o--; ) {
        const a = e[o].attrs['HDCP-LEVEL'];
        if (a && a <= r) return o;
      }
    return i;
  }
  get nextAutoLevel() {
    return Math.min(Math.max(this.abrController.nextAutoLevel, this.minAutoLevel), this.maxAutoLevel);
  }
  set nextAutoLevel(e) {
    this.abrController.nextAutoLevel = Math.max(this.minAutoLevel, e);
  }
  get playingDate() {
    return this.streamController.currentProgramDateTime;
  }
  get mainForwardBufferInfo() {
    return this.streamController.getMainFwdBufferInfo();
  }
  get audioTracks() {
    const e = this.audioTrackController;
    return e ? e.audioTracks : [];
  }
  get audioTrack() {
    const e = this.audioTrackController;
    return e ? e.audioTrack : -1;
  }
  set audioTrack(e) {
    const n = this.audioTrackController;
    n && (n.audioTrack = e);
  }
  get subtitleTracks() {
    const e = this.subtitleTrackController;
    return e ? e.subtitleTracks : [];
  }
  get subtitleTrack() {
    const e = this.subtitleTrackController;
    return e ? e.subtitleTrack : -1;
  }
  get media() {
    return this._media;
  }
  set subtitleTrack(e) {
    const n = this.subtitleTrackController;
    n && (n.subtitleTrack = e);
  }
  get subtitleDisplay() {
    const e = this.subtitleTrackController;
    return e ? e.subtitleDisplay : !1;
  }
  set subtitleDisplay(e) {
    const n = this.subtitleTrackController;
    n && (n.subtitleDisplay = e);
  }
  get lowLatencyMode() {
    return this.config.lowLatencyMode;
  }
  set lowLatencyMode(e) {
    this.config.lowLatencyMode = e;
  }
  get liveSyncPosition() {
    return this.latencyController.liveSyncPosition;
  }
  get latency() {
    return this.latencyController.latency;
  }
  get maxLatency() {
    return this.latencyController.maxLatency;
  }
  get targetLatency() {
    return this.latencyController.targetLatency;
  }
  get drift() {
    return this.latencyController.drift;
  }
  get forceStartLoad() {
    return this.streamController.forceStartLoad;
  }
}
Li.defaultConfig = void 0;
const vn = {
  RELOAD: 'reload',
  RELOAD_FAIL: 'reloadFail',
  RELOAD_SUCCESS: 'reloadSuccess',
  ERROR: 'error',
  ERROR_RELOAD: 'errorRload',
  HISTORY_PLAY_END: 'historyPlayEnd',
  PLAY_ENDED: 'play_ended',
  SEEK: 'seek',
  TRANSFORM: 'transform',
  CHANGE_PLAY_INDEX: 'changePlayIndex',
  HIDE_CONTRALLER: 'hideContraller',
  SHOW_CONTRALLER: 'showContraller',
  CLEAR_ERROR_TIMER: 'clearErrorTimer',
  CANVAS_PAUSE: 'canvasPause',
  CANVAS_PLAY: 'canvasPlay',
};
function QP(t, e, n, r) {
  if (!Li.isSupported() || !e) return;
  const i = new Li({ liveDurationInfinity: n, enableWorker: !0, ...r });
  return i.loadSource(e), i.attachMedia(t), i;
}
function ZP(t, e, n, r) {
  if (!ma.isSupported() || !e) return;
  (ma.LoggingControl.enableDebug = !1), (ma.LoggingControl.enableVerbose = !1), (ma.LoggingControl.enableWarn = !1);
  const i = { type: 'flv', url: e, ...(r == null ? void 0 : r.mediaDataSource) },
    o = { enableWorker: !0, isLive: n ?? !0, enableStashBuffer: !n, ...(r == null ? void 0 : r.config) },
    a = ma.createPlayer(i, o);
  return a.attachMediaElement(t), a.load(), a;
}
const JP = function (t, e, n) {
  if (t) {
    if ((t.pause(), e)) {
      e.unload();
      return;
    }
    if (n) {
      n.stopLoad();
      return;
    }
    t.removeAttribute('src');
  }
};
function eO(t) {
  return t ? (t.indexOf('.flv') > -1 ? 'flv' : t.indexOf('.m3u8') > -1 ? 'hls' : 'native') : 'native';
}
function C2(t) {
  const e = Math.round((t / 60 / 60) % 24),
    n = t < 60 ? 0 : Math.round((t / 60) % 60),
    r = Math.round(t % 60);
  return e === 0 ? `${n < 10 ? '0' + n : n}:${r < 10 ? '0' + r : r}` : `${e < 10 ? '0' + e : e}:${n < 10 ? '0' + n : n}:${r < 10 ? '0' + r : r}`;
}
function tO(t, e) {
  return t ? window.getComputedStyle(t).getPropertyValue(e) : '';
}
function nm(t, e) {
  const n = {
    get(r, i, o) {
      return typeof r[i] == 'object' && nm(r[i]), e && e[i] ? Reflect.get(e, i) : Reflect.get(r, i, o);
    },
    set(r, i, o) {
      return Reflect.set(r, i, o);
    },
  };
  return new Proxy(t, n);
}
class nO {
  constructor(e) {
    Jt(this, 'container');
    Jt(this, 'play', () => {
      Wu(async () => {
        var e;
        return (e = this.video) == null ? void 0 : e.play();
      });
    });
    Jt(this, 'pause', () => {
      var e;
      (e = this.video) == null || e.pause();
    });
    Jt(this, 'seekTo', (e) => {
      this.video && (this.video.currentTime = e);
    });
    Jt(this, 'setVolume', (e) => {
      this.video && (this.video.volume = e);
    });
    Jt(this, 'getVolume', () => {
      var e;
      return (e = this.video) == null ? void 0 : e.volume;
    });
    Jt(this, 'mute', () => {
      this.video && (this.video.muted = !0);
    });
    Jt(this, 'unmute', () => {
      this.video && (this.video.muted = !1);
    });
    Jt(this, 'requestPictureInPicture', () => {
      var e;
      (e = this.video) == null || e.requestPictureInPicture();
    });
    Jt(this, 'exitPictureInPicture', () => {
      document.exitPictureInPicture && document.pictureInPictureElement === this.video && document.exitPictureInPicture();
    });
    Jt(this, 'setPlaybackRate', (e) => {
      this.video && (this.video.playbackRate = e);
    });
    Jt(this, 'getDuration', () => {
      const { duration: e, seekable: n } = this.video || {};
      return e === 1 / 0 && n && n.length > 0 ? n.end(n.length - 1) : e ?? 0;
    });
    Jt(this, 'getCurrentTime', () => {
      var e;
      return ((e = this.video) == null ? void 0 : e.currentTime) ?? 0;
    });
    Jt(this, 'getSecondsLoaded', () => this.getBufferedTime()[1] ?? 0);
    Jt(this, 'getBufferedTime', () => {
      const { buffered: e } = this.video || {};
      if (e && e.length === 0) return [0, 0];
      const n = (e == null ? void 0 : e.end(e.length - 1)) ?? 0,
        r = (e == null ? void 0 : e.start(e.length - 1)) ?? 0,
        i = this.getDuration() ?? 0;
      return n > i ? [r, i] : [r, n];
    });
    Jt(this, 'snapshot', () => {
      var r, i;
      let e = document.createElement('canvas'),
        n = e.getContext('2d');
      return (
        (e.width = ((r = this.video) == null ? void 0 : r.videoWidth) ?? 0),
        (e.height = ((i = this.video) == null ? void 0 : i.videoHeight) ?? 0),
        n == null || n.drawImage(this.video, 0, 0, e.width, e.height),
        setTimeout(() => {
          e.remove(), (e = null), (n = null);
        }, 200),
        e.toDataURL()
      );
    });
    Jt(this, 'unload', () => {});
    Jt(this, 'reload', () => {});
    Jt(this, 'toggleFit', () => {});
    Jt(this, 'openFpsPlay', () => {});
    Jt(this, 'closeFpsPlay', () => {});
    Jt(this, 'destroy', () => {
      this.container = null;
    });
    this.container = e;
  }
  get video() {
    return this.container.querySelector('video');
  }
  get paused() {
    var e;
    return (e = this.video) == null ? void 0 : e.paused;
  }
  get muted() {
    var e;
    return (e = this.video) == null ? void 0 : e.muted;
  }
}
function rO(t, e, n, r, i, o, a) {
  const [s, l] = v.useState({ type: '', flv: void 0, hls: void 0 });
  return (
    v.useEffect(() => {
      if (!(r && (t || (e === 'flv' && i)))) return;
      const c = r.querySelector('video'),
        d = {};
      switch (e) {
        case 'flv':
          (d.type = 'flv'), (d.flv = ZP(c, t, n, o));
          break;
        case 'hls':
          (d.type = 'hls'), (d.hls = QP(c, t, n, a));
          break;
        default:
          (d.type = 'native'), c == null || c.setAttribute('src', t ?? '');
          break;
      }
      return (
        c != null && c.paused && Wu(async () => (c == null ? void 0 : c.play())),
        l(d),
        () => {
          d.flv
            ? (d.flv.pause(),
              Wu(async () => {
                var f;
                return (f = d.flv) == null ? void 0 : f.destroy();
              }))
            : d.hls
            ? (c == null || c.pause(),
              Wu(async () => {
                var f;
                return (f = d.hls) == null ? void 0 : f.destroy();
              }))
            : (c == null || c.pause(), c == null || c.removeAttribute('src')),
            l({});
        }
      );
    }, [t, r, i, e, n, o, a]),
    [s.type, s.flv, s.hls]
  );
}
function iO(t, e, n, r, i, o, a) {
  const [s, l] = v.useState(void 0),
    [u, c] = v.useState(Date.now()),
    d = v.useMemo(() => ({ flvConfig: { ...o }, hlsConfig: { ...a } }), [u]),
    f = rO(t, e, n, r, i, d.flvConfig, d.hlsConfig),
    h = Ai(() => c(Date.now()));
  return (
    v.useEffect(() => {
      if (!r) {
        console.debug('wait create api...');
        return;
      }
      const m = new nO(r);
      return l(m), () => u_(() => m.destroy());
    }, [r, i]),
    [s, f, h]
  );
}
const gi = Ie.createContext(null);
function u5({ children: t, ...e }) {
  return Be.jsx(gi.Provider, { value: { ...e }, children: t });
}
u5.defaultProps = { getContainer: () => document.body };
class oO {
  constructor(e) {
    Jt(this, 'video');
    Jt(this, 'events');
    Jt(this, 'playerEvents');
    (this.video = e), (this.events = {}), (this.playerEvents = {});
  }
  on(e, n) {
    this.events && this.events[e] ? this.events[e].listener.push(n) : (this.events[e] = { type: e, listener: [n] });
  }
  addEventListener(e, n) {
    this.video && (this.playerEvents[e] ? this.playerEvents[e].push(n) : (this.playerEvents[e] = [n]), this.video.addEventListener(e, n, !1));
  }
  removeEventListener(e, n) {
    if (this.video) {
      if (!this.playerEvents || !this.playerEvents[e]) return;
      let r = this.playerEvents[e].findIndex((i) => i === n);
      r > -1 && this.playerEvents[e].splice(r, 1), this.video.removeEventListener(e, n, !1);
    }
  }
  emit(e, ...n) {
    !this.events ||
      !this.events[e] ||
      this.events[e].listener.forEach((r) => {
        r(...n);
      });
  }
  off(e, n) {
    if (!this.events || !this.events.eventName) return;
    let r = this.events[e].listener.findIndex((i) => i === n);
    r > -1 && this.events[e].listener.splice(r, 1);
  }
  destroy() {
    Object.keys(this.playerEvents).forEach((e) => {
      this.playerEvents[e].forEach((n) => {
        this.removeEventListener(e, n);
      });
    }),
      (this.playerEvents = {}),
      (this.events = {}),
      (this.video = null);
  }
}
function aO(t) {
  const [e, n] = v.useState(void 0);
  return (
    v.useEffect(() => {
      if (!t) {
        console.debug('wait create event...');
        return;
      }
      const r = new oO(t);
      return n(r), () => u_(() => r.destroy());
    }, [t]),
    e
  );
}
function Or(t, e, n) {
  const r = v.useContext(gi),
    i = v.useMemo(() => (r == null ? void 0 : r.event) ?? n, [n, r == null ? void 0 : r.event]),
    o = mi(e);
  v.useEffect(() => {
    if (!i) return;
    const a = (s) => o.current(s);
    return i.addEventListener(t, a), () => i.removeEventListener(t, a);
  }, [i, t]);
}
function ui(t, e, n) {
  const r = v.useContext(gi),
    i = v.useMemo(() => (r == null ? void 0 : r.event) ?? n, [n, r == null ? void 0 : r.event]),
    o = mi(e);
  v.useEffect(() => {
    if (!i) return;
    const a = (s) => o.current(s);
    return (
      i.on(t, a),
      () => {
        i.off(t, a);
      }
    );
  }, [i, t]);
}
function sO(t, e) {
  v.useEffect(() => {
    if (!(!t || !e))
      return (
        e.forEach(([n, r]) => {
          t.addEventListener(n, r);
        }),
        () => {
          e.forEach(([n, r]) => {
            t.removeEventListener(n, r);
          });
        }
      );
  }, [t]);
}
function c5(t, e) {
  v.useEffect(() => {
    if (!(!t || !e))
      return (
        e.forEach(([n, r]) => {
          t.on(n, r);
        }),
        () => {
          e.forEach(([n, r]) => {
            t.off(n, r);
          });
        }
      );
  }, [t]);
}
const Zs = window;
Zs._ICON_SCRIPT_URL || (Zs._ICON_SCRIPT_URL = {});
function lO(t) {
  return new Promise((e, n) => {
    const r = document.createElement('script');
    (r.src = t),
      document.body.appendChild(r),
      r.addEventListener('load', () => {
        e(null);
      }),
      r.addEventListener('error', (i) => {
        n(i);
      });
  });
}
function uO(t) {
  Zs._ICON_SCRIPT_URL[t] ||
    ((Zs._ICON_SCRIPT_URL[t] = !0),
    lO(t).catch((e) => {
      (Zs._ICON_SCRIPT_URL[t] = !1), console.error(e);
    }));
}
function d5({ type: t, className: e = '', title: n, style: r, ...i }) {
  return Be.jsx('i', {
    className: `anticon ${e}`,
    title: n,
    style: r,
    ...i,
    children: Be.jsx('svg', { width: '1em', height: '1em', fill: 'currentColor', 'aria-hidden': 'true', focusable: 'false', children: Be.jsx('use', { xlinkHref: `#${t}` }) }),
  });
}
d5.registerIconFont = uO;
(window._iconfont_svg_string_1153292 =
  '<svg><symbol id="lm-player-fenping13" viewBox="0 0 1024 1024"><path d="M960 992H64c-19.2 0-32-12.8-32-32V64C32 44.8 44.8 32 64 32h896c19.2 0 32 12.8 32 32v896c0 19.2-12.8 32-32 32z m-192-64h160V768H768v160z m-224 0H704V768H544v160z m-224 0h160V768H320v160z m-224 0H256V768H96v160zM768 704h160V544H768V704z m-224 0H704V544H544V704zM320 704h160V544H320V704z m-224 0H256V544H96V704zM768 480h160V320H768v160z m-224 0H704V320H544v160z m-448 0h384v-384h-384v384zM768 256h160V96H768V256zM544 256H704V96H544V256z"  ></path></symbol><symbol id="lm-player-fenping10" viewBox="0 0 1024 1024"><path d="M960 992H64c-19.2 0-32-12.8-32-32V64C32 44.8 44.8 32 64 32h896c19.2 0 32 12.8 32 32v896c0 19.2-12.8 32-32 32z m-192-64h160V768H768v160z m-224 0H704V768H544v160z m-224 0h160V768H320v160z m-224 0H256V768H96v160zM768 704h160V544H768V704z m-224 0H704V544H544V704zM320 704h160V544H320V704z m-224 0H256V544H96V704z m448-224h384v-384h-384v384z m-448 0h384v-384h-384v384z"  ></path></symbol><symbol id="lm-player-fenping8" viewBox="0 0 1024 1024"><path d="M960 992H64c-19.2 0-32-12.8-32-32V64C32 44.8 44.8 32 64 32h896c19.2 0 32 12.8 32 32v896c0 19.2-12.8 32-32 32z m-268.8-64h236.8v-236.8h-236.8v236.8z m-294.4 0h236.8v-236.8H396.8v236.8z m-300.8 0h236.8v-384H96v384z m595.2-300.8h236.8V396.8h-236.8v230.4z m-294.4 0h236.8V396.8H396.8v230.4zM96 96v384h230.4v-384H96z m595.2 236.8h236.8V96h-236.8v236.8z m-294.4 0h236.8V96H396.8v236.8z"  ></path></symbol><symbol id="lm-player-S_Arrow_SmallDown" viewBox="0 0 1024 1024"><path d="M512 568.704L306.56 421.952a32 32 0 0 0-37.12 52.096l224 160a32 32 0 0 0 37.12 0l224-160a32 32 0 0 0-37.12-52.096L512 568.704z"  ></path></symbol><symbol id="lm-player-S_Bar_Reduction" viewBox="0 0 1024 1024"><path d="M991.424 505.28L992 512v320a32 32 0 0 1-63.488 5.76L928 832v-80.384A479.808 479.808 0 0 1 512 992a480 480 0 0 1-433.792-274.24 32 32 0 0 1 57.792-27.52A416 416 0 0 0 928 512c0-40.32 57.088-42.56 63.424-6.72zM512 288a224 224 0 0 1 32 445.696V832a32 32 0 1 1-64 0v-98.24A224 224 0 0 1 512 288z m0 64a160 160 0 1 0 0 320 160 160 0 0 0 0-320z m0-320a480 480 0 0 1 433.792 274.24 32 32 0 0 1-57.792 27.52A416 416 0 0 0 96 512c0 40.32-57.088 42.56-63.424 6.72L32 512V192a32 32 0 0 1 63.488-5.76L96 192v80.384A479.808 479.808 0 0 1 512 32z"  ></path></symbol><symbol id="lm-player-S_Edit_LineMinus" viewBox="0 0 1024 1024"><path d="M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64z"  ></path></symbol><symbol id="lm-player-S_Edit_LinePlus" viewBox="0 0 1024 1024"><path d="M512 96a32 32 0 0 1 32 32v352H896a32 32 0 0 1 31.488 26.24L928 512a32 32 0 0 1-32 32H544V896a32 32 0 0 1-26.24 31.488L512 928a32 32 0 0 1-32-32V544H128a32 32 0 0 1-31.488-26.24L96 512a32 32 0 0 1 32-32h352V128a32 32 0 0 1 26.24-31.488L512 96z"  ></path></symbol><symbol id="lm-player-S_View_RotateLeft" viewBox="0 0 1024 1024"><path d="M89.6 352A32 32 0 0 1 57.6 320V128a32 32 0 0 1 64 0v104.64A480 480 0 1 1 32 512a32 32 0 0 1 64 0 416 416 0 1 0 65.344-224H281.6a32 32 0 0 1 0 64h-192z"  ></path></symbol><symbol id="lm-player-S_View_ScreenViewExit" viewBox="0 0 1024 1024"><path d="M992.0608 800a32 32 0 0 1 5.76 63.488l-5.76 0.512h-64v64a32 32 0 0 1-63.488 5.76l-0.512-5.76V832a32 32 0 0 1 26.24-31.488L896.0608 800h96zM128.0608 800a32 32 0 0 1 31.488 26.24L160.0608 832v96a32 32 0 0 1-63.488 5.76L96.0608 928v-64h-64a32 32 0 0 1-5.76-63.488L32.0608 800H128.0608z m704-576a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H192.0608a32 32 0 0 1-32-32V256a32 32 0 0 1 32-32h640z m-32 64h-576v448h576v-448zM896.0608 64a32 32 0 0 1 31.488 26.24l0.512 5.76v64h64a32 32 0 0 1 5.76 63.488l-5.76 0.512H896.0608a32 32 0 0 1-31.488-26.24L864.0608 192V96A32 32 0 0 1 896.0608 64zM128.0608 64a32 32 0 0 1 32 32V192a32 32 0 0 1-32 32H32.0608a32 32 0 0 1 0-64h64v-64A32 32 0 0 1 128.0608 64z"  ></path></symbol><symbol id="lm-player-S_View_RotateMiddle" viewBox="0 0 1024 1024"><path d="M512 32a480 480 0 1 1 0 960 480 480 0 0 1 0-960z m0 64a416 416 0 1 0 0 832 416 416 0 0 0 0-832z m0 256a160 160 0 1 1 0 320 160 160 0 0 1 0-320z m0 64a96 96 0 1 0 0 192 96 96 0 0 0 0-192z"  ></path></symbol><symbol id="lm-player-S_View_ScreenViewFull" viewBox="0 0 1024 1024"><path d="M32 768a32 32 0 0 1 31.488 26.24L64 800V896h96a32 32 0 0 1 5.76 63.488L160 960h-128a32 32 0 0 1-31.488-26.24L0 928v-128a32 32 0 0 1 32-32z m960 0a32 32 0 0 1 32 32v128a32 32 0 0 1-32 32h-128a32 32 0 1 1 0-64H960v-96a32 32 0 0 1 32-32zM832 224a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32V256a32 32 0 0 1 32-32h640z m-32 64h-576v448h576v-448zM160 64a32 32 0 0 1 5.76 63.488L160 128H64v96a32 32 0 0 1-63.488 5.76L0 224v-128a32 32 0 0 1 26.24-31.488L32 64h128z m832 0a32 32 0 0 1 31.488 26.24L1024 96v128a32 32 0 0 1-63.488 5.76L960 224V128h-96a32 32 0 0 1-5.76-63.488L864 64h128z"  ></path></symbol><symbol id="lm-player-S_View_ZoomOut" viewBox="0 0 1024 1024"><path d="M511.825979 31.989124a479.836855 479.836855 0 0 1 361.157207 795.761441l141.327948 141.26397a31.989124 31.989124 0 0 1-40.818122 48.943359l-4.478477-3.64676-141.26397-141.327948A479.836855 479.836855 0 1 1 511.825979 31.989124z m0 63.978247a415.858608 415.858608 0 1 0 0 831.717216 415.858608 415.858608 0 0 0 0-831.717216z m191.934742 383.869484a31.989124 31.989124 0 1 1 0 63.978248H319.891237a31.989124 31.989124 0 0 1 0-63.978248h383.869484z"  ></path></symbol><symbol id="lm-player-S_View_ZoomIn" viewBox="0 0 1024 1024"><path d="M511.825979 31.989124a479.836855 479.836855 0 0 1 361.157207 795.761441l141.327948 141.26397a31.989124 31.989124 0 0 1-40.818122 48.943359l-4.478477-3.64676-141.26397-141.327948A479.836855 479.836855 0 1 1 511.825979 31.989124z m0 63.978247a415.858608 415.858608 0 1 0 0 831.717216 415.858608 415.858608 0 0 0 0-831.717216z m0 191.934742a31.989124 31.989124 0 0 1 31.989124 31.989124v159.945618H703.760721a31.989124 31.989124 0 0 1 5.758043 63.466422L703.760721 543.815103H543.815103V703.760721a31.989124 31.989124 0 0 1-26.231082 31.477298L511.825979 735.749845a31.989124 31.989124 0 0 1-31.989124-31.989124V543.815103H319.891237a31.989124 31.989124 0 0 1-5.758042-63.466422L319.891237 479.836855h159.945618V319.891237a31.989124 31.989124 0 0 1 26.231082-31.477298L511.825979 287.902113z"  ></path></symbol><symbol id="lm-player-volume-close" viewBox="0 0 1024 1024"><path d="M891.648 410.154667a32 32 0 0 1 0 45.226666l-181.034667 181.034667a32 32 0 1 1-45.226666-45.226667l180.992-181.034666a32 32 0 0 1 45.269333 0z"  ></path><path d="M665.386667 410.154667a32 32 0 0 1 45.226666 0l181.034667 180.992a32 32 0 1 1-45.226667 45.226666l-181.034666-180.992a32 32 0 0 1 0-45.226666z"  ></path><path d="M512 128v768c-149.333333 0-260.266667-195.413333-260.266667-195.413333H128a42.666667 42.666667 0 0 1-42.666667-42.666667V362.88a42.666667 42.666667 0 0 1 42.666667-42.666667h123.733333S362.666667 128 512 128z"  ></path><path d="M279.424 336.213333z m0 0l0.170667-0.298666 0.810666-1.28a486.016 486.016 0 0 1 17.109334-25.941334c12.074667-17.109333 29.568-39.808 51.370666-62.336 36.864-38.186667 82.090667-72.021333 131.114667-82.773333v696.789333c-48.853333-10.922667-94.037333-45.269333-130.986667-84.138666a545.706667 545.706667 0 0 1-68.522666-89.813334l-0.768-1.365333-0.170667-0.256v-0.042667a32 32 0 0 0-27.861333-16.213333H128a10.666667 10.666667 0 0 1-10.666667-10.666667V362.88a10.666667 10.666667 0 0 1 10.666667-10.666667h123.733333a32 32 0 0 0 27.690667-15.957333zM233.813333 732.586667a609.408 609.408 0 0 0 68.821334 87.765333C350.592 870.826667 423.68 928 512 928a32 32 0 0 0 32-32V128a32 32 0 0 0-32-32c-88.106667 0-161.109333 56.106667-209.152 105.898667a601.642667 601.642667 0 0 0-68.864 86.314666H128a74.666667 74.666667 0 0 0-74.666667 74.666667v294.997333c0 41.258667 33.450667 74.666667 74.666667 74.666667h105.813333z"  ></path></symbol><symbol id="lm-player-volume-open" viewBox="0 0 1024 1024"><path d="M512 128v768c-149.333333 0-260.266667-195.413333-260.266667-195.413333H128a42.666667 42.666667 0 0 1-42.666667-42.666667V362.88a42.666667 42.666667 0 0 1 42.666667-42.666667h123.733333S362.666667 128 512 128z"  ></path><path d="M279.424 336.213333l0.170667-0.298666 0.810666-1.28a486.016 486.016 0 0 1 17.109334-25.941334c12.074667-17.109333 29.568-39.808 51.370666-62.336 36.864-38.186667 82.090667-72.021333 131.114667-82.773333v696.789333c-48.853333-10.922667-94.037333-45.269333-130.986667-84.138666a545.706667 545.706667 0 0 1-68.522666-89.813334l-0.768-1.365333-0.170667-0.256v-0.042667a32 32 0 0 0-27.861333-16.213333H128a10.666667 10.666667 0 0 1-10.666667-10.666667V362.88a10.666667 10.666667 0 0 1 10.666667-10.666667h123.733333a32 32 0 0 0 27.690667-15.957333zM233.813333 732.586667a609.408 609.408 0 0 0 68.821334 87.765333C350.592 870.826667 423.68 928 512 928a32 32 0 0 0 32-32V128a32 32 0 0 0-32-32c-88.106667 0-161.109333 56.106667-209.152 105.898667a601.642667 601.642667 0 0 0-68.864 86.314666H128a74.666667 74.666667 0 0 0-74.666667 74.666667v294.997333c0 41.258667 33.450667 74.666667 74.666667 74.666667h105.813333z"  ></path><path d="M787.797333 853.76a44.330667 44.330667 0 0 1-27.349333 8.789333c-13.056 0-24.277333-4.693333-33.706667-14.165333a46.037333 46.037333 0 0 1-14.165333-33.706667 46.336 46.336 0 0 1 18.56-37.589333 7.594667 7.594667 0 0 0 1.962667-1.493333l0.938666-0.938667c18.261333-12.373333 35.2-27.050667 50.773334-43.946667 15.658667-16.981333 29.354667-35.370667 41.088-55.210666a275.2 275.2 0 0 0 27.306666-63.488 249.642667 249.642667 0 0 0 9.813334-69.845334c0-48.853333-12.373333-93.44-37.12-133.845333a331.861333 331.861333 0 0 0-92.8-99.626667 45.738667 45.738667 0 0 1-20.522667-39.082666c0-13.013333 4.693333-24.277333 14.165333-33.706667 9.429333-9.429333 20.650667-14.165333 33.706667-14.165333 11.050667 0 20.821333 3.584 29.269333 10.752a425.728 425.728 0 0 1 67.413334 59.093333 392.234667 392.234667 0 0 1 53.76 73.258667c14.933333 26.368 26.666667 54.570667 35.157333 84.48a339.626667 339.626667 0 0 1 12.672 92.842666c0 32.554667-4.224 63.786667-12.672 93.738667a375.808 375.808 0 0 1-35.669333 84.992 405.077333 405.077333 0 0 1-122.581334 132.864zM733.098667 415.146667c13.653333 18.901333 24.576 37.973333 32.725333 57.173333 8.106667 19.2 12.202667 42.496 12.202667 69.845333 0 26.026667-4.266667 49.493333-12.714667 70.314667-8.448 20.864-19.2 39.722667-32.256 56.661333a136.661333 136.661333 0 0 1-16.597333 19.029334 31.402667 31.402667 0 0 1-22.442667 8.32 39.765333 39.765333 0 0 1-29.824-12.714667 42.197333 42.197333 0 0 1-12.202667-30.293333c0-5.205333 0.981333-10.410667 2.944-15.616h-0.981333c3.242667-7.168 7.168-13.994667 11.733333-20.48 4.565333-6.528 8.96-13.226667 13.184-20.053334 4.266667-6.826667 7.808-14.634667 10.752-23.466666 2.901333-8.746667 4.394667-19.328 4.394667-31.701334 0-11.733333-1.493333-22.016-4.394667-30.805333a124.032 124.032 0 0 0-10.752-23.893333 319.914667 319.914667 0 0 0-13.226666-20.522667 88.277333 88.277333 0 0 1-10.709334-20.522667 39.338667 39.338667 0 0 1-2.944-15.616c0-11.733333 4.096-21.845333 12.202667-30.293333a39.765333 39.765333 0 0 1 29.824-12.714667c9.088 0 16.597333 2.773333 22.442667 8.32a136.533333 136.533333 0 0 1 16.64 19.029334z"  ></path></symbol><symbol id="lm-player-fenping1" viewBox="0 0 1024 1024"><path d="M818.657882 198.776471H205.402353a36.562824 36.562824 0 0 0-27.105882 11.444705 38.249412 38.249412 0 0 0-11.264 27.708236v391.529412c0 10.782118 3.794824 19.998118 11.203764 27.708235a36.743529 36.743529 0 0 0 27.105883 11.444706h613.315764a36.502588 36.502588 0 0 0 27.105883-11.444706 38.068706 38.068706 0 0 0 11.264-27.708235v-391.529412a37.948235 37.948235 0 0 0-11.264-27.708236 36.321882 36.321882 0 0 0-27.105883-11.444705zM205.402353 120.470588h613.315765c31.744 0 58.849882 11.444706 81.317647 34.394353 22.467765 23.009882 33.671529 50.597647 33.671529 83.064471v391.529412c0 32.346353-11.203765 60.054588-33.731765 83.004235a109.628235 109.628235 0 0 1-81.257411 34.394353H550.369882v78.305882h114.989177c10.601412 0 19.636706 3.855059 27.105882 11.504941a37.948235 37.948235 0 0 1 11.203765 27.708236 37.948235 37.948235 0 0 1-11.203765 27.648 36.382118 36.382118 0 0 1-27.105882 11.504941H358.701176a36.502588 36.502588 0 0 1-27.105882-11.504941 38.068706 38.068706 0 0 1-11.264-27.708236c0-10.782118 3.734588-19.998118 11.203765-27.648a36.502588 36.502588 0 0 1 27.105882-11.444706h115.049412v-78.305882H205.342118a109.628235 109.628235 0 0 1-81.317647-34.454588c-22.467765-22.889412-33.671529-50.597647-33.67153-83.064471v-391.529412c0-32.406588 11.203765-59.994353 33.731765-83.004235A109.628235 109.628235 0 0 1 205.402353 120.470588z"  ></path></symbol><symbol id="lm-player-fenping4" viewBox="0 0 1024 1024"><path d="M940.8 992H64c-19.2 0-32-12.8-32-32V64C32 44.8 44.8 32 64 32h876.8c19.2 0 32 12.8 32 32v896c0 19.2-12.8 32-32 32z m-403.2-64h377.6v-384H537.6v384z m-441.6 0h377.6v-384H96v384z m441.6-448h377.6v-384H537.6v384z m-441.6 0h377.6v-384H96v384z"  ></path></symbol><symbol id="lm-player-fenping6" viewBox="0 0 1024 1024"><path d="M915.576471 963.764706H90.352941c-18.070588 0-30.117647-12.047059-30.117647-30.117647v-843.294118c0-18.070588 12.047059-30.117647 30.117647-30.117647h825.22353c18.070588 0 30.117647 12.047059 30.117647 30.117647v843.294118c0 18.070588-12.047059 30.117647-30.117647 30.117647z m-240.941177-60.235294h216.847059V542.117647h-216.847059v361.411765z m-277.082353 0h216.847059V542.117647H397.552941v361.411765z m-277.082353 0h216.847059V542.117647H120.470588v361.411765z m554.164706-421.647059h216.847059V120.470588h-216.847059v361.411765zM397.552941 481.882353h216.847059V120.470588H397.552941v361.411765zM120.470588 481.882353h216.847059V120.470588H120.470588v361.411765z"  ></path></symbol><symbol id="lm-player-fenping9" viewBox="0 0 1024 1024"><path d="M960 992H64c-19.2 0-32-12.8-32-32V64C32 44.8 44.8 32 64 32h896c19.2 0 32 12.8 32 32v896c0 19.2-12.8 32-32 32z m-256-64h224V704H704v224z m-307.2 0h230.4V704H396.8v224z m-300.8 0H320V704H96v224zM704 627.2h224V396.8H704v230.4z m-307.2 0h230.4V396.8H396.8v230.4z m-300.8 0H320V396.8H96v230.4zM704 320h224V96H704V320zM396.8 320h230.4V96H396.8V320zM96 320H320V96H96V320z"  ></path></symbol><symbol id="lm-player-kapianmoshi" viewBox="0 0 1024 1024"><path d="M192 160a32 32 0 0 0-32 32v640a32 32 0 0 0 32 32h640a32 32 0 0 0 32-32V192a32 32 0 0 0-32-32H192zM96 192A96 96 0 0 1 192 96h640A96 96 0 0 1 928 192v640a96 96 0 0 1-96 96H192A96 96 0 0 1 96 832V192z"  ></path><path d="M245.312 277.312a32 32 0 0 1 32-32H448a32 32 0 0 1 32 32V448a32 32 0 0 1-32 32H277.312a32 32 0 0 1-32-32V277.312z m64 32V416H416V309.312H309.312zM544 277.312a32 32 0 0 1 32-32h170.688a32 32 0 0 1 32 32V448a32 32 0 0 1-32 32H576a32 32 0 0 1-32-32V277.312z m64 32V416h106.688V309.312H608zM245.312 576a32 32 0 0 1 32-32H448a32 32 0 0 1 32 32v170.688a32 32 0 0 1-32 32H277.312a32 32 0 0 1-32-32V576z m64 32v106.688H416V608H309.312zM544 576a32 32 0 0 1 32-32h170.688a32 32 0 0 1 32 32v170.688a32 32 0 0 1-32 32H576a32 32 0 0 1-32-32V576z m64 32v106.688h106.688V608H608z"  ></path></symbol><symbol id="lm-player-bofang" viewBox="0 0 1024 1024"><path d="M845.74598143 446.25594937L315.54933873 33.98249699A83.2203173 83.2203173 0 0 0 181.23174569 99.64332715v824.7133457a83.2203173 83.2203173 0 0 0 134.31759304 65.74405064l530.1966427-412.43989334a83.2203173 83.2203173 0 0 0 0-131.3216603z"  ></path></symbol><symbol id="lm-player-xiazai" viewBox="0 0 1024 1024"><path d="M394.666667 128a32 32 0 0 1 32-32h170.666666a32 32 0 0 1 32 32v202.666667H768a32 32 0 0 1 22.613333 54.613333l-256 256a32 32 0 0 1-45.226666 0l-256-256A32 32 0 0 1 256 330.666667h138.666667V128zM96 789.333333a32 32 0 0 1 32-32h768a32 32 0 0 1 0 64H128a32 32 0 0 1-32-32zM266.666667 938.666667a32 32 0 0 1 32-32h426.666666a32 32 0 0 1 0 64H298.666667a32 32 0 0 1-32-32z"  ></path></symbol><symbol id="lm-player-tingzhi" viewBox="0 0 1024 1024"><path d="M36.571429 182.857143a146.285714 146.285714 0 0 1 146.285714-146.285714h658.285714a146.285714 146.285714 0 0 1 146.285714 146.285714v658.285714a146.285714 146.285714 0 0 1-146.285714 146.285714h-658.285714a146.285714 146.285714 0 0 1-146.285714-146.285714v-658.285714z"  ></path></symbol><symbol id="lm-player-zhuzhenplay" viewBox="0 0 1024 1024"><path d="M512 42.666667C252.793333 42.666667 42.666667 252.793333 42.666667 512s210.126667 469.333333 469.333333 469.333333 469.333333-210.126667 469.333333-469.333333S771.206667 42.666667 512 42.666667z m239.213333 500.493333l-266.666666 176A37.333333 37.333333 0 0 1 426.666667 688V336.033333a37.333333 37.333333 0 0 1 57.893333-31.16l266.666667 176a37.333333 37.333333 0 0 1 0 62.32zM384 704a21.333333 21.333333 0 0 1-42.666667 0V320a21.333333 21.333333 0 0 1 42.666667 0z"  ></path></symbol><symbol id="lm-player-quanbuguanbi" viewBox="0 0 1024 1024"><path d="M688.751304 272.784696L940.566261 20.925217l47.237565 47.193044-251.859478 251.859478-47.193044-47.193043z"  ></path><path d="M940.610783 319.977739L688.751304 68.118261 735.944348 20.925217l251.859478 251.859479-47.193043 47.193043zM11.130435 89.043478A33.391304 33.391304 0 0 1 44.521739 55.652174h489.739131v66.782609H77.913043v823.652174h823.652174V445.217391h66.782609v534.26087a33.391304 33.391304 0 0 1-33.391304 33.391304H44.521739A33.391304 33.391304 0 0 1 11.130435 979.478261V89.043478z"  ></path><path d="M189.217391 267.130435A33.391304 33.391304 0 0 1 222.608696 233.73913h222.608695a33.391304 33.391304 0 0 1 33.391305 33.391305v222.608695a33.391304 33.391304 0 0 1-33.391305 33.391305H222.608696a33.391304 33.391304 0 0 1-33.391305-33.391305V267.130435z m66.782609 33.391304v155.826087h155.826087v-155.826087h-155.826087zM189.217391 623.304348a33.391304 33.391304 0 0 1 33.391305-33.391305h222.608695a33.391304 33.391304 0 0 1 33.391305 33.391305v222.608695a33.391304 33.391304 0 0 1-33.391305 33.391305H222.608696a33.391304 33.391304 0 0 1-33.391305-33.391305v-222.608695z m66.782609 33.391304v155.826087h155.826087v-155.826087h-155.826087zM545.391304 623.304348a33.391304 33.391304 0 0 1 33.391305-33.391305h222.608695a33.391304 33.391304 0 0 1 33.391305 33.391305v222.608695a33.391304 33.391304 0 0 1-33.391305 33.391305h-222.608695a33.391304 33.391304 0 0 1-33.391305-33.391305v-222.608695z m66.782609 33.391304v155.826087h155.826087v-155.826087h-155.826087z"  ></path></symbol><symbol id="lm-player-huamianshiying" viewBox="0 0 1157 1024"><path d="M11.130435 44.521739A33.391304 33.391304 0 0 1 44.521739 11.130435h142.469565v66.782608H77.913043v110.413914H11.130435V44.521739zM970.573913 11.130435H1113.043478a33.391304 33.391304 0 0 1 33.391305 33.391304v143.805218h-66.782609V77.913043H970.573913V11.130435zM189.217391 224.300522a33.391304 33.391304 0 0 1 33.391305-33.391305h712.347826a33.391304 33.391304 0 0 1 33.391304 33.391305v575.398956a33.391304 33.391304 0 0 1-33.391304 33.391305H222.608696a33.391304 33.391304 0 0 1-33.391305-33.391305V224.300522z m66.782609 33.391304v508.616348h645.565217V257.691826H256zM11.130435 979.478261v-143.805218h66.782608v110.413914H186.991304v66.782608H44.521739A33.391304 33.391304 0 0 1 11.130435 979.478261z m1068.521739-33.391304v-110.413914h66.782609V979.478261a33.391304 33.391304 0 0 1-33.391305 33.391304h-142.469565v-66.782608h109.078261z"  ></path></symbol><symbol id="lm-player-quanping" viewBox="0 0 1024 1024"><path d="M22.918095 22.918095a36.571429 36.571429 0 0 1 51.687619 0l243.809524 243.809524a36.571429 36.571429 0 0 1-51.687619 51.687619l-243.809524-243.809524a36.571429 36.571429 0 0 1 0-51.687619zM318.415238 705.584762a36.571429 36.571429 0 0 1 0 51.687619l-243.809524 243.809524a36.571429 36.571429 0 0 1-51.687619-51.687619l243.809524-243.809524a36.571429 36.571429 0 0 1 51.687619 0zM705.584762 705.584762a36.571429 36.571429 0 0 1 51.687619 0l243.809524 243.809524a36.571429 36.571429 0 1 1-51.687619 51.687619l-243.809524-243.809524a36.571429 36.571429 0 0 1 0-51.687619zM1001.081905 22.918095a36.571429 36.571429 0 0 1 0 51.687619l-243.809524 243.809524a36.571429 36.571429 0 1 1-51.687619-51.687619l243.809524-243.809524a36.571429 36.571429 0 0 1 51.687619 0z"  ></path><path d="M694.857143 48.761905A36.571429 36.571429 0 0 1 731.428571 12.190476h243.809524a36.571429 36.571429 0 0 1 36.571429 36.571429v243.809524a36.571429 36.571429 0 0 1-73.142857 0V85.333333H731.428571a36.571429 36.571429 0 0 1-36.571428-36.571428zM975.238095 694.857143a36.571429 36.571429 0 0 1 36.571429 36.571428v243.809524a36.571429 36.571429 0 0 1-36.571429 36.571429h-243.809524a36.571429 36.571429 0 0 1 0-73.142857h207.238096V731.428571a36.571429 36.571429 0 0 1 36.571428-36.571428zM48.761905 694.857143a36.571429 36.571429 0 0 1 36.571428 36.571428v207.238096H292.571429a36.571429 36.571429 0 0 1 0 73.142857H48.761905A36.571429 36.571429 0 0 1 12.190476 975.238095v-243.809524a36.571429 36.571429 0 0 1 36.571429-36.571428zM12.190476 48.761905A36.571429 36.571429 0 0 1 48.761905 12.190476h243.809524a36.571429 36.571429 0 0 1 0 73.142857H85.333333V292.571429a36.571429 36.571429 0 0 1-73.142857 0V48.761905z"  ></path></symbol><symbol id="lm-player-close" viewBox="0 0 1024 1024"><path d="M512 53.333333C258.688 53.333333 53.333333 258.688 53.333333 512S258.688 970.666667 512 970.666667 970.666667 765.312 970.666667 512 765.312 53.333333 512 53.333333z m143.36 315.349334a32 32 0 0 1 0 45.226666L557.226667 512l98.048 98.048a32 32 0 0 1-45.226667 45.226667L512 557.226667 413.952 655.36a32 32 0 1 1-45.226667-45.269333L466.773333 512 368.725333 413.952a32 32 0 0 1 45.226667-45.226667L512 466.688l98.048-98.048a32 32 0 0 1 45.269333 0z"  ></path></symbol><symbol id="lm-player-lunxunkaishi" viewBox="0 0 1365 1024"><path d="M577.194667 720.270222A42.666667 42.666667 0 0 1 554.666667 682.666667V341.333333a42.666667 42.666667 0 0 1 66.332444-35.498666l256 170.666666a42.666667 42.666667 0 0 1 0 70.997334l-256 170.666666a42.666667 42.666667 0 0 1-43.804444 2.104889zM640 603.022222L776.419556 512 640 421.034667V603.022222z"  ></path><path d="M42.666667 85.333333A42.666667 42.666667 0 0 1 85.333333 42.666667h682.666667a42.666667 42.666667 0 0 1 23.665778 78.165333l-128 85.333333a42.666667 42.666667 0 1 1-47.331556-70.997333l10.752-7.168H128v768H341.333333a42.666667 42.666667 0 0 1 0 85.333333H85.333333a42.666667 42.666667 0 0 1-42.666666-42.666666v-853.333334z m938.666666 0A42.666667 42.666667 0 0 1 1024 42.666667h256a42.666667 42.666667 0 0 1 42.666667 42.666666v853.333334a42.666667 42.666667 0 0 1-42.666667 42.666666h-682.666667a42.666667 42.666667 0 0 1-23.665777-78.165333l128-85.333333a42.666667 42.666667 0 1 1 47.331555 70.997333l-10.752 7.168h499.086222V128H1024a42.666667 42.666667 0 0 1-42.666667-42.666667z"  ></path></symbol><symbol id="lm-player-fenping16" viewBox="0 0 1024 1024"><path d="M961.776941 993.882353H62.223059c-19.275294 0-32.105412-12.830118-32.105412-32.105412V62.223059C30.117647 42.947765 42.947765 30.117647 62.223059 30.117647h899.553882c19.275294 0 32.105412 12.830118 32.105412 32.105412v899.553882c0 19.275294-12.830118 32.105412-32.105412 32.105412z m-192.752941-64.271059h160.587294v-160.587294h-160.587294v160.587294z m-224.918588 0H704.752941v-160.587294H544.105412v160.587294z m-224.858353 0h160.647529v-160.587294H319.247059v160.587294z m-224.858353 0h160.587294v-160.587294H94.388706v160.587294z m674.635294-224.858353h160.587294V544.105412h-160.587294V704.752941z m-224.918588 0H704.752941V544.105412H544.105412V704.752941z m-224.858353 0h160.647529V544.105412H319.247059V704.752941z m-224.858353 0h160.587294V544.105412H94.388706V704.752941z m674.635294-224.858353h160.587294V319.247059h-160.587294v160.647529z m-224.918588 0H704.752941V319.247059H544.105412v160.647529z m-224.858353 0h160.647529V319.247059H319.247059v160.647529z m-224.858353 0h160.587294V319.247059H94.388706v160.647529z m674.635294-224.918588h160.587294V94.388706h-160.587294v160.587294z m-224.918588 0H704.752941V94.388706H544.105412v160.587294z m-224.858353 0h160.647529V94.388706H319.247059v160.587294z m-224.858353 0h160.587294V94.388706H94.388706v160.587294z"  ></path></symbol><symbol id="lm-player-xiangji1fill" viewBox="0 0 1024 1024"><path d="M860.414581 207.449017 509.333781 207.449017c0-52.808332-43.003528-95.81186-95.81186-95.81186l-63.817235 0c-52.808332 0-95.81186 43.003528-95.81186 95.81186L158.424996 207.449017c-52.808332 0-95.81186 43.003528-95.81186 95.81186l0 510.53788c0 52.808332 43.003528 95.81186 95.81186 95.81186l701.989585 0c52.808332 0 95.81186-43.003528 95.81186-95.81186L956.22644 303.260877C956.054426 250.452545 913.050899 207.449017 860.414581 207.449017zM509.333781 749.981522c-105.616664 0-191.451705-85.835041-191.451705-191.451705s85.835041-191.451705 191.451705-191.451705 191.451705 85.835041 191.451705 191.451705S614.950445 749.981522 509.333781 749.981522zM812.422644 430.895347c-26.490173 0-47.819923-21.501764-47.819923-47.819923s21.501764-47.819923 47.819923-47.819923c26.490173 0 47.819923 21.501764 47.819923 47.819923S838.912817 430.895347 812.422644 430.895347z"  ></path></symbol><symbol id="lm-player-S_Device_shezhi" viewBox="0 0 1024 1024"><path d="M696.45833333 983.33333333c-16.875 0-28.125-11.25-28.125-28.125v-22.5c-45-5.625-84.375-22.5-118.125-50.625l-16.875 16.875c-11.25 11.25-28.125 11.25-39.375 0-11.25-11.25-11.25-28.125 0-39.375l16.875-16.875c-28.125-33.75-45-73.125-50.625-118.125h-22.5c-16.875 0-28.125-11.25-28.125-28.125s11.25-28.125 28.125-28.125h22.5c5.625-45 22.5-84.375 50.625-118.125L392.70833333 617.70833333c-11.25 5.625-22.5 5.625-28.125 0-11.25-5.625-16.875-16.875-16.875-28.125V364.58333333c0-11.25 5.625-16.875 16.875-22.5 11.25-5.625 16.875-5.625 28.125 0l191.25 112.5c5.625 5.625 11.25 11.25 11.25 22.5 22.5-11.25 45-16.875 73.125-22.5v-16.875c0-16.875 11.25-28.125 28.125-28.125s28.125 11.25 28.125 28.125v22.5c45 5.625 84.375 22.5 118.125 50.625l16.875-16.875c11.25-11.25 28.125-11.25 39.375 0s11.25 28.125 0 39.375l-16.875 16.875c28.125 33.75 45 73.125 50.625 118.125h22.5c16.875 0 28.125 11.25 28.125 28.125s-11.25 28.125-28.125 28.125h-22.5c-5.625 45-22.5 84.375-50.625 118.125l16.875 16.875c11.25 11.25 11.25 28.125 0 39.375s-28.125 11.25-39.375 0l-16.875-16.875c-33.75 28.125-73.125 45-118.125 50.625v22.5c0 16.875-11.25 28.125-28.125 28.125z m0-472.5c-101.25 0-185.625 84.375-185.625 185.625s84.375 185.625 185.625 185.625 185.625-84.375 185.625-185.625-84.375-185.625-185.625-185.625zM403.95833333 415.20833333v129.375L510.83333333 477.08333333 403.95833333 415.20833333z m292.5 365.625c-45 0-84.375-39.375-84.375-84.375s39.375-84.375 84.375-84.375 84.375 39.375 84.375 84.375-39.375 84.375-84.375 84.375z m0-112.5c-16.875 0-28.125 11.25-28.125 28.125s11.25 28.125 28.125 28.125 28.125-11.25 28.125-28.125-11.25-28.125-28.125-28.125z m-337.5 101.25H111.45833333c-16.875 0-28.125-11.25-28.125-28.125V111.45833333C83.33333333 94.58333333 94.58333333 83.33333333 111.45833333 83.33333333h725.625c16.875 0 28.125 11.25 28.125 28.125v315c0 16.875-11.25 28.125-28.125 28.125s-28.125-11.25-28.125-28.125V285.83333333H139.58333333v427.5h219.375c16.875 0 28.125 11.25 28.125 28.125s-11.25 28.125-28.125 28.125z m326.25-540h118.125V139.58333333h-33.75l-84.375 90z m-219.375 0h135L696.45833333 139.58333333H555.83333333L465.83333333 229.58333333zM252.08333333 229.58333333h135L477.08333333 139.58333333H342.08333333L252.08333333 229.58333333z m-112.5 0h33.75L257.70833333 139.58333333H139.58333333v90z"  ></path></symbol><symbol id="lm-player-S_View_RotateRight" viewBox="0 0 1024 1024"><path d="M512 32a479.744 479.744 0 0 1 390.4 200.704V128a32 32 0 1 1 64 0v192a32 32 0 0 1-32 32l-12.352 0.128a31.872 31.872 0 0 1-9.92 0L742.4 352a32 32 0 1 1 0-64h120.256A416 416 0 1 0 928 512a32 32 0 1 1 64 0A480 480 0 1 1 512 32z"  ></path></symbol><symbol id="lm-player-S_Edit_LoadDown" viewBox="0 0 1024 1024"><path d="M256 480a32 32 0 0 1 5.76 63.488L256 544H64V896h896V544h-192a32 32 0 0 1-5.76-63.488L768 480h224a32 32 0 0 1 31.488 26.24L1024 512v416a32 32 0 0 1-26.24 31.488L992 960H32a32 32 0 0 1-31.488-26.24L0 928V512a32 32 0 0 1 26.24-31.488L32 480H256z m608 288a32 32 0 0 1 5.76 63.488L864 832h-64a32 32 0 0 1-5.76-63.488L800 768h64z m-256 0h64a32 32 0 0 1 5.76 63.488L672 832h-64a32 32 0 0 1-5.76-63.488L608 768h64-64zM640 0a32 32 0 0 1 32 32v256H832a32 32 0 0 1 22.656 54.656l-320 320a32 32 0 0 1-45.312 0l-320-320A32 32 0 0 1 192 288h160v-256A32 32 0 0 1 384 0h256z m-32 64h-192v256a32 32 0 0 1-32 32H269.248L512 594.752 754.752 352H640a32 32 0 0 1-32-32V64z"  ></path></symbol><symbol id="lm-player-S_Edit_Reset" viewBox="0 0 1024 1024"><path d="M77.417991 558.764439a31.041572 31.041572 0 0 1 31.041572 31.041572 217.291004 217.291004 0 0 0 205.371041 216.980588L325.750568 807.097015l483.751859-0.062083-102.188856-102.126772a31.041572 31.041572 0 0 1-3.538739-39.609046l3.538739-4.34582a31.041572 31.041572 0 0 1 39.609046-3.538739l4.34582 3.538739 155.952858 156.014941a31.227821 31.227821 0 0 1 7.636227 14.651622l0.496665 3.228324 0.18625 3.290406v1.241663a31.041572 31.041572 0 0 1-1.427913 8.132892l-0.931247 2.483326a30.669073 30.669073 0 0 1-2.483325 4.718319l-1.676245 2.421242-0.248333 0.310416-0.558748 0.682915a31.227821 31.227821 0 0 1-1.055414 1.241663l-155.890775 155.952858a31.041572 31.041572 0 0 1-47.493605-39.609046l3.538739-4.34582L809.502427 869.180159 325.750568 869.180159A279.374149 279.374149 0 0 1 46.376419 589.806011 31.041572 31.041572 0 0 1 77.417991 558.764439z m31.041572-372.498865v-1.241663a31.289905 31.289905 0 0 1 1.427913-8.132892l0.931247-2.483326a30.669073 30.669073 0 0 1 3.104157-5.773732l0.869164-1.117497a31.227821 31.227821 0 0 1 2.048744-2.483325L272.731563 9.142364a31.041572 31.041572 0 0 1 47.493605 39.609046l-3.538739 4.34582-102.250939 102.126772L698.249432 155.224002A279.374149 279.374149 0 0 1 977.623581 434.59815a31.041572 31.041572 0 1 1-62.083144 0A217.291004 217.291004 0 0 0 698.249432 217.307146l-483.813942-0.062083 102.250939 102.250938a31.041572 31.041572 0 0 1-39.609046 47.493606l-4.34582-3.53874L116.840788 207.373843l-1.055414-1.17958-0.558748-0.620831 1.614162 1.800411-1.862495-2.17291-1.738328-2.483326a32.283235 32.283235 0 0 1-4.097487-9.995386l-0.496665-3.228324L108.459563 186.265574z"  ></path></symbol><symbol id="lm-player-S_View_SearchBox" viewBox="0 0 1024 1024"><path d="M192 32a32 32 0 0 1 32 32v32h576V64a32 32 0 0 1 32-32h128a32 32 0 0 1 32 32v128a32 32 0 0 1-32 32h-32v576h32a32 32 0 0 1 32 32v128a32 32 0 0 1-32 32h-128a32 32 0 0 1-32-32v-32h-576v32a32 32 0 0 1-32 32H64a32 32 0 0 1-32-32v-128a32 32 0 0 1 32-32h32v-576H64A32 32 0 0 1 32 192V64A32 32 0 0 1 64 32h128z m-32 832h-64v64h64v-64z m768 0h-64v64h64v-64z m-128-704h-576V192a32 32 0 0 1-32 32h-32v576H192a32 32 0 0 1 32 32v32h576V832a32 32 0 0 1 32-32h32v-576H832a32 32 0 0 1-32-32v-32zM512 288a224 224 0 0 1 179.2 358.4l3.456 2.944 64 64a32 32 0 0 1-45.312 45.312l-64-64a32.256 32.256 0 0 1-3.008-3.52A224 224 0 1 1 512 288z m0 64a160 160 0 1 0 0 320 160 160 0 0 0 0-320z m-352-256h-64v64h64v-64z m768 0h-64v64h64v-64z"  ></path></symbol><symbol id="lm-player-YesorNo_No_Dark" viewBox="0 0 1024 1024"><path d="M213.12 234.88l21.76-21.76a32 32 0 0 1 43.648-1.408l191.36 167.424a64 64 0 0 0 84.288 0l191.296-167.424a32 32 0 0 1 43.712 1.472l21.632 21.632a32 32 0 0 1 1.472 43.712l-167.424 191.36a64 64 0 0 0 0 84.288l167.424 191.296a32 32 0 0 1-1.472 43.712l-21.632 21.632a32 32 0 0 1-43.712 1.472l-191.36-167.424a64 64 0 0 0-84.288 0l-191.296 167.424a32 32 0 0 1-43.712-1.472l-21.632-21.632a32 32 0 0 1-1.472-43.712l167.424-191.36a64 64 0 0 0 0-84.288L211.712 278.528a32 32 0 0 1 1.472-43.712z"  ></path></symbol><symbol id="lm-player-Refresh_Main" viewBox="0 0 1024 1024"><path d="M716.864 266.176A320 320 0 1 0 832 512h64a384 384 0 1 1-125.12-283.648l76.608-53.696a25.6 25.6 0 0 1 40.32 19.648l10.88 204.608a32 32 0 0 1-44.48 31.168L665.6 349.824a25.6 25.6 0 0 1-4.672-44.544l55.872-39.104z"  ></path></symbol><symbol id="lm-player-SearchBox" viewBox="0 0 1024 1024"><path d="M896 768h64v192h-192v-64H256v64H64v-192h64V256H64V64h192v64h512V64h192v192h-64v512z m-64 0V256h-64V192H256v64H192v512h64v64h512v-64h64z m-164.864-164.864L736 672a45.248 45.248 0 1 1-64 64l-68.864-68.864a224 224 0 1 1 64-64z"  ></path></symbol><symbol id="lm-player-PrevFast" viewBox="0 0 1024 1024"><path d="M640 736L512 512l128-224-32-32L384 512l224 256 32-32z m192 0L704 512l128-224-32-32L576 512l224 256 32-32zM320 768V256H256v512h64z"  ></path></symbol><symbol id="lm-player-NextFast_Light" viewBox="0 0 1024 1024"><path d="M384 736L512 512 384 288l32-32L640 512l-224 256-32-32z m320 32V256h64v512h-64z m-512-32L320 512 192 288l32-32L448 512l-224 256-32-32z"  ></path></symbol><symbol id="lm-player-Loading" viewBox="0 0 1024 1024"><path d="M249.836 210.77c5.558-3.827 10.73-7.527 15.812-10.695 4.967-3.314 9.807-6.121 14.208-8.785 2.18-1.362 4.374-2.515 6.425-3.673l5.873-3.281c0.945-0.551 1.789-0.953 2.625-1.377l2.425-1.226 4.381-2.233 1.954-1.004 2.219-1.093 3.918-1.924 7.184-3.527c2.883-1.44 5.996-3.272 8.694-5.22 26.969-19.458 33.057-57.094 13.599-84.063-19.458-26.968-57.094-33.057-84.063-13.599l-6.49 4.682-3.54 2.554-2.071 1.499-2.62 1.947-5.824 4.351a7267.87 7267.87 0 0 0-3.193 2.399c-1.091 0.824-2.25 1.676-3.282 2.533a33346.62 33346.62 0 0 1-6.735 5.441c-2.343 1.915-4.833 3.859-7.308 6.046-4.991 4.313-10.423 8.905-15.952 14.121-5.645 5.071-11.353 10.792-17.394 16.739-5.886 6.125-12.079 12.515-18.185 19.505-12.303 13.875-24.827 29.53-36.839 46.835a494.61 494.61 0 0 0-33.896 56.497 491.342 491.342 0 0 0-27.329 64.159c-1.02 2.77-1.888 5.605-2.789 8.428l-2.688 8.477c-1.692 5.691-3.266 11.429-4.857 17.152l-2.135 8.669c-0.683 2.896-1.479 5.756-2.051 8.682l-1.84 8.729-0.914 4.358-0.785 4.387a479.254 479.254 0 0 0-7.583 69.967c-0.302 5.759-0.239 11.514-0.279 17.214l-0.017 4.267c-0.001 1.42 0.069 2.841 0.101 4.257l0.25 8.464 0.127 4.204 0.264 4.188 0.531 8.317 0.278 4.451 0.399 3.933 0.792 7.821c0.14 1.313 0.244 2.561 0.412 3.918l0.527 4.098 1.056 8.115c0.185 1.337 0.33 2.695 0.549 4.002l0.648 3.91 1.289 7.744c1.825 10.246 3.911 20.188 6.263 29.766a463.195 463.195 0 0 0 16.342 52.81l2.255 5.904 1.108 2.899 1.186 2.836 4.611 10.976c3.247 7.033 6.19 13.723 9.353 19.831 6.048 12.328 12.043 22.661 17.007 31.096 5.121 8.359 9.212 14.84 12.197 19.141l4.472 6.638-3.293-7.292c-2.209-4.713-5.148-11.776-8.748-20.761-3.443-9.059-7.545-20.055-11.346-32.919-2.041-6.376-3.771-13.301-5.726-20.516l-2.612-11.204-0.667-2.878-0.583-2.935-1.183-5.957c-3.105-16.055-5.568-33.549-6.889-52.052-0.668-9.251-1.027-18.753-1.1-28.437l0.03-7.3 0.014-3.67c0.002-1.227 0.084-2.416 0.122-3.629l0.284-7.263 0.139-3.644c0.053-1.229 0.166-2.577 0.247-3.863a35704.717 35704.717 0 0 1 0.798-11.787l0.017-0.247c0.013 0.588 0.018 0.028 0.027 0.098l0.05-0.472 0.101-0.945 0.2-1.891 0.8-7.581 0.4-3.801 0.535-3.801 1.069-7.62c0.187-1.271 0.335-2.545 0.555-3.815l0.67-3.811c0.909-5.082 1.708-10.185 2.859-15.253a424.734 424.734 0 0 1 17.057-60.03l1.316-3.663 1.437-3.623 2.859-7.225c0.907-2.417 2.03-4.761 3.033-7.135l3.079-7.082c2.208-4.653 4.37-9.295 6.624-13.867l3.508-6.783c1.167-2.252 2.294-4.513 3.565-6.702a414.503 414.503 0 0 1 31.89-49.502 407.116 407.116 0 0 1 35.476-41.25 406.598 406.598 0 0 1 35.793-32.288c5.751-4.687 11.515-8.857 16.918-12.861zM1023.966 510.486l-0.001-0.005-0.875-7.954-1.051-9.554-0.687-6.125-1.153-8.152c-0.828-5.729-1.741-12.089-2.813-18.907l-4.259-20.887c-0.691-3.726-1.738-7.517-2.729-11.425l-3.102-12.024c-0.558-2.048-1.019-4.142-1.677-6.221l-1.958-6.314-4.07-13.021-1.049-3.333-1.211-3.324c-0.814-2.223-1.638-4.467-2.469-6.732-1.673-4.522-3.34-9.131-5.115-13.781l-5.938-13.981-3.046-7.123c-1.037-2.384-2.247-4.72-3.375-7.102l-6.997-14.388c-0.569-1.22-1.222-2.408-1.877-3.598l-1.958-3.583-3.95-7.211-3.995-7.265c-1.354-2.422-2.881-4.773-4.324-7.175l-8.875-14.427c-12.567-18.998-26.533-37.793-42.018-55.643-15.662-17.71-32.638-34.534-50.581-50.045a527.617 527.617 0 0 0-56.726-41.602c-19.622-12.201-39.702-22.647-59.484-31.64l-14.925-6.188c-2.47-0.995-4.881-2.072-7.356-2.979l-7.402-2.651-7.306-2.609-3.615-1.289c-1.198-0.434-2.394-0.863-3.618-1.21l-14.37-4.353c-2.366-0.691-4.68-1.466-7.035-2.069l-7.02-1.754-13.669-3.402c-4.524-0.941-8.985-1.788-13.341-2.655l-6.47-1.271-3.184-0.621-3.186-0.465-12.373-1.797-5.96-0.862c-1.957-0.298-3.928-0.403-5.85-0.61l-11.239-1.057c-3.638-0.329-7.151-0.735-10.598-0.81l-19.18-0.823-16.258 0.11-6.935 0.057c-2.177 0.091-4.219 0.237-6.115 0.34l-9.619 0.566-7.982 0.472 7.959 0.875 9.529 1.05c1.872 0.215 3.884 0.411 6.023 0.683l6.797 1.101 15.801 2.578 18.393 3.951c3.283 0.628 6.614 1.603 10.051 2.514l10.571 2.838c1.801 0.509 3.644 0.92 5.469 1.526l5.542 1.793 11.432 3.697 2.927 0.946 2.914 1.104 5.902 2.242c3.965 1.517 8.007 3.017 12.084 4.613l12.243 5.366 6.241 2.733c2.088 0.929 4.128 2.029 6.212 3.044l12.59 6.277c1.068 0.506 2.106 1.094 3.145 1.685l3.131 1.761 6.302 3.542 6.353 3.568c2.118 1.209 4.165 2.586 6.263 3.878l12.601 7.922c16.565 11.247 32.949 23.681 48.48 37.44a473.639 473.639 0 0 1 43.435 44.87 467.917 467.917 0 0 1 35.892 50.115c10.476 17.304 19.389 34.971 27.062 52.322 1.761 4.404 3.506 8.772 5.234 13.098 0.843 2.166 1.771 4.273 2.532 6.444l2.224 6.49 2.201 6.396 1.093 3.162c0.368 1.047 0.734 2.092 1.019 3.166l3.633 12.572c0.578 2.068 1.242 4.086 1.738 6.146l1.441 6.137 2.829 11.931 2.152 11.645 1.045 5.64 0.514 2.772 0.362 2.779 1.423 10.784 0.697 5.188c0.245 1.704 0.3 3.423 0.458 5.098l0.794 9.786c0.249 3.167 0.584 6.22 0.595 9.223l0.516 16.686-0.346 13.152-0.109 5.579-0.343 6.014-0.567 9.595-0.472 7.988c-0.169 3.219-0.107 6.829 0.256 10.138 3.638 33.056 33.383 56.904 66.438 53.267 33.056-3.637 56.905-33.382 53.268-66.438zM885.176 762.451l-4.868 5.897c-1.711 2.052-3.44 4.238-5.4 6.399-3.858 4.365-7.946 9.128-12.608 13.957-4.517 4.944-9.632 9.919-14.922 15.205-5.467 5.131-11.147 10.547-17.374 15.864-12.349 10.726-26.262 21.624-41.613 32.046a434.435 434.435 0 0 1-50.026 29.303 431.157 431.157 0 0 1-56.59 23.39c-2.436 0.874-4.935 1.6-7.419 2.361l-7.455 2.279c-5.006 1.425-10.053 2.742-15.078 4.091-2.536 0.593-5.075 1.187-7.617 1.78-2.545 0.566-5.051 1.25-7.622 1.714l-7.663 1.523-3.822 0.763-3.851 0.64a419.278 419.278 0 0 1-61.304 5.938c-5.039 0.219-10.081 0.088-15.068 0.072l-3.733-0.022c-1.238-0.012-2.392-0.1-3.587-0.145l-7.067-0.313-3.505-0.146-3.997-0.27-7.961-0.537-1.981-0.133-0.989-0.067-0.494-0.033c0.221-0.008-0.844-0.005 0.433-0.022l-0.226-0.025-3.593-0.396-7.127-0.78a406.62 406.62 0 0 1-53.494-10.013 402.48 402.48 0 0 1-45.808-14.792l-5.111-2.022-2.511-0.99-2.452-1.066-9.494-4.124c-6.074-2.917-11.861-5.522-17.131-8.352-10.648-5.379-19.552-10.718-26.826-15.11l-1.338-0.807a1085.391 1085.391 0 0 0-3.457-2.276l-4.116-2.687c-0.638-0.414-1.252-0.813-1.842-1.194l-2.021-1.354-3.621-2.439-6.637-4.472c-2.685-1.782-5.825-3.567-8.857-4.938-30.307-13.689-65.973-0.218-79.662 30.089-13.689 30.308-0.218 65.974 30.089 79.663l7.293 3.294 3.979 1.797 2.369 1.063 2.994 1.302c2.073 0.896 4.3 1.857 6.676 2.885l3.672 1.574 1.917 0.819 1.9 0.745c10.22 4.014 22.646 8.772 37.189 13.242 7.215 2.375 15.042 4.443 23.216 6.727l12.687 3.1 3.261 0.787 3.325 0.701 6.75 1.415c18.195 3.715 38.044 6.719 59.054 8.439a494.284 494.284 0 0 0 65.863 0.997l8.535-0.519 4.285-0.266 0.268-0.017c1.44-0.02 0.541-0.02 0.927-0.03l0.492-0.051 0.986-0.1 1.977-0.201 7.938-0.807 3.991-0.406 4.502-0.554 9.015-1.133c1.492-0.2 3.034-0.365 4.486-0.598l4.344-0.709c5.795-0.965 11.61-1.832 17.399-3.066a485.178 485.178 0 0 0 68.692-18.701l4.2-1.463 4.157-1.588 8.292-3.176c2.771-1.016 5.468-2.251 8.194-3.37l8.134-3.434c5.351-2.451 10.685-4.869 15.941-7.39l7.805-3.918c2.591-1.307 5.188-2.576 7.712-3.991a474.344 474.344 0 0 0 57.071-35.83 467.174 467.174 0 0 0 47.72-40.068 466.596 466.596 0 0 0 37.51-40.586c5.455-6.542 10.335-13.082 14.998-19.24 4.483-6.313 8.789-12.218 12.512-18 3.868-5.667 7.179-11.177 10.297-16.204 1.589-2.492 2.957-4.989 4.318-7.332 1.349-2.348 2.635-4.586 3.854-6.711 4.686-8.611 8.271-15.384 10.509-20.116l3.527-7.185-4.682 6.489c-2.985 4.266-7.65 10.33-13.635 17.935z"  ></path></symbol><symbol id="lm-player-Pause_Main" viewBox="0 0 1024 1024"><path d="M256 192h64a64 64 0 0 1 64 64v512a64 64 0 0 1-64 64H256a64 64 0 0 1-64-64V256a64 64 0 0 1 64-64z m448 0h64a64 64 0 0 1 64 64v512a64 64 0 0 1-64 64h-64a64 64 0 0 1-64-64V256a64 64 0 0 1 64-64z"  ></path></symbol><symbol id="lm-player-Play_Main" viewBox="0 0 1024 1024"><path d="M267.712 169.28l525.312 286.528a64 64 0 0 1 0 112.384l-525.312 286.528A51.2 51.2 0 0 1 192 809.728V214.272a51.2 51.2 0 0 1 75.712-44.992z"  ></path></symbol><symbol id="lm-player-PlaySource" viewBox="0 0 1024 1024"><path d="M208 224h608a48 48 0 0 1 48 48v480a48 48 0 0 1-48 48H208a48 48 0 0 1-48-48V272a48 48 0 0 1 48-48z m-16 64v64h64v-64h-64z m0 96v64h64v-64h-64z m0 96v64h64v-64h-64z m0 96v64h64v-64h-64z m0 96v64h64v-64h-64z m576-384v64h64v-64h-64z m0 96v64h64v-64h-64z m0 96v64h64v-64h-64z m0 96v64h64v-64h-64z m0 96v64h64v-64h-64zM407.776 365.2A16 16 0 0 0 384 379.2v265.6a16 16 0 0 0 23.776 14L634.24 532.96a24 24 0 0 0 0-41.952l-226.464-125.824z"  ></path></symbol></svg>'),
  (function (t) {
    var n = (n = document.getElementsByTagName('script'))[n.length - 1],
      e = n.getAttribute('data-injectcss'),
      n = n.getAttribute('data-disable-injectsvg');
    if (!n) {
      var r,
        i,
        o,
        a,
        s,
        l = function (d, f) {
          f.parentNode.insertBefore(d, f);
        };
      if (e && !t.__iconfont__svg__cssinject__) {
        t.__iconfont__svg__cssinject__ = !0;
        try {
          document.write('<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>');
        } catch (d) {
          console && console.log(d);
        }
      }
      (r = function () {
        var d,
          f = document.createElement('div');
        (f.innerHTML = t._iconfont_svg_string_1153292),
          (f = f.getElementsByTagName('svg')[0]) &&
            (f.setAttribute('aria-hidden', 'true'),
            (f.style.position = 'absolute'),
            (f.style.width = 0),
            (f.style.height = 0),
            (f.style.overflow = 'hidden'),
            (f = f),
            (d = document.body).firstChild ? l(f, d.firstChild) : d.appendChild(f));
      }),
        document.addEventListener
          ? ~['complete', 'loaded', 'interactive'].indexOf(document.readyState)
            ? setTimeout(r, 0)
            : ((i = function () {
                document.removeEventListener('DOMContentLoaded', i, !1), r();
              }),
              document.addEventListener('DOMContentLoaded', i, !1))
          : document.attachEvent &&
            ((o = r),
            (a = t.document),
            (s = !1),
            c(),
            (a.onreadystatechange = function () {
              a.readyState == 'complete' && ((a.onreadystatechange = null), u());
            }));
    }
    function u() {
      s || ((s = !0), o());
    }
    function c() {
      try {
        a.documentElement.doScroll('left');
      } catch {
        return void setTimeout(c, 50);
      }
      u();
    }
  })(window);
function Ha({ className: t = '', ...e }) {
  return Be.jsx(d5, { className: `lm-player-iconfont ${t}`, ...e });
}
function ks({ visibel: t = !0, className: e = '', children: n, ...r }) {
  return t === !1 ? null : Be.jsx('span', { className: `contraller-bar-item ${e}`, ...r, children: n });
}
function cO() {
  const { event: t } = v.useContext(gi),
    [e, n] = v.useState({ status: 1 }),
    r = () => n((o) => ({ ...o, status: 1 })),
    i = () => n((o) => ({ ...o, status: 0 }));
  return (
    c5(t, [
      [vn.SHOW_CONTRALLER, r],
      [vn.HIDE_CONTRALLER, i],
    ]),
    e.status
  );
}
function f5() {
  const { api: t, isFpsPlay: e } = v.useContext(gi),
    [n, r] = v.useState({ currentTime: 0, buffered: 0 }),
    i = () => r((s) => ({ ...s, currentTime: (t == null ? void 0 : t.getCurrentTime()) ?? 0, buffered: (t == null ? void 0 : t.getSecondsLoaded()) ?? 0 })),
    o = () => r((s) => ({ ...s, buffered: (t == null ? void 0 : t.getSecondsLoaded()) ?? 0 })),
    a = () => !e && (t == null ? void 0 : t.play());
  return (
    Or('timeupdate', i), Or('progress', o), Or('suspend', o), Or('seeked', a), v.useMemo(() => [n.currentTime, n.buffered, (t == null ? void 0 : t.getDuration()) ?? 0], [n.currentTime, n.buffered, t])
  );
}
function dO() {
  const { api: t } = v.useContext(gi),
    e = cO(),
    [n, r, i] = f5(),
    o = v.useMemo(() => (n / i) * 100, [n, i]),
    a = v.useMemo(() => (r / i) * 100, [r, i]),
    s = (l) => {
      const u = l.currentTarget.getBoundingClientRect(),
        d = ((l.pageX - u.left) / u.width) * ((t == null ? void 0 : t.getDuration()) ?? 0);
      t == null || t.seekTo(d);
    };
  return Be.jsxs('div', {
    className: `player-timeline-layout ${e === 0 ? 'hide-time-line' : ''}`,
    onClick: s,
    children: [Be.jsx('div', { className: 'buffer-line', style: { width: `${a}%` } }), Be.jsx('div', { className: 'current-line', style: { width: `${o}%` } })],
  });
}
function fO() {
  const [t, , e] = f5();
  return Be.jsxs('span', { className: 'video-time-progress', children: [C2(t), '/', C2(e || 0)] });
}
function hO({ api: t, style: e }) {
  const [n, r] = v.useState(Math.round((t == null ? void 0 : t.getVolume()) ?? 0)),
    i = pL(),
    o = v.useMemo(() => (t != null && t.muted ? 0 : n), void 0),
    a = (l) => {
      t != null && t.muted && (t == null || t.unmute()), r(l), i();
    },
    s = () => {
      t && (t.muted ? (t.unmute(), r(100)) : (t.mute(), r(0)), i());
    };
  return (
    Mp(() => (t == null ? void 0 : t.setVolume(n / 100)), [n]),
    Be.jsx(Q4, {
      arrow: !1,
      overlayClassName: 'lm-player-volume-popup',
      title: Be.jsx(aL, { onChange: a, vertical: !0, value: n }),
      children: Be.jsx(Ha, { style: e, type: o !== 0 ? 'lm-player-volume-open' : 'lm-player-volume-close', onClick: s }),
    })
  );
}
const mO = Ie.memo(hO);
function pO({ reload: t, leftExtContents: e, leftMidExtContents: n, hideTimeProgress: r, oneFpsPlay: i }) {
  const { api: o, container: a, isLive: s, isFpsPlay: l, event: u } = v.useContext(gi),
    [c, d] = v.useState(Date.now()),
    f = () => d(Date.now());
  Or('play', f), Or('pause', f), Or('volumechange', f);
  const h = a == null ? void 0 : a.querySelector('video'),
    m = v.useMemo(() => (h == null ? void 0 : h.paused), [c, h]),
    g = v.useMemo(() => (m ? 'lm-player-Play_Main' : 'lm-player-Pause_Main'), [m]),
    b = v.useMemo(() => (m ? '播放' : '暂停'), [m]),
    _ = v.useCallback(() => {
      if (h != null && h.paused) {
        const y = (o == null ? void 0 : o.getSecondsLoaded()) ?? 1;
        o == null || o.seekTo(y - 1), o == null || o.play();
      } else o == null || o.pause();
    }, [h, o]);
  return Be.jsxs('div', {
    className: 'contraller-left-bar',
    children: [
      e,
      !l && Be.jsx(ks, { children: Be.jsx(Ha, { onClick: _, type: g, title: b }) }),
      Be.jsx(ks, { children: Be.jsx(mO, { api: o }) }),
      !s && !r && Be.jsx(fO, {}),
      Be.jsx(ks, {
        children: Be.jsx(Ha, {
          onClick: () => {
            u == null || u.emit(vn.CLEAR_ERROR_TIMER), u == null || u.emit(vn.RELOAD_SUCCESS), t();
          },
          type: 'lm-player-Refresh_Main',
          title: '重载',
        }),
      }),
      !s && i && Be.jsx(ks, { children: Be.jsx(Ha, { onClick: l ? (o == null ? void 0 : o.closeFpsPlay) : o == null ? void 0 : o.openFpsPlay, type: 'lm-player-zhuzhenplay', title: '逐帧播放' }) }),
      n,
    ],
  });
}
const R2 = [
    ['requestFullscreen', 'exitFullscreen', 'fullscreenElement', 'fullscreenEnabled', 'fullscreenchange', 'fullscreenerror'],
    ['webkitRequestFullscreen', 'webkitExitFullscreen', 'webkitFullscreenElement', 'webkitFullscreenEnabled', 'webkitfullscreenchange', 'webkitfullscreenerror'],
    ['webkitRequestFullScreen', 'webkitCancelFullScreen', 'webkitCurrentFullScreenElement', 'webkitCancelFullScreen', 'webkitfullscreenchange', 'webkitfullscreenerror'],
    ['mozRequestFullScreen', 'mozCancelFullScreen', 'mozFullScreenElement', 'mozFullScreenEnabled', 'mozfullscreenchange', 'mozfullscreenerror'],
    ['msRequestFullscreen', 'msExitFullscreen', 'msFullscreenElement', 'msFullscreenEnabled', 'MSFullscreenChange', 'MSFullscreenError'],
  ],
  Di = (() => {
    if (typeof document > 'u') return !1;
    const t = R2[0],
      e = {};
    for (const n of R2)
      if ((n == null ? void 0 : n[1]) in document) {
        for (const [i, o] of n.entries()) e[t[i]] = o;
        return e;
      }
    return !1;
  })(),
  A2 = { change: Di.fullscreenchange, error: Di.fullscreenerror };
let mr = {
  request(t = document.documentElement, e) {
    return new Promise((n, r) => {
      const i = () => {
        mr.off('change', i), n();
      };
      mr.on('change', i);
      const o = t[Di.requestFullscreen](e);
      o instanceof Promise && o.then(i).catch(r);
    });
  },
  exit() {
    return new Promise((t, e) => {
      if (!mr.isFullscreen) {
        t();
        return;
      }
      const n = () => {
        mr.off('change', n), t();
      };
      mr.on('change', n);
      const r = document[Di.exitFullscreen]();
      r instanceof Promise && r.then(n).catch(e);
    });
  },
  toggle(t, e) {
    return mr.isFullscreen ? mr.exit() : mr.request(t, e);
  },
  onchange(t) {
    mr.on('change', t);
  },
  onerror(t) {
    mr.on('error', t);
  },
  on(t, e) {
    const n = A2[t];
    n && document.addEventListener(n, e, !1);
  },
  off(t, e) {
    const n = A2[t];
    n && document.removeEventListener(n, e, !1);
  },
  raw: Di,
};
Object.defineProperties(mr, {
  isFullscreen: { get: () => !!document[Di.fullscreenElement] },
  element: { enumerable: !0, get: () => document[Di.fullscreenElement] ?? void 0 },
  isEnabled: { enumerable: !0, get: () => !!document[Di.fullscreenEnabled] },
});
Di || (mr = { isEnabled: !1 });
const ii = mr,
  gO = (t, e) => {
    const { onExit: n, onEnter: r } = e || {},
      i = mi(n),
      o = mi(r),
      [a, s] = v.useState(!1),
      l = () => {
        var f, h;
        if (ii.isEnabled) {
          const m = Nc(t),
            g = document.fullscreenElement === m;
          g ? (f = o.current) == null || f.call(o) : (ii.off('change', l), (h = i.current) == null || h.call(i)), s(g);
        }
      },
      u = () => {
        const f = Nc(t);
        if (f && ii.isEnabled)
          try {
            ii.request(f), ii.on('change', l);
          } catch (h) {
            console.error(h);
          }
      },
      c = () => {
        ii.isEnabled && ii.exit();
      },
      d = () => {
        a ? c() : u();
      };
    return (
      s_(() => {
        ii.isEnabled && ii.off('change', l);
      }),
      [a, { enterFullscreen: Ai(u), exitFullscreen: Ai(c), toggleFullscreen: Ai(d), isEnabled: ii.isEnabled }]
    );
  };
function vO({ rightExtContents: t, rightMidExtContents: e }) {
  const { container: n } = v.useContext(gi),
    [r, { enterFullscreen: i, exitFullscreen: o }] = gO(n),
    a = r ? o : i;
  return Be.jsxs('div', {
    className: 'contraller-right-bar',
    children: [e, Be.jsx(ks, { children: Be.jsx(Ha, { title: r ? '窗口' : '全屏', onClick: a, type: r ? 'lm-player-S_View_ScreenViewExit' : 'lm-player-S_View_ScreenViewFull' }) }), t],
  });
}
function yO({ rightExtContents: t, rightMidExtContents: e, visibel: n, leftExtContents: r, leftMidExtContents: i, reload: o, hideTimeProgress: a, oneFpsPlay: s }) {
  return Be.jsx(Be.Fragment, {
    children: Be.jsxs('div', {
      className: `contraller-bar-layout ${n ? '' : 'hide-contraller-bar'}`,
      children: [Be.jsx(pO, { oneFpsPlay: s, hideTimeProgress: a, reload: o, leftMidExtContents: i, leftExtContents: r }), Be.jsx(vO, { rightExtContents: t, rightMidExtContents: e })],
    }),
  });
}
function _O({ children: t }) {
  const { event: e, container: n } = v.useContext(gi),
    r = v.useRef(),
    [i, o] = v.useState(!0),
    a = () => {
      clearTimeout(r.current), o(!0), e == null || e.emit(vn.SHOW_CONTRALLER);
    },
    s = () => {
      clearTimeout(r.current),
        (r.current = setTimeout(() => {
          o(!1), e == null || e.emit(vn.HIDE_CONTRALLER);
        }, 3 * 1e3));
    };
  return (
    hL(() => s()),
    G0('mouseenter', a, { target: n }),
    G0('mouseleave', s, { target: n }),
    Be.jsx(Be.Fragment, { children: Ie.Children.map(t, (l) => (Ie.isValidElement(l) ? Ie.cloneElement(l, { visibel: i }) : l)) })
  );
}
function Rs() {
  return Be.jsx(Be.Fragment, {});
}
function SO({ event: t, reload: e, unload: n, errorReloadTimer: r, flv: i, hls: o, errorHandleAdapter: a }) {
  const [s, l] = v.useState(0),
    u = v.useRef(null),
    c = v.useRef(),
    d = (...m) => {
      (m[2] && m[2].msg && m[2].msg.includes('Unsupported audio')) || (console.error(...m), (u.current = m), (a != null && a(m)) || l(s + 1));
    },
    f = () => l(0),
    h = () => {
      s > 0 && (console.warn('视频重连成功！'), t == null || t.emit(vn.RELOAD_SUCCESS), f());
    };
  Or('error', d, t),
    Or('canplay', h, t),
    ui(vn.ERROR, d, t),
    ui(vn.CLEAR_ERROR_TIMER, f, t),
    v.useEffect(() => {
      i && i.on(ma.Events.ERROR, d), o && o.on(Li.Events.ERROR, d);
    }, [i, o]),
    v.useEffect(() => {
      if (s !== 0) {
        if (s > r) {
          n(), t == null || t.emit(vn.RELOAD_FAIL);
          return;
        }
        return (
          console.warn(`视频播放出错，正在进行重连${s}`),
          (c.current = setTimeout(() => {
            t == null || t.emit(vn.ERROR_RELOAD, s, ...u.current), e();
          }, 2 * 1e3)),
          () => {
            clearTimeout(c.current);
          }
        );
      }
    }, [s, t, i, o]);
}
var EO = typeof global == 'object' && global && global.Object === Object && global;
const bO = EO;
var xO = typeof self == 'object' && self && self.Object === Object && self,
  TO = bO || xO || Function('return this')();
const wO = TO;
var CO = wO.Symbol;
const jc = CO;
var h5 = Object.prototype,
  RO = h5.hasOwnProperty,
  AO = h5.toString,
  As = jc ? jc.toStringTag : void 0;
function LO(t) {
  var e = RO.call(t, As),
    n = t[As];
  try {
    t[As] = void 0;
    var r = !0;
  } catch {}
  var i = AO.call(t);
  return r && (e ? (t[As] = n) : delete t[As]), i;
}
var IO = Object.prototype,
  DO = IO.toString;
function PO(t) {
  return DO.call(t);
}
var OO = '[object Null]',
  kO = '[object Undefined]',
  L2 = jc ? jc.toStringTag : void 0;
function m5(t) {
  return t == null ? (t === void 0 ? kO : OO) : L2 && L2 in Object(t) ? LO(t) : PO(t);
}
function rm(t) {
  return t != null && typeof t == 'object';
}
function MO(t) {
  var e = typeof t;
  return t != null && (e == 'object' || e == 'function');
}
var FO = '[object AsyncFunction]',
  NO = '[object Function]',
  $O = '[object GeneratorFunction]',
  BO = '[object Proxy]';
function UO(t) {
  if (!MO(t)) return !1;
  var e = m5(t);
  return e == NO || e == $O || e == FO || e == BO;
}
var zO = '[object Number]';
function VO(t) {
  return typeof t == 'number' || (rm(t) && m5(t) == zO);
}
const HO = function (t, e = 0) {
  if (typeof requestAnimationFrame > 'u') return { id: setInterval(t, e) };
  let n = new Date().getTime();
  const r = { id: 0 },
    i = () => {
      new Date().getTime() - n >= e && (t(), (n = new Date().getTime())), (r.id = requestAnimationFrame(i));
    };
  return (r.id = requestAnimationFrame(i)), r;
};
function jO(t) {
  return typeof cancelAnimationFrame > 'u';
}
const I2 = function (t) {
  if (jO(t.id)) return clearInterval(t.id);
  cancelAnimationFrame(t.id);
};
function GO(t, e, n) {
  const r = n == null ? void 0 : n.immediate,
    i = (n == null ? void 0 : n.deps) ?? [],
    o = mi(t),
    a = v.useRef();
  return (
    v.useEffect(() => {
      if (!(!VO(e) || e < 0))
        return (
          r && o.current(),
          (a.current = HO(() => {
            o.current();
          }, e)),
          () => {
            a.current && I2(a.current);
          }
        );
    }, [e, ...i]),
    v.useCallback(() => {
      a.current && I2(a.current);
    }, [])
  );
}
const WO = 1 / 30;
function KO({ api: t, event: e, fpsDelay: n, fps: r }) {
  const [i, o] = v.useState(Date.now()),
    a = v.useRef(null),
    s = v.useRef(),
    l = v.useMemo(() => (r ? 1 / r : WO), [r]);
  return (
    v.useEffect(() => {
      const u = () => {
        if (!a.current || !(e != null && e.video) || !t) return;
        const c = e.video,
          d = t.getCurrentTime() + l;
        (c.currentTime = d), c.currentTime >= t.getDuration() && (clearInterval(s.current), (c.currentTime = 0), e.emit(vn.PLAY_ENDED));
        const f = a.current,
          h = f.getContext('2d'),
          { width: m, height: g } = c.getBoundingClientRect();
        if (((f.width = m), (f.height = g), tO(c, 'object-fit') === 'fill')) h == null || h.drawImage(c, 0, 0, m, g);
        else {
          const _ = c.videoWidth,
            y = c.videoHeight,
            w = (g / y) * _,
            I = (m - w) / 2;
          h == null || h.drawImage(c, I, 0, w, g);
        }
      };
      return (
        u(),
        (s.current = setInterval(u, n)),
        () => {
          clearInterval(s.current);
        }
      );
    }, [t, e, n, i, l]),
    ui(vn.CANVAS_PAUSE, () => {
      clearInterval(s.current);
    }),
    ui(vn.CANVAS_PLAY, () => {
      o(Date.now());
    }),
    GO(() => (t != null && t.paused ? null : t == null ? void 0 : t.pause()), 10),
    Be.jsx('canvas', { className: 'fps-play-canvas', ref: a })
  );
}
function qO({ api: t, event: e, isLive: n }) {
  const r = EL(),
    i = v.useRef(0),
    o = () => {
      if (!n || r !== 'visible' || !t) return;
      const a = t.getCurrentTime() ?? 0,
        s = t.getSecondsLoaded();
      s - a > 5 && (console.debug(`当前延时过大current->${a} buffered->${s}, 基于视频当前缓存时间更新当前播放时间 updateTime -> ${s - 2}`), t.seekTo(s - 2 > 0 ? s - 2 : 0), t.play());
    };
  Mp(() => o(), [r]),
    Mf(() => (i.current = (t == null ? void 0 : t.getCurrentTime()) ?? 0), 1 * 1e3),
    Mf(() => o(), 30 * 1e3),
    Mf(() => {
      var s;
      if (!t || !e) return;
      const a = t.getCurrentTime();
      n && !((s = t.video) != null && s.paused) && a === i.current && e.emit(vn.ERROR, 'long time no play！');
    }, 20 * 1e3);
}
function YO() {
  const { api: t } = v.useContext(gi),
    [e, n] = v.useState({ status: null, errorTimer: 1, loading: !1 }),
    r = v.useRef(),
    i = v.useMemo(
      () => (e.status === 'fail' ? (console.warn('视频错误，请手动刷新重试！'), '请稍后重试！') : e.status === 'reload' ? (console.warn(`第${e.errorTimer}次重连`), '正在刷新...') : ''),
      [e.errorTimer, e.status],
    ),
    o = () => {
      clearTimeout(r.current), (r.current = setTimeout(() => n((m) => ({ ...m, loading: !0 })), 200));
    },
    a = () => {
      clearTimeout(r.current), n((m) => ({ ...m, loading: !1 }));
    },
    s = (m) => {
      clearTimeout(r.current), n(() => ({ status: 'reload', errorTimer: m, loading: !0 }));
    },
    l = () => n((m) => ({ ...m, status: 'fail' })),
    u = () => n((m) => ({ ...m, status: null })),
    c = () => n((m) => ({ ...m, status: 'reload', loading: !0 })),
    d = () => {
      clearTimeout(r.current), n((m) => ({ ...m, status: null, loading: !1 })), t == null || t.pause();
    };
  Or('loadstart', o),
    Or('loadeddata', a),
    Or('canplay', a),
    ui(vn.ERROR_RELOAD, s),
    ui(vn.RELOAD_FAIL, l),
    ui(vn.RELOAD_SUCCESS, u),
    ui(vn.RELOAD, c),
    ui(vn.HISTORY_PLAY_END, d),
    ui(vn.CLEAR_ERROR_TIMER, u);
  const { loading: f, status: h } = e;
  return Be.jsxs('div', {
    className: `lm-player-message-mask ${f || h === 'fail' ? 'lm-player-mask-loading-animation' : ''}`,
    children: [
      Be.jsx(Ha, {
        type: h === 'fail' ? 'lm-player-YesorNo_No_Dark' : 'lm-player-Loading',
        className: `${f && h !== 'fail' ? 'lm-player-loading-animation' : h === 'fail' ? 'lm-player-loadfail' : ''} lm-player-loading-icon`,
      }),
      Be.jsx('span', { className: 'lm-player-message', children: i }),
    ],
  });
}
const p5 = Ie.forwardRef(function ({ className: e, url: n, type: r, hideContrallerBar: i, isLive: o, errorReloadTimer: a, children: s, onCanPlayerInit: l, extActions: u, ...c }, d) {
  const { autoPlay: f, preload: h, muted: m, poster: g, playsInline: b, loop: _ } = c,
    { rightExtContents: y, rightMidExtContents: T, leftExtContents: w, leftMidExtContents: I, customTimeLine: O } = c,
    { flvConfig: x, hlsConfig: L, videoEvents: D, playerEvents: C, oneFpsPlay: G, fpsDelay: M, fps: B } = c,
    [z, H] = v.useState({ container: void 0, isFpsPlay: !1 }),
    [q, { toggle: F }] = gL('fill', 'contain'),
    A = v.useMemo(() => r || eO(n), [n, r]),
    k = v.useRef(null),
    U = v.useMemo(() => (z.container ? z.container.querySelector('video') ?? void 0 : void 0), [z.container]),
    X = aO(U);
  sO(X, D), c5(X, C);
  const [Q, [, W, Y], ne] = iO(n, A, o, z.container, x == null ? void 0 : x.mediaDataSource.segments, x, L),
    te = v.useMemo(() => !!n || (!!(x != null && x.mediaDataSource.segments) && A === 'flv'), [n, x == null ? void 0 : x.mediaDataSource.segments, A]),
    K = mi(Y),
    ee = mi(W);
  v.useEffect(() => {
    H((Te) => ({ ...Te, container: k.current }));
  }, []),
    v.useEffect(() => {
      X == null || X.emit(vn.CLEAR_ERROR_TIMER);
    }, [n]);
  const oe = Ai(() => {
      ne();
    }),
    de = Ai(() => JP(U, ee.current, K.current)),
    me = Ai(() => {
      H((Te) => ({ ...Te, isFpsPlay: !0 })), Q == null || Q.pause();
    }),
    pe = Ai(() => {
      H((Te) => ({ ...Te, isFpsPlay: !1 })), Q == null || Q.play();
    }),
    ge = v.useMemo(() => {
      if (!Q) return;
      const Te = { reload: oe, unload: de, toggleFit: F, openFpsPlay: me, closeFpsPlay: pe, ...u };
      return nm(Q, Te);
    }, [Q]),
    Le = v.useMemo(() => {
      if (X) return nm(X);
    }, [X]);
  v.useImperativeHandle(d, () => ({ video: U, container: z.container, api: ge, event: Le, plugins: [ee.current, K.current], fit: q }), [U, z.container, ge, Le, q]),
    Mp(() => (Q && X && U ? (l == null ? void 0 : l()) : void 0), [Q, X, U]),
    SO({ unload: de, flv: ee.current, hls: K.current, event: X, reload: oe, errorReloadTimer: a }),
    qO({ api: Q, event: X, isLive: o });
  const Me = { autoPlay: z.isFpsPlay ? !1 : f, preload: h, muted: z.isFpsPlay ? !1 : m, poster: g, controls: !1, playsInline: b, loop: z.isFpsPlay ? !1 : _ },
    ze = { rightExtContents: y, rightMidExtContents: T, leftMidExtContents: I, leftExtContents: w, reload: c.reload ?? oe, hideTimeProgress: !!O, oneFpsPlay: G },
    Ge = Q && X;
  return Be.jsx(u5, {
    api: ge,
    event: X,
    container: z.container,
    isLive: o,
    isFpsPlay: z.isFpsPlay,
    children: Be.jsxs('div', {
      className: `lm-player-container ${e}`,
      ref: k,
      children: [
        Be.jsxs('div', {
          className: 'player-mask-layout',
          children: [
            Be.jsx('video', { ...Me, style: { objectFit: q, visibility: z.isFpsPlay ? 'hidden' : 'unset' } }),
            Ge && te && z.isFpsPlay ? Be.jsx(KO, { fps: B, event: X, api: ge, fpsDelay: M }) : Be.jsx(Rs, {}),
          ],
        }),
        Ge && te ? Be.jsx(YO, {}) : Be.jsx(Rs, {}),
        Ge && te && !i ? Be.jsx(_O, { children: Be.jsx(yO, { ...ze }) }) : Be.jsx(Rs, {}),
        Ge ? O || (i ? Be.jsx(Rs, {}) : Be.jsx(dO, {})) : Be.jsx(Rs, {}),
        s,
      ],
    }),
  });
});
p5.defaultProps = {
  isLive: !0,
  errorReloadTimer: 5,
  muted: !0,
  autoPlay: !0,
  playsInline: !1,
  preload: 'auto',
  loop: !1,
  hideContrallerBar: !1,
  className: '',
  flvConfig: { mediaDataSource: {}, config: {} },
  hlsConfig: {},
  extActions: {},
  oneFpsPlay: !1,
  fpsDelay: 500,
  fps: 30,
};
const XO = p5;
function QO(t) {
  const [e, n] = CL(t),
    r = Ai((a) => n((s) => ({ ...s, ...a }))),
    i = v.useMemo(() => rm(t) || (UO(t) && rm(t())), []);
  return v.useMemo(() => [e, i ? r : n, n], [i, n, e, r]);
}
const ah = z0.Option,
  ZO = [
    { value: '', label: '自动' },
    { value: 'flv', label: 'FLV' },
    { value: 'hls', label: 'HLS' },
  ],
  JO = () => {
    const [t, e] = QO({ isLive: !0, url: '', type: '', playUrl: '' });
    return Be.jsxs('div', {
      className: 'live-demo',
      children: [
        Be.jsx('h2', { children: 'SinglePlayer适用直播 或者其他单文件播放 支持flv m3u8' }),
        Be.jsxs('div', {
          className: 'tools-select',
          children: [
            Be.jsx(z0, { onChange: (n) => e({ type: n }), value: t.type, children: ZO.map((n) => Be.jsx(ah, { value: n.value, children: n.label }, n.value)) }),
            Be.jsx(NA, { className: 'url', name: 'url', value: t.url, onChange: (n) => e({ url: n.target.value }), placeholder: '请输入视频地址' }),
            Be.jsxs(z0, { value: t.isLive, onChange: (n) => e({ isLive: n }), children: [Be.jsx(ah, { value: !1, children: '录像' }), Be.jsx(ah, { value: !0, children: '直播' })] }),
            Be.jsxs('span', {
              className: 'local-video',
              children: [
                Be.jsx('input', {
                  type: 'file',
                  name: '',
                  id: '',
                  onChange: (n) => {
                    var r;
                    return e({ url: URL.createObjectURL(((r = n.target.files) == null ? void 0 : r[0]) ?? new Blob()) });
                  },
                }),
                Be.jsx(C0, { children: '本地录像' }),
              ],
            }),
            Be.jsx(C0, { style: { width: 60, height: 32 }, onClick: () => e({ playUrl: t.url }), children: '播放' }),
          ],
        }),
        Be.jsx(XO, { type: t.type, url: t.playUrl, isLive: t.isLive }),
      ],
    });
  };
const ek = sh.createRoot(document.getElementById('root'));
ek.render(Be.jsx(Ie.StrictMode, { children: Be.jsx(JO, {}) }));
