{"version":3,"sources":["webpack://LMPlayer/webpack/universalModuleDefinition","webpack://LMPlayer/webpack/bootstrap","webpack://LMPlayer/external \"React\"","webpack://LMPlayer/external \"ReactDOM\"","webpack://LMPlayer/external \"Hls\"","webpack://LMPlayer/external \"flvjs\"","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://LMPlayer/./src/event/index.js","webpack://LMPlayer/./src/util.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack://LMPlayer/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://LMPlayer/./src/context.js","webpack://LMPlayer/./src/iconfont.js","webpack://LMPlayer/./src/slider.js","webpack://LMPlayer/./src/contraller_bar/left_bar.js","webpack://LMPlayer/./src/contraller_bar/right_bar.js","webpack://LMPlayer/./src/contraller_bar/index.js","webpack://LMPlayer/./src/loading.js","webpack://LMPlayer/./src/time_line.js","webpack://LMPlayer/./src/event/errorEvent.js","webpack://LMPlayer/./src/event/dragEvent.js","webpack://LMPlayer/./src/api.js","webpack://LMPlayer/./src/live_heart.js","webpack://LMPlayer/./src/player.js","webpack://LMPlayer/./src/history/time_line_history.js","webpack://LMPlayer/./src/history/play_end.js","webpack://LMPlayer/./src/history/index.js","webpack://LMPlayer/./src/index.js"],"names":["root","factory","exports","module","require","define","amd","window","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__3__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","length","descriptor","configurable","writable","_createClass","protoProps","staticProps","_typeof2","obj","iterator","constructor","_typeof","_possibleConstructorReturn","self","ReferenceError","assertThisInitialized","_getPrototypeOf","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","_inherits","subClass","superClass","VideoEvent","video","this","events","eventName","handle","push","type","listener","addEventListener","removeEventListener","_len","arguments","data","Array","_key","forEach","v","apply","index","findIndex","splice","createHlsPlayer","file","player","Hls","attachMedia","on","Events","MEDIA_ATTACHED","loadSource","MANIFEST_PARSED","createFlvPlayer","options","flvjs","isSupported","createPlayer","url","isLive","enableWorker","enableStashBuffer","attachMediaElement","load","getVideoType","resultArr","exec","replace","isFullscreen","ele","document","fullscreenElement","msFullscreenElement","mozFullScreenElement","webkitFullscreenElement","fullScreenListener","isAdd","fullscreenchange","funcName","map","_objectWithoutProperties","source","excluded","sourceKeys","keys","indexOf","objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","videoContext","React","createContext","Provider","Consumer","videoDec","Component","ComponentWithVideoDec","_React$Component","_this$props","forwardRef","external_React_default","a","createElement","context","assign","ref","IconFont","_ref","_ref$className","className","concat","Slider","_this","renderSliderTips","e","renderTimeLineTips","_this$layoutDom$getBo","layoutDom","getBoundingClientRect","x","width","tipsX","pageX","percent","querySelector","ReactDOM","render","setState","showTips","hideSliderTips","cancelPropagation","stopPropagation","startDrag","dragFlag","body","moveChange","stopDrag","computedPositionForEvent","onChange","changeCurrentValue","event","_this$layoutDom$getBo2","sliderDomRef","createRef","lineDom","dragDom","state","currentPercent","nextProps","findDOMNode","current","_this$layoutDom$getBo3","dx","_this$state","_this$props$available","availablePercent","_this$props$className","style","children","draggable","left","display","LeftBar","updateRender","forceUpdate","changePlayStatus","api","paused","play","pause","mutedChange","_this$props2","muted","unmute","mute","volumechange","openSliderVolume","closeSliderVolume","onChangeVolume","volume","_this$props3","setVolume","volumeType","onClick","onMouseOver","onMouseOut","src_slider","RightBar","update","fullscreen","playContainer","cancelFullScreen","requestFullScreen","setScale","ContrallerBar","left_bar","right_bar","Loading","openLoading","loading","closeLoading","TineLine","getDuration","duration","getCurrentTime","currentTime","buffered","getSecondsLoaded","getBuffered","changePlayTime","seekTo","seekendPlay","time","second_time","Math","ceil","second","min","floor","hour","timeStamp","fastForward","backWind","playPercent","round","bufferedPercent","ErrorEvent","errorHandle","_console","args","emit","console","error","flvPlayer","hlsPlayer","ERROR","off","DragEvent","openDrag","position","start","pageY","currentPosition","getPosition","end","setPosition","transformChange","computedBound","getScale","scale","lx","ly","eleRect","w","h","height","y","Api","flv","hls","element","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","removeAttribute","stopLoad","destroy","unload","seconds","getBufferedTime","startLoad","fraction","requestPictureInPicture","pictureInPictureElement","exitPictureInPicture","rate","playbackRate","_this$player","seekable","Infinity","undefined","canvas","ctx","getContext","videoWidth","videoHeight","drawImage","setTimeout","remove","toDataURL","num","isRest","transition","__setTransform","isAnimate","transform","setPlaybackRate","snapshot","__player","LiveHeart","updateProgress","progressTime","Date","now","heartAction","timer","setInterval","reload","focusSeekAction","clearInterval","LMPlayer","initPlayer","src","renderVideoTools","Fragment","contraller_bar","src_loading","src_time_line","errorEvent","dragEvent","live_heart","getPlayUrl","getPlayerApiContext","getApi","getProvider","playerType","playerProps","videoKey","random","playContainerRef","playsinline","setAttribute","autoPlay","onInitPlayer","poster","providerValue","historyList","playIndex","fragments","date","timetemp","YYYY","getFullYear","DD","getDate","MM","getMonth","hh","getHours","mm","getMinutes","ss","getSeconds","dateFormat","beginDate","getTime","computedLineList","disabled","size","begin","lineList","currentLine","filter","currentIndexTime","reduce","currentSizeLine","i2","currentIndexSize","PlayEnd","endedHandle","changePlayIndex","HistoryPlayer","checkFirstFile","defaultTime","computedIndexFormTime","isFrist","updateChunk","historyApi","seekTime","time_line_history","play_end","Player"],"mappings":"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","file":"LMPlayer.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"React\"), require(\"ReactDOM\"), require(\"Hls\"), require(\"flvjs\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"LMPlayer\", [\"React\", \"ReactDOM\", \"Hls\", \"flvjs\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"LMPlayer\"] = factory(require(\"React\"), require(\"ReactDOM\"), require(\"Hls\"), require(\"flvjs\"));\n\telse\n\t\troot[\"LMPlayer\"] = factory(root[\"React\"], root[\"ReactDOM\"], root[\"Hls\"], root[\"flvjs\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__3__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","\r\nclass VideoEvent {\r\n  constructor(video) {\r\n    this.video = video;\r\n    this.events = {};\r\n  }\r\n  on(eventName, handle) {\r\n    this.events[eventName] ? this.events[eventName].push(handle) : this.events[eventName] = { type: eventName, listener: [handle] };\r\n  }\r\n  addEventListener(eventName, handle) {\r\n    this.video.addEventListener(eventName, handle, false);\r\n  }\r\n  removeEventListener() {\r\n    this.video.removeEventListener(eventName, handle, false);\r\n  }\r\n  emit(eventName, ...data) {\r\n    if (!this.events[eventName]) {\r\n      return\r\n    }\r\n    this.events[eventName].listener.forEach(v => {\r\n      v(...data);\r\n    });\r\n  }\r\n  off(eventName, handle) {\r\n    if (this.events.eventName) {\r\n      return\r\n    }\r\n    let index = this.events[eventName].listener.findIndex(v => v === handle);\r\n    index > -1 && this.events[eventName].listener.splice(index, 1);\r\n  }\r\n  destroy() {\r\n    this.video = null;\r\n    this.events = null;\r\n  }\r\n}\r\n\r\nexport default VideoEvent;\r\n","import flvjs from \"flv.js\";\r\nimport Hls from \"hls.js\";\r\nexport function createHlsPlayer(video, file) {\r\n  const player = new Hls();\r\n  player.attachMedia(video);\r\n  player.on(Hls.Events.MEDIA_ATTACHED, () => {\r\n    player.loadSource(file);\r\n    player.on(Hls.Events.MANIFEST_PARSED, () => {\r\n      // console.log(player);\r\n    });\r\n  });\r\n  return player;\r\n}\r\n\r\nexport function createFlvPlayer(video, options) {\r\n  if (flvjs.isSupported()) {\r\n    const player = flvjs.createPlayer(\r\n      {\r\n        type: \"flv\",\r\n        url: options.file,\r\n        isLive: !!options.isLive\r\n      },\r\n      {\r\n        enableWorker: false,\r\n        enableStashBuffer: false,\r\n        isLive: !!options.isLive\r\n      }\r\n    );\r\n    player.attachMediaElement(video);\r\n    player.load();\r\n    return player;\r\n  }\r\n}\r\nexport function getVideoType(url) {\r\n  const reg = /([^\\.\\/\\\\]+)\\.(([a-z]|[0-9])+(\\?\\S+)?)$/i;\r\n  const resultArr = reg.exec(url);\r\n  if (resultArr) {\r\n    return resultArr[2].replace(resultArr[4], '');\r\n  }\r\n}\r\n\r\nexport function timeStamp(second_time) {\r\n  let time = Math.ceil(second_time);\r\n  if (time > 60) {\r\n    let second = Math.ceil(second_time % 60);\r\n    let min = Math.floor(second_time / 60);\r\n    time = `${min < 10 ? `0${min}` : min}:${second < 10 ? `0${second}` : second}`\r\n    if (min > 60) {\r\n      min = Math.ceil((second_time / 60) % 60);\r\n      let hour = Math.floor(second_time / 60 / 60);\r\n      time = `${hour < 10 ? `0${hour}` : hour}:${min < 10 ? `0${min}` : min}:${second < 10 ? `0${second}` : second}`\r\n    } else {\r\n      time = `00:${time}`\r\n    }\r\n  } else {\r\n    time = `00:00:${time < 10 ? `0${time}` : time}`\r\n  }\r\n\r\n  return time;\r\n}\r\n\r\nexport function dateFormat(timetemp) {\r\n  const date = new Date(timetemp)\r\n  let YYYY = date.getFullYear()\r\n  let DD = date.getDate()\r\n  let MM = date.getMonth() + 1\r\n  let hh = date.getHours()\r\n  let mm = date.getMinutes()\r\n  let ss = date.getSeconds()\r\n  return `${YYYY}.${MM > 10 ? MM : '0' + MM}.${DD > 10 ? DD : '0' + DD} ${hh > 10 ? hh : '0' + hh}.${mm > 10 ? mm : '0' + mm}.${ss > 10 ? ss : '0' + ss}`\r\n}\r\n\r\nexport function fullscreen(element) {\r\n  if (element.requestFullScreen) {\r\n    element.requestFullScreen();\r\n  } else if (element.webkitRequestFullScreen) {\r\n    element.webkitRequestFullScreen();\r\n  } else if (element.mozRequestFullScreen) {\r\n    element.mozRequestFullScreen();\r\n  } else if (element.msRequestFullscreen) {\r\n    element.msRequestFullscreen();\r\n  }\r\n}\r\n\r\n/**\r\n * exitFullscreen \r\n * @param  {Objct} element \r\n */\r\nexport function exitFullscreen() {\r\n  if (document.exitFullscreen) {\r\n    document.exitFullscreen();\r\n  } else if (document.mozCancelFullScreen) {\r\n    document.mozCancelFullScreen();\r\n  } else if (document.webkitExitFullscreen) {\r\n    document.webkitExitFullscreen();\r\n  } else if (document.msExitFullscreen) {\r\n    document.msExitFullscreen();\r\n  }\r\n}\r\n\r\n/**\r\n * \r\n */\r\nexport function fullscreenEnabled() {\r\n  return (\r\n    document.fullscreenEnabled ||\r\n    document.mozFullScreenEnabled ||\r\n    document.webkitFullscreenEnabled ||\r\n    document.msFullscreenEnabled\r\n  );\r\n}\r\n\r\n/**\r\n * [isFullscreen ]\r\n * @return [,false]\r\n */\r\nexport function isFullscreen(ele) {\r\n  if (!ele) {\r\n    return false\r\n  }\r\n  return (\r\n    document.fullscreenElement === ele ||\r\n    document.msFullscreenElement === ele ||\r\n    document.mozFullScreenElement === ele ||\r\n    document.webkitFullscreenElement === ele ||\r\n    false\r\n  );\r\n}\r\n//  /  \r\nexport function fullScreenListener(isAdd, fullscreenchange) {\r\n  const funcName = isAdd ? 'addEventListener' : 'removeEventListener';\r\n  const fullScreenEvents = [\r\n    'fullscreenchange',\r\n    'mozfullscreenchange',\r\n    'webkitfullscreenchange',\r\n    'msfullscreenchange'\r\n  ];\r\n  fullScreenEvents.map((v) => document[funcName](v, fullscreenchange));\r\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React from \"react\";\r\n\r\nconst videoContext = React.createContext(null);\r\n\r\nexport const Provider = videoContext.Provider;\r\nexport const Consumer = videoContext.Consumer;\r\n\r\nexport function videoDec(Component) {\r\n  class ComponentWithVideoDec extends React.Component {\r\n    render() {\r\n      const { forwardRef, ...props } = this.props;\r\n      return <Consumer>{context => <Component {...props} {...context} ref={forwardRef} />}</Consumer>;\r\n    }\r\n  }\r\n  return React.forwardRef((props, ref) => <ComponentWithVideoDec {...props} forwardRef={ref} />);\r\n}\r\n","import React from \"react\";\r\nimport \"./style/iconfont.less\";\r\nexport default function IconFont({ type, className = \"\", ...props }) {\r\n  return <i className={`lm-player-iconfont ${type} ${className}`} {...props} />;\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from 'react-dom'\r\nimport \"./style/slider.less\";\r\n\r\nclass Slider extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.sliderDomRef = React.createRef();\r\n    this.layoutDom = null\r\n    this.lineDom = null\r\n    this.dragDom = null\r\n    this.dragFlag = false\r\n    this.state = {\r\n      value: this.props.currentPercent || 0,\r\n      showTips: false,\r\n      tipsX: 0\r\n    };\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    if (!this.dragFlag) {\r\n      this.setState({ value: nextProps.currentPercent || 0 })\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    this.layoutDom = ReactDOM.findDOMNode(this.sliderDomRef.current)\r\n    this.dragDom = this.layoutDom.querySelector('.drag-change-icon')\r\n    this.lineDom = this.layoutDom.querySelector('.slider-content')\r\n\r\n    this.layoutDom.addEventListener('mousemove', this.renderSliderTips, false)\r\n    this.layoutDom.addEventListener('mouseout', this.hideSliderTips, false)\r\n    this.lineDom.addEventListener(\"click\", this.changeCurrentValue, false);\r\n    this.dragDom.addEventListener('click', this.cancelPropagation, false)\r\n    this.dragDom.addEventListener('mousedown', this.startDrag, false)\r\n\r\n  }\r\n  componentWillUnmount() {\r\n    this.layoutDom.removeEventListener('mousemove', this.renderSliderTips, false)\r\n    this.layoutDom.removeEventListener('mouseout', this.hideSliderTips, false)\r\n    this.lineDom.removeEventListener(\"click\", this.changeCurrentValue, false);\r\n    this.dragDom.removeEventListener('click', this.cancelPropagation, false)\r\n    this.dragDom.removeEventListener('mousedown', this.startDrag, false)\r\n\r\n    document.body.removeEventListener('mousemove', this.moveChange)\r\n    document.body.removeEventListener('mouseup', this.stopDrag)\r\n\r\n    this.sliderDomRef = null;\r\n    this.layoutDom = null\r\n    this.lineDom = null\r\n    this.dragDom = null\r\n    this.dragFlag = null\r\n  }\r\n  renderSliderTips = (e) => {\r\n    const { renderTimeLineTips } = this.props\r\n    if (!renderTimeLineTips) {\r\n      return\r\n    }\r\n    const { x, width } = this.layoutDom.getBoundingClientRect();\r\n    const tipsX = (e.pageX - x)\r\n    const percent = tipsX / width\r\n    const ele = this.layoutDom.querySelector('.slide-tips')\r\n    ReactDOM.render(renderTimeLineTips ? renderTimeLineTips(percent) : null, ele)\r\n    this.setState({ tipsX, showTips: true })\r\n  }\r\n  hideSliderTips = () => {\r\n    this.setState({ showTips: false })\r\n  }\r\n  cancelPropagation = (e) => {\r\n    e.stopPropagation()\r\n  }\r\n  startDrag = (e) => {\r\n    e.stopPropagation()\r\n    this.dragFlag = true\r\n    document.body.addEventListener('mousemove', this.moveChange)\r\n    document.body.addEventListener('mouseup', this.stopDrag)\r\n  }\r\n  moveChange = (e) => {\r\n    e.stopPropagation()\r\n    const percent = this.computedPositionForEvent(e)\r\n    this.setState({ value: percent })\r\n  }\r\n  stopDrag = (e) => {\r\n    e.stopPropagation()\r\n    document.body.removeEventListener('mousemove', this.moveChange)\r\n    document.body.removeEventListener('mouseup', this.stopDrag)\r\n    this.dragFlag = false\r\n    const percent = this.computedPositionForEvent(e)\r\n    this.props.onChange && this.props.onChange(percent / 100)\r\n\r\n  }\r\n  computedPositionForEvent(e) {\r\n    const { x, width } = this.layoutDom.getBoundingClientRect();\r\n    const { pageX } = e\r\n    let dx = pageX - x;\r\n    if (dx > width) {\r\n      dx = width\r\n    }\r\n    if (dx < 0) {\r\n      dx = 0\r\n    }\r\n    return dx / width * 100\r\n  }\r\n  changeCurrentValue = (event) => {\r\n    event.stopPropagation()\r\n    const { width, x } = this.layoutDom.getBoundingClientRect();\r\n    let percent = (event.pageX - x) / width;\r\n    this.props.onChange && this.props.onChange(percent)\r\n  }\r\n  render() {\r\n    const { value, showTips, tipsX } = this.state\r\n    const { availablePercent = 0, className = '' } = this.props;\r\n    return (\r\n      <div className={`slider-layout ${className}`} ref={this.sliderDomRef}>\r\n        <div className=\"slider-content\">\r\n          <div className=\"slider-max-line\" />\r\n          <div className=\"slider-visibel-line\" style={{ width: `${availablePercent}%` }} />\r\n          <div className=\"slider-current-line\" style={{ width: `${value}%` }} />\r\n          {this.props.children}\r\n        </div>\r\n        <div className=\"slider-other-content\"><div className=\"drag-change-icon\" draggable={false} style={{ left: `${value}%` }}></div></div>\r\n        <div style={{ left: tipsX, display: showTips ? 'block' : 'none' }} className=\"slide-tips\" />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Slider;\r\n","import React from \"react\";\r\nimport IconFont from \"../iconfont\";\r\nimport { videoDec } from \"../context\";\r\nimport Slider from '../slider'\r\n\r\n@videoDec\r\nclass LeftBar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      openSliderVolume: false\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    this.props.event.addEventListener(\"play\", this.updateRender);\r\n    this.props.event.addEventListener(\"pause\", this.updateRender);\r\n    this.props.event.addEventListener(\"volumechange\", this.volumechange);\r\n\r\n  }\r\n  componentWillUnmount() {\r\n    this.props.event.removeEventListener(\"play\", this.updateRender);\r\n    this.props.event.removeEventListener(\"pause\", this.updateRender);\r\n    this.props.event.removeEventListener(\"volumechange\", this.volumechange);\r\n  }\r\n  updateRender = () => {\r\n    this.forceUpdate();\r\n  };\r\n  changePlayStatus = () => {\r\n    const { api, video } = this.props;\r\n    video.paused ? api.play() : api.pause()\r\n  };\r\n  mutedChange = () => {\r\n    const { api, video } = this.props;\r\n    video.muted ? api.unmute() : api.mute();\r\n  }\r\n  volumechange = () => {\r\n    this.forceUpdate();\r\n  }\r\n  openSliderVolume = () => {\r\n    this.setState({\r\n      openSliderVolume: true\r\n    })\r\n  }\r\n  closeSliderVolume = () => {\r\n    this.setState({\r\n      openSliderVolume: false\r\n    })\r\n  }\r\n  onChangeVolume = (volume) => {\r\n    const { api, video } = this.props;\r\n    api.setVolume(volume)\r\n    if (volume > 0 && video.muted) {\r\n      api.unmute()\r\n    }\r\n\r\n  }\r\n  render() {\r\n    const { openSliderVolume } = this.state\r\n    const { video } = this.props;\r\n    const volumeType = video.volume === 1 ? 'lm-player-volume-max' : 'lm-player-volume-normal-fuben'\r\n    return (\r\n      <div className=\"contraller-left-bar\">\r\n        <span className=\"contraller-bar-item\">\r\n          <IconFont onClick={this.changePlayStatus} type={video.paused ? \"lm-player-Play_Main\" : \"lm-player-Pause_Main\"} />\r\n        </span>\r\n        <span\r\n          className={`contraller-bar-item contraller-bar-volume ${openSliderVolume ? 'contraller-bar-hover-volume' : ''}`}\r\n\r\n          onMouseOver={this.openSliderVolume}\r\n          onMouseOut={this.closeSliderVolume}>\r\n          <IconFont onClick={this.mutedChange} type={video.muted ? \"lm-player-volume-close\" : volumeType} />\r\n          <div className=\"volume-slider-layout\">\r\n            <Slider className=\"volume-slider\" currentPercent={video.muted ? 0 : video.volume * 100} onChange={this.onChangeVolume} />\r\n          </div>\r\n        </span>\r\n        <span className=\"contraller-bar-item\" onClick={this.changePlayStatus}>\r\n          <IconFont type={video.paused ? \"lm-player-Play_Main\" : \"lm-player-Pause_Main\"} />\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LeftBar;\r\n","import React from 'react'\r\nimport { videoDec } from \"../context\";\r\nimport IconFont from \"../iconfont\";\r\nimport { isFullscreen, fullScreenListener } from '../util'\r\n\r\n@videoDec\r\nclass RightBar extends React.Component {\r\n    componentDidMount() {\r\n        fullScreenListener(true, this.update)\r\n    }\r\n    componentWillUnmount() {\r\n        fullScreenListener(false, this.update)\r\n    }\r\n    update = () => {\r\n        this.forceUpdate()\r\n    }\r\n    fullscreen = () => {\r\n        const { api, playContainer } = this.props\r\n        if (!isFullscreen(playContainer)) {\r\n            api.requestFullScreen()\r\n        } else {\r\n            api.cancelFullScreen()\r\n        }\r\n        this.forceUpdate()\r\n    }\r\n    render() {\r\n        const { api, playContainer } = this.props\r\n        return <div className=\"contraller-right-bar\">\r\n            <span className=\"contraller-bar-item\">\r\n                <IconFont onClick={() => api.setScale(-0.2)} type={\"lm-player-ZoomOut_Main\"} />\r\n            </span>\r\n            <span className=\"contraller-bar-item\">\r\n                <IconFont onClick={() => api.setScale(1, true)} type={\"lm-player-ZoomDefault_Main\"} />\r\n            </span>\r\n            <span className=\"contraller-bar-item\">\r\n                <IconFont onClick={() => api.setScale(0.2)} type={\"lm-player-ZoomIn_Main\"} />\r\n            </span>\r\n            <span className=\"contraller-bar-item\">\r\n                <IconFont onClick={this.fullscreen} type={isFullscreen(playContainer) ? \"lm-player-ExitFull_Main\" : \"lm-player-Full_Main\"} />\r\n            </span>\r\n        </div>\r\n    }\r\n}\r\nexport default RightBar","import React from \"react\";\r\nimport LeftBar from \"./left_bar\";\r\nimport RightBar from \"./right_bar\";\r\nimport \"../style/bar.less\"\r\nclass ContrallerBar extends React.Component {\r\n  constructor() {\r\n    super();\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"contraller-bar-layout\">\r\n        <LeftBar />\r\n        <RightBar />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ContrallerBar;\r\n","import React from \"react\";\r\nimport IconFont from \"./iconfont\";\r\nimport { videoDec } from \"./context\";\r\n\r\nimport \"./style/loading.less\";\r\n\r\n@videoDec\r\nclass Loading extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    const { event } = this.props;\r\n    event.addEventListener(\"loadstart\", this.openLoading);\r\n    event.addEventListener(\"waiting\", this.openLoading);\r\n    event.addEventListener(\"seeking\", this.openLoading);\r\n    event.addEventListener(\"loadeddata\", this.closeLoading);\r\n    event.addEventListener(\"canplay\", this.closeLoading);\r\n  }\r\n  componentWillUnmount(){\r\n    const { event } = this.props;\r\n    event.removeEventListener(\"loadstart\", this.openLoading);\r\n    event.removeEventListener(\"waiting\", this.openLoading);\r\n    event.removeEventListener(\"seeking\", this.openLoading);\r\n    event.removeEventListener(\"loadeddata\", this.closeLoading);\r\n    event.removeEventListener(\"canplay\", this.closeLoading);\r\n  }\r\n  openLoading = () => {\r\n    this.setState({ loading: true });\r\n  };\r\n  closeLoading = () => {\r\n    this.setState({ loading: false });\r\n  };\r\n  render() {\r\n    const { loading } = this.state;\r\n    return (\r\n      <div className={`loading-mask ${loading ? \"mask-loading-animation\" : \"\"}`}>\r\n        <IconFont type=\"lm-player-Loading\" className={`${loading ? \"video-loading-animation\" : \"\"} video-loading-icon`} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loading;\r\n","import React from \"react\";\r\nimport { videoDec } from \"./context\";\r\nimport IconFont from './iconfont'\r\nimport Slider from './slider'\r\nimport { timeStamp } from './util'\r\nimport \"./style/time-line.less\";\r\n\r\n@videoDec\r\nclass TineLine extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      duration: 0,\r\n      currentTime: 0,\r\n      buffered: 0\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    const { event } = this.props;\r\n    event.addEventListener(\"loadedmetadata\", this.getDuration);\r\n    event.addEventListener(\"durationchange\", this.getDuration);\r\n    event.addEventListener(\"timeupdate\", this.getCurrentTime);\r\n    event.addEventListener(\"progress\", this.getBuffered);\r\n    event.addEventListener(\"suspend\", this.getBuffered)\r\n    event.addEventListener(\"seeked\", this.seekendPlay);\r\n  }\r\n  componentWillUnmount() {\r\n    const { event } = this.props;\r\n    event.removeEventListener(\"loadedmetadata\", this.getDuration);\r\n    event.removeEventListener(\"durationchange\", this.getDuration);\r\n    event.removeEventListener(\"timeupdate\", this.getCurrentTime);\r\n    event.removeEventListener(\"progress\", this.getBuffered);\r\n    event.removeEventListener(\"suspend\", this.getBuffered)\r\n    event.removeEventListener(\"seeked\", this.seekendPlay);\r\n  }\r\n  getDuration = () => {\r\n    const { api } = this.props;\r\n    this.setState({\r\n      duration: api.getDuration()\r\n    });\r\n  };\r\n  getCurrentTime = () => {\r\n    const { api } = this.props;\r\n    const state = {\r\n      currentTime: api.getCurrentTime(),\r\n      buffered: api.getSecondsLoaded()\r\n    }\r\n    if (state.buffered === this.state.buffered) {\r\n      delete state.buffered\r\n    }\r\n    this.setState(state);\r\n  };\r\n  getBuffered = () => {\r\n    const { api } = this.props;\r\n    this.setState({\r\n      buffered: api.getSecondsLoaded()\r\n    });\r\n  };\r\n  changePlayTime = percent => {\r\n    const { video, api } = this.props;\r\n    const currentTime = percent * this.state.duration\r\n    if (!video.paused) {\r\n      api.pause();\r\n    }\r\n    this.setState({ currentTime });\r\n    api.seekTo(currentTime);\r\n  };\r\n  seekendPlay = () => {\r\n    const { video, api } = this.props;\r\n    if (video.paused) {\r\n      api.play();\r\n    }\r\n  };\r\n  renderTimeLineTips = (percent) => {\r\n    const currentTime = percent * this.state.duration\r\n    const time = timeStamp(currentTime)\r\n    return <span>{time}</span>\r\n  }\r\n  fastForward = () => {\r\n    const { api } = this.props;\r\n    api.fastForward()\r\n  }\r\n  backWind = () => {\r\n    const { api } = this.props;\r\n    api.backWind()\r\n  }\r\n  render() {\r\n    const { duration, currentTime, buffered } = this.state;\r\n    const playPercent = Math.round((currentTime / duration) * 100);\r\n    const bufferedPercent = Math.round((buffered / duration) * 100);\r\n    return (\r\n      <div className=\"video-time-line-layout\">\r\n        <IconFont type=\"lm-player-PrevFast\" onClick={this.backWind} className=\"time-line-action-item\" />\r\n        <Slider\r\n          className=\"time-line-box\"\r\n          currentPercent={playPercent}\r\n          availablePercent={bufferedPercent}\r\n          onChange={this.changePlayTime}\r\n          renderTimeLineTips={this.renderTimeLineTips} />\r\n        <IconFont type=\"lm-player-NextFast_Light\" onClick={this.fastForward} className=\"time-line-action-item\" />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TineLine;\r\n","import React from \"react\";\r\nimport flvjs from 'flv.js'\r\nimport Hls from 'hls.js'\r\nimport { videoDec } from \"../context\";\r\n\r\n@videoDec\r\nclass ErrorEvent extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n  }\r\n  componentDidMount() {\r\n    const { event, flvPlayer, hlsPlayer } = this.props;\r\n    if (flvPlayer) {\r\n      flvPlayer.on(flvjs.Events.ERROR, this.errorHandle)\r\n    }\r\n    if (hlsPlayer) {\r\n      hlsPlayer.on(Hls.Events.ERROR, this.errorHandle)\r\n    }\r\n    event.addEventListener(\"error\", this.errorHandle, false);\r\n  }\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.flvPlayer && nextProps.flvPlayer !== this.props.flvPlayer) {\r\n      nextProps.flvPlayer.on(flvjs.Events.ERROR, this.errorHandle)\r\n    }\r\n    if (nextProps.hlsPlayer && nextProps.hlsPlayer !== this.props.hlsPlayer) {\r\n      nextProps.hlsPlayer.on(Hls.Events.ERROR, this.errorHandle)\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    event.removeEventListener(\"error\", this.errorHandle, false);\r\n    flvPlayer.off(flvjs.Events.ERROR, this.errorHandle)\r\n    hlsPlayer.off(Hls.Events.ERROR, this.errorHandle)\r\n  }\r\n  errorHandle = (...args) => {\r\n    const { event } = this.props;\r\n    event.emit('error', ...args)\r\n    console.error(...args);\r\n  };\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default ErrorEvent;\r\n","import React from 'react'\r\nimport { videoDec } from '../context'\r\n\r\n@videoDec\r\nclass DragEvent extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    const { playContainer, event } = props\r\n\r\n    this.dragDom = playContainer.querySelector('.player-mask-layout')\r\n    this.position = {\r\n      start: [0, 0],\r\n      end: [0, 0]\r\n    }\r\n  }\r\n  componentDidMount() {\r\n    this.dragDom.addEventListener('mousedown', this.openDrag)\r\n    this.props.event.addEventListener('transform', this.transformChange, true)\r\n  }\r\n  componentWillUnmount() {\r\n    this.dragDom.removeEventListener('mousedown', this.openDrag)\r\n    this.props.event.removeEventListener('transform', this.transformChange)\r\n  }\r\n  openDrag = (e) => {\r\n    this.position.start = [e.pageX, e.pageY]\r\n    this.dragDom.addEventListener('mousemove', this.moveChange)\r\n    this.dragDom.addEventListener('mouseup', this.stopDrag)\r\n\r\n  }\r\n  moveChange = (e) => {\r\n    const { api } = this.props\r\n    const currentPosition = api.getPosition()\r\n    this.position.end = [e.pageX, e.pageY]\r\n    const x = currentPosition[0] + (this.position.end[0] - this.position.start[0])\r\n    const y = currentPosition[1] + (this.position.end[1] - this.position.start[1])\r\n    const position = [x, y]\r\n    api.setPosition(position)\r\n    this.position.start = [e.pageX, e.pageY]\r\n  }\r\n  stopDrag = () => {\r\n    this.dragDom.removeEventListener('mousemove', this.moveChange)\r\n    this.dragDom.removeEventListener('mouseup', this.stopDrag)\r\n    this.transformChange()\r\n  }\r\n  transformChange = () => {\r\n    const { api } = this.props\r\n    let position = this.computedBound(this.dragDom, api.getPosition(), api.getScale())\r\n    position && api.setPosition(position, true)\r\n  }\r\n  computedBound(ele, currentPosition, scale) {\r\n    const data = currentPosition;\r\n    const eleRect = ele.getBoundingClientRect();\r\n    const w = eleRect.width;\r\n    const h = eleRect.height;\r\n    let lx = 0,\r\n      ly = 0;\r\n    if (scale === 1) {\r\n      return [0, 0];\r\n    }\r\n    lx = (w * (scale - 1)) / 2 / scale\r\n    ly = (h * (scale - 1)) / 2 / scale\r\n    let x = 0,\r\n      y = 0;\r\n    if (data[0] >= 0 && data[0] > lx) {\r\n      x = lx;\r\n    }\r\n    if (data[0] >= 0 && data[0] < lx) {\r\n      x = data[0];\r\n    }\r\n\r\n    if (data[0] < 0 && data[0] < -lx) {\r\n      x = -lx;\r\n    }\r\n    if (data[0] < 0 && data[0] > -lx) {\r\n      x = data[0];\r\n    }\r\n\r\n    if (data[1] >= 0 && data[1] > ly) {\r\n      y = ly;\r\n    }\r\n    if (data[1] >= 0 && data[1] < ly) {\r\n      y = data[1];\r\n    }\r\n\r\n    if (data[1] < 0 && data[1] < -ly) {\r\n      y = -ly;\r\n    }\r\n    if (data[1] < 0 && data[1] > -ly) {\r\n      y = data[1];\r\n    }\r\n    if (x !== data[0] || y !== data[1]) {\r\n      return [x, y];\r\n    } else {\r\n      return;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return null\r\n  }\r\n}\r\nexport default DragEvent","import { fullscreen, isFullscreen, exitFullscreen } from './util'\r\nexport default class Api {\r\n  constructor(video, playContainer, event, flv, hls) {\r\n    this.player = video;\r\n    this.playContainer = playContainer\r\n    this.flv = flv;\r\n    this.hls = hls;\r\n    this.event = event\r\n    this.scale = 1;\r\n    this.position = [0, 0]\r\n  }\r\n  updateChunk({ flv, hls }) {\r\n    this.flv = flv;\r\n    this.hls = hls;\r\n  }\r\n  requestFullScreen() {\r\n    if (!isFullscreen(this.playContainer)) {\r\n      fullscreen(this.playContainer)\r\n    }\r\n  }\r\n  cancelFullScreen() {\r\n    if (isFullscreen(this.playContainer)) {\r\n      exitFullscreen()\r\n    }\r\n  }\r\n  play() {\r\n    if (this.player.paused) {\r\n      this.player.play();\r\n    }\r\n  }\r\n  pause() {\r\n    this.player.pause();\r\n  }\r\n  destroy() {\r\n    this.player.removeAttribute(\"src\");\r\n    if (this.hls) {\r\n      this.hls.stopLoad()\r\n      this.hls.destroy();\r\n    }\r\n    if (this.flv) {\r\n      this.flv.unload();\r\n      this.flv.destroy();\r\n    }\r\n    this.player = null;\r\n    this.flv = null;\r\n    this.hls = null;\r\n    this.playContainer = null\r\n    this.event = null\r\n    this.scale = null;\r\n    this.position = null\r\n  }\r\n  seekTo(seconds) {\r\n    const buffered = this.getBufferedTime()\r\n    if (this.flv && buffered[0] > seconds) {\r\n      this.flv.unload();\r\n      this.flv.load();\r\n    }\r\n    this.player.currentTime = seconds;\r\n  }\r\n  reload() {\r\n    if (this.flv) {\r\n      this.flv.unload()\r\n      this.flv.load()\r\n      return\r\n    }\r\n    if (this.hls) {\r\n      this.hls.stopLoad()\r\n      this.hls.startLoad()\r\n      return\r\n    }\r\n    this.seekTo(0)\r\n  }\r\n  setVolume(fraction) {\r\n    this.player.volume = fraction;\r\n  }\r\n  mute() {\r\n    this.player.muted = true;\r\n  };\r\n  unmute() {\r\n    this.player.muted = false;\r\n  };\r\n  requestPictureInPicture() {\r\n    if (this.player.requestPictureInPicture && document.pictureInPictureElement !== this.player) {\r\n      this.player.requestPictureInPicture();\r\n    }\r\n  }\r\n  exitPictureInPicture() {\r\n    if (document.exitPictureInPicture && document.pictureInPictureElement === this.player) {\r\n      document.exitPictureInPicture();\r\n    }\r\n  }\r\n  setPlaybackRate(rate) {\r\n    this.player.playbackRate = rate;\r\n  }\r\n  getDuration() {\r\n    if (!this.player) return null;\r\n    const { duration, seekable } = this.player;\r\n    if (duration === Infinity && seekable.length > 0) {\r\n      return seekable.end(seekable.length - 1);\r\n    }\r\n    return duration;\r\n  }\r\n  getCurrentTime() {\r\n    if (!this.player) return null;\r\n    return this.player.currentTime;\r\n  }\r\n  getSecondsLoaded() {\r\n    return this.getBufferedTime()[1]\r\n  }\r\n  getBufferedTime() {\r\n    if (!this.player) return null;\r\n    const { buffered } = this.player;\r\n    if (buffered.length === 0) {\r\n      return [0, 0];\r\n    }\r\n    const end = buffered.end(buffered.length - 1);\r\n    const start = buffered.start(buffered.length - 1);\r\n    const duration = this.getDuration();\r\n    if (end > duration) {\r\n      return duration;\r\n    }\r\n    return [start, end];\r\n  }\r\n  fastForward(second = 5) {\r\n    const duration = this.getDuration()\r\n    const currentTime = this.getCurrentTime()\r\n    const time = currentTime + second\r\n    this.seekTo(time > duration - 1 ? duration - 1 : time)\r\n  }\r\n  backWind(second = 5) {\r\n    const currentTime = this.getCurrentTime()\r\n    const time = currentTime - second\r\n    this.seekTo(time < 1 ? 1 : time)\r\n  }\r\n  snapshot() {\r\n    let canvas = document.createElement('canvas')\r\n    let ctx = canvas.getContext('2d')\r\n    canvas.width = this.player.videoWidth\r\n    canvas.height = this.player.videoHeight\r\n    ctx.drawImage(this.player, 0, 0, canvas.width, canvas.height)\r\n    setTimeout(() => {\r\n      canvas.remove()\r\n      canvas = null;\r\n      ctx = null\r\n    }, 200)\r\n    return canvas.toDataURL()\r\n  }\r\n  setScale(num, isRest = false) {\r\n    let scale = this.scale + num\r\n    if (isRest) {\r\n      scale = num\r\n    } else {\r\n\r\n      if (scale < 1) {\r\n        scale = 1\r\n      }\r\n      if (scale > 3) {\r\n        scale = 3\r\n      }\r\n    }\r\n    this.scale = scale\r\n    this.player.style.transition = 'transform 0.3s'\r\n    this.__setTransform()\r\n    this.event.emit('transform')\r\n    setTimeout(() => {\r\n      this.player.style.transition = 'unset'\r\n    }, 500)\r\n  }\r\n  getScale() {\r\n    return this.scale\r\n  }\r\n  setPosition(position, isAnimate) {\r\n    this.position = position\r\n    this.player.style.transition = isAnimate ? 'transform 0.3s' : 'unset'\r\n    this.__setTransform()\r\n  }\r\n  getPosition() {\r\n    return this.position\r\n  }\r\n  __setTransform() {\r\n    this.player.style.transform = `scale(${this.scale}) translate(${this.position[0]}px,${this.position[1]}px)`\r\n\r\n  }\r\n  getApi() {\r\n    return {\r\n      play: this.play.bind(this),\r\n      pause: this.pause.bind(this),\r\n      seekTo: this.seekTo.bind(this),\r\n      setVolume: this.setVolume.bind(this),\r\n      mute: this.mute.bind(this),\r\n      unmute: this.unmute.bind(this),\r\n      requestPictureInPicture: this.requestPictureInPicture.bind(this),\r\n      exitPictureInPicture: this.exitPictureInPicture.bind(this),\r\n      setPlaybackRate: this.setPlaybackRate.bind(this),\r\n      destroy: this.destroy.bind(this),\r\n      getDuration: this.getDuration.bind(this),\r\n      getCurrentTime: this.getCurrentTime.bind(this),\r\n      getSecondsLoaded: this.getSecondsLoaded.bind(this),\r\n      getBufferedTime: this.getBufferedTime.bind(this),\r\n      fastForward: this.fastForward.bind(this),\r\n      backWind: this.backWind.bind(this),\r\n      snapshot: this.snapshot.bind(this),\r\n      requestFullScreen: this.requestFullScreen.bind(this),\r\n      cancelFullScreen: this.cancelFullScreen.bind(this),\r\n      __player: this.player\r\n    }\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { videoDec } from \"./context\";\r\n\r\n@videoDec\r\nclass LiveHeart extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.progressTime = Date.now()\r\n    this.timer = null\r\n  }\r\n  componentDidMount() {\r\n    window.addEventListener('focus', this.focusSeekAction, false)\r\n    this.props.event.addEventListener('progress', this.updateProgress)\r\n    this.heartAction()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('focus', this.focusSeekAction, false)\r\n    this.props.event.removeEventListener('progress', this.updateProgress)\r\n    clearInterval(this.timer)\r\n  }\r\n  updateProgress = () => {\r\n    this.progressTime = Date.now()\r\n  }\r\n  heartAction = () => {\r\n    this.timer = setInterval(() => {\r\n      if (Date.now() - this.progressTime > 10 * 1000) {\r\n        this.props.api.reload()\r\n      }\r\n    }, 1000 * 10)\r\n  }\r\n\r\n  focusSeekAction = () => {\r\n    const { api } = this.props;\r\n    if (api.getSecondsLoaded() - api.getCurrentTime() > 2) {\r\n      api.seekTo(api.getSecondsLoaded() - 2)\r\n    }\r\n  }\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default LiveHeart;\r\n","import React from \"react\";\r\nimport ReactDOM from 'react-dom'\r\nimport VideoEvent from \"./event\";\r\nimport { getVideoType, createFlvPlayer, createHlsPlayer } from \"./util\";\r\nimport { Provider } from \"./context\";\r\nimport ContrallerBar from \"./contraller_bar\";\r\nimport Loading from \"./loading\";\r\nimport TimeLine from \"./time_line\";\r\nimport ErrorEvent from \"./event/errorEvent\";\r\nimport DragEvent from './event/dragEvent'\r\nimport Api from \"./api\";\r\nimport LiveHeart from './live_heart'\r\nimport \"./style/index.less\";\r\n\r\nclass LMPlayer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.videoKey = Math.random()\r\n    this.player = null\r\n    this.event = null;\r\n    this.flv = null;\r\n    this.hls = null;\r\n    this.playerType = null;\r\n    this.playContainerRef = React.createRef()\r\n    this.playContainer = null\r\n  }\r\n  componentDidMount() {\r\n    this.playContainer = ReactDOM.findDOMNode(this.playContainerRef.current)\r\n    this.player = this.playContainer.querySelector('video')\r\n    this.initPlayer();\r\n    this.event = new VideoEvent(this.player);\r\n    this.api = new Api(this.player, this.playContainer, this.event, this.flv, this.hls);\r\n    if (this.props.playsinline) {\r\n      this.player.setAttribute(\"playsinline\", \"\");\r\n      this.player.setAttribute(\"webkit-playsinline\", \"\");\r\n      this.player.setAttribute(\"x5-playsinline\", \"\");\r\n    }\r\n    if (this.props.autoPlay) {\r\n      this.api.getApi().play();\r\n    }\r\n    this.forceUpdate();\r\n    this.props.onInitPlayer && this.props.onInitPlayer(this.getPlayerApiContext());\r\n  }\r\n  componentWillUnmount() {\r\n    this.event.destroy()\r\n    this.api.destroy()\r\n    this.player = null\r\n    this.event = null;\r\n    this.flv = null;\r\n    this.hls = null;\r\n    this.playerType = null;\r\n  }\r\n\r\n  initPlayer = () => {\r\n    if (!this.props.file) {\r\n      return null;\r\n    }\r\n    const type = getVideoType(this.props.file);\r\n    if (type === \"flv\" || this.props.type === \"flv\") {\r\n      this.flv = createFlvPlayer(this.player, this.props);\r\n    } else if (type === \"m3u8\" || this.props.type === \"hls\") {\r\n      this.hls = createHlsPlayer(this.player, this.props.file);\r\n    } else {\r\n      this.player.src = this.props.file;\r\n    }\r\n\r\n  };\r\n\r\n\r\n  renderVideoTools = () => {\r\n    if (!this.player) {\r\n      return null;\r\n    }\r\n    return (\r\n      <>\r\n        <ContrallerBar />\r\n        <Loading />\r\n        {!this.props.isLive && <TimeLine />}\r\n        <ErrorEvent flvPlayer={this.flv} hlsPlayer={this.hls} />\r\n        <DragEvent />\r\n        {this.props.isLive && <LiveHeart key={this.props.file} />}\r\n      </>\r\n    );\r\n  };\r\n  getPlayUrl = () => {\r\n    return this.props.file\r\n  }\r\n  getPlayerApiContext = () => {\r\n    const api = this.api ? this.api.getApi() : {};\r\n    const event = this.event ? {\r\n      on: this.event.on.bind(this.event),\r\n      off: this.event.off.bind(this.event),\r\n      emit: this.event.emit.bind(this.event)\r\n    } : {}\r\n    return Object.assign({}, api, event, { getPlayUrl: this.getPlayUrl })\r\n  }\r\n  getProvider = () => {\r\n    return {\r\n      video: this.player,\r\n      event: this.event,\r\n      playerType: this.playerType,\r\n      playerProps: this.props,\r\n      api: this.api,\r\n      playContainer: this.playContainer\r\n    }\r\n  }\r\n  render() {\r\n    const { autoPlay, poster } = this.props;\r\n    const providerValue = this.getProvider();\r\n    return (\r\n      <div className=\"lm-player-container\" ref={this.playContainerRef}>\r\n        <div className=\"player-mask-layout\">\r\n          <video autoPlay={autoPlay} muted poster={poster} key={this.videoKey} />\r\n        </div>\r\n        <Provider value={providerValue}>{this.renderVideoTools()}</Provider>\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LMPlayer;\r\n","import React from \"react\";\r\nimport { videoDec } from \"../context\";\r\nimport IconFont from '../iconfont'\r\nimport Slider from '../slider'\r\nimport { dateFormat } from '../util'\r\nimport \"../style/time-line.less\";\r\n\r\n@videoDec\r\nclass TineLine extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      duration: 1,\r\n      currentTime: 0,\r\n      buffered: 0\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    const { event } = this.props;\r\n    event.addEventListener(\"loadedmetadata\", this.getDuration);\r\n    event.addEventListener(\"durationchange\", this.getDuration);\r\n    event.addEventListener(\"timeupdate\", this.getCurrentTime);\r\n    event.addEventListener(\"progress\", this.getBuffered);\r\n    event.addEventListener(\"suspend\", this.getBuffered)\r\n    event.addEventListener(\"seeked\", this.seekendPlay);\r\n  }\r\n  componentWillUnmount() {\r\n    const { event } = this.props;\r\n    event.removeEventListener(\"loadedmetadata\", this.getDuration);\r\n    event.removeEventListener(\"durationchange\", this.getDuration);\r\n    event.removeEventListener(\"timeupdate\", this.getCurrentTime);\r\n    event.removeEventListener(\"progress\", this.getBuffered);\r\n    event.removeEventListener(\"suspend\", this.getBuffered)\r\n    event.removeEventListener(\"seeked\", this.seekendPlay);\r\n  }\r\n  getDuration = () => {\r\n    const { api } = this.props;\r\n    this.setState({\r\n      duration: api.getDuration()\r\n    });\r\n  };\r\n  getCurrentTime = () => {\r\n    const { api } = this.props;\r\n    const state = {\r\n      currentTime: api.getCurrentTime(),\r\n      buffered: api.getSecondsLoaded()\r\n    }\r\n    if (state.buffered === this.state.buffered) {\r\n      delete state.buffered\r\n    }\r\n    this.setState(state);\r\n  };\r\n  getBuffered = () => {\r\n    const { api } = this.props;\r\n    this.setState({\r\n      buffered: api.getSecondsLoaded()\r\n    });\r\n  };\r\n  changePlayTime = percent => {\r\n    const { seekTo, historyList } = this.props;\r\n    const currentTime = percent * historyList.duration;\r\n    const playIndex = historyList.fragments.findIndex(v => v.end > currentTime)\r\n    const fragment = historyList.fragments[playIndex]\r\n    if (fragment.file) {\r\n      seekTo(currentTime)\r\n      this.setState({ currentTime });\r\n    }\r\n\r\n  };\r\n  seekendPlay = () => {\r\n    const { video, api } = this.props;\r\n    if (video.paused) {\r\n      api.play();\r\n    }\r\n  };\r\n  renderTimeLineTips = (percent) => {\r\n    const { historyList } = this.props\r\n    const currentTime = percent * historyList.duration * 1000\r\n    const date = dateFormat(new Date(historyList.beginDate).getTime() + currentTime)\r\n    return <span>{date}</span>\r\n  }\r\n  fastForward = () => {\r\n    const { api } = this.props;\r\n    api.fastForward()\r\n  }\r\n  backWind = () => {\r\n    const { api } = this.props;\r\n    api.backWind()\r\n  }\r\n  computedLineList = (historyList) => {\r\n    const duration = historyList.duration\r\n    return historyList.fragments.map(v => {\r\n      return {\r\n        disabled: !v.file,\r\n        size: (v.end - v.begin) / duration * 100\r\n      }\r\n    })\r\n\r\n  }\r\n  render() {\r\n    const { historyList, playIndex } = this.props\r\n    const { currentTime, buffered } = this.state;\r\n    const lineList = this.computedLineList(historyList)\r\n    const currentLine = lineList.filter((v, i) => i < playIndex).map(v => v.size)\r\n    const currentIndexTime = currentLine.length === 0 ? 0 : currentLine.length > 1 ? currentLine.reduce((p, c) => p + c) : currentLine[0]\r\n    const playPercent = Math.round((currentTime / historyList.duration) * 100 + currentIndexTime);\r\n    const bufferedPercent = Math.round((buffered / historyList.duration) * 100 + currentIndexTime);\r\n    return (\r\n      <div className=\"video-time-line-layout\">\r\n        <IconFont type=\"lm-player-PrevFast\" onClick={this.backWind} className=\"time-line-action-item\" />\r\n        <Slider\r\n          className=\"time-line-box\"\r\n          currentPercent={playPercent}\r\n          availablePercent={bufferedPercent}\r\n          onChange={this.changePlayTime}\r\n          renderTimeLineTips={this.renderTimeLineTips}>\r\n          <>\r\n            {lineList.map((v, i) => {\r\n              const currentSizeLine = lineList.filter((v, i2) => i2 < i).map(v => v.size)\r\n              const currentIndexSize = currentSizeLine.length === 0 ? 0 : currentSizeLine.length > 1 ? currentSizeLine.reduce((p, c) => p + c) : currentSizeLine[0]\r\n              return <div className={`history-time-line-item ${v.disabled ? 'history-time-line-disabled' : ''}`} key={i} style={{ width: `${v.size}%`, left: `${currentIndexSize}%` }}></div>\r\n            })}\r\n          </>\r\n        </Slider>\r\n        <IconFont type=\"lm-player-NextFast_Light\" onClick={this.fastForward} className=\"time-line-action-item\" />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TineLine;\r\n","import React from \"react\";\r\nimport { videoDec } from \"../context\";\r\n\r\n@videoDec\r\nclass PlayEnd extends React.Component {\r\n  componentDidMount() {\r\n    const { event } = this.props;\r\n    event.addEventListener(\"ended\", this.endedHandle, false);\r\n  }\r\n  componentWillUnmount() {\r\n    const { event } = this.props;\r\n    event.removeEventListener(\"ended\", this.endedHandle, false);\r\n  }\r\n  endedHandle = () => {\r\n    let index = this.props.playIndex\r\n    this.props.changePlayIndex(index + 1)\r\n  };\r\n  render() {\r\n    return null;\r\n  }\r\n}\r\nexport default PlayEnd;\r\n","\r\nimport Player from '../player'\r\nimport ContrallerBar from \"../contraller_bar\";\r\nimport Loading from \"../loading\";\r\nimport HistoryTimeLine from \"./time_line_history\";\r\nimport ErrorEvent from \"../event/errorEvent\";\r\nimport DragEvent from '../event/dragEvent'\r\nimport Api from \"../api\";\r\nimport VideoEvent from \"../event\";\r\nimport PlayEnd from './play_end'\r\nimport { getVideoType, createFlvPlayer, createHlsPlayer } from \"../util\";\r\n\r\nclass HistoryPlayer extends Player {\r\n  constructor(props) {\r\n    super(props)\r\n    this.playIndex = 0\r\n  }\r\n  componentDidMount() {\r\n    this.playContainer = ReactDOM.findDOMNode(this.playContainerRef.current)\r\n    this.player = this.playContainer.querySelector('video')\r\n    this.checkFirstFile()\r\n    this.initPlayer(this.playIndex, true);\r\n    this.event = new VideoEvent(this.player);\r\n    this.api = new Api(this.player, this.playContainer, this.event, this.flv, this.hls);\r\n    if (this.props.playsinline) {\r\n      this.player.setAttribute(\"playsinline\", \"\");\r\n      this.player.setAttribute(\"webkit-playsinline\", \"\");\r\n      this.player.setAttribute(\"x5-playsinline\", \"\");\r\n    }\r\n    if (this.props.autoPlay) {\r\n      this.api.getApi().play();\r\n    }\r\n    this.forceUpdate();\r\n    this.props.onInitPlayer && this.props.onInitPlayer(this.getPlayerApiContext());\r\n  }\r\n\r\n  /**\r\n   * \r\n   * indexdefaultTimeindex,indexfile\r\n   */\r\n  checkFirstFile = () => {\r\n    const { defaultTime, historyList } = this.props\r\n    if (!historyList) {\r\n      return\r\n    }\r\n    if (!defaultTime) {\r\n      this.playIndex = historyList.fragments.findIndex(v => !!v.file)\r\n    } else {\r\n      this.playIndex = this.computedIndexFormTime(defaultTime)\r\n      if (this.playIndex === -1 || !historyList.fragments[this.playIndex].file) {\r\n        this.playIndex = historyList.fragments.findIndex(v => !!v.file)\r\n      }\r\n    }\r\n  }\r\n  initPlayer = (index, isFrist) => {\r\n    const { historyList } = this.props\r\n    if (!historyList || !historyList.fragments[index] || !historyList.fragments[index].file) {\r\n      return null;\r\n    }\r\n    if(this.flv){\r\n      this.flv.unload()\r\n      this.flv.destroy()\r\n      this.flv = null\r\n    }\r\n    if(this.hls){\r\n      this.hls.stopLoad()\r\n      this.hls.destroy()\r\n      this.hls = null\r\n    }\r\n    const type = getVideoType(historyList.fragments[index].file);\r\n    if (type === \"flv\" || this.props.type === \"flv\") {\r\n      this.flv = createFlvPlayer(this.player, { file: historyList.fragments[index].file });\r\n      this.api && this.api.updateChunk({ flv: this.flv })\r\n    } else if (type === \"m3u8\" || this.props.type === \"hls\") {\r\n      this.hls = createHlsPlayer(this.player, historyList.fragments[index].file);\r\n      this.api && this.api.updateChunk({ hls: this.hls })\r\n    } else {\r\n      this.player.src = historyList.fragments[index].file;\r\n    }\r\n    if (!isFrist) {\r\n      this.playIndex = index;\r\n      this.forceUpdate()\r\n    }\r\n\r\n  };\r\n  /**\r\n   * \r\n   * \r\n   */\r\n  changePlayIndex = (index) => {\r\n    const { historyList } = this.props\r\n    if (!historyList || !historyList.fragments[index]) {\r\n      return\r\n    }\r\n    if (!historyList.fragments[index].file) {\r\n      this.changePlayIndex(index + 1)\r\n    } else {\r\n      this.initPlayer(index)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Playerapiseek\r\n   */\r\n  getPlayerApiContext = () => {\r\n    const api = this.api ? this.api.getApi() : {};\r\n    const event = this.event ? {\r\n      on: this.event.on.bind(this.event),\r\n      off: this.event.off.bind(this.event),\r\n      emit: this.event.emit.bind(this.event)\r\n    } : {}\r\n\r\n    const historyApi = {\r\n      seekTo: this.seekTo\r\n    }\r\n    return Object.assign({}, api, event, historyApi)\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  computedIndexFormTime = (time) => {\r\n    const { historyList } = this.props\r\n    return historyList.fragments.findIndex(v => v.end > time)\r\n  }\r\n\r\n  /**\r\n   * apiseekTo\r\n   */\r\n  seekTo = (currentTime) => {\r\n    const playIndex = this.computedIndexFormTime(currentTime)\r\n    const fragment = historyList.fragments[playIndex]\r\n    const seekTime = currentTime - fragment.begin - 1\r\n    if (!this.player.paused) {\r\n      this.api.pause();\r\n    }\r\n    this.changePlayIndex(playIndex)\r\n    this.api.seekTo(seekTime);\r\n  }\r\n  /**\r\n   * Playercontextvalue\r\n   */\r\n  getProvider = () => {\r\n    return {\r\n      video: this.player,\r\n      event: this.event,\r\n      playerType: this.playerType,\r\n      playerProps: this.props,\r\n      api: this.api,\r\n      playContainer: this.playContainer,\r\n      changePlayIndex: this.changePlayIndex,\r\n      playIndex: this.playIndex,\r\n      historyList: this.props.historyList,\r\n      seekTo: this.seekTo\r\n    }\r\n  }\r\n  renderVideoTools = () => {\r\n    if (!this.player) {\r\n      return null;\r\n    }\r\n    return (\r\n      <>\r\n        <ContrallerBar />\r\n        <Loading />\r\n        <HistoryTimeLine />\r\n        <ErrorEvent />\r\n        <DragEvent />\r\n        <PlayEnd />\r\n      </>\r\n    );\r\n  };\r\n}\r\n\r\nexport default HistoryPlayer","import Player from './player'\r\nimport HistoryPlayer from './history'\r\n\r\nPlayer.HistoryPlayer = HistoryPlayer\r\n\r\nexport default Player \r\n"],"sourceRoot":""}